!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/grevi-web",r(r.s=874)}([function(e,t,r){"use strict";e.exports=r(419)},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){e.exports=r(433)()},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){e.exports=r(860)()},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){var n=r(602),i=r(113)(n);e.exports=i},function(e,t,r){e.exports=r(632)()},function(e,t,r){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){var n,i,o;i=[e,t],void 0!==(o="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Function?e:"string"==typeof e?function(t){return t[e]}:function(t){return e}},e.exports=t.default})?n.apply(t,i):n)&&(e.exports=o)}])},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){var n=r(511);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){var n=r(55),i=r(4);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},function(e,t,r){var n=r(601);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t){e.exports=function(e){return null==e}},function(e,t,r){e.exports=r(454)()},function(e,t,r){var n=r(430),i=r(431),o=r(432);e.exports=function(e,t){return n(e)||i(e,t)||o()}},function(e,t,r){var n=r(1);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}},function(e,t,r){"use strict";r.r(t),r.d(t,"ACESFilmicToneMapping",function(){return ce}),r.d(t,"AddEquation",function(){return L}),r.d(t,"AddOperation",function(){return re}),r.d(t,"AdditiveBlending",function(){return S}),r.d(t,"AlphaFormat",function(){return He}),r.d(t,"AlwaysDepth",function(){return X}),r.d(t,"AlwaysStencilFunc",function(){return or}),r.d(t,"AmbientLight",function(){return $u}),r.d(t,"AmbientLightProbe",function(){return Ed}),r.d(t,"AnimationClip",function(){return au}),r.d(t,"AnimationLoader",function(){return fu}),r.d(t,"AnimationMixer",function(){return Jd}),r.d(t,"AnimationObjectGroup",function(){return Qd}),r.d(t,"AnimationUtils",function(){return Xl}),r.d(t,"ArcCurve",function(){return Eu}),r.d(t,"ArrayCamera",function(){return ms}),r.d(t,"ArrowHelper",function(){return Jh}),r.d(t,"Audio",function(){return Pd}),r.d(t,"AudioAnalyser",function(){return zd}),r.d(t,"AudioContext",function(){return vd}),r.d(t,"AudioListener",function(){return Rd}),r.d(t,"AudioLoader",function(){return yd}),r.d(t,"AxesHelper",function(){return $h}),r.d(t,"AxisHelper",function(){return Mp}),r.d(t,"BackSide",function(){return v}),r.d(t,"BasicDepthPacking",function(){return Ft}),r.d(t,"BasicShadowMap",function(){return h}),r.d(t,"BinaryTextureLoader",function(){return Lp}),r.d(t,"Bone",function(){return Ks}),r.d(t,"BooleanKeyframeTrack",function(){return $l}),r.d(t,"BoundingBoxHelper",function(){return Sp}),r.d(t,"Box2",function(){return sh}),r.d(t,"Box3",function(){return xn}),r.d(t,"Box3Helper",function(){return Xh}),r.d(t,"BoxBufferGeometry",function(){return Qi}),r.d(t,"BoxGeometry",function(){return Ki}),r.d(t,"BoxHelper",function(){return qh}),r.d(t,"BufferAttribute",function(){return ii}),r.d(t,"BufferGeometry",function(){return Ai}),r.d(t,"BufferGeometryLoader",function(){return od}),r.d(t,"ByteType",function(){return Re}),r.d(t,"Cache",function(){return cu}),r.d(t,"Camera",function(){return no}),r.d(t,"CameraHelper",function(){return Gh}),r.d(t,"CanvasRenderer",function(){return Pp}),r.d(t,"CanvasTexture",function(){return wc}),r.d(t,"CatmullRomCurve3",function(){return Cu}),r.d(t,"CineonToneMapping",function(){return se}),r.d(t,"CircleBufferGeometry",function(){return jl}),r.d(t,"CircleGeometry",function(){return kl}),r.d(t,"ClampToEdgeWrapping",function(){return ye}),r.d(t,"Clock",function(){return Sd}),r.d(t,"ClosedSplineCurve3",function(){return Ep}),r.d(t,"Color",function(){return Qn}),r.d(t,"ColorKeyframeTrack",function(){return eu}),r.d(t,"CompressedTexture",function(){return xc}),r.d(t,"CompressedTextureLoader",function(){return mu}),r.d(t,"ConeBufferGeometry",function(){return Pl}),r.d(t,"ConeGeometry",function(){return Rl}),r.d(t,"CubeCamera",function(){return so}),r.d(t,"CubeGeometry",function(){return Ki}),r.d(t,"CubeReflectionMapping",function(){return ue}),r.d(t,"CubeRefractionMapping",function(){return de}),r.d(t,"CubeTexture",function(){return Po}),r.d(t,"CubeTextureLoader",function(){return yu}),r.d(t,"CubeUVReflectionMapping",function(){return me}),r.d(t,"CubeUVRefractionMapping",function(){return ge}),r.d(t,"CubicBezierCurve",function(){return Pu}),r.d(t,"CubicBezierCurve3",function(){return ku}),r.d(t,"CubicInterpolant",function(){return Kl}),r.d(t,"CullFaceBack",function(){return s}),r.d(t,"CullFaceFront",function(){return c}),r.d(t,"CullFaceFrontBack",function(){return l}),r.d(t,"CullFaceNone",function(){return a}),r.d(t,"Curve",function(){return xu}),r.d(t,"CurvePath",function(){return Fu}),r.d(t,"CustomBlending",function(){return O}),r.d(t,"CylinderBufferGeometry",function(){return Ll}),r.d(t,"CylinderGeometry",function(){return Ol}),r.d(t,"Cylindrical",function(){return oh}),r.d(t,"DataTexture",function(){return lo}),r.d(t,"DataTexture2DArray",function(){return ko}),r.d(t,"DataTexture3D",function(){return jo}),r.d(t,"DataTextureLoader",function(){return gu}),r.d(t,"DecrementStencilOp",function(){return Yt}),r.d(t,"DecrementWrapStencilOp",function(){return Qt}),r.d(t,"DefaultLoadingManager",function(){return uu}),r.d(t,"DepthFormat",function(){return Ye}),r.d(t,"DepthStencilFormat",function(){return Ke}),r.d(t,"DepthTexture",function(){return Ec}),r.d(t,"DirectionalLight",function(){return Ju}),r.d(t,"DirectionalLightHelper",function(){return Fh}),r.d(t,"DirectionalLightShadow",function(){return Zu}),r.d(t,"DiscreteInterpolant",function(){return Zl}),r.d(t,"DodecahedronBufferGeometry",function(){return Dc}),r.d(t,"DodecahedronGeometry",function(){return jc}),r.d(t,"DoubleSide",function(){return y}),r.d(t,"DstAlphaFactor",function(){return U}),r.d(t,"DstColorFactor",function(){return G}),r.d(t,"DynamicBufferAttribute",function(){return hp}),r.d(t,"DynamicCopyUsage",function(){return pr}),r.d(t,"DynamicDrawUsage",function(){return sr}),r.d(t,"DynamicReadUsage",function(){return ur}),r.d(t,"EdgesGeometry",function(){return Cl}),r.d(t,"EdgesHelper",function(){return Tp}),r.d(t,"EllipseCurve",function(){return wu}),r.d(t,"EqualDepth",function(){return Q}),r.d(t,"EqualStencilFunc",function(){return er}),r.d(t,"EquirectangularReflectionMapping",function(){return he}),r.d(t,"EquirectangularRefractionMapping",function(){return pe}),r.d(t,"Euler",function(){return Gr}),r.d(t,"EventDispatcher",function(){return mr}),r.d(t,"ExtrudeBufferGeometry",function(){return fl}),r.d(t,"ExtrudeGeometry",function(){return pl}),r.d(t,"Face3",function(){return ei}),r.d(t,"Face4",function(){return ep}),r.d(t,"FaceColors",function(){return E}),r.d(t,"FaceNormalsHelper",function(){return Ih}),r.d(t,"FileLoader",function(){return pu}),r.d(t,"FlatShading",function(){return b}),r.d(t,"Float32Attribute",function(){return xp}),r.d(t,"Float32BufferAttribute",function(){return hi}),r.d(t,"Float64Attribute",function(){return wp}),r.d(t,"Float64BufferAttribute",function(){return pi}),r.d(t,"FloatType",function(){return Ie}),r.d(t,"Fog",function(){return _s}),r.d(t,"FogExp2",function(){return As}),r.d(t,"Font",function(){return fd}),r.d(t,"FontLoader",function(){return gd}),r.d(t,"FrontFaceDirectionCCW",function(){return d}),r.d(t,"FrontFaceDirectionCW",function(){return u}),r.d(t,"FrontSide",function(){return g}),r.d(t,"Frustum",function(){return po}),r.d(t,"GammaEncoding",function(){return jt}),r.d(t,"Geometry",function(){return Yi}),r.d(t,"GeometryUtils",function(){return Rp}),r.d(t,"GreaterDepth",function(){return J}),r.d(t,"GreaterEqualDepth",function(){return Z}),r.d(t,"GreaterEqualStencilFunc",function(){return ir}),r.d(t,"GreaterStencilFunc",function(){return rr}),r.d(t,"GridHelper",function(){return Lh}),r.d(t,"Group",function(){return fs}),r.d(t,"HalfFloatType",function(){return Ne}),r.d(t,"HemisphereLight",function(){return Vu}),r.d(t,"HemisphereLightHelper",function(){return Ch}),r.d(t,"HemisphereLightProbe",function(){return wd}),r.d(t,"IcosahedronBufferGeometry",function(){return kc}),r.d(t,"IcosahedronGeometry",function(){return Pc}),r.d(t,"ImageBitmapLoader",function(){return hd}),r.d(t,"ImageLoader",function(){return vu}),r.d(t,"ImageUtils",function(){return Tr}),r.d(t,"ImmediateRenderObject",function(){return dh}),r.d(t,"IncrementStencilOp",function(){return Xt}),r.d(t,"IncrementWrapStencilOp",function(){return Kt}),r.d(t,"InstancedBufferAttribute",function(){return id}),r.d(t,"InstancedBufferGeometry",function(){return nd}),r.d(t,"InstancedInterleavedBuffer",function(){return eh}),r.d(t,"InstancedMesh",function(){return ec}),r.d(t,"Int16Attribute",function(){return gp}),r.d(t,"Int16BufferAttribute",function(){return ci}),r.d(t,"Int32Attribute",function(){return yp}),r.d(t,"Int32BufferAttribute",function(){return ui}),r.d(t,"Int8Attribute",function(){return pp}),r.d(t,"Int8BufferAttribute",function(){return oi}),r.d(t,"IntType",function(){return je}),r.d(t,"InterleavedBuffer",function(){return Ms}),r.d(t,"InterleavedBufferAttribute",function(){return Ss}),r.d(t,"Interpolant",function(){return Yl}),r.d(t,"InterpolateDiscrete",function(){return At}),r.d(t,"InterpolateLinear",function(){return _t}),r.d(t,"InterpolateSmooth",function(){return Mt}),r.d(t,"InvertStencilOp",function(){return Zt}),r.d(t,"JSONLoader",function(){return kp}),r.d(t,"KeepStencilOp",function(){return Wt}),r.d(t,"KeyframeTrack",function(){return Jl}),r.d(t,"LOD",function(){return Vs}),r.d(t,"LatheBufferGeometry",function(){return _l}),r.d(t,"LatheGeometry",function(){return Al}),r.d(t,"Layers",function(){return Vr}),r.d(t,"LensFlare",function(){return Dp}),r.d(t,"LessDepth",function(){return Y}),r.d(t,"LessEqualDepth",function(){return K}),r.d(t,"LessEqualStencilFunc",function(){return tr}),r.d(t,"LessStencilFunc",function(){return $t}),r.d(t,"Light",function(){return Gu}),r.d(t,"LightProbe",function(){return xd}),r.d(t,"LightProbeHelper",function(){return Oh}),r.d(t,"LightShadow",function(){return Wu}),r.d(t,"Line",function(){return sc}),r.d(t,"Line3",function(){return uh}),r.d(t,"LineBasicMaterial",function(){return tc}),r.d(t,"LineCurve",function(){return ju}),r.d(t,"LineCurve3",function(){return Du}),r.d(t,"LineDashedMaterial",function(){return Wl}),r.d(t,"LineLoop",function(){return dc}),r.d(t,"LinePieces",function(){return rp}),r.d(t,"LineSegments",function(){return uc}),r.d(t,"LineStrip",function(){return tp}),r.d(t,"LinearEncoding",function(){return Pt}),r.d(t,"LinearFilter",function(){return Me}),r.d(t,"LinearInterpolant",function(){return Ql}),r.d(t,"LinearMipMapLinearFilter",function(){return Oe}),r.d(t,"LinearMipMapNearestFilter",function(){return Te}),r.d(t,"LinearMipmapLinearFilter",function(){return Ce}),r.d(t,"LinearMipmapNearestFilter",function(){return Se}),r.d(t,"LinearToneMapping",function(){return ie}),r.d(t,"Loader",function(){return du}),r.d(t,"LoaderUtils",function(){return rd}),r.d(t,"LoadingManager",function(){return lu}),r.d(t,"LogLuvEncoding",function(){return It}),r.d(t,"LoopOnce",function(){return xt}),r.d(t,"LoopPingPong",function(){return Et}),r.d(t,"LoopRepeat",function(){return wt}),r.d(t,"LuminanceAlphaFormat",function(){return qe}),r.d(t,"LuminanceFormat",function(){return We}),r.d(t,"MOUSE",function(){return i}),r.d(t,"Material",function(){return ri}),r.d(t,"MaterialLoader",function(){return td}),r.d(t,"Math",function(){return yr}),r.d(t,"Matrix3",function(){return Sr}),r.d(t,"Matrix4",function(){return Fr}),r.d(t,"MaxEquation",function(){return j}),r.d(t,"Mesh",function(){return Ui}),r.d(t,"MeshBasicMaterial",function(){return ni}),r.d(t,"MeshDepthMaterial",function(){return is}),r.d(t,"MeshDistanceMaterial",function(){return os}),r.d(t,"MeshFaceMaterial",function(){return np}),r.d(t,"MeshLambertMaterial",function(){return Gl}),r.d(t,"MeshMatcapMaterial",function(){return Vl}),r.d(t,"MeshNormalMaterial",function(){return Hl}),r.d(t,"MeshPhongMaterial",function(){return Fl}),r.d(t,"MeshPhysicalMaterial",function(){return Bl}),r.d(t,"MeshStandardMaterial",function(){return zl}),r.d(t,"MeshToonMaterial",function(){return Ul}),r.d(t,"MinEquation",function(){return k}),r.d(t,"MirroredRepeatWrapping",function(){return be}),r.d(t,"MixOperation",function(){return te}),r.d(t,"MultiMaterial",function(){return ip}),r.d(t,"MultiplyBlending",function(){return C}),r.d(t,"MultiplyOperation",function(){return ee}),r.d(t,"NearestFilter",function(){return xe}),r.d(t,"NearestMipMapLinearFilter",function(){return _e}),r.d(t,"NearestMipMapNearestFilter",function(){return Ee}),r.d(t,"NearestMipmapLinearFilter",function(){return Ae}),r.d(t,"NearestMipmapNearestFilter",function(){return we}),r.d(t,"NeverDepth",function(){return q}),r.d(t,"NeverStencilFunc",function(){return Jt}),r.d(t,"NoBlending",function(){return _}),r.d(t,"NoColors",function(){return w}),r.d(t,"NoToneMapping",function(){return ne}),r.d(t,"NormalBlending",function(){return M}),r.d(t,"NotEqualDepth",function(){return $}),r.d(t,"NotEqualStencilFunc",function(){return nr}),r.d(t,"NumberKeyframeTrack",function(){return tu}),r.d(t,"Object3D",function(){return on}),r.d(t,"ObjectLoader",function(){return sd}),r.d(t,"ObjectSpaceNormalMap",function(){return Gt}),r.d(t,"OctahedronBufferGeometry",function(){return Rc}),r.d(t,"OctahedronGeometry",function(){return Lc}),r.d(t,"OneFactor",function(){return I}),r.d(t,"OneMinusDstAlphaFactor",function(){return H}),r.d(t,"OneMinusDstColorFactor",function(){return V}),r.d(t,"OneMinusSrcAlphaFactor",function(){return F}),r.d(t,"OneMinusSrcColorFactor",function(){return z}),r.d(t,"OrthographicCamera",function(){return Qu}),r.d(t,"PCFShadowMap",function(){return p}),r.d(t,"PCFSoftShadowMap",function(){return f}),r.d(t,"ParametricBufferGeometry",function(){return Mc}),r.d(t,"ParametricGeometry",function(){return _c}),r.d(t,"Particle",function(){return ap}),r.d(t,"ParticleBasicMaterial",function(){return lp}),r.d(t,"ParticleSystem",function(){return sp}),r.d(t,"ParticleSystemMaterial",function(){return up}),r.d(t,"Path",function(){return Uu}),r.d(t,"PerspectiveCamera",function(){return io}),r.d(t,"Plane",function(){return Dn}),r.d(t,"PlaneBufferGeometry",function(){return xo}),r.d(t,"PlaneGeometry",function(){return bo}),r.d(t,"PlaneHelper",function(){return Yh}),r.d(t,"PointCloud",function(){return op}),r.d(t,"PointCloudMaterial",function(){return cp}),r.d(t,"PointLight",function(){return Ku}),r.d(t,"PointLightHelper",function(){return Ah}),r.d(t,"Points",function(){return vc}),r.d(t,"PointsMaterial",function(){return hc}),r.d(t,"PolarGridHelper",function(){return Rh}),r.d(t,"PolyhedronBufferGeometry",function(){return Tc}),r.d(t,"PolyhedronGeometry",function(){return Sc}),r.d(t,"PositionalAudio",function(){return Nd}),r.d(t,"PositionalAudioHelper",function(){return Ph}),r.d(t,"PropertyBinding",function(){return Kd}),r.d(t,"PropertyMixer",function(){return Bd}),r.d(t,"QuadraticBezierCurve",function(){return Iu}),r.d(t,"QuadraticBezierCurve3",function(){return Nu}),r.d(t,"Quaternion",function(){return xr}),r.d(t,"QuaternionKeyframeTrack",function(){return nu}),r.d(t,"QuaternionLinearInterpolant",function(){return ru}),r.d(t,"REVISION",function(){return n}),r.d(t,"RGBADepthPacking",function(){return Ut}),r.d(t,"RGBAFormat",function(){return Ve}),r.d(t,"RGBA_ASTC_10x10_Format",function(){return vt}),r.d(t,"RGBA_ASTC_10x5_Format",function(){return ft}),r.d(t,"RGBA_ASTC_10x6_Format",function(){return mt}),r.d(t,"RGBA_ASTC_10x8_Format",function(){return gt}),r.d(t,"RGBA_ASTC_12x10_Format",function(){return yt}),r.d(t,"RGBA_ASTC_12x12_Format",function(){return bt}),r.d(t,"RGBA_ASTC_4x4_Format",function(){return at}),r.d(t,"RGBA_ASTC_5x4_Format",function(){return st}),r.d(t,"RGBA_ASTC_5x5_Format",function(){return ct}),r.d(t,"RGBA_ASTC_6x5_Format",function(){return lt}),r.d(t,"RGBA_ASTC_6x6_Format",function(){return ut}),r.d(t,"RGBA_ASTC_8x5_Format",function(){return dt}),r.d(t,"RGBA_ASTC_8x6_Format",function(){return ht}),r.d(t,"RGBA_ASTC_8x8_Format",function(){return pt}),r.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return it}),r.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return nt}),r.d(t,"RGBA_S3TC_DXT1_Format",function(){return Je}),r.d(t,"RGBA_S3TC_DXT3_Format",function(){return $e}),r.d(t,"RGBA_S3TC_DXT5_Format",function(){return et}),r.d(t,"RGBDEncoding",function(){return Bt}),r.d(t,"RGBEEncoding",function(){return Dt}),r.d(t,"RGBEFormat",function(){return Xe}),r.d(t,"RGBFormat",function(){return Ge}),r.d(t,"RGBM16Encoding",function(){return zt}),r.d(t,"RGBM7Encoding",function(){return Nt}),r.d(t,"RGB_ETC1_Format",function(){return ot}),r.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return rt}),r.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return tt}),r.d(t,"RGB_S3TC_DXT1_Format",function(){return Ze}),r.d(t,"RawShaderMaterial",function(){return Nl}),r.d(t,"Ray",function(){return Rn}),r.d(t,"Raycaster",function(){return th}),r.d(t,"RectAreaLight",function(){return ed}),r.d(t,"RectAreaLightHelper",function(){return _h}),r.d(t,"RedFormat",function(){return Qe}),r.d(t,"ReinhardToneMapping",function(){return oe}),r.d(t,"RepeatWrapping",function(){return ve}),r.d(t,"ReplaceStencilOp",function(){return qt}),r.d(t,"ReverseSubtractEquation",function(){return P}),r.d(t,"RingBufferGeometry",function(){return El}),r.d(t,"RingGeometry",function(){return wl}),r.d(t,"Scene",function(){return an}),r.d(t,"SceneUtils",function(){return jp}),r.d(t,"ShaderChunk",function(){return fo}),r.d(t,"ShaderLib",function(){return go}),r.d(t,"ShaderMaterial",function(){return ro}),r.d(t,"ShadowMaterial",function(){return Il}),r.d(t,"Shape",function(){return Hu}),r.d(t,"ShapeBufferGeometry",function(){return Sl}),r.d(t,"ShapeGeometry",function(){return Ml}),r.d(t,"ShapePath",function(){return pd}),r.d(t,"ShapeUtils",function(){return ul}),r.d(t,"ShortType",function(){return Pe}),r.d(t,"Skeleton",function(){return Ys}),r.d(t,"SkeletonHelper",function(){return Eh}),r.d(t,"SkinnedMesh",function(){return Ws}),r.d(t,"SmoothShading",function(){return x}),r.d(t,"Sphere",function(){return An}),r.d(t,"SphereBufferGeometry",function(){return xl}),r.d(t,"SphereGeometry",function(){return bl}),r.d(t,"Spherical",function(){return ih}),r.d(t,"SphericalHarmonics3",function(){return bd}),r.d(t,"SphericalReflectionMapping",function(){return fe}),r.d(t,"Spline",function(){return _p}),r.d(t,"SplineCurve",function(){return zu}),r.d(t,"SplineCurve3",function(){return Ap}),r.d(t,"SpotLight",function(){return Xu}),r.d(t,"SpotLightHelper",function(){return yh}),r.d(t,"SpotLightShadow",function(){return qu}),r.d(t,"Sprite",function(){return Fs}),r.d(t,"SpriteMaterial",function(){return Ts}),r.d(t,"SrcAlphaFactor",function(){return B}),r.d(t,"SrcAlphaSaturateFactor",function(){return W}),r.d(t,"SrcColorFactor",function(){return N}),r.d(t,"StaticCopyUsage",function(){return hr}),r.d(t,"StaticDrawUsage",function(){return ar}),r.d(t,"StaticReadUsage",function(){return lr}),r.d(t,"StereoCamera",function(){return Md}),r.d(t,"StreamCopyUsage",function(){return fr}),r.d(t,"StreamDrawUsage",function(){return cr}),r.d(t,"StreamReadUsage",function(){return dr}),r.d(t,"StringKeyframeTrack",function(){return iu}),r.d(t,"SubtractEquation",function(){return R}),r.d(t,"SubtractiveBlending",function(){return T}),r.d(t,"TOUCH",function(){return o}),r.d(t,"TangentSpaceNormalMap",function(){return Ht}),r.d(t,"TetrahedronBufferGeometry",function(){return Oc}),r.d(t,"TetrahedronGeometry",function(){return Cc}),r.d(t,"TextBufferGeometry",function(){return yl}),r.d(t,"TextGeometry",function(){return vl}),r.d(t,"Texture",function(){return Or}),r.d(t,"TextureLoader",function(){return bu}),r.d(t,"TorusBufferGeometry",function(){return Uc}),r.d(t,"TorusGeometry",function(){return Fc}),r.d(t,"TorusKnotBufferGeometry",function(){return Bc}),r.d(t,"TorusKnotGeometry",function(){return zc}),r.d(t,"Triangle",function(){return qn}),r.d(t,"TriangleFanDrawMode",function(){return Rt}),r.d(t,"TriangleStripDrawMode",function(){return Lt}),r.d(t,"TrianglesDrawMode",function(){return Ot}),r.d(t,"TubeBufferGeometry",function(){return Nc}),r.d(t,"TubeGeometry",function(){return Ic}),r.d(t,"UVMapping",function(){return le}),r.d(t,"Uint16Attribute",function(){return vp}),r.d(t,"Uint16BufferAttribute",function(){return li}),r.d(t,"Uint32Attribute",function(){return bp}),r.d(t,"Uint32BufferAttribute",function(){return di}),r.d(t,"Uint8Attribute",function(){return fp}),r.d(t,"Uint8BufferAttribute",function(){return ai}),r.d(t,"Uint8ClampedAttribute",function(){return mp}),r.d(t,"Uint8ClampedBufferAttribute",function(){return si}),r.d(t,"Uncharted2ToneMapping",function(){return ae}),r.d(t,"Uniform",function(){return $d}),r.d(t,"UniformsLib",function(){return mo}),r.d(t,"UniformsUtils",function(){return $i}),r.d(t,"UnsignedByteType",function(){return Le}),r.d(t,"UnsignedInt248Type",function(){return Ue}),r.d(t,"UnsignedIntType",function(){return De}),r.d(t,"UnsignedShort4444Type",function(){return ze}),r.d(t,"UnsignedShort5551Type",function(){return Be}),r.d(t,"UnsignedShort565Type",function(){return Fe}),r.d(t,"UnsignedShortType",function(){return ke}),r.d(t,"VSMShadowMap",function(){return m}),r.d(t,"Vector2",function(){return br}),r.d(t,"Vector3",function(){return Ar}),r.d(t,"Vector4",function(){return Lr}),r.d(t,"VectorKeyframeTrack",function(){return ou}),r.d(t,"Vertex",function(){return dp}),r.d(t,"VertexColors",function(){return A}),r.d(t,"VertexNormalsHelper",function(){return gh}),r.d(t,"VideoTexture",function(){return bc}),r.d(t,"WebGLMultisampleRenderTarget",function(){return Pr}),r.d(t,"WebGLRenderTarget",function(){return Rr}),r.d(t,"WebGLRenderTargetCube",function(){return co}),r.d(t,"WebGLRenderer",function(){return Es}),r.d(t,"WebGLUtils",function(){return ds}),r.d(t,"WireframeGeometry",function(){return Ac}),r.d(t,"WireframeHelper",function(){return Cp}),r.d(t,"WrapAroundEnding",function(){return Ct}),r.d(t,"XHRLoader",function(){return Op}),r.d(t,"ZeroCurvatureEnding",function(){return St}),r.d(t,"ZeroFactor",function(){return D}),r.d(t,"ZeroSlopeEnding",function(){return Tt}),r.d(t,"ZeroStencilOp",function(){return Vt}),r.d(t,"sRGBEncoding",function(){return kt}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});var n="111",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,s=1,c=2,l=3,u=0,d=1,h=0,p=1,f=2,m=3,g=0,v=1,y=2,b=1,x=2,w=0,E=1,A=2,_=0,M=1,S=2,T=3,C=4,O=5,L=100,R=101,P=102,k=103,j=104,D=200,I=201,N=202,z=203,B=204,F=205,U=206,H=207,G=208,V=209,W=210,q=0,X=1,Y=2,K=3,Q=4,Z=5,J=6,$=7,ee=0,te=1,re=2,ne=0,ie=1,oe=2,ae=3,se=4,ce=5,le=300,ue=301,de=302,he=303,pe=304,fe=305,me=306,ge=307,ve=1e3,ye=1001,be=1002,xe=1003,we=1004,Ee=1004,Ae=1005,_e=1005,Me=1006,Se=1007,Te=1007,Ce=1008,Oe=1008,Le=1009,Re=1010,Pe=1011,ke=1012,je=1013,De=1014,Ie=1015,Ne=1016,ze=1017,Be=1018,Fe=1019,Ue=1020,He=1021,Ge=1022,Ve=1023,We=1024,qe=1025,Xe=Ve,Ye=1026,Ke=1027,Qe=1028,Ze=33776,Je=33777,$e=33778,et=33779,tt=35840,rt=35841,nt=35842,it=35843,ot=36196,at=37808,st=37809,ct=37810,lt=37811,ut=37812,dt=37813,ht=37814,pt=37815,ft=37816,mt=37817,gt=37818,vt=37819,yt=37820,bt=37821,xt=2200,wt=2201,Et=2202,At=2300,_t=2301,Mt=2302,St=2400,Tt=2401,Ct=2402,Ot=0,Lt=1,Rt=2,Pt=3e3,kt=3001,jt=3007,Dt=3002,It=3003,Nt=3004,zt=3005,Bt=3006,Ft=3200,Ut=3201,Ht=0,Gt=1,Vt=0,Wt=7680,qt=7681,Xt=7682,Yt=7683,Kt=34055,Qt=34056,Zt=5386,Jt=512,$t=513,er=514,tr=515,rr=516,nr=517,ir=518,or=519,ar=35044,sr=35048,cr=35040,lr=35045,ur=35049,dr=35041,hr=35046,pr=35050,fr=35042;function mr(){}Object.assign(mr.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=t.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,e)}}}});for(var gr=[],vr=0;vr<256;vr++)gr[vr]=(vr<16?"0":"")+vr.toString(16);var yr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(gr[255&e]+gr[e>>8&255]+gr[e>>16&255]+gr[e>>24&255]+"-"+gr[255&t]+gr[t>>8&255]+"-"+gr[t>>16&15|64]+gr[t>>24&255]+"-"+gr[63&r|128]+gr[r>>8&255]+"-"+gr[r>>16&255]+gr[r>>24&255]+gr[255&n]+gr[n>>8&255]+gr[n>>16&255]+gr[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*yr.DEG2RAD},radToDeg:function(e){return e*yr.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function br(e,t){this.x=e||0,this.y=t||0}function xr(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1}Object.defineProperties(br.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(br.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*n+e.x,this.y=i*n+o*r+e.y,this}}),Object.assign(xr,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,i,o,a){var s=r[n+0],c=r[n+1],l=r[n+2],u=r[n+3],d=i[o+0],h=i[o+1],p=i[o+2],f=i[o+3];if(u!==f||s!==d||c!==h||l!==p){var m=1-a,g=s*d+c*h+l*p+u*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var w=a*v;if(s=s*m+d*w,c=c*m+h*w,l=l*m+p*w,u=u*m+f*w,m===1-a){var E=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=E,c*=E,l*=E,u*=E}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u}}),Object.defineProperties(xr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(xr.prototype,{isQuaternion:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(r/2),l=a(n/2),u=a(i/2),d=s(r/2),h=s(n/2),p=s(i/2);return"XYZ"===o?(this._x=d*l*u+c*h*p,this._y=c*h*u-d*l*p,this._z=c*l*p+d*h*u,this._w=c*l*u-d*h*p):"YXZ"===o?(this._x=d*l*u+c*h*p,this._y=c*h*u-d*l*p,this._z=c*l*p-d*h*u,this._w=c*l*u+d*h*p):"ZXY"===o?(this._x=d*l*u-c*h*p,this._y=c*h*u+d*l*p,this._z=c*l*p+d*h*u,this._w=c*l*u-d*h*p):"ZYX"===o?(this._x=d*l*u-c*h*p,this._y=c*h*u+d*l*p,this._z=c*l*p-d*h*u,this._w=c*l*u+d*h*p):"YZX"===o?(this._x=d*l*u+c*h*p,this._y=c*h*u+d*l*p,this._z=c*l*p-d*h*u,this._w=c*l*u-d*h*p):"XZY"===o&&(this._x=d*l*u-c*h*p,this._y=c*h*u-d*l*p,this._z=c*l*p+d*h*u,this._w=c*l*u+d*h*p),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,r=e.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],c=r[9],l=r[2],u=r[6],d=r[10],h=n+s+d;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(u-c)*t,this._y=(o-l)*t,this._z=(a-i)*t):n>s&&n>d?(t=2*Math.sqrt(1+n-s-d),this._w=(u-c)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+l)/t):s>d?(t=2*Math.sqrt(1+s-n-d),this._w=(o-l)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+d-n-s),this._w=(a-i)/t,this._x=(o+l)/t,this._y=(c+u)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var r=e.dot(t)+1;return r<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(yr.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var r=this.angleTo(e);if(0===r)return this;var n=Math.min(1,t/r);return this.slerp(e,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=r*l+o*a+n*c-i*s,this._y=n*l+o*s+i*a-r*c,this._z=i*l+o*c+r*s-n*a,this._w=o*l-r*a-n*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*r+t*this._x,this._y=c*n+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),u=Math.atan2(l,a),d=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=o*d+this._w*h,this._x=r*d+this._x*h,this._y=n*d+this._y*h,this._z=i*d+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var wr=new Ar,Er=new xr;function Ar(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0}Object.assign(Ar.prototype,{isVector3:!0,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Er.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Er.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,o=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*n-a*r,l=s*r+a*t-i*n,u=s*n+i*r-o*t,d=-i*t-o*r-a*n;return this.x=c*s+d*-i+l*-a-u*-o,this.y=l*s+d*-o+u*-i-c*-a,this.z=u*s+d*-a+c*-o-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return wr.copy(this).projectOnVector(e),this.sub(wr)},reflect:function(e){return this.sub(wr.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var r=this.dot(e)/t;return Math.acos(yr.clamp(r,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var _r,Mr=new Ar;function Sr(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Sr.prototype,{isMatrix3:!0,set:function(e,t,r,n,i,o,a,s,c){var l=this.elements;return l[0]=e,l[1]=n,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=o,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,r=e.count;t<r;t++)Mr.x=e.getX(t),Mr.y=e.getY(t),Mr.z=e.getZ(t),Mr.applyMatrix3(this),e.setXYZ(t,Mr.x,Mr.y,Mr.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[3],s=r[6],c=r[1],l=r[4],u=r[7],d=r[2],h=r[5],p=r[8],f=n[0],m=n[3],g=n[6],v=n[1],y=n[4],b=n[7],x=n[2],w=n[5],E=n[8];return i[0]=o*f+a*v+s*x,i[3]=o*m+a*y+s*w,i[6]=o*g+a*b+s*E,i[1]=c*f+l*v+u*x,i[4]=c*m+l*y+u*w,i[7]=c*g+l*b+u*E,i[2]=d*f+h*v+p*x,i[5]=d*m+h*y+p*w,i[8]=d*g+h*b+p*E,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-r*i*l+r*a*s+n*i*c-n*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var r=e.elements,n=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],d=r[7],h=r[8],p=h*c-l*d,f=l*u-h*s,m=d*s-c*u,g=i*p+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return n[0]=p*y,n[1]=(a*d-h*o)*y,n[2]=(l*o-a*c)*y,n[3]=f*y,n[4]=(h*i-a*u)*y,n[5]=(a*s-l*i)*y,n[6]=m*y,n[7]=(o*u-d*i)*y,n[8]=(c*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,n,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(r*s,r*c,-r*(s*o+c*a)+o+e,-n*c,n*s,-n*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],o=n[3],a=n[6],s=n[1],c=n[4],l=n[7];return n[0]=t*i+r*s,n[3]=t*o+r*c,n[6]=t*a+r*l,n[1]=-r*i+t*s,n[4]=-r*o+t*c,n[7]=-r*a+t*l,this},translate:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<9;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});var Tr={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===_r&&(_r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),_r.width=e.width,_r.height=e.height;var r=_r.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=_r}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Cr=0;function Or(e,t,r,n,i,o,a,s,c,l){Object.defineProperty(this,"id",{value:Cr++}),this.uuid=yr.generateUUID(),this.name="",this.image=void 0!==e?e:Or.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Or.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:ye,this.wrapT=void 0!==n?n:ye,this.magFilter=void 0!==i?i:Me,this.minFilter=void 0!==o?o:Ce,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:Ve,this.type=void 0!==s?s:Le,this.offset=new br(0,0),this.repeat=new br(1,1),this.center=new br(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Pt,this.version=0,this.onUpdate=null}function Lr(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1}function Rr(e,t,r){this.width=e,this.height=t,this.scissor=new Lr(0,0,e,t),this.scissorTest=!1,this.viewport=new Lr(0,0,e,t),r=r||{},this.texture=new Or(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:Me,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function Pr(e,t,r){Rr.call(this,e,t,r),this.samples=4}Or.DEFAULT_IMAGE=void 0,Or.DEFAULT_MAPPING=le,Or.prototype=Object.assign(Object.create(mr.prototype),{constructor:Or,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=yr.generateUUID()),!t&&void 0===e.images[n.uuid]){var i;if(Array.isArray(n)){i=[];for(var o=0,a=n.length;o<a;o++)i.push(Tr.getDataURL(n[o]))}else i=Tr.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==le)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ve:e.x=e.x-Math.floor(e.x);break;case ye:e.x=e.x<0?0:1;break;case be:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ve:e.y=e.y-Math.floor(e.y);break;case ye:e.y=e.y<0?0:1;break;case be:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Or.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(Lr.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(Lr.prototype,{isVector4:!0,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,n,i,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],d=o[9],h=o[2],p=o[6],f=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+h)<.1&&Math.abs(d+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(u+1)/2,v=(f+1)/2,y=(s+l)/4,b=(c+h)/4,x=(d+p)/4;return m>g&&m>v?m<.01?(r=0,n=.707106781,i=.707106781):(n=y/(r=Math.sqrt(m)),i=b/r):g>v?g<.01?(r=.707106781,n=0,i=.707106781):(r=y/(n=Math.sqrt(g)),i=x/n):v<.01?(r=.707106781,n=.707106781,i=0):(r=b/(i=Math.sqrt(v)),n=x/i),this.set(r,n,i,t),this}var w=Math.sqrt((p-d)*(p-d)+(c-h)*(c-h)+(l-s)*(l-s));return Math.abs(w)<.001&&(w=1),this.x=(p-d)/w,this.y=(c-h)/w,this.z=(l-s)/w,this.w=Math.acos((a+u+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Rr.prototype=Object.assign(Object.create(mr.prototype),{constructor:Rr,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Pr.prototype=Object.assign(Object.create(Rr.prototype),{constructor:Pr,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Rr.prototype.copy.call(this,e),this.samples=e.samples,this}});var kr=new Ar,jr=new Fr,Dr=new Ar(0,0,0),Ir=new Ar(1,1,1),Nr=new Ar,zr=new Ar,Br=new Ar;function Fr(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Fr.prototype,{isMatrix4:!0,set:function(e,t,r,n,i,o,a,s,c,l,u,d,h,p,f,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Fr).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,r=e.elements,n=1/kr.setFromMatrixColumn(e,0).length(),i=1/kr.setFromMatrixColumn(e,1).length(),o=1/kr.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),c=Math.sin(n),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=o*l,h=o*u,p=a*l,f=a*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=h+p*c,t[5]=d-f*c,t[9]=-a*s,t[2]=f-d*c,t[6]=p+h*c,t[10]=o*s}else if("YXZ"===e.order){var m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*c,t[1]=o*u,t[5]=o*l,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m-y*a,t[4]=-o*u,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*l,t[9]=y-m*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){d=o*l,h=o*u,p=a*l,f=a*u;t[0]=s*l,t[4]=p*c-h,t[8]=d*c+f,t[1]=s*u,t[5]=f*c+d,t[9]=h*c-p,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*c,w=a*s,E=a*c;t[0]=s*l,t[4]=E-b*u,t[8]=w*u+x,t[1]=u,t[5]=o*l,t[9]=-a*l,t[2]=-c*l,t[6]=x*u+w,t[10]=b-E*u}else if("XZY"===e.order){b=o*s,x=o*c,w=a*s,E=a*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=b*u+E,t[5]=o*l,t[9]=x*u-w,t[2]=w*u-x,t[6]=a*l,t[10]=E*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Dr,e,Ir)},lookAt:function(e,t,r){var n=this.elements;return Br.subVectors(e,t),0===Br.lengthSq()&&(Br.z=1),Br.normalize(),Nr.crossVectors(r,Br),0===Nr.lengthSq()&&(1===Math.abs(r.z)?Br.x+=1e-4:Br.z+=1e-4,Br.normalize(),Nr.crossVectors(r,Br)),Nr.normalize(),zr.crossVectors(Br,Nr),n[0]=Nr.x,n[4]=zr.x,n[8]=Br.x,n[1]=Nr.y,n[5]=zr.y,n[9]=Br.y,n[2]=Nr.z,n[6]=zr.z,n[10]=Br.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],l=r[1],u=r[5],d=r[9],h=r[13],p=r[2],f=r[6],m=r[10],g=r[14],v=r[3],y=r[7],b=r[11],x=r[15],w=n[0],E=n[4],A=n[8],_=n[12],M=n[1],S=n[5],T=n[9],C=n[13],O=n[2],L=n[6],R=n[10],P=n[14],k=n[3],j=n[7],D=n[11],I=n[15];return i[0]=o*w+a*M+s*O+c*k,i[4]=o*E+a*S+s*L+c*j,i[8]=o*A+a*T+s*R+c*D,i[12]=o*_+a*C+s*P+c*I,i[1]=l*w+u*M+d*O+h*k,i[5]=l*E+u*S+d*L+h*j,i[9]=l*A+u*T+d*R+h*D,i[13]=l*_+u*C+d*P+h*I,i[2]=p*w+f*M+m*O+g*k,i[6]=p*E+f*S+m*L+g*j,i[10]=p*A+f*T+m*R+g*D,i[14]=p*_+f*C+m*P+g*I,i[3]=v*w+y*M+b*O+x*k,i[7]=v*E+y*S+b*L+x*j,i[11]=v*A+y*T+b*R+x*D,i[15]=v*_+y*C+b*P+x*I,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,r=e.count;t<r;t++)kr.x=e.getX(t),kr.y=e.getY(t),kr.z=e.getZ(t),kr.applyMatrix4(this),e.setXYZ(t,kr.x,kr.y,kr.z);return e},determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-n*c*u-i*a*d+r*c*d+n*a*h-r*s*h)+e[7]*(+t*s*h-t*c*d+i*o*d-n*o*h+n*c*l-i*s*l)+e[11]*(+t*c*u-t*a*h-i*o*u+r*o*h+i*a*l-r*c*l)+e[15]*(-n*a*l-t*s*u+t*a*d+n*o*u-r*o*d+r*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this},getInverse:function(e,t){var r=this.elements,n=e.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=n[5],u=n[6],d=n[7],h=n[8],p=n[9],f=n[10],m=n[11],g=n[12],v=n[13],y=n[14],b=n[15],x=p*y*d-v*f*d+v*u*m-l*y*m-p*u*b+l*f*b,w=g*f*d-h*y*d-g*u*m+c*y*m+h*u*b-c*f*b,E=h*v*d-g*p*d+g*l*m-c*v*m-h*l*b+c*p*b,A=g*p*u-h*v*u-g*l*f+c*v*f+h*l*y-c*p*y,_=i*x+o*w+a*E+s*A;if(0===_){var M="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(M);return console.warn(M),this.identity()}var S=1/_;return r[0]=x*S,r[1]=(v*f*s-p*y*s-v*a*m+o*y*m+p*a*b-o*f*b)*S,r[2]=(l*y*s-v*u*s+v*a*d-o*y*d-l*a*b+o*u*b)*S,r[3]=(p*u*s-l*f*s-p*a*d+o*f*d+l*a*m-o*u*m)*S,r[4]=w*S,r[5]=(h*y*s-g*f*s+g*a*m-i*y*m-h*a*b+i*f*b)*S,r[6]=(g*u*s-c*y*s-g*a*d+i*y*d+c*a*b-i*u*b)*S,r[7]=(c*f*s-h*u*s+h*a*d-i*f*d-c*a*m+i*u*m)*S,r[8]=E*S,r[9]=(g*p*s-h*v*s-g*o*m+i*v*m+h*o*b-i*p*b)*S,r[10]=(c*v*s-g*l*s+g*o*d-i*v*d-c*o*b+i*l*b)*S,r[11]=(h*l*s-c*p*s-h*o*d+i*p*d+c*o*m-i*l*m)*S,r[12]=A*S,r[13]=(h*v*a-g*p*a+g*o*f-i*v*f-h*o*y+i*p*y)*S,r[14]=(g*l*a-c*v*a-g*o*u+i*v*u+c*o*y-i*l*y)*S,r[15]=(c*p*a-h*l*a+h*o*u-i*p*u-c*o*f+i*l*f)*S,this},scale:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,a=e.y,s=e.z,c=i*o,l=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,l*a+r,l*s-n*o,0,c*s-n*a,l*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){var n=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,l=o+o,u=a+a,d=i*c,h=i*l,p=i*u,f=o*l,m=o*u,g=a*u,v=s*c,y=s*l,b=s*u,x=r.x,w=r.y,E=r.z;return n[0]=(1-(f+g))*x,n[1]=(h+b)*x,n[2]=(p-y)*x,n[3]=0,n[4]=(h-b)*w,n[5]=(1-(d+g))*w,n[6]=(m+v)*w,n[7]=0,n[8]=(p+y)*E,n[9]=(m-v)*E,n[10]=(1-(d+f))*E,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,r){var n=this.elements,i=kr.set(n[0],n[1],n[2]).length(),o=kr.set(n[4],n[5],n[6]).length(),a=kr.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],jr.copy(this);var s=1/i,c=1/o,l=1/a;return jr.elements[0]*=s,jr.elements[1]*=s,jr.elements[2]*=s,jr.elements[4]*=c,jr.elements[5]*=c,jr.elements[6]*=c,jr.elements[8]*=l,jr.elements[9]*=l,jr.elements[10]*=l,t.setFromRotationMatrix(jr),r.x=i,r.y=o,r.z=a,this},makePerspective:function(e,t,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),c=2*i/(r-n),l=(t+e)/(t-e),u=(r+n)/(r-n),d=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,r,n,i,o){var a=this.elements,s=1/(t-e),c=1/(r-n),l=1/(o-i),u=(t+e)*s,d=(r+n)*c,h=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<16;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}});var Ur=new Fr,Hr=new xr;function Gr(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._order=n||Gr.DefaultOrder}function Vr(){this.mask=1}Gr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Gr.DefaultOrder="XYZ",Object.defineProperties(Gr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Gr.prototype,{isEuler:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=yr.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],d=i[2],h=i[6],p=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-d,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(n(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-n(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===t?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==r&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,r){return Ur.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ur,t,r)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Hr.setFromEuler(this),this.setFromQuaternion(Hr,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ar(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(Vr.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var Wr=0,qr=new Ar,Xr=new xr,Yr=new Fr,Kr=new Ar,Qr=new Ar,Zr=new Ar,Jr=new xr,$r=new Ar(1,0,0),en=new Ar(0,1,0),tn=new Ar(0,0,1),rn={type:"added"},nn={type:"removed"};function on(){Object.defineProperty(this,"id",{value:Wr++}),this.uuid=yr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=on.DefaultUp.clone();var e=new Ar,t=new Gr,r=new xr,n=new Ar(1,1,1);t._onChange(function(){r.setFromEuler(t,!1)}),r._onChange(function(){t.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Fr},normalMatrix:{value:new Sr}}),this.matrix=new Fr,this.matrixWorld=new Fr,this.matrixAutoUpdate=on.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Vr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function an(){on.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}on.DefaultUp=new Ar(0,1,0),on.DefaultMatrixAutoUpdate=!0,on.prototype=Object.assign(Object.create(mr.prototype),{constructor:on,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Xr.setFromAxisAngle(e,t),this.quaternion.multiply(Xr),this},rotateOnWorldAxis:function(e,t){return Xr.setFromAxisAngle(e,t),this.quaternion.premultiply(Xr),this},rotateX:function(e){return this.rotateOnAxis($r,e)},rotateY:function(e){return this.rotateOnAxis(en,e)},rotateZ:function(e){return this.rotateOnAxis(tn,e)},translateOnAxis:function(e,t){return qr.copy(e).applyQuaternion(this.quaternion),this.position.add(qr.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis($r,e)},translateY:function(e){return this.translateOnAxis(en,e)},translateZ:function(e){return this.translateOnAxis(tn,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Yr.getInverse(this.matrixWorld))},lookAt:function(e,t,r){e.isVector3?Kr.copy(e):Kr.set(e,t,r);var n=this.parent;this.updateWorldMatrix(!0,!1),Qr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yr.lookAt(Qr,Kr,this.up):Yr.lookAt(Kr,Qr,this.up),this.quaternion.setFromRotationMatrix(Yr),n&&(Yr.extractRotation(n.matrixWorld),Xr.setFromRotationMatrix(Yr),this.quaternion.premultiply(Xr.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(rn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(nn)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Yr.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Yr.multiply(e.parent.matrixWorld)),e.applyMatrix(Yr),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ar),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new xr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Qr,e,Zr),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ar),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Qr,Jr,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ar),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,i=0,o=n.length;i<o;i++)n[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==Ot&&(n.drawMode=this.drawMode),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var l=a[s];i(e.shapes,l)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,c=this.material.length;s<c;s++)u.push(i(e.materials,this.material[s]));n.material=u}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(e).object)}if(t){var d=m(e.geometries),h=m(e.materials),p=m(e.textures),f=m(e.images);a=m(e.shapes);d.length>0&&(r.geometries=d),h.length>0&&(r.materials=h),p.length>0&&(r.textures=p),f.length>0&&(r.images=f),a.length>0&&(r.shapes=a)}return r.object=n,r;function m(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}}),an.prototype=Object.assign(Object.create(on.prototype),{constructor:an,isScene:!0,copy:function(e,t){return on.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=on.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var sn=[new Ar,new Ar,new Ar,new Ar,new Ar,new Ar,new Ar,new Ar],cn=new Ar,ln=new xn,un=new Ar,dn=new Ar,hn=new Ar,pn=new Ar,fn=new Ar,mn=new Ar,gn=new Ar,vn=new Ar,yn=new Ar,bn=new Ar;function xn(e,t){this.min=void 0!==e?e:new Ar(1/0,1/0,1/0),this.max=void 0!==t?t:new Ar(-1/0,-1/0,-1/0)}function wn(e,t,r,n,i){var o,a;for(o=0,a=e.length-3;o<=a;o+=3){bn.fromArray(e,o);var s=i.x*Math.abs(bn.x)+i.y*Math.abs(bn.y)+i.z*Math.abs(bn.z),c=t.dot(bn),l=r.dot(bn),u=n.dot(bn);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>s)return!1}return!0}Object.assign(xn.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],u=e[s+1],d=e[s+2];l<t&&(t=l),u<r&&(r=u),d<n&&(n=d),l>i&&(i=l),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),u=e.getY(s),d=e.getZ(s);l<t&&(t=l),u<r&&(r=u),d<n&&(n=d),l>i&&(i=l),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var r=cn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ar),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ar),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),ln.copy(t.boundingBox),ln.applyMatrix4(e.matrixWorld),this.expandByPoint(ln.min),this.expandByPoint(ln.max));for(var r=e.children,n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ar),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,cn),cn.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(gn),vn.subVectors(this.max,gn),un.subVectors(e.a,gn),dn.subVectors(e.b,gn),hn.subVectors(e.c,gn),pn.subVectors(dn,un),fn.subVectors(hn,dn),mn.subVectors(un,hn);var t=[0,-pn.z,pn.y,0,-fn.z,fn.y,0,-mn.z,mn.y,pn.z,0,-pn.x,fn.z,0,-fn.x,mn.z,0,-mn.x,-pn.y,pn.x,0,-fn.y,fn.x,0,-mn.y,mn.x,0];return!!wn(t,un,dn,hn,vn)&&(!!wn(t=[1,0,0,0,1,0,0,0,1],un,dn,hn,vn)&&(yn.crossVectors(pn,fn),wn(t=[yn.x,yn.y,yn.z],un,dn,hn,vn)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ar),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return cn.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(cn).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(sn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),sn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),sn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),sn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),sn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),sn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),sn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),sn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(sn),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var En=new xn;function An(e,t){this.center=void 0!==e?e:new Ar,this.radius=void 0!==t?t:0}Object.assign(An.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var r=this.center;void 0!==t?r.copy(t):En.setFromPoints(e).getCenter(r);for(var n=0,i=0,o=e.length;i<o;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ar),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new xn),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var _n=new Ar,Mn=new Ar,Sn=new Ar,Tn=new Ar,Cn=new Ar,On=new Ar,Ln=new Ar;function Rn(e,t){this.origin=void 0!==e?e:new Ar,this.direction=void 0!==t?t:new Ar(0,0,-1)}Object.assign(Rn.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ar),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,_n)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ar),t.subVectors(e,this.origin);var r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=_n.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_n.copy(this.direction).multiplyScalar(t).add(this.origin),_n.distanceToSquared(e))},distanceSqToSegment:function(e,t,r,n){Mn.copy(e).add(t).multiplyScalar(.5),Sn.copy(t).sub(e).normalize(),Tn.copy(this.origin).sub(Mn);var i,o,a,s,c=.5*e.distanceTo(t),l=-this.direction.dot(Sn),u=Tn.dot(this.direction),d=-Tn.dot(Sn),h=Tn.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(o=l*u-d,s=c*p,(i=l*d-u)>=0)if(o>=-s)if(o<=s){var f=1/p;a=(i*=f)*(i+l*(o*=f)+2*u)+o*(l*i+o+2*d)+h}else o=c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*d)+h;else o=-c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*d)+h;else o<=-s?a=-(i=Math.max(0,-(-l*c+u)))*i+(o=i>0?-c:Math.min(Math.max(-c,-d),c))*(o+2*d)+h:o<=s?(i=0,a=(o=Math.min(Math.max(-c,-d),c))*(o+2*d)+h):a=-(i=Math.max(0,-(l*c+u)))*i+(o=i>0?c:Math.min(Math.max(-c,-d),c))*(o+2*d)+h;else o=l>0?-c:c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*d)+h;return r&&r.copy(this.direction).multiplyScalar(i).add(this.origin),n&&n.copy(Sn).multiplyScalar(o).add(Mn),a},intersectSphere:function(e,t){_n.subVectors(e.center,this.origin);var r=_n.dot(this.direction),n=_n.dot(_n)-r*r,i=e.radius*e.radius;if(n>i)return null;var o=Math.sqrt(i-n),a=r-o,s=r+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var r,n,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,n=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,n=(e.min.x-d.x)*c),l>=0?(i=(e.min.y-d.y)*l,o=(e.max.y-d.y)*l):(i=(e.max.y-d.y)*l,o=(e.min.y-d.y)*l),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,_n)},intersectTriangle:function(e,t,r,n,i){Cn.subVectors(t,e),On.subVectors(r,e),Ln.crossVectors(Cn,On);var o,a=this.direction.dot(Ln);if(a>0){if(n)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Tn.subVectors(this.origin,e);var s=o*this.direction.dot(On.crossVectors(Tn,On));if(s<0)return null;var c=o*this.direction.dot(Cn.cross(Tn));if(c<0)return null;if(s+c>a)return null;var l=-o*Tn.dot(Ln);return l<0?null:this.at(l/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Pn=new Ar,kn=new Ar,jn=new Sr;function Dn(e,t){this.normal=void 0!==e?e:new Ar(1,0,0),this.constant=void 0!==t?t:0}Object.assign(Dn.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,r){var n=Pn.subVectors(r,t).cross(kn.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ar),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ar);var r=e.delta(Pn),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?void 0:t.copy(r).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ar),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var r=t||jn.getNormalMatrix(e),n=this.coplanarPoint(Pn).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var In=new Ar,Nn=new Ar,zn=new Ar,Bn=new Ar,Fn=new Ar,Un=new Ar,Hn=new Ar,Gn=new Ar,Vn=new Ar,Wn=new Ar;function qn(e,t,r){this.a=void 0!==e?e:new Ar,this.b=void 0!==t?t:new Ar,this.c=void 0!==r?r:new Ar}Object.assign(qn,{getNormal:function(e,t,r,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new Ar),n.subVectors(r,t),In.subVectors(e,t),n.cross(In);var i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)},getBarycoord:function(e,t,r,n,i){In.subVectors(n,t),Nn.subVectors(r,t),zn.subVectors(e,t);var o=In.dot(In),a=In.dot(Nn),s=In.dot(zn),c=Nn.dot(Nn),l=Nn.dot(zn),u=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new Ar),0===u)return i.set(-2,-1,-1);var d=1/u,h=(c*s-a*l)*d,p=(o*l-a*s)*d;return i.set(1-h-p,p,h)},containsPoint:function(e,t,r,n){return qn.getBarycoord(e,t,r,n,Bn),Bn.x>=0&&Bn.y>=0&&Bn.x+Bn.y<=1},getUV:function(e,t,r,n,i,o,a,s){return this.getBarycoord(e,t,r,n,Bn),s.set(0,0),s.addScaledVector(i,Bn.x),s.addScaledVector(o,Bn.y),s.addScaledVector(a,Bn.z),s},isFrontFacing:function(e,t,r,n){return In.subVectors(r,t),Nn.subVectors(e,t),In.cross(Nn).dot(n)<0}}),Object.assign(qn.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return In.subVectors(this.c,this.b),Nn.subVectors(this.a,this.b),.5*In.cross(Nn).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ar),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return qn.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Dn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return qn.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,r,n,i){return qn.getUV(e,this.a,this.b,this.c,t,r,n,i)},containsPoint:function(e){return qn.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return qn.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ar);var r,n,i=this.a,o=this.b,a=this.c;Fn.subVectors(o,i),Un.subVectors(a,i),Gn.subVectors(e,i);var s=Fn.dot(Gn),c=Un.dot(Gn);if(s<=0&&c<=0)return t.copy(i);Vn.subVectors(e,o);var l=Fn.dot(Vn),u=Un.dot(Vn);if(l>=0&&u<=l)return t.copy(o);var d=s*u-l*c;if(d<=0&&s>=0&&l<=0)return r=s/(s-l),t.copy(i).addScaledVector(Fn,r);Wn.subVectors(e,a);var h=Fn.dot(Wn),p=Un.dot(Wn);if(p>=0&&h<=p)return t.copy(a);var f=h*c-s*p;if(f<=0&&c>=0&&p<=0)return n=c/(c-p),t.copy(i).addScaledVector(Un,n);var m=l*p-h*u;if(m<=0&&u-l>=0&&h-p>=0)return Hn.subVectors(a,o),n=(u-l)/(u-l+(h-p)),t.copy(o).addScaledVector(Hn,n);var g=1/(m+f+d);return r=f*g,n=d*g,t.copy(i).addScaledVector(Fn,r).addScaledVector(Un,n)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yn={h:0,s:0,l:0},Kn={h:0,s:0,l:0};function Qn(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function Zn(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function Jn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function $n(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function ei(e,t,r,n,i,o){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new Ar,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new Qn,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(Qn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(e=yr.euclideanModulo(e,1),t=yr.clamp(t,0,1),r=yr.clamp(r,0,1),0===t)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+t):r+t-r*t,i=2*r-n;this.r=Zn(i,n,e+1/3),this.g=Zn(i,n,e),this.b=Zn(i,n,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(a,s,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=r[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=Xn[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Jn(e.r),this.g=Jn(e.g),this.b=Jn(e.b),this},copyLinearToSRGB:function(e){return this.r=$n(e.r),this.g=$n(e.g),this.b=$n(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,r,n=this.r,i=this.g,o=this.b,a=Math.max(n,i,o),s=Math.min(n,i,o),c=(s+a)/2;if(s===a)t=0,r=0;else{var l=a-s;switch(r=c<=.5?l/(a+s):l/(2-a-s),a){case n:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-n)/l+2;break;case o:t=(n-i)/l+4}t/=6}return e.h=t,e.s=r,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){return this.getHSL(Yn),Yn.h+=e,Yn.s+=t,Yn.l+=r,this.setHSL(Yn.h,Yn.s,Yn.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Yn),e.getHSL(Kn);var r=yr.lerp(Yn.h,Kn.h,t),n=yr.lerp(Yn.s,Kn.s,t),i=yr.lerp(Yn.l,Kn.l,t);return this.setHSL(r,n,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Qn.NAMES=Xn,Object.assign(ei.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var ti=0;function ri(){Object.defineProperty(this,"id",{value:ti++}),this.uuid=yr.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=M,this.side=g,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=w,this.opacity=1,this.transparent=!1,this.blendSrc=B,this.blendDst=F,this.blendEquation=L,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=or,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wt,this.stencilZFail=Wt,this.stencilZPass=Wt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function ni(e){ri.call(this),this.type="MeshBasicMaterial",this.color=new Qn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}function ii(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=ar,this.updateRange={offset:0,count:-1},this.version=0}function oi(e,t,r){ii.call(this,new Int8Array(e),t,r)}function ai(e,t,r){ii.call(this,new Uint8Array(e),t,r)}function si(e,t,r){ii.call(this,new Uint8ClampedArray(e),t,r)}function ci(e,t,r){ii.call(this,new Int16Array(e),t,r)}function li(e,t,r){ii.call(this,new Uint16Array(e),t,r)}function ui(e,t,r){ii.call(this,new Int32Array(e),t,r)}function di(e,t,r){ii.call(this,new Uint32Array(e),t,r)}function hi(e,t,r){ii.call(this,new Float32Array(e),t,r)}function pi(e,t,r){ii.call(this,new Float64Array(e),t,r)}function fi(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function mi(e){if(0===e.length)return-1/0;for(var t=e[0],r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}ri.prototype=Object.assign(Object.create(mr.prototype),{constructor:ri,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r)if("shading"!==t){var n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===b;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==M&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==g&&(r.side=this.side),this.vertexColors!==w&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){var i=n(e.textures),o=n(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ri.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),ni.prototype=Object.create(ri.prototype),ni.prototype.constructor=ni,ni.prototype.isMeshBasicMaterial=!0,ni.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.defineProperty(ii.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ii.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new Qn),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new br),t[r++]=o.x,t[r++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new Ar),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new Lr),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),oi.prototype=Object.create(ii.prototype),oi.prototype.constructor=oi,ai.prototype=Object.create(ii.prototype),ai.prototype.constructor=ai,si.prototype=Object.create(ii.prototype),si.prototype.constructor=si,ci.prototype=Object.create(ii.prototype),ci.prototype.constructor=ci,li.prototype=Object.create(ii.prototype),li.prototype.constructor=li,ui.prototype=Object.create(ii.prototype),ui.prototype.constructor=ui,di.prototype=Object.create(ii.prototype),di.prototype.constructor=di,hi.prototype=Object.create(ii.prototype),hi.prototype.constructor=hi,pi.prototype=Object.create(ii.prototype),pi.prototype.constructor=pi,Object.assign(fi.prototype,{computeGroups:function(e){for(var t,r=[],n=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,r.push(t)),t={start:3*o,materialIndex:n})}void 0!==t&&(t.count=3*o-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t,r=e.faces,n=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var u,d=e.morphNormals,h=d.length;if(h>0){u=[];for(l=0;l<h;l++)u[l]={name:d[l].name,data:[]};this.morphTargets.normal=u}var p=e.skinIndices,f=e.skinWeights,m=p.length===n.length,g=f.length===n.length;n.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<r.length;l++){var v=r[l];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var x,w=v.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var E=v.color;this.colors.push(E,E,E)}if(!0===o)void 0!==(x=i[0][l])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new br,new br,new br));if(!0===a)void 0!==(x=i[1][l])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new br,new br,new br));for(var A=0;A<c;A++){var _=s[A].vertices;t[A].data.push(_[v.a],_[v.b],_[v.c])}for(A=0;A<h;A++){var M=d[A].vertexNormals[l];u[A].data.push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var gi=1,vi=new Fr,yi=new on,bi=new Ar,xi=new xn,wi=new xn,Ei=new Ar;function Ai(){Object.defineProperty(this,"id",{value:gi+=2}),this.uuid=yr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ai.prototype=Object.assign(Object.create(mr.prototype),{constructor:Ai,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(mi(e)>65535?di:li)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var r=this.attributes.normal;void 0!==r&&((new Sr).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);var n=this.attributes.tangent;void 0!==n&&((new Sr).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return vi.makeRotationX(e),this.applyMatrix(vi),this},rotateY:function(e){return vi.makeRotationY(e),this.applyMatrix(vi),this},rotateZ:function(e){return vi.makeRotationZ(e),this.applyMatrix(vi),this},translate:function(e,t,r){return vi.makeTranslation(e,t,r),this.applyMatrix(vi),this},scale:function(e,t,r){return vi.makeScale(e,t,r),this.applyMatrix(vi),this},lookAt:function(e){return yi.lookAt(e),yi.updateMatrix(),this.applyMatrix(yi.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(bi).negate(),this.translate(bi.x,bi.y,bi.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var r=new hi(3*t.vertices.length,3),n=new hi(3*t.colors.length,3);if(this.setAttribute("position",r.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new hi(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new hi(t,3)),this},updateFromObject:function(e){var t,r=e.geometry;if(e.isMesh){var n=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(n=void 0,r.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}return!0===r.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(r.vertices),t.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(r.normals),t.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(r.colors),t.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(r.uvs),t.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(r.lineDistances),t.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(e.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new fi).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new ii(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var r=new Float32Array(3*e.normals.length);this.setAttribute("normal",new ii(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.setAttribute("color",new ii(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new ii(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new ii(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[a],l=0,u=c.length;l<u;l++){var d=c[l],h=new hi(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var p=new hi(4*e.skinIndices.length,4);this.setAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new hi(4*e.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new xn);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var r=0,n=t.length;r<n;r++){var i=t[r];xi.setFromBufferAttribute(i),this.morphTargetsRelative?(Ei.addVectors(this.boundingBox.min,xi.min),this.boundingBox.expandByPoint(Ei),Ei.addVectors(this.boundingBox.max,xi.max),this.boundingBox.expandByPoint(Ei)):(this.boundingBox.expandByPoint(xi.min),this.boundingBox.expandByPoint(xi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new An);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var r=this.boundingSphere.center;if(xi.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var o=t[n];wi.setFromBufferAttribute(o),this.morphTargetsRelative?(Ei.addVectors(xi.min,wi.min),xi.expandByPoint(Ei),Ei.addVectors(xi.max,wi.max),xi.expandByPoint(Ei)):(xi.expandByPoint(wi.min),xi.expandByPoint(wi.max))}xi.getCenter(r);var a=0;for(n=0,i=e.count;n<i;n++)Ei.fromBufferAttribute(e,n),a=Math.max(a,r.distanceToSquared(Ei));if(t)for(n=0,i=t.length;n<i;n++){o=t[n];for(var s=this.morphTargetsRelative,c=0,l=o.count;c<l;c++)Ei.fromBufferAttribute(o,c),s&&(bi.fromBufferAttribute(e,c),Ei.add(bi)),a=Math.max(a,r.distanceToSquared(Ei))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var r=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new ii(new Float32Array(r.length),3));else for(var n=t.normal.array,i=0,o=n.length;i<o;i++)n[i]=0;var a,s,c,l=t.normal.array,u=new Ar,d=new Ar,h=new Ar,p=new Ar,f=new Ar;if(e){var m=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],c=3*m[i+2],u.fromArray(r,a),d.fromArray(r,s),h.fromArray(r,c),p.subVectors(h,d),f.subVectors(u,d),p.cross(f),l[a]+=p.x,l[a+1]+=p.y,l[a+2]+=p.z,l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[c]+=p.x,l[c+1]+=p.y,l[c+2]+=p.z}else for(i=0,o=r.length;i<o;i+=9)u.fromArray(r,i),d.fromArray(r,i+3),h.fromArray(r,i+6),p.subVectors(h,d),f.subVectors(u,d),p.cross(f),l[i]=p.x,l[i+1]=p.y,l[i+2]=p.z,l[i+3]=p.x,l[i+4]=p.y,l[i+5]=p.z,l[i+6]=p.x,l[i+7]=p.y,l[i+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var i=r[n].array,o=e.attributes[n],a=o.array,s=o.itemSize*t,c=Math.min(a.length,i.length-s),l=0,u=s;l<c;l++,u++)i[u]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)Ei.x=e.getX(t),Ei.y=e.getY(t),Ei.z=e.getZ(t),Ei.normalize(),e.setXYZ(t,Ei.x,Ei.y,Ei.z)},toNonIndexed:function(){function e(e,t){for(var r=e.array,n=e.itemSize,i=new r.constructor(t.length*n),o=0,a=0,s=0,c=t.length;s<c;s++){o=t[s]*n;for(var l=0;l<n;l++)i[a++]=r[o++]}return new ii(i,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ai,r=this.index.array,n=this.attributes;for(var i in n){var o=e(n[i],r);t.setAttribute(i,o)}var a=this.morphAttributes;for(i in a){for(var s=[],c=a[i],l=0,u=c.length;l<u;l++){o=e(c[l],r);s.push(o)}t.morphAttributes[i]=s}t.morphTargetsRelative=this.morphTargetsRelative;for(var d=this.groups,h=(l=0,d.length);l<h;l++){var p=d[l];t.addGroup(p.start,p.count,p.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var i=this.attributes;for(var r in i){var o=(h=i[r]).toJSON();""!==h.name&&(o.name=h.name),e.data.attributes[r]=o}var a={},s=!1;for(var r in this.morphAttributes){for(var c=this.morphAttributes[r],l=[],u=0,d=c.length;u<d;u++){var h;o=(h=c[u]).toJSON();""!==h.name&&(o.name=h.name),l.push(o)}l.length>0&&(a[r]=l,s=!0)}s&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e},clone:function(){return(new Ai).copy(this)},copy:function(e){var t,r,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.setAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var c=[],l=s[t];for(r=0,n=l.length;r<n;r++)c.push(l[r].clone());this.morphAttributes[t]=c}this.morphTargetsRelative=e.morphTargetsRelative;var u=e.groups;for(r=0,n=u.length;r<n;r++){var d=u[r];this.addGroup(d.start,d.count,d.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var _i=new Fr,Mi=new Rn,Si=new An,Ti=new Ar,Ci=new Ar,Oi=new Ar,Li=new Ar,Ri=new Ar,Pi=new Ar,ki=new Ar,ji=new Ar,Di=new Ar,Ii=new br,Ni=new br,zi=new br,Bi=new Ar,Fi=new Ar;function Ui(e,t){on.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Ai,this.material=void 0!==t?t:new ni({color:16777215*Math.random()}),this.drawMode=Ot,this.updateMorphTargets()}function Hi(e,t,r,n,i,o,a,s){if(null===(t.side===v?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,t.side!==y,s)))return null;Fi.copy(s),Fi.applyMatrix4(e.matrixWorld);var c=r.ray.origin.distanceTo(Fi);return c<r.near||c>r.far?null:{distance:c,point:Fi.clone(),object:e}}function Gi(e,t,r,n,i,o,a,s,c,l,u,d){Ti.fromBufferAttribute(i,l),Ci.fromBufferAttribute(i,u),Oi.fromBufferAttribute(i,d);var h=e.morphTargetInfluences;if(t.morphTargets&&o&&h){ki.set(0,0,0),ji.set(0,0,0),Di.set(0,0,0);for(var p=0,f=o.length;p<f;p++){var m=h[p],g=o[p];0!==m&&(Li.fromBufferAttribute(g,l),Ri.fromBufferAttribute(g,u),Pi.fromBufferAttribute(g,d),a?(ki.addScaledVector(Li,m),ji.addScaledVector(Ri,m),Di.addScaledVector(Pi,m)):(ki.addScaledVector(Li.sub(Ti),m),ji.addScaledVector(Ri.sub(Ci),m),Di.addScaledVector(Pi.sub(Oi),m)))}Ti.add(ki),Ci.add(ji),Oi.add(Di)}var v=Hi(e,t,r,n,Ti,Ci,Oi,Bi);if(v){s&&(Ii.fromBufferAttribute(s,l),Ni.fromBufferAttribute(s,u),zi.fromBufferAttribute(s,d),v.uv=qn.getUV(Bi,Ti,Ci,Oi,Ii,Ni,zi,new br)),c&&(Ii.fromBufferAttribute(c,l),Ni.fromBufferAttribute(c,u),zi.fromBufferAttribute(c,d),v.uv2=qn.getUV(Bi,Ti,Ci,Oi,Ii,Ni,zi,new br));var y=new ei(l,u,d);qn.getNormal(Ti,Ci,Oi,y.normal),v.face=y}return v}Ui.prototype=Object.assign(Object.create(on.prototype),{constructor:Ui,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return on.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)r=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}else{var s=n.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var r,n=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),Si.copy(n.boundingSphere),Si.applyMatrix4(o),!1!==e.ray.intersectsSphere(Si)&&(_i.getInverse(o),Mi.copy(e.ray).applyMatrix4(_i),null===n.boundingBox||!1!==Mi.intersectsBox(n.boundingBox))))if(this.drawMode===Ot){if(n.isBufferGeometry){var a,s,c,l,u,d,h,p,f,m=n.index,g=n.attributes.position,v=n.morphAttributes.position,y=n.morphTargetsRelative,b=n.attributes.uv,x=n.attributes.uv2,w=n.groups,E=n.drawRange;if(null!==m)if(Array.isArray(i))for(l=0,d=w.length;l<d;l++)for(f=i[(p=w[l]).materialIndex],u=Math.max(p.start,E.start),h=Math.min(p.start+p.count,E.start+E.count);u<h;u+=3)a=m.getX(u),s=m.getX(u+1),c=m.getX(u+2),(r=Gi(this,f,e,Mi,g,v,y,b,x,a,s,c))&&(r.faceIndex=Math.floor(u/3),r.face.materialIndex=p.materialIndex,t.push(r));else for(l=Math.max(0,E.start),d=Math.min(m.count,E.start+E.count);l<d;l+=3)a=m.getX(l),s=m.getX(l+1),c=m.getX(l+2),(r=Gi(this,i,e,Mi,g,v,y,b,x,a,s,c))&&(r.faceIndex=Math.floor(l/3),t.push(r));else if(void 0!==g)if(Array.isArray(i))for(l=0,d=w.length;l<d;l++)for(f=i[(p=w[l]).materialIndex],u=Math.max(p.start,E.start),h=Math.min(p.start+p.count,E.start+E.count);u<h;u+=3)(r=Gi(this,f,e,Mi,g,v,y,b,x,a=u,s=u+1,c=u+2))&&(r.faceIndex=Math.floor(u/3),r.face.materialIndex=p.materialIndex,t.push(r));else for(l=Math.max(0,E.start),d=Math.min(g.count,E.start+E.count);l<d;l+=3)(r=Gi(this,i,e,Mi,g,v,y,b,x,a=l,s=l+1,c=l+2))&&(r.faceIndex=Math.floor(l/3),t.push(r))}else if(n.isGeometry){var A,_,M,S,T=Array.isArray(i),C=n.vertices,O=n.faces,L=n.faceVertexUvs[0];L.length>0&&(S=L);for(var R=0,P=O.length;R<P;R++){var k=O[R],j=T?i[k.materialIndex]:i;if(void 0!==j&&(A=C[k.a],_=C[k.b],M=C[k.c],r=Hi(this,j,e,Mi,A,_,M,Bi))){if(S&&S[R]){var D=S[R];Ii.copy(D[0]),Ni.copy(D[1]),zi.copy(D[2]),r.uv=qn.getUV(Bi,A,_,M,Ii,Ni,zi,new br)}r.face=k,r.faceIndex=R,t.push(r)}}}}else console.warn("THREE.Mesh: TriangleStripDrawMode and TriangleFanDrawMode are not supported by .raycast().")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Vi=0,Wi=new Fr,qi=new on,Xi=new Ar;function Yi(){Object.defineProperty(this,"id",{value:Vi+=2}),this.uuid=yr.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Yi.prototype=Object.assign(Object.create(mr.prototype),{constructor:Yi,isGeometry:!0,applyMatrix:function(e){for(var t=(new Sr).getNormalMatrix(e),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(e)}for(r=0,n=this.faces.length;r<n;r++){var i=this.faces[r];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Wi.makeRotationX(e),this.applyMatrix(Wi),this},rotateY:function(e){return Wi.makeRotationY(e),this.applyMatrix(Wi),this},rotateZ:function(e){return Wi.makeRotationZ(e),this.applyMatrix(Wi),this},translate:function(e,t,r){return Wi.makeTranslation(e,t,r),this.applyMatrix(Wi),this},scale:function(e,t,r){return Wi.makeScale(e,t,r),this.applyMatrix(Wi),this},lookAt:function(e){return qi.lookAt(e),qi.updateMatrix(),this.applyMatrix(qi.matrix),this},fromBufferGeometry:function(e){var t=this,r=null!==e.index?e.index.array:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,a=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.length;l+=3)t.vertices.push((new Ar).fromArray(i,l)),void 0!==a&&t.colors.push((new Qn).fromArray(a,l));function u(e,r,n,i){var l=void 0===a?[]:[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()],u=new ei(e,r,n,void 0===o?[]:[(new Ar).fromArray(o,3*e),(new Ar).fromArray(o,3*r),(new Ar).fromArray(o,3*n)],l,i);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new br).fromArray(s,2*e),(new br).fromArray(s,2*r),(new br).fromArray(s,2*n)]),void 0!==c&&t.faceVertexUvs[1].push([(new br).fromArray(c,2*e),(new br).fromArray(c,2*r),(new br).fromArray(c,2*n)])}var d=e.groups;if(d.length>0)for(l=0;l<d.length;l++)for(var h=d[l],p=h.start,f=p,m=p+h.count;f<m;f+=3)void 0!==r?u(r[f],r[f+1],r[f+2],h.materialIndex):u(f,f+1,f+2,h.materialIndex);else if(void 0!==r)for(l=0;l<r.length;l+=3)u(r[l],r[l+1],r[l+2]);else for(l=0;l<i.length/3;l+=3)u(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xi).negate(),this.translate(Xi.x,Xi.y,Xi.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new Fr;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new Ar,t=new Ar,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,r,n,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,r=this.vertices.length;t<r;t++)a[t]=new Ar;if(e){var s,c,l,u=new Ar,d=new Ar;for(n=0,i=this.faces.length;n<i;n++)o=this.faces[n],s=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],u.subVectors(l,c),d.subVectors(s,c),u.cross(d),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)a[(o=this.faces[n]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,r=this.vertices.length;t<r;t++)a[t].normalize();for(n=0,i=this.faces.length;n<i;n++){var h=(o=this.faces[n]).vertexNormals;3===h.length?(h[0].copy(a[o.a]),h[1].copy(a[o.b]),h[2].copy(a[o.c])):(h[0]=a[o.a].clone(),h[1]=a[o.b].clone(),h[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,r;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var n=(r=this.faces[e]).vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for((i=this.faces[r]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new Yi;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)c=new Ar,l={a:new Ar,b:new Ar,c:new Ar},a.push(c),s.push(l)}var c,l,u=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,n=this.faces.length;r<n;r++)i=this.faces[r],c=u.faceNormals[r],l=u.vertexNormals[r],c.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)(i=this.faces[r]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new xn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new An),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e&&e.isGeometry){var n,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.colors,u=e.colors;void 0===r&&(r=0),void 0!==t&&(n=(new Sr).getNormalMatrix(t));for(var d=0,h=a.length;d<h;d++){var p=a[d].clone();void 0!==t&&p.applyMatrix4(t),o.push(p)}for(d=0,h=u.length;d<h;d++)l.push(u[d].clone());for(d=0,h=c.length;d<h;d++){var f,m,g,v=c[d],y=v.vertexNormals,b=v.vertexColors;(f=new ei(v.a+i,v.b+i,v.c+i)).normal.copy(v.normal),void 0!==n&&f.normal.applyMatrix3(n).normalize();for(var x=0,w=y.length;x<w;x++)m=y[x].clone(),void 0!==n&&m.applyMatrix3(n).normalize(),f.vertexNormals.push(m);f.color.copy(v.color);for(x=0,w=b.length;x<w;x++)g=b[x],f.vertexColors.push(g.clone());f.materialIndex=v.materialIndex+r,s.push(f)}for(d=0,h=e.faceVertexUvs.length;d<h;d++){var E=e.faceVertexUvs[d];void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]);for(x=0,w=E.length;x<w;x++){for(var A=E[x],_=[],M=0,S=A.length;M<S;M++)_.push(A[M].clone());this.faceVertexUvs[d].push(_)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,r,n,i,o,a,s,c={},l=[],u=[],d=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)e=this.vertices[r],void 0===c[t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d)]?(c[t]=r,l.push(this.vertices[r]),u[r]=l.length-1):u[r]=u[c[t]];var h=[];for(r=0,n=this.faces.length;r<n;r++){(i=this.faces[r]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){h.push(r);break}}for(r=h.length-1;r>=0;r--){var f=h[r];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];this.vertices.push(new Ar(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(n=[]),a&&a.length===t&&(i=[]);for(r=0;r<t;r++){var s=e[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}for(var n=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];n.push(o.x,o.y,o.z)}var a=[],s=[],c={},l=[],u={},d=[],h={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,g=p.vertexNormals.length>0,v=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,b=0;if(b=A(b,0,0),b=A(b,1,!0),b=A(b,2,!1),b=A(b,3,f),b=A(b,4,m),b=A(b,5,g),b=A(b,6,v),b=A(b,7,y),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),f){var x=this.faceVertexUvs[0][i];a.push(S(x[0]),S(x[1]),S(x[2]))}if(m&&a.push(_(p.normal)),g){var w=p.vertexNormals;a.push(_(w[0]),_(w[1]),_(w[2]))}if(v&&a.push(M(p.color)),y){var E=p.vertexColors;a.push(M(E[0]),M(E[1]),M(E[2]))}}function A(e,t,r){return r?e|1<<t:e&~(1<<t)}function _(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=s.length/3,s.push(e.x,e.y,e.z),c[t])}function M(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]?u[t]:(u[t]=l.length,l.push(e.getHex()),u[t])}function S(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=d.length/2,d.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=n,e.data.normals=s,l.length>0&&(e.data.colors=l),d.length>0&&(e.data.uvs=[d]),e.data.faces=a,e},clone:function(){return(new Yi).copy(this)},copy:function(e){var t,r,n,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,r=s.length;t<r;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,r=c.length;t<r;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,r=l.length;t<r;t++)this.faces.push(l[t].clone());for(t=0,r=e.faceVertexUvs.length;t<r;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),n=0,i=u.length;n<i;n++){var d=u[n],h=[];for(o=0,a=d.length;o<a;o++){var p=d[o];h.push(p.clone())}this.faceVertexUvs[t].push(h)}}var f=e.morphTargets;for(t=0,r=f.length;t<r;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],n=0,i=f[t].vertices.length;n<i;n++)m.vertices.push(f[t].vertices[n].clone());if(void 0!==f[t].normals)for(m.normals=[],n=0,i=f[t].normals.length;n<i;n++)m.normals.push(f[t].normals[n].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,r=g.length;t<r;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],n=0,i=g[t].vertexNormals.length;n<i;n++){var y=g[t].vertexNormals[n],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],n=0,i=g[t].faceNormals.length;n<i;n++)v.faceNormals.push(g[t].faceNormals[n].clone());this.morphNormals.push(v)}var x=e.skinWeights;for(t=0,r=x.length;t<r;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,r=w.length;t<r;t++)this.skinIndices.push(w[t].clone());var E=e.lineDistances;for(t=0,r=E.length;t<r;t++)this.lineDistances.push(E[t]);var A=e.boundingBox;null!==A&&(this.boundingBox=A.clone());var _=e.boundingSphere;return null!==_&&(this.boundingSphere=_.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Ki extends Yi{constructor(e,t,r,n,i,o){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Qi(e,t,r,n,i,o)),this.mergeVertices()}}class Qi extends Ai{constructor(e,t,r,n,i,o){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};var a=this;e=e||1,t=t||1,r=r||1,n=Math.floor(n)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],c=[],l=[],u=[],d=0,h=0;function p(e,t,r,n,i,o,p,f,m,g,v){var y,b,x=o/m,w=p/g,E=o/2,A=p/2,_=f/2,M=m+1,S=g+1,T=0,C=0,O=new Ar;for(b=0;b<S;b++){var L=b*w-A;for(y=0;y<M;y++){var R=y*x-E;O[e]=R*n,O[t]=L*i,O[r]=_,c.push(O.x,O.y,O.z),O[e]=0,O[t]=0,O[r]=f>0?1:-1,l.push(O.x,O.y,O.z),u.push(y/m),u.push(1-b/g),T+=1}}for(b=0;b<g;b++)for(y=0;y<m;y++){var P=d+y+M*b,k=d+y+M*(b+1),j=d+(y+1)+M*(b+1),D=d+(y+1)+M*b;s.push(P,k,D),s.push(k,j,D),C+=6}a.addGroup(h,C,v),h+=C,d+=T}p("z","y","x",-1,-1,r,t,e,o,i,0),p("z","y","x",1,-1,r,t,-e,o,i,1),p("x","z","y",1,1,e,r,t,n,o,2),p("x","z","y",1,-1,e,r,-t,n,o,3),p("x","y","z",1,-1,e,t,r,n,i,4),p("x","y","z",-1,-1,e,t,-r,n,i,5),this.setIndex(s),this.setAttribute("position",new hi(c,3)),this.setAttribute("normal",new hi(l,3)),this.setAttribute("uv",new hi(u,2))}}function Zi(e){var t={};for(var r in e)for(var n in t[r]={},e[r]){var i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}return t}function Ji(e){for(var t={},r=0;r<e.length;r++){var n=Zi(e[r]);for(var i in n)t[i]=n[i]}return t}var $i={clone:Zi,merge:Ji},eo="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",to="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function ro(e){ri.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=eo,this.fragmentShader=to,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function no(){on.call(this),this.type="Camera",this.matrixWorldInverse=new Fr,this.projectionMatrix=new Fr,this.projectionMatrixInverse=new Fr}function io(e,t,r,n){no.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}ro.prototype=Object.create(ri.prototype),ro.prototype.constructor=ro,ro.prototype.isShaderMaterial=!0,ro.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zi(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},ro.prototype.toJSON=function(e){var t=ri.prototype.toJSON.call(this,e);for(var r in t.uniforms={},this.uniforms){var n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},no.prototype=Object.assign(Object.create(on.prototype),{constructor:no,isCamera:!0,copy:function(e,t){return on.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ar),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){on.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),io.prototype=Object.assign(Object.create(no.prototype),{constructor:io,isPerspectiveCamera:!0,copy:function(e,t){return no.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*yr.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*yr.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*yr.RAD2DEG*Math.atan(Math.tan(.5*yr.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*yr.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,t-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=on.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var oo=90,ao=1;function so(e,t,r,n){on.call(this),this.type="CubeCamera";var i=new io(oo,ao,e,t);i.up.set(0,-1,0),i.lookAt(new Ar(1,0,0)),this.add(i);var o=new io(oo,ao,e,t);o.up.set(0,-1,0),o.lookAt(new Ar(-1,0,0)),this.add(o);var a=new io(oo,ao,e,t);a.up.set(0,0,1),a.lookAt(new Ar(0,1,0)),this.add(a);var s=new io(oo,ao,e,t);s.up.set(0,0,-1),s.lookAt(new Ar(0,-1,0)),this.add(s);var c=new io(oo,ao,e,t);c.up.set(0,-1,0),c.lookAt(new Ar(0,0,1)),this.add(c);var l=new io(oo,ao,e,t);l.up.set(0,-1,0),l.lookAt(new Ar(0,0,-1)),this.add(l),n=n||{format:Ge,magFilter:Me,minFilter:Me},this.renderTarget=new co(r,r,n),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var r=e.getRenderTarget(),n=this.renderTarget,u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=u,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(r)},this.clear=function(e,t,r,n){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)e.setRenderTarget(o,a),e.clear(t,r,n);e.setRenderTarget(i)}}function co(e,t,r){Rr.call(this,e,t,r)}function lo(e,t,r,n,i,o,a,s,c,l,u,d){Or.call(this,null,o,a,s,c,l,n,i,u,d),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==c?c:xe,this.minFilter=void 0!==l?l:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}so.prototype=Object.create(on.prototype),so.prototype.constructor=so,co.prototype=Object.create(Rr.prototype),co.prototype.constructor=co,co.prototype.isWebGLRenderTargetCube=!0,co.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var r=new an,n={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new ro({type:"CubemapFromEquirect",uniforms:Zi(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:v,blending:_});i.uniforms.tEquirect.value=t;var o=new Ui(new Qi(5,5,5),i);r.add(o);var a=new so(1,10,1);return a.renderTarget=this,a.renderTarget.texture.name="CubeCameraTexture",a.update(e,r),o.geometry.dispose(),o.material.dispose(),this},lo.prototype=Object.create(Or.prototype),lo.prototype.constructor=lo,lo.prototype.isDataTexture=!0;var uo=new An,ho=new Ar;function po(e,t,r,n,i,o){this.planes=[void 0!==e?e:new Dn,void 0!==t?t:new Dn,void 0!==r?r:new Dn,void 0!==n?n:new Dn,void 0!==i?i:new Dn,void 0!==o?o:new Dn]}Object.assign(po.prototype,{set:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this},setFromMatrix:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=r[7],d=r[8],h=r[9],p=r[10],f=r[11],m=r[12],g=r[13],v=r[14],y=r[15];return t[0].setComponents(a-n,u-s,f-d,y-m).normalize(),t[1].setComponents(a+n,u+s,f+d,y+m).normalize(),t[2].setComponents(a+i,u+c,f+h,y+g).normalize(),t[3].setComponents(a-i,u-c,f-h,y-g).normalize(),t[4].setComponents(a-o,u-l,f-p,y-v).normalize(),t[5].setComponents(a+o,u+l,f+p,y+v).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),uo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(uo)},intersectsSprite:function(e){return uo.center.set(0,0,0),uo.radius=.7071067811865476,uo.applyMatrix4(e.matrixWorld),this.intersectsSphere(uo)},intersectsSphere:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(r)<n)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,r=0;r<6;r++){var n=t[r];if(ho.x=n.normal.x>0?e.max.x:e.min.x,ho.y=n.normal.y>0?e.max.y:e.min.y,ho.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(ho)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}});var fo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpack2HalfToRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpack2HalfToRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},mo={common:{diffuse:{value:new Qn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Sr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new br(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Qn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Sr}},sprite:{diffuse:{value:new Qn(15658734)},opacity:{value:1},center:{value:new br(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Sr}}},go={basic:{uniforms:Ji([mo.common,mo.specularmap,mo.envmap,mo.aomap,mo.lightmap,mo.fog]),vertexShader:fo.meshbasic_vert,fragmentShader:fo.meshbasic_frag},lambert:{uniforms:Ji([mo.common,mo.specularmap,mo.envmap,mo.aomap,mo.lightmap,mo.emissivemap,mo.fog,mo.lights,{emissive:{value:new Qn(0)}}]),vertexShader:fo.meshlambert_vert,fragmentShader:fo.meshlambert_frag},phong:{uniforms:Ji([mo.common,mo.specularmap,mo.envmap,mo.aomap,mo.lightmap,mo.emissivemap,mo.bumpmap,mo.normalmap,mo.displacementmap,mo.gradientmap,mo.fog,mo.lights,{emissive:{value:new Qn(0)},specular:{value:new Qn(1118481)},shininess:{value:30}}]),vertexShader:fo.meshphong_vert,fragmentShader:fo.meshphong_frag},standard:{uniforms:Ji([mo.common,mo.envmap,mo.aomap,mo.lightmap,mo.emissivemap,mo.bumpmap,mo.normalmap,mo.displacementmap,mo.roughnessmap,mo.metalnessmap,mo.fog,mo.lights,{emissive:{value:new Qn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:fo.meshphysical_vert,fragmentShader:fo.meshphysical_frag},matcap:{uniforms:Ji([mo.common,mo.bumpmap,mo.normalmap,mo.displacementmap,mo.fog,{matcap:{value:null}}]),vertexShader:fo.meshmatcap_vert,fragmentShader:fo.meshmatcap_frag},points:{uniforms:Ji([mo.points,mo.fog]),vertexShader:fo.points_vert,fragmentShader:fo.points_frag},dashed:{uniforms:Ji([mo.common,mo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fo.linedashed_vert,fragmentShader:fo.linedashed_frag},depth:{uniforms:Ji([mo.common,mo.displacementmap]),vertexShader:fo.depth_vert,fragmentShader:fo.depth_frag},normal:{uniforms:Ji([mo.common,mo.bumpmap,mo.normalmap,mo.displacementmap,{opacity:{value:1}}]),vertexShader:fo.normal_vert,fragmentShader:fo.normal_frag},sprite:{uniforms:Ji([mo.sprite,mo.fog]),vertexShader:fo.sprite_vert,fragmentShader:fo.sprite_frag},background:{uniforms:{uvTransform:{value:new Sr},t2D:{value:null}},vertexShader:fo.background_vert,fragmentShader:fo.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fo.cube_vert,fragmentShader:fo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fo.equirect_vert,fragmentShader:fo.equirect_frag},distanceRGBA:{uniforms:Ji([mo.common,mo.displacementmap,{referencePosition:{value:new Ar},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fo.distanceRGBA_vert,fragmentShader:fo.distanceRGBA_frag},shadow:{uniforms:Ji([mo.lights,mo.fog,{color:{value:new Qn(0)},opacity:{value:1}}]),vertexShader:fo.shadow_vert,fragmentShader:fo.shadow_frag}};function vo(){var e=null,t=!1,r=null;function n(i,o){!1!==t&&(r(i,o),e.requestAnimationFrame(n))}return{start:function(){!0!==t&&null!==r&&(e.requestAnimationFrame(n),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function yo(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(r){r.isInterleavedBufferAttribute&&(r=r.data);var n=t.get(r);n&&(e.deleteBuffer(n.buffer),t.delete(r))},update:function(r,n){r.isInterleavedBufferAttribute&&(r=r.data);var i=t.get(r);void 0===i?t.set(r,function(t,r){var n=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,n,i),t.onUploadCallback();var a=5126;return n instanceof Float32Array?a=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?a=5123:n instanceof Int16Array?a=5122:n instanceof Uint32Array?a=5125:n instanceof Int32Array?a=5124:n instanceof Int8Array?a=5120:n instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}(r,n)):i.version<r.version&&(function(t,r,n){var i=r.array,o=r.updateRange;e.bindBuffer(n,t),-1===o.count?e.bufferSubData(n,0,i):(e.bufferSubData(n,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,r,n),i.version=r.version)}}}function bo(e,t,r,n){Yi.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new xo(e,t,r,n)),this.mergeVertices()}function xo(e,t,r,n){Ai.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(r)||1,l=Math.floor(n)||1,u=c+1,d=l+1,h=e/c,p=t/l,f=[],m=[],g=[],v=[];for(o=0;o<d;o++){var y=o*p-s;for(i=0;i<u;i++){var b=i*h-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-o/l)}}for(o=0;o<l;o++)for(i=0;i<c;i++){var x=i+u*o,w=i+u*(o+1),E=i+1+u*(o+1),A=i+1+u*o;f.push(x,w,A),f.push(w,E,A)}this.setIndex(f),this.setAttribute("position",new hi(m,3)),this.setAttribute("normal",new hi(g,3)),this.setAttribute("uv",new hi(v,2))}function wo(e,t,r,n){var i,o,a=new Qn(0),s=0,c=null,l=0;function u(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,n)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),u(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(a,s=e)},render:function(t,n,d,h){var p=n.background,f=e.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(p=null),null===p?(u(a,s),c=null,l=0):p&&p.isColor&&(u(p,1),h=!0,c=null,l=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===o&&((o=new Ui(new Qi(1,1,1),new ro({type:"BackgroundCubeMaterial",uniforms:Zi(go.cube.uniforms),vertexShader:go.cube.vertexShader,fragmentShader:go.cube.fragmentShader,side:v,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.tCube.value}}),r.update(o));var y=p.isWebGLRenderTargetCube?p.texture:p;o.material.uniforms.tCube.value=y,o.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,c===p&&l===y.version||(o.material.needsUpdate=!0,c=p,l=y.version),t.unshift(o,o.geometry,o.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&((i=new Ui(new xo(2,2),new ro({type:"BackgroundMaterial",uniforms:Zi(go.background.uniforms),vertexShader:go.background.vertexShader,fragmentShader:go.background.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&l===p.version||(i.material.needsUpdate=!0,c=p,l=p.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Eo(e,t,r,n){var i,o=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i)},this.renderInstances=function(n,a,s,c){if(0!==c){var l,u;if(o)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,a,s,c),r.update(s,i,c)}}}function Ao(e,t,r){var n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==r.precision?r.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===r.logarithmicDepthBuffer,l=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==n)return n;var r=t.get("EXT_texture_filter_anisotropic");return n=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?e.getParameter(36183):0}}function _o(){var e=this,t=null,r=0,n=!1,i=!1,o=new Dn,a=new Sr,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function l(t,r,n,i){var c=null!==t?t.length:0,l=null;if(0!==c){if(l=s.value,!0!==i||null===l){var u=n+4*c,d=r.matrixWorldInverse;a.getNormalMatrix(d),(null===l||l.length<u)&&(l=new Float32Array(u));for(var h=0,p=n;h!==c;++h,p+=4)o.copy(t[h]).applyMatrix4(d,a),o.normal.toArray(l,p),l[p+3]=o.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=c,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==r||n;return n=i,t=l(e,o,0),r=e.length,a},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,o,a,u,d,h){if(!n||null===e||0===e.length||i&&!a)i?l(null):c();else{var p=i?0:r,f=4*p,m=d.clippingState||null;s.value=m,m=l(e,u,f,h);for(var g=0;g!==f;++g)m[g]=t[g];d.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=p}}}function Mo(e){var t={};return{get:function(r){if(void 0!==t[r])return t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n,n}}}function So(e,t,r){var n=new WeakMap,i=new WeakMap;function o(e){var a=e.target,s=n.get(a);for(var c in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[c]);a.removeEventListener("dispose",o),n.delete(a);var l=i.get(s);l&&(t.remove(l),i.delete(s)),r.memory.geometries--}function a(e){var r=[],n=e.index,o=e.attributes.position,a=0;if(null!==n){var s=n.array;a=n.version;for(var c=0,l=s.length;c<l;c+=3){var u=s[c+0],d=s[c+1],h=s[c+2];r.push(u,d,d,h,h,u)}}else{s=o.array;a=o.version;for(c=0,l=s.length/3-1;c<l;c+=3){u=c+0,d=c+1,h=c+2;r.push(u,d,d,h,h,u)}}var p=new(mi(r)>65535?di:li)(r,1);p.version=a,t.update(p,34963);var f=i.get(e);f&&t.remove(f),i.set(e,p)}return{get:function(e,t){var i=n.get(t);return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Ai).setFromObject(e)),i=t._bufferGeometry),n.set(t,i),r.memory.geometries++,i)},update:function(e){var r=e.index,n=e.attributes;for(var i in null!==r&&t.update(r,34963),n)t.update(n[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,c=a.length;s<c;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&a(e)}else a(e);return i.get(e)}}}function To(e,t,r,n){var i,o,a,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,o,t*a),r.update(n,i)},this.renderInstances=function(n,c,l,u){if(0!==u){var d,h;if(s)d=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(d=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[h](i,l,o,c*a,u),r.update(l,i,u)}}}function Co(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(n=n||1,t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 5:case 6:t.triangles+=n*(e-2);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Oo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Lo(e){var t={},r=new Float32Array(8);return{update:function(n,i,o,a){var s=n.morphTargetInfluences,c=s.length,l=t[i.id];if(void 0===l){l=[];for(var u=0;u<c;u++)l[u]=[u,0];t[i.id]=l}var d=o.morphTargets&&i.morphAttributes.position,h=o.morphNormals&&i.morphAttributes.normal;for(u=0;u<c;u++)0!==(f=l[u])[1]&&(d&&i.deleteAttribute("morphTarget"+u),h&&i.deleteAttribute("morphNormal"+u));for(u=0;u<c;u++)(f=l[u])[0]=u,f[1]=s[u];l.sort(Oo);var p=0;for(u=0;u<8;u++){var f;if(f=l[u]){var m=f[0],g=f[1];if(g){d&&i.setAttribute("morphTarget"+u,d[m]),h&&i.setAttribute("morphNormal"+u,h[m]),r[u]=g,p+=g;continue}}r[u]=0}var v=i.morphTargetsRelative?1:1-p;a.getUniforms().setValue(e,"morphTargetBaseInfluence",v),a.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function Ro(e,t,r,n){var i={};return{update:function(e){var o=n.render.frame,a=e.geometry,s=t.get(e,a);return i[s.id]!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i[s.id]=o),e.isInstancedMesh&&r.update(e.instanceMatrix,34962),s},dispose:function(){i={}}}}function Po(e,t,r,n,i,o,a,s,c,l){e=void 0!==e?e:[],t=void 0!==t?t:ue,a=void 0!==a?a:Ge,Or.call(this,e,t,r,n,i,o,a,s,c,l),this.flipY=!1}function ko(e,t,r,n){Or.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=xe,this.minFilter=xe,this.wrapR=ye,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function jo(e,t,r,n){Or.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=xe,this.minFilter=xe,this.wrapR=ye,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}go.physical={uniforms:Ji([go.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Qn(0)},clearcoatNormalScale:{value:new br(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:fo.meshphysical_vert,fragmentShader:fo.meshphysical_frag},bo.prototype=Object.create(Yi.prototype),bo.prototype.constructor=bo,xo.prototype=Object.create(Ai.prototype),xo.prototype.constructor=xo,Po.prototype=Object.create(Or.prototype),Po.prototype.constructor=Po,Po.prototype.isCubeTexture=!0,Object.defineProperty(Po.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),ko.prototype=Object.create(Or.prototype),ko.prototype.constructor=ko,ko.prototype.isDataTexture2DArray=!0,jo.prototype=Object.create(Or.prototype),jo.prototype.constructor=jo,jo.prototype.isDataTexture3D=!0;var Do=new Or,Io=new ko,No=new jo,zo=new Po,Bo=[],Fo=[],Uo=new Float32Array(16),Ho=new Float32Array(9),Go=new Float32Array(4);function Vo(e,t,r){var n=e[0];if(n<=0||n>0)return e;var i=t*r,o=Bo[i];if(void 0===o&&(o=new Float32Array(i),Bo[i]=o),0!==t){n.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=r,e[a].toArray(o,s)}return o}function Wo(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qo(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function Xo(e,t){var r=Fo[t];void 0===r&&(r=new Int32Array(t),Fo[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function Yo(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Ko(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Wo(r,t))return;e.uniform2fv(this.addr,t),qo(r,t)}}function Qo(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Wo(r,t))return;e.uniform3fv(this.addr,t),qo(r,t)}}function Zo(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Wo(r,t))return;e.uniform4fv(this.addr,t),qo(r,t)}}function Jo(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Wo(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),qo(r,t)}else{if(Wo(r,n))return;Go.set(n),e.uniformMatrix2fv(this.addr,!1,Go),qo(r,n)}}function $o(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Wo(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),qo(r,t)}else{if(Wo(r,n))return;Ho.set(n),e.uniformMatrix3fv(this.addr,!1,Ho),qo(r,n)}}function ea(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Wo(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),qo(r,t)}else{if(Wo(r,n))return;Uo.set(n),e.uniformMatrix4fv(this.addr,!1,Uo),qo(r,n)}}function ta(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||Do,i)}function ra(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||Io,i)}function na(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||No,i)}function ia(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||zo,i)}function oa(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function aa(e,t){var r=this.cache;Wo(r,t)||(e.uniform2iv(this.addr,t),qo(r,t))}function sa(e,t){var r=this.cache;Wo(r,t)||(e.uniform3iv(this.addr,t),qo(r,t))}function ca(e,t){var r=this.cache;Wo(r,t)||(e.uniform4iv(this.addr,t),qo(r,t))}function la(e,t){e.uniform1fv(this.addr,t)}function ua(e,t){e.uniform1iv(this.addr,t)}function da(e,t){e.uniform2iv(this.addr,t)}function ha(e,t){e.uniform3iv(this.addr,t)}function pa(e,t){e.uniform4iv(this.addr,t)}function fa(e,t){var r=Vo(t,this.size,2);e.uniform2fv(this.addr,r)}function ma(e,t){var r=Vo(t,this.size,3);e.uniform3fv(this.addr,r)}function ga(e,t){var r=Vo(t,this.size,4);e.uniform4fv(this.addr,r)}function va(e,t){var r=Vo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function ya(e,t){var r=Vo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function ba(e,t){var r=Vo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function xa(e,t,r){var n=t.length,i=Xo(r,n);e.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.safeSetTexture2D(t[o]||Do,i[o])}function wa(e,t,r){var n=t.length,i=Xo(r,n);e.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.safeSetTextureCube(t[o]||zo,i[o])}function Ea(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Yo;case 35664:return Ko;case 35665:return Qo;case 35666:return Zo;case 35674:return Jo;case 35675:return $o;case 35676:return ea;case 35678:case 36198:return ta;case 35679:return na;case 35680:return ia;case 36289:return ra;case 5124:case 35670:return oa;case 35667:case 35671:return aa;case 35668:case 35672:return sa;case 35669:case 35673:return ca}}(t.type)}function Aa(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return la;case 35664:return fa;case 35665:return ma;case 35666:return ga;case 35674:return va;case 35675:return ya;case 35676:return ba;case 35678:return xa;case 35680:return wa;case 5124:case 35670:return ua;case 35667:case 35671:return da;case 35668:case 35672:return ha;case 35669:case 35673:return pa}}(t.type)}function _a(e){this.id=e,this.seq=[],this.map={}}Aa.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),qo(t,e)},_a.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var a=n[i];a.setValue(e,t[a.id],r)}};var Ma=/([\w\d_]+)(\])?(\[|\.)?/g;function Sa(e,t){e.seq.push(t),e.map[t.id]=t}function Ta(e,t,r){var n=e.name,i=n.length;for(Ma.lastIndex=0;;){var o=Ma.exec(n),a=Ma.lastIndex,s=o[1],c="]"===o[2],l=o[3];if(c&&(s|=0),void 0===l||"["===l&&a+2===i){Sa(r,void 0===l?new Ea(s,e,t):new Aa(s,e,t));break}var u=r.map[s];void 0===u&&Sa(r,u=new _a(s)),r=u}}function Ca(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n);Ta(i,e.getUniformLocation(t,i.name),this)}}function Oa(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}Ca.prototype.setValue=function(e,t,r,n){var i=this.map[t];void 0!==i&&i.setValue(e,r,n)},Ca.prototype.setOptional=function(e,t,r){var n=t[r];void 0!==n&&this.setValue(e,r,n)},Ca.upload=function(e,t,r,n){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,n)}},Ca.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var o=e[n];o.id in t&&r.push(o)}return r};var La=0;function Ra(e){switch(e){case Pt:return["Linear","( value )"];case kt:return["sRGB","( value )"];case Dt:return["RGBE","( value )"];case Nt:return["RGBM","( value, 7.0 )"];case zt:return["RGBM","( value, 16.0 )"];case Bt:return["RGBD","( value, 256.0 )"];case jt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case It:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function Pa(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return n&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+function(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}(e.getShaderSource(t))}function ka(e,t){var r=Ra(t);return"vec4 "+e+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function ja(e,t){var r;switch(t){case ie:r="Linear";break;case oe:r="Reinhard";break;case ae:r="Uncharted2";break;case se:r="OptimizedCineon";break;case ce:r="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Da(e){return""!==e}function Ia(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Na(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var za=/^[ \t]*#include +<([\w\d.\/]+)>/gm;function Ba(e){return e.replace(za,Fa)}function Fa(e,t){var r=fo[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return Ba(r)}var Ua=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function Ha(e){return e.replace(Ua,Ga)}function Ga(e,t,r,n){for(var i="",o=parseInt(t);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Va(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Wa(e,t,r,n,i,o){var a,s,c,l,u,d=e.getContext(),h=n.defines,g=i.vertexShader,v=i.fragmentShader,y=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===p?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===f?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===m&&(t="SHADOWMAP_TYPE_VSM"),t}(o),b=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ue:case de:t="ENVMAP_TYPE_CUBE";break;case me:case ge:t="ENVMAP_TYPE_CUBE_UV";break;case he:case pe:t="ENVMAP_TYPE_EQUIREC";break;case fe:t="ENVMAP_TYPE_SPHERE"}return t}(o),x=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case de:case pe:t="ENVMAP_MODE_REFRACTION"}return t}(o),w=function(e){var t="ENVMAP_BLENDING_MULTIPLY";if(e.envMap)switch(e.combine){case ee:t="ENVMAP_BLENDING_MULTIPLY";break;case te:t="ENVMAP_BLENDING_MIX";break;case re:t="ENVMAP_BLENDING_ADD"}return t}(o),E=e.gammaFactor>0?e.gammaFactor:1,A=o.isWebGL2?"":function(e,t,r){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Da).join("\n")}(n.extensions,o,t),_=function(e){var t=[];for(var r in e){var n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(h),M=d.createProgram(),S=o.numMultiviewViews;if(n.isRawShaderMaterial?((a=[_].filter(Da).join("\n")).length>0&&(a+="\n"),(s=[A,_].filter(Da).join("\n")).length>0&&(s+="\n")):(a=[Va(o),"#define SHADER_NAME "+i.name,_,o.instancing?"#define USE_INSTANCING":"",o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+E,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+x:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+y:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Da).join("\n"),s=[A,Va(o),"#define SHADER_NAME "+i.name,_,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+E,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+b:"",o.envMap?"#define "+x:"",o.envMap?"#define "+w:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.sheen?"#define USE_SHEEN":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+y:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensions&&n.extensions.shaderTextureLOD||o.envMap)&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",o.toneMapping!==ne?"#define TONE_MAPPING":"",o.toneMapping!==ne?fo.tonemapping_pars_fragment:"",o.toneMapping!==ne?ja("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?fo.encodings_pars_fragment:"",o.mapEncoding?ka("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?ka("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?ka("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?ka("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(c="linearToOutputTexel",l=o.outputEncoding,u=Ra(l),"vec4 "+c+"( vec4 value ) { return LinearTo"+u[0]+u[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Da).join("\n")),g=Na(g=Ia(g=Ba(g),o),o),v=Na(v=Ia(v=Ba(v),o),o),g=Ha(g),v=Ha(v),o.isWebGL2&&!n.isRawShaderMaterial){var T=!1,C=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==g.match(C)&&null!==v.match(C)&&(T=!0,g=g.replace(C,""),v=v.replace(C,"")),a=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,s=["#version 300 es\n","#define varying in",T?"":"out highp vec4 pc_fragColor;",T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+s,S>0&&(a=(a=a.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+S+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+S+"];","uniform mat4 projectionMatrices["+S+"];","uniform mat4 viewMatrices["+S+"];","uniform mat3 normalMatrices["+S+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),s=(s=s.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+S+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var O,L,R=s+v,P=Oa(d,35633,a+g),k=Oa(d,35632,R);if(d.attachShader(M,P),d.attachShader(M,k),void 0!==n.index0AttributeName?d.bindAttribLocation(M,0,n.index0AttributeName):!0===o.morphTargets&&d.bindAttribLocation(M,0,"position"),d.linkProgram(M),e.debug.checkShaderErrors){var j=d.getProgramInfoLog(M).trim(),D=d.getShaderInfoLog(P).trim(),I=d.getShaderInfoLog(k).trim(),N=!0,z=!0;if(!1===d.getProgramParameter(M,35714)){N=!1;var B=Pa(d,P,"vertex"),F=Pa(d,k,"fragment");console.error("THREE.WebGLProgram: shader error: ",d.getError(),"35715",d.getProgramParameter(M,35715),"gl.getProgramInfoLog",j,B,F)}else""!==j?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",j):""!==D&&""!==I||(z=!1);z&&(this.diagnostics={runnable:N,material:n,programLog:j,vertexShader:{log:D,prefix:a},fragmentShader:{log:I,prefix:s}})}return d.deleteShader(P),d.deleteShader(k),this.getUniforms=function(){return void 0===O&&(O=new Ca(d,M)),O},this.getAttributes=function(){return void 0===L&&(L=function(e,t){for(var r={},n=e.getProgramParameter(t,35721),i=0;i<n;i++){var o=e.getActiveAttrib(t,i).name;r[o]=e.getAttribLocation(t,o)}return r}(d,M)),L},this.destroy=function(){d.deleteProgram(M),this.program=void 0},this.name=i.name,this.id=La++,this.cacheKey=r,this.usedTimes=1,this.program=M,this.vertexShader=P,this.fragmentShader=k,this.numMultiviewViews=S,this}function qa(e,t,r){var n=[],i=r.isWebGL2,o=r.logarithmicDepthBuffer,a=r.floatVertexTextures,s=r.precision,c=r.maxVertexUniforms,l=r.vertexTextures,u={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},d=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function h(e,t){var r;return e?e.isTexture?r=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),r=e.texture.encoding):r=Pt,r===Pt&&t&&(r=jt),r}this.getParameters=function(t,n,d,p,f,m,g){var b=u[t.type],x=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(a)return 1024;var r=c,n=Math.floor((r-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;null!==t.precision&&(s=r.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",s,"instead.");var w=e.getRenderTarget(),E=w&&w.isWebGLMultiviewRenderTarget?w.numViews:0;return{isWebGL2:i,shaderID:b,precision:s,instancing:!0===g.isInstancedMesh,supportsVertexTextures:l,numMultiviewViews:E,outputEncoding:h(w?w.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:h(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:h(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:h(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===me||t.envMap.mapping===ge),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:h(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Gt,tangentSpaceNormalMap:t.normalMapType===Ht,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||t.displacementMap),uvsVertexOnly:!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||!t.displacementMap),fog:!!p,useFog:t.fog,fogExp2:p&&p.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:o,skinning:t.skinning&&x>0,maxBones:x,useVertexTexture:a,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:n.directional.length,numPointLights:n.point.length,numSpotLights:n.spot.length,numRectAreaLights:n.rectArea.length,numHemiLights:n.hemi.length,numDirLightShadows:n.directionalShadowMap.length,numPointLightShadows:n.pointShadowMap.length,numSpotLightShadows:n.spotShadowMap.length,numClippingPlanes:f,numClipIntersection:m,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&d.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:ne,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===y,flipSided:t.side===v,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCacheKey=function(t,r){var n=[];if(r.shaderID?n.push(r.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);for(var o=0;o<d.length;o++)n.push(r[d[o]]);return n.push(t.onBeforeCompile.toString()),n.push(e.gammaOutput),n.push(e.gammaFactor),n.join()},this.acquireProgram=function(r,i,o,a){for(var s,c=0,l=n.length;c<l;c++){var u=n[c];if(u.cacheKey===a){++(s=u).usedTimes;break}}return void 0===s&&(s=new Wa(e,t,a,r,i,o),n.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=n.indexOf(e);n[t]=n[n.length-1],n.pop(),e.destroy()}},this.programs=n}function Xa(){var e=new WeakMap;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function Ya(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ka(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Qa(){var e=[],t=0,r=[],n=[],i={id:-1};function o(r,n,o,a,s,c){var l=e[t];return void 0===l?(l={id:r.id,object:r,geometry:n,material:o,program:o.program||i,groupOrder:a,renderOrder:r.renderOrder,z:s,group:c},e[t]=l):(l.id=r.id,l.object=r,l.geometry=n,l.material=o,l.program=o.program||i,l.groupOrder=a,l.renderOrder=r.renderOrder,l.z=s,l.group=c),t++,l}return{opaque:r,transparent:n,init:function(){t=0,r.length=0,n.length=0},push:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?n:r).push(l)},unshift:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?n:r).unshift(l)},sort:function(){r.length>1&&r.sort(Ya),n.length>1&&n.sort(Ka)}}}function Za(){var e=new WeakMap;function t(r){var n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){var i,o=e.get(r);return void 0===o?(i=new Qa,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):void 0===(i=o.get(n))&&(i=new Qa,o.set(n,i)),i},dispose:function(){e=new WeakMap}}}function Ja(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new Ar,color:new Qn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new br};break;case"SpotLight":r={position:new Ar,direction:new Ar,color:new Qn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new br};break;case"PointLight":r={position:new Ar,color:new Qn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new br,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":r={direction:new Ar,skyColor:new Qn,groundColor:new Qn};break;case"RectAreaLight":r={color:new Qn,position:new Ar,halfWidth:new Ar,halfHeight:new Ar}}return e[t.id]=r,r}}}var $a=0;function es(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ts(){for(var e=new Ja,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},r=0;r<9;r++)t.probe.push(new Ar);var n=new Ar,i=new Fr,o=new Fr;return{setup:function(r,a,s){for(var c=0,l=0,u=0,d=0;d<9;d++)t.probe[d].set(0,0,0);var h=0,p=0,f=0,m=0,g=0,v=0,y=0,b=0,x=s.matrixWorldInverse;r.sort(es),d=0;for(var w=r.length;d<w;d++){var E=r[d],A=E.color,_=E.intensity,M=E.distance,S=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)c+=A.r*_,l+=A.g*_,u+=A.b*_;else if(E.isLightProbe)for(var T=0;T<9;T++)t.probe[T].addScaledVector(E.sh.coefficients[T],_);else if(E.isDirectionalLight){if((O=e.get(E)).color.copy(E.color).multiplyScalar(E.intensity),O.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),O.direction.sub(n),O.direction.transformDirection(x),O.shadow=E.castShadow,E.castShadow){var C=E.shadow;O.shadowBias=C.bias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,t.directionalShadowMap[h]=S,t.directionalShadowMatrix[h]=E.shadow.matrix,v++}t.directional[h]=O,h++}else if(E.isSpotLight)(O=e.get(E)).position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(x),O.color.copy(A).multiplyScalar(_),O.distance=M,O.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),O.direction.sub(n),O.direction.transformDirection(x),O.coneCos=Math.cos(E.angle),O.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),O.decay=E.decay,O.shadow=E.castShadow,E.castShadow&&(C=E.shadow,O.shadowBias=C.bias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,t.spotShadowMap[f]=S,t.spotShadowMatrix[f]=E.shadow.matrix,b++),t.spot[f]=O,f++;else if(E.isRectAreaLight)(O=e.get(E)).color.copy(A).multiplyScalar(_),O.position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(x),o.identity(),i.copy(E.matrixWorld),i.premultiply(x),o.extractRotation(i),O.halfWidth.set(.5*E.width,0,0),O.halfHeight.set(0,.5*E.height,0),O.halfWidth.applyMatrix4(o),O.halfHeight.applyMatrix4(o),t.rectArea[m]=O,m++;else if(E.isPointLight)(O=e.get(E)).position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(x),O.color.copy(E.color).multiplyScalar(E.intensity),O.distance=E.distance,O.decay=E.decay,O.shadow=E.castShadow,E.castShadow&&(C=E.shadow,O.shadowBias=C.bias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,O.shadowCameraNear=C.camera.near,O.shadowCameraFar=C.camera.far,t.pointShadowMap[p]=S,t.pointShadowMatrix[p]=E.shadow.matrix,y++),t.point[p]=O,p++;else if(E.isHemisphereLight){var O;(O=e.get(E)).direction.setFromMatrixPosition(E.matrixWorld),O.direction.transformDirection(x),O.direction.normalize(),O.skyColor.copy(E.color).multiplyScalar(_),O.groundColor.copy(E.groundColor).multiplyScalar(_),t.hemi[g]=O,g++}}t.ambient[0]=c,t.ambient[1]=l,t.ambient[2]=u;var L=t.hash;L.directionalLength===h&&L.pointLength===p&&L.spotLength===f&&L.rectAreaLength===m&&L.hemiLength===g&&L.numDirectionalShadows===v&&L.numPointShadows===y&&L.numSpotShadows===b||(t.directional.length=h,t.spot.length=f,t.rectArea.length=m,t.point.length=p,t.hemi.length=g,t.directionalShadowMap.length=v,t.pointShadowMap.length=y,t.spotShadowMap.length=b,t.directionalShadowMatrix.length=v,t.pointShadowMatrix.length=y,t.spotShadowMatrix.length=b,L.directionalLength=h,L.pointLength=p,L.spotLength=f,L.rectAreaLength=m,L.hemiLength=g,L.numDirectionalShadows=v,L.numPointShadows=y,L.numSpotShadows=b,t.version=$a++)},state:t}}function rs(){var e=new ts,t=[],r=[];return{init:function(){t.length=0,r.length=0},state:{lightsArray:t,shadowsArray:r,lights:e},setupLights:function(n){e.setup(t,r,n)},pushLight:function(e){t.push(e)},pushShadow:function(e){r.push(e)}}}function ns(){var e=new WeakMap;function t(r){var n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){var i;return!1===e.has(r)?(i=new rs,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):!1===e.get(r).has(n)?(i=new rs,e.get(r).set(n,i)):i=e.get(r).get(n),i},dispose:function(){e=new WeakMap}}}function is(e){ri.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ft,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function os(e){ri.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ar,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}is.prototype=Object.create(ri.prototype),is.prototype.constructor=is,is.prototype.isMeshDepthMaterial=!0,is.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},os.prototype=Object.create(ri.prototype),os.prototype.constructor=os,os.prototype.isMeshDistanceMaterial=!0,os.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var as="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpack2HalfToRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",ss="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function cs(e,t,r){var n=new po,i=new br,o=new br,a=new Lr,s=[],c=[],l={},u={0:v,1:g,2:y},d=new ro({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new br},radius:{value:4}},vertexShader:ss,fragmentShader:as}),h=d.clone();h.defines.HORIZONAL_PASS=1;var f=new Ai;f.setAttribute("position",new ii(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var b=new Ui(f,d),x=this;function w(r,n){var i=t.update(b);d.uniforms.shadow_pass.value=r.map.texture,d.uniforms.resolution.value=r.mapSize,d.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,d,b,null),h.uniforms.shadow_pass.value=r.mapPass.texture,h.uniforms.resolution.value=r.mapSize,h.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,h,b,null)}function E(e,t,r){var n=e<<0|t<<1|r<<2,i=s[n];return void 0===i&&(i=new is({depthPacking:Ut,morphTargets:e,skinning:t}),s[n]=i),i}function A(e,t,r){var n=e<<0|t<<1|r<<2,i=c[n];return void 0===i&&(i=new os({morphTargets:e,skinning:t}),c[n]=i),i}function M(t,r,n,i,o,a){var s=t.geometry,c=null,d=E,h=t.customDepthMaterial;if(!0===n.isPointLight&&(d=A,h=t.customDistanceMaterial),void 0===h){var p=!1;!0===r.morphTargets&&(!0===s.isBufferGeometry?p=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:!0===s.isGeometry&&(p=s.morphTargets&&s.morphTargets.length>0));var f=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?f=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),c=d(p,f,!0===t.isInstancedMesh)}else c=h;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var g=c.uuid,v=r.uuid,y=l[g];void 0===y&&(y={},l[g]=y);var b=y[v];void 0===b&&(b=c.clone(),y[v]=b),c=b}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=a===m?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:u[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!0===n.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(n.matrixWorld),c.nearDistance=i,c.farDistance=o),c}function S(r,i,o,a,s){if(!1!==r.visible){if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&s===m)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var c=t.update(r),l=r.material;if(Array.isArray(l))for(var u=c.groups,d=0,h=u.length;d<h;d++){var p=u[d],f=l[p.materialIndex];if(f&&f.visible){var g=M(r,f,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,g,r,p)}}else if(l.visible){g=M(r,l,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,g,r,null)}}for(var v=r.children,y=0,b=v.length;y<b;y++)S(v[y],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p,this.render=function(t,s,c){if(!1!==x.enabled&&(!1!==x.autoUpdate||!1!==x.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(_),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var p=0,f=t.length;p<f;p++){var g=t[p],v=g.shadow;if(void 0!==v){i.copy(v.mapSize);var y=v.getFrameExtents();if(i.multiply(y),o.copy(v.mapSize),(i.x>r||i.y>r)&&(console.warn("THREE.WebGLShadowMap:",g,"has shadow exceeding max texture size, reducing"),i.x>r&&(o.x=Math.floor(r/y.x),i.x=o.x*y.x,v.mapSize.x=o.x),i.y>r&&(o.y=Math.floor(r/y.y),i.y=o.y*y.y,v.mapSize.y=o.y)),null===v.map&&!v.isPointLightShadow&&this.type===m){var b={minFilter:Me,magFilter:Me,format:Ve};v.map=new Rr(i.x,i.y,b),v.map.texture.name=g.name+".shadowMap",v.mapPass=new Rr(i.x,i.y,b),v.camera.updateProjectionMatrix()}if(null===v.map){b={minFilter:xe,magFilter:xe,format:Ve};v.map=new Rr(i.x,i.y,b),v.map.texture.name=g.name+".shadowMap",v.camera.updateProjectionMatrix()}e.setRenderTarget(v.map),e.clear();for(var E=v.getViewportCount(),A=0;A<E;A++){var M=v.getViewport(A);a.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),h.viewport(a),v.updateMatrices(g,A),n=v.getFrustum(),S(s,c,v.camera,g,this.type)}v.isPointLightShadow||this.type!==m||w(v,c)}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}x.needsUpdate=!1,e.setRenderTarget(l,u,d)}}}function ls(e,t,r){var n=r.isWebGL2;var i=new function(){var t=!1,r=new Lr,n=null,i=new Lr(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,o,a,s){!0===s&&(t*=a,n*=a,o*=a),r.set(t,n,o,a),!1===i.equals(r)&&(e.clearColor(t,n,o,a),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?be(2929):xe(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case q:e.depthFunc(512);break;case X:e.depthFunc(519);break;case Y:e.depthFunc(513);break;case K:e.depthFunc(515);break;case Q:e.depthFunc(514);break;case Z:e.depthFunc(518);break;case J:e.depthFunc(516);break;case $:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},l=new function(){var t=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null;return{setTest:function(e){t||(e?be(2960):xe(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,a){n===t&&i===r&&o===a||(e.stencilFunc(t,r,a),n=t,i=r,o=a)},setOp:function(t,r,n){a===t&&s===r&&c===n||(e.stencilOp(t,r,n),a=t,s=r,c=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null}}},u=e.getParameter(34921),d=new Uint8Array(u),h=new Uint8Array(u),p=new Uint8Array(u),f={},m=null,g=null,b=null,x=null,w=null,E=null,A=null,ee=null,te=null,re=!1,ne=null,ie=null,oe=null,ae=null,se=null,ce=e.getParameter(35661),le=!1,ue=0,de=e.getParameter(7938);-1!==de.indexOf("WebGL")?(ue=parseFloat(/^WebGL\ ([0-9])/.exec(de)[1]),le=ue>=1):-1!==de.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(de)[1]),le=ue>=2);var he=null,pe={},fe=new Lr,me=new Lr;function ge(t,r,n){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<n;a++)e.texImage2D(r+a,0,6408,1,1,0,6408,5121,i);return o}var ve={};function ye(r,i){(d[r]=1,0===h[r]&&(e.enableVertexAttribArray(r),h[r]=1),p[r]!==i)&&((n?e:t.get("ANGLE_instanced_arrays"))[n?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),p[r]=i)}function be(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function xe(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}ve[3553]=ge(3553,3553,1),ve[34067]=ge(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),l.setClear(0),be(2929),o.setFunc(K),Me(!1),Se(s),be(2884),_e(_);var we={[L]:32774,[R]:32778,[P]:32779};if(n)we[k]=32775,we[j]=32776;else{var Ee=t.get("EXT_blend_minmax");null!==Ee&&(we[k]=Ee.MIN_EXT,we[j]=Ee.MAX_EXT)}var Ae={[D]:0,[I]:1,[N]:768,[B]:770,[W]:776,[G]:774,[U]:772,[z]:769,[F]:771,[V]:775,[H]:773};function _e(t,r,n,i,o,a,s,c){if(t!==_){if(g||(be(3042),g=!0),t===O)o=o||r,a=a||n,s=s||i,r===x&&o===A||(e.blendEquationSeparate(we[r],we[o]),x=r,A=o),n===w&&i===E&&a===ee&&s===te||(e.blendFuncSeparate(Ae[n],Ae[i],Ae[a],Ae[s]),w=n,E=i,ee=a,te=s),b=t,re=null;else if(t!==b||c!==re){if(x===L&&A===L||(e.blendEquation(32774),x=L,A=L),c)switch(t){case M:e.blendFuncSeparate(1,771,1,771);break;case S:e.blendFunc(1,1);break;case T:e.blendFuncSeparate(0,0,769,771);break;case C:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case M:e.blendFuncSeparate(770,771,1,771);break;case S:e.blendFunc(770,1);break;case T:e.blendFunc(0,769);break;case C:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}w=null,E=null,ee=null,te=null,b=t,re=c}}else g&&(xe(3042),g=!1)}function Me(t){ne!==t&&(t?e.frontFace(2304):e.frontFace(2305),ne=t)}function Se(t){t!==a?(be(2884),t!==ie&&(t===s?e.cullFace(1029):t===c?e.cullFace(1028):e.cullFace(1032))):xe(2884),ie=t}function Te(t,r,n){t?(be(32823),ae===r&&se===n||(e.polygonOffset(r,n),ae=r,se=n)):xe(32823)}function Ce(t){void 0===t&&(t=33984+ce-1),he!==t&&(e.activeTexture(t),he=t)}return{buffers:{color:i,depth:o,stencil:l},initAttributes:function(){for(var e=0,t=d.length;e<t;e++)d[e]=0},enableAttribute:function(e){ye(e,0)},enableAttributeAndDivisor:ye,disableUnusedAttributes:function(){for(var t=0,r=h.length;t!==r;++t)h[t]!==d[t]&&(e.disableVertexAttribArray(t),h[t]=0)},enable:be,disable:xe,useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:_e,setMaterial:function(e,t){e.side===y?xe(2884):be(2884);var r=e.side===v;t&&(r=!r),Me(r),e.blending===M&&!1===e.transparent?_e(_):_e(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);var n=e.stencilWrite;l.setTest(n),n&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Te(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Me,setCullFace:Se,setLineWidth:function(t){t!==oe&&(le&&e.lineWidth(t),oe=t)},setPolygonOffset:Te,setScissorTest:function(e){e?be(3089):xe(3089)},activeTexture:Ce,bindTexture:function(t,r){null===he&&Ce();var n=pe[he];void 0===n&&(n={type:void 0,texture:void 0},pe[he]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||ve[t]),n.type=t,n.texture=r)},unbindTexture:function(){var t=pe[he];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===fe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),fe.copy(t))},viewport:function(t){!1===me.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),me.copy(t))},reset:function(){for(var t=0;t<h.length;t++)1===h[t]&&(e.disableVertexAttribArray(t),h[t]=0);f={},he=null,pe={},m=null,b=null,ne=null,ie=null,i.reset(),o.reset(),l.reset()}}}function us(e,t,r,n,i,o,a){var s,c=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,p=new WeakMap,f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d");function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?yr.floorPowerOfTwo:Math.floor,a=o(i*e.width),c=o(i*e.height);void 0===s&&(s=m(a,c));var l=r?m(a,c):s;return l.width=a,l.height=c,l.getContext("2d").drawImage(e,0,0,a,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+c+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function v(e){return yr.isPowerOfTwo(e.width)&&yr.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==xe&&e.minFilter!==Me}function b(t,r,i,o){e.generateMipmap(t),n.get(r).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function x(e,r){if(!1===c)return e;var n=e;return 6403===e&&(5126===r&&(n=33326),5131===r&&(n=33325),5121===r&&(n=33321)),6407===e&&(5126===r&&(n=34837),5131===r&&(n=34843),5121===r&&(n=32849)),6408===e&&(5126===r&&(n=34836),5131===r&&(n=34842),5121===r&&(n=32856)),33325===n||33326===n||34842===n||34836===n?t.get("EXT_color_buffer_float"):34843!==n&&34837!==n||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),n}function w(e){return e===xe||e===we||e===Ae?9728:9729}function E(t){var r=t.target;r.removeEventListener("dispose",E),function(t){var r=n.get(t);if(void 0===r.__webglInit)return;e.deleteTexture(r.__webglTexture),n.remove(t)}(r),r.isVideoTexture&&p.delete(r),a.memory.textures--}function A(t){var r=t.target;r.removeEventListener("dispose",A),function(t){var r=n.get(t),i=n.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[o]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(r.__webglColorTexture),e.deleteTexture(r.__webglDepthStencilTexture),a.memory.textures-=2;for(var o=0,s=r.__webglViewFramebuffers.length;o<s;o++)e.deleteFramebuffer(r.__webglViewFramebuffers[o])}n.remove(t.texture),n.remove(t)}(r),a.memory.textures--}var _=0;function M(e,t){var i=n.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void P(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function S(t,i){if(6===t.image.length){var a=n.get(t);if(t.version>0&&a.__version!==t.version){R(a,t),r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&t.isCompressedTexture,l=t.image[0]&&t.image[0].isDataTexture,d=[],h=0;h<6;h++)d[h]=s||l?l?t.image[h].image:t.image[h]:g(t.image[h],!1,!0,u);var p,f=d[0],m=v(f)||c,w=o.convert(t.format),E=o.convert(t.type),A=x(w,E);if(L(34067,t,m),s){for(h=0;h<6;h++){p=d[h].mipmaps;for(var _=0;_<p.length;_++){var M=p[_];t.format!==Ve&&t.format!==Ge?null!==w?r.compressedTexImage2D(34069+h,_,A,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+h,_,A,M.width,M.height,0,w,E,M.data)}}a.__maxMipLevel=p.length-1}else{p=t.mipmaps;for(h=0;h<6;h++)if(l){r.texImage2D(34069+h,0,A,d[h].width,d[h].height,0,w,E,d[h].data);for(_=0;_<p.length;_++){var S=(M=p[_]).image[h].image;r.texImage2D(34069+h,_+1,A,S.width,S.height,0,w,E,S.data)}}else{r.texImage2D(34069+h,0,A,w,E,d[h]);for(_=0;_<p.length;_++){M=p[_];r.texImage2D(34069+h,_+1,A,w,E,M.image[h])}}a.__maxMipLevel=p.length}y(t,m)&&b(34067,t,f.width,f.height),a.__version=t.version,t.onUpdate&&t.onUpdate(t)}else r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture)}}function T(e,t){r.activeTexture(33984+t),r.bindTexture(34067,n.get(e).__webglTexture)}var C={[ve]:10497,[ye]:33071,[be]:33648},O={[xe]:9728,[we]:9984,[Ae]:9986,[Me]:9729,[Se]:9985,[Ce]:9987};function L(r,o,a){a?(e.texParameteri(r,10242,C[o.wrapS]),e.texParameteri(r,10243,C[o.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,C[o.wrapR]),e.texParameteri(r,10240,O[o.magFilter]),e.texParameteri(r,10241,O[o.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),o.wrapS===ye&&o.wrapT===ye||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,w(o.magFilter)),e.texParameteri(r,10241,w(o.minFilter)),o.minFilter!==xe&&o.minFilter!==Me&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(o.type===Ie&&null===t.get("OES_texture_float_linear"))return;if(o.type===Ne&&null===(c||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(e.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function R(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",E),t.__webglTexture=e.createTexture(),a.memory.textures++)}function P(t,n,i){var a=3553;n.isDataTexture2DArray&&(a=35866),n.isDataTexture3D&&(a=32879),R(t,n),r.activeTexture(33984+i),r.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment);var s=function(e){return!c&&(e.wrapS!==ye||e.wrapT!==ye||e.minFilter!==xe&&e.minFilter!==Me)}(n)&&!1===v(n.image),l=g(n.image,s,!1,d),u=v(l)||c,h=o.convert(n.format),p=o.convert(n.type),f=x(h,p);L(a,n,u);var m,w=n.mipmaps;if(n.isDepthTexture){if(f=6402,n.type===Ie){if(!1===c)throw new Error("Float Depth Texture only supported in WebGL2.0");f=36012}else c&&(f=33189);n.format===Ye&&6402===f&&n.type!==ke&&n.type!==De&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=ke,p=o.convert(n.type)),n.format===Ke&&(f=34041,n.type!==Ue&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Ue,p=o.convert(n.type))),r.texImage2D(3553,0,f,l.width,l.height,0,h,p,null)}else if(n.isDataTexture)if(w.length>0&&u){for(var E=0,A=w.length;E<A;E++)m=w[E],r.texImage2D(3553,E,f,m.width,m.height,0,h,p,m.data);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,f,l.width,l.height,0,h,p,l.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(E=0,A=w.length;E<A;E++)m=w[E],n.format!==Ve&&n.format!==Ge?null!==h?r.compressedTexImage2D(3553,E,f,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,E,f,m.width,m.height,0,h,p,m.data);t.__maxMipLevel=w.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,f,l.width,l.height,l.depth,0,h,p,l.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,f,l.width,l.height,l.depth,0,h,p,l.data),t.__maxMipLevel=0;else if(w.length>0&&u){for(E=0,A=w.length;E<A;E++)m=w[E],r.texImage2D(3553,E,f,h,p,m);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,f,h,p,l),t.__maxMipLevel=0;y(n,u)&&b(3553,n,l.width,l.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function k(t,i,a,s){var c=o.convert(i.texture.format),l=o.convert(i.texture.type),u=x(c,l);r.texImage2D(s,0,u,i.width,i.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,n.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function j(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){if(n){var i=I(r);e.renderbufferStorageMultisample(36161,i,33189,r.width,r.height)}else e.renderbufferStorage(36161,33189,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){if(n){i=I(r);e.renderbufferStorageMultisample(36161,i,35056,r.width,r.height)}else e.renderbufferStorage(36161,34041,r.width,r.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=x(o.convert(r.texture.format),o.convert(r.texture.type));if(n){i=I(r);e.renderbufferStorageMultisample(36161,i,a,r.width,r.height)}else e.renderbufferStorage(36161,a,r.width,r.height)}e.bindRenderbuffer(36161,null)}function D(t){var r=n.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),M(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===Ye)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(r.depthTexture.format!==Ke)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(r.__webglFramebuffer,t)}else if(i){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=e.createRenderbuffer(),j(r.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),j(r.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function I(e){return c&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}var N=!1,z=!1;this.allocateTextureUnit=function(){var e=_;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),_+=1,e},this.resetTextureUnits=function(){_=0},this.setTexture2D=M,this.setTexture2DArray=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=S,this.setTextureCubeDynamic=T,this.setupRenderTarget=function(i){var s=n.get(i),l=n.get(i.texture);i.addEventListener("dispose",A),l.__webglTexture=e.createTexture(),a.memory.textures++;var u=!0===i.isWebGLRenderTargetCube,d=!0===i.isWebGLMultisampleRenderTarget,h=!0===i.isWebGLMultiviewRenderTarget,p=v(i)||c;if(u){s.__webglFramebuffer=[];for(var f=0;f<6;f++)s.__webglFramebuffer[f]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),d)if(c){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var m=x(o.convert(i.texture.format),o.convert(i.texture.type)),g=I(i);e.renderbufferStorageMultisample(36161,g,m,i.width,i.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),i.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),j(s.__webglDepthRenderbuffer,i,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(h){var w=i.width,E=i.height,_=i.numViews;e.bindFramebuffer(36160,s.__webglFramebuffer);var M=t.get("OVR_multiview2");a.memory.textures+=2;var S=e.createTexture();e.bindTexture(35866,S),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,w,E,_,0,6408,5121,null),M.framebufferTextureMultiviewOVR(36160,36064,S,0,0,_);var T=e.createTexture();e.bindTexture(35866,T),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,w,E,_,0,34041,34042,null),M.framebufferTextureMultiviewOVR(36160,33306,T,0,0,_);var C=new Array(_);for(f=0;f<_;++f)C[f]=e.createFramebuffer(),e.bindFramebuffer(36160,C[f]),e.framebufferTextureLayer(36160,36064,S,0,f);s.__webglColorTexture=S,s.__webglDepthStencilTexture=T,s.__webglViewFramebuffers=C,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(u){for(r.bindTexture(34067,l.__webglTexture),L(34067,i.texture,p),f=0;f<6;f++)k(s.__webglFramebuffer[f],i,36064,34069+f);y(i.texture,p)&&b(34067,i.texture,i.width,i.height),r.bindTexture(34067,null)}else h||(r.bindTexture(3553,l.__webglTexture),L(3553,i.texture,p),k(s.__webglFramebuffer,i,36064,3553),y(i.texture,p)&&b(3553,i.texture,i.width,i.height),r.bindTexture(3553,null));i.depthBuffer&&D(i)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(y(t,v(e)||c)){var i=e.isWebGLRenderTargetCube?34067:3553,o=n.get(t).__webglTexture;r.bindTexture(i,o),b(i,t,e.width,e.height),r.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(c){var r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),e=e.texture),M(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?S(e,t):T(e,t)}}function ds(e,t,r){var n=r.isWebGL2;return{convert:function(e){var r;if(e===Le)return 5121;if(e===ze)return 32819;if(e===Be)return 32820;if(e===Fe)return 33635;if(e===Re)return 5120;if(e===Pe)return 5122;if(e===ke)return 5123;if(e===je)return 5124;if(e===De)return 5125;if(e===Ie)return 5126;if(e===Ne)return n?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(e===He)return 6406;if(e===Ge)return 6407;if(e===Ve)return 6408;if(e===We)return 6409;if(e===qe)return 6410;if(e===Ye)return 6402;if(e===Ke)return 34041;if(e===Qe)return 6403;if(e===Ze||e===Je||e===$e||e===et){if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===Ze)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Je)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===$e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===et)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===tt||e===rt||e===nt||e===it){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===tt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===rt)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===nt)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===it)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return e===ot?null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null:e===at||e===st||e===ct||e===lt||e===ut||e===dt||e===ht||e===pt||e===ft||e===mt||e===gt||e===vt||e===yt||e===bt?null!==(r=t.get("WEBGL_compressed_texture_astc"))?e:null:e===Ue?n?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function hs(e,t,r,n){Rr.call(this,e,t,n),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=r}function ps(e,t){var r,n,i,o,a,s,c,l=2,u=e.extensions,d=e.properties,h=0;function p(e){return e.isArrayCamera?e.cameras:(a[0]=e,a)}this.isAvailable=function(){if(void 0===c){var e=u.get("OVR_multiview2");if(c=null!==e&&!1===t.getContextAttributes().antialias){h=t.getParameter(e.MAX_VIEWS_OVR),r=new hs(0,0,l),s=new br,o=[],i=[],a=[];for(var n=0;n<h;n++)o[n]=new Fr,i[n]=new Sr}}return c},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>h)return!1;for(var r=1,n=t.length;r<n;r++)if(t[0].viewport.z!==t[r].viewport.z||t[0].viewport.w!==t[r].viewport.w)return!1;return!0}(t)&&(n=e.getRenderTarget(),function(t){if(n?s.set(n.width,n.height):e.getDrawingBufferSize(s),t.isArrayCamera){var i=t.cameras[0].viewport;r.setSize(i.z,i.w),r.setNumViews(t.cameras.length)}else r.setSize(s.x,s.y),r.setNumViews(l)}(t),e.setRenderTarget(r))},this.detachCamera=function(i){r===e.getRenderTarget()&&(e.setRenderTarget(n),function(e){var n=r,i=n.numViews,o=d.get(n).__webglViewFramebuffers,a=n.width,c=n.height;if(e.isArrayCamera)for(var l=0;l<i;l++){var u=e.cameras[l].viewport,h=u.x,p=u.y,f=h+u.z,m=p+u.w;t.bindFramebuffer(36008,o[l]),t.blitFramebuffer(0,0,a,c,h,p,f,m,16384,9728)}else t.bindFramebuffer(36008,o[0]),t.blitFramebuffer(0,0,a,c,0,0,s.x,s.y,16384,9728)}(i))},this.updateCameraProjectionMatricesUniform=function(e,r){for(var n=p(e),i=0;i<n.length;i++)o[i].copy(n[i].projectionMatrix);r.setValue(t,"projectionMatrices",o)},this.updateCameraViewMatricesUniform=function(e,r){for(var n=p(e),i=0;i<n.length;i++)o[i].copy(n[i].matrixWorldInverse);r.setValue(t,"viewMatrices",o)},this.updateObjectMatricesUniforms=function(e,r,n){for(var a=p(r),s=0;s<a.length;s++)o[s].multiplyMatrices(a[s].matrixWorldInverse,e.matrixWorld),i[s].getNormalMatrix(o[s]);n.setValue(t,"modelViewMatrices",o),n.setValue(t,"normalMatrices",i)}}function fs(){on.call(this),this.type="Group"}function ms(e){io.call(this),this.cameras=e||[]}hs.prototype=Object.assign(Object.create(Rr.prototype),{constructor:hs,isWebGLMultiviewRenderTarget:!0,copy:function(e){return Rr.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),fs.prototype=Object.assign(Object.create(on.prototype),{constructor:fs,isGroup:!0}),ms.prototype=Object.assign(Object.create(io.prototype),{constructor:ms,isArrayCamera:!0});var gs,vs=new Ar,ys=new Ar;function bs(e,t,r){vs.setFromMatrixPosition(t.matrixWorld),ys.setFromMatrixPosition(r.matrixWorld);var n=vs.distanceTo(ys),i=t.projectionMatrix.elements,o=r.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*u,p=a*d,f=n/(-u+d),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=a+f,v=s+f,y=h-m,b=p+(n-m),x=c*s/v*g,w=l*s/v*g;e.projectionMatrix.makePerspective(y,b,x,w,g,v)}function xs(e){var t,r,n=this,i=null,o=null,a=[],s=new Fr,c=new Fr,l=1,u="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(o=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var d=new Fr,h=new xr,p=new Ar,f=new io,m=new io;m.viewport=new Lr,m.layers.enable(1);var g=new io;g.viewport=new Lr,g.layers.enable(2);var v=new ms([m,g]);function y(){return null!==i&&!0===i.isPresenting}v.layers.enable(1),v.layers.enable(2);var b,x=new br;function w(){if(y()){var o=i.getEyeParameters("left");t=2*o.renderWidth*l,r=o.renderHeight*l,b=e.getPixelRatio(),e.getSize(x),e.setDrawingBufferSize(t,r,1),m.viewport.set(0,0,t/2,r),g.viewport.set(t/2,0,t/2,r),S.start(),n.dispatchEvent({type:"sessionstart"})}else n.enabled&&e.setDrawingBufferSize(x.width,x.height,b),S.stop(),n.dispatchEvent({type:"sessionend"})}var E=[],A=[];function _(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),r=0,n=t.length;r<n;r++){var i=t[r];if(i&&("Daydream Controller"===i.id||"Gear VR Controller"===i.id||"Oculus Go Controller"===i.id||"OpenVR Gamepad"===i.id||i.id.startsWith("Oculus Touch")||i.id.startsWith("HTC Vive Focus")||i.id.startsWith("Spatial Controller"))){var o=i.hand;if(0===e&&(""===o||"right"===o))return i;if(1===e&&"left"===o)return i}}}function M(e,n){null!==n&&4===n.length&&e.set(n[0]*t,n[1]*r,n[2]*t,n[3]*r)}this.enabled=!1,this.getController=function(e){var t=a[e];return void 0===t&&((t=new fs).matrixAutoUpdate=!1,t.visible=!1,a[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),S.setContext(e)},this.setFramebufferScaleFactor=function(e){l=e},this.setReferenceSpaceType=function(e){u=e},this.getCamera=function(e){var t="local-floor"===u?1.6:0;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(o),"local-floor"===u){var r=i.stageParameters;r?s.fromArray(r.sittingToStandingTransform):s.makeTranslation(0,t,0)}var n=o.pose;f.matrix.copy(s),f.matrix.decompose(f.position,f.quaternion,f.scale),null!==n.orientation&&(h.fromArray(n.orientation),f.quaternion.multiply(h)),null!==n.position&&(h.setFromRotationMatrix(s),p.fromArray(n.position),p.applyQuaternion(h),f.position.add(p)),f.updateMatrixWorld(),e.matrixWorld.copy(f.matrixWorld);for(var l=e.children,y=0,b=l.length;y<b;y++)l[y].updateMatrixWorld(!0);m.near=e.near,g.near=e.near,m.far=e.far,g.far=e.far,m.matrixWorldInverse.fromArray(o.leftViewMatrix),g.matrixWorldInverse.fromArray(o.rightViewMatrix),c.getInverse(s),"local-floor"===u&&(m.matrixWorldInverse.multiply(c),g.matrixWorldInverse.multiply(c));var x=e.parent;null!==x&&(d.getInverse(x.matrixWorld),m.matrixWorldInverse.multiply(d),g.matrixWorldInverse.multiply(d)),m.matrixWorld.getInverse(m.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),m.projectionMatrix.fromArray(o.leftProjectionMatrix),g.projectionMatrix.fromArray(o.rightProjectionMatrix),bs(v,m,g);var w=i.getLayers();if(w.length){var S=w[0];M(m.viewport,S.leftBounds),M(g.viewport,S.rightBounds)}return function(){for(var e=0;e<a.length;e++){var t=a[e],r=_(e);if(void 0!==r&&void 0!==r.pose){if(null===r.pose)return;var n=r.pose;!1===n.hasPosition&&t.position.set(.2,-.6,-.05),null!==n.position&&t.position.fromArray(n.position),null!==n.orientation&&t.quaternion.fromArray(n.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(s),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===r.id?0:1;void 0===E[e]&&(E[e]=!1),E[e]!==r.buttons[i].pressed&&(E[e]=r.buttons[i].pressed,!0===E[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"}))),i=2,void 0===A[e]&&(A[e]=!1),void 0!==r.buttons[i]&&A[e]!==r.buttons[i].pressed&&(A[e]=r.buttons[i].pressed,!0===A[e]?t.dispatchEvent({type:"squeezestart"}):(t.dispatchEvent({type:"squeezeend"}),t.dispatchEvent({type:"squeeze"})))}else t.visible=!1}}(),v},this.getStandingMatrix=function(){return s},this.isPresenting=y;var S=new vo;this.setAnimationLoop=function(e){S.setAnimationLoop(e),y()&&S.start()},this.submitFrame=function(){y()&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function ws(e,t){var r=this,n=null,i=null,o="local-floor",a=null,s=[],c=[];var l=new io;l.layers.enable(1),l.viewport=new Lr;var u=new io;u.layers.enable(2),u.viewport=new Lr;var d=new ms([l,u]);function h(e){for(var t=0;t<s.length;t++)c[t]===e.inputSource&&s[t].dispatchEvent({type:e.type})}function p(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),b.stop(),r.dispatchEvent({type:"sessionend"})}function f(e){i=e,b.setContext(n),b.start(),r.dispatchEvent({type:"sessionstart"})}function m(){for(var e=0;e<s.length;e++)c[e]=g(e)}function g(e){for(var t=n.inputSources,r=0;r<t.length;r++){var i=t[r],o=i.handedness;if(0===e&&("none"===o||"right"===o))return i;if(1===e&&"left"===o)return i}}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}d.layers.enable(1),d.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new fs).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){o=e},this.getSession=function(){return n},this.setSession=function(e){null!==(n=e)&&(n.addEventListener("select",h),n.addEventListener("selectstart",h),n.addEventListener("selectend",h),n.addEventListener("squeeze",h),n.addEventListener("squeezestart",h),n.addEventListener("squeezeend",h),n.addEventListener("end",p),n.updateRenderState({baseLayer:new XRWebGLLayer(n,t)}),n.requestReferenceSpace(o).then(f),n.addEventListener("inputsourceschange",m),m())},this.getCamera=function(e){var t=e.parent,r=d.cameras;v(d,t);for(var n=0;n<r.length;n++)v(r[n],t);e.matrixWorld.copy(d.matrixWorld);for(var i=e.children,o=(n=0,i.length);n<o;n++)i[n].updateMatrixWorld(!0);return bs(d,l,u),d},this.isPresenting=function(){return null!==n&&null!==i};var y=null;var b=new vo;b.setAnimationLoop(function(t,r){if(null!==(a=r.getViewerPose(i))){var o=a.views,l=n.renderState.baseLayer;e.setFramebuffer(l.framebuffer);for(var u=0;u<o.length;u++){var h=o[u],p=l.getViewport(h),f=h.transform.inverse.matrix,m=d.cameras[u];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===u&&d.matrix.copy(m.matrix)}}for(u=0;u<s.length;u++){var g=s[u],v=c[u];if(v){var b=r.getPose(v.targetRaySpace,i);if(null!==b){g.matrix.fromArray(b.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}y&&y(t)}),this.setAnimationLoop=function(e){y=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new Fr},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function Es(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ie,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var p,f,m,g,y,b,x,w,E,A,_,M,S,T,C,O,L,R,P=this,k=!1,j=null,D=0,I=0,N=null,z=null,B=-1,F={geometry:null,program:null,wireframe:!1},U=null,H=null,G=new Lr,V=new Lr,W=null,q=t.width,X=t.height,Y=1,K=new Lr(0,0,q,X),Q=new Lr(0,0,q,X),Z=!1,J=new po,$=new _o,ee=!1,te=!1,re=new Fr,ne=new Ar;function oe(){return null===N?Y:1}try{var ae={alpha:n,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u,xrCompatible:!0};if(t.addEventListener("webglcontextlost",de,!1),t.addEventListener("webglcontextrestored",he,!1),null===(p=r||t.getContext("webgl",ae)||t.getContext("experimental-webgl",ae)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===p.getShaderPrecisionFormat&&(p.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function se(){f=new Mo(p),!1===(m=new Ao(p,f,e)).isWebGL2&&(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),R=new ds(p,f,m),(g=new ls(p,f,m)).scissor(V.copy(Q).multiplyScalar(Y).floor()),g.viewport(G.copy(K).multiplyScalar(Y).floor()),y=new Co(p),b=new Xa,x=new us(p,f,g,b,m,R,y),w=new yo(p),E=new So(p,w,y),A=new Ro(p,E,w,y),C=new Lo(p),_=new qa(P,f,m),M=new Za,S=new ns,T=new wo(P,g,A,s),O=new Eo(p,f,y,m),L=new To(p,f,y,m),y.programs=_.programs,P.capabilities=m,P.extensions=f,P.properties=b,P.renderLists=M,P.state=g,P.info=y}se();var ce="undefined"!=typeof navigator&&"xr"in navigator?new ws(P,p):new xs(P);this.vr=ce;var le=new ps(P,p),ue=new cs(P,A,m.maxTextureSize);function de(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1,se()}function pe(e){var t=e.target;t.removeEventListener("dispose",pe),function(e){fe(e),b.remove(e)}(t)}function fe(e){var t=b.get(e).program;e.program=void 0,void 0!==t&&_.releaseProgram(t)}this.shadowMap=ue,this.getContext=function(){return p},this.getContextAttributes=function(){return p.getContextAttributes()},this.forceContextLoss=function(){var e=f.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=f.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(q,X,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new br),e.set(q,X)},this.setSize=function(e,r,n){ce.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=e,X=r,t.width=Math.floor(e*Y),t.height=Math.floor(r*Y),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new br),e.set(q*Y,X*Y).floor()},this.setDrawingBufferSize=function(e,r,n){q=e,X=r,Y=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Lr),e.copy(G)},this.getViewport=function(e){return e.copy(K)},this.setViewport=function(e,t,r,n){e.isVector4?K.set(e.x,e.y,e.z,e.w):K.set(e,t,r,n),g.viewport(G.copy(K).multiplyScalar(Y).floor())},this.getScissor=function(e){return e.copy(Q)},this.setScissor=function(e,t,r,n){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,r,n),g.scissor(V.copy(Q).multiplyScalar(Y).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(e){g.setScissorTest(Z=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),p.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",de,!1),t.removeEventListener("webglcontextrestored",he,!1),M.dispose(),S.dispose(),b.dispose(),A.dispose(),ce.dispose(),ge.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var r=b.get(e);e.hasPositions&&!r.position&&(r.position=p.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=p.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=p.createBuffer()),e.hasColors&&!r.color&&(r.color=p.createBuffer());var n=t.getAttributes();e.hasPositions&&(p.bindBuffer(34962,r.position),p.bufferData(34962,e.positionArray,35048),g.enableAttribute(n.position),p.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(p.bindBuffer(34962,r.normal),p.bufferData(34962,e.normalArray,35048),g.enableAttribute(n.normal),p.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(p.bindBuffer(34962,r.uv),p.bufferData(34962,e.uvArray,35048),g.enableAttribute(n.uv),p.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(p.bindBuffer(34962,r.color),p.bufferData(34962,e.colorArray,35048),g.enableAttribute(n.color),p.vertexAttribPointer(n.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),p.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,n,i,o){var a=i.isMesh&&i.matrixWorld.determinant()<0;g.setMaterial(n,a);var s=xe(e,t,n,i),c=!1;F.geometry===r.id&&F.program===s.id&&F.wireframe===(!0===n.wireframe)||(F.geometry=r.id,F.program=s.id,F.wireframe=!0===n.wireframe,c=!0),i.morphTargetInfluences&&(C.update(i,r,n,s),c=!0);var l=r.index,u=r.attributes.position;if((null===l||0!==l.count)&&void 0!==u&&0!==u.count){var d,h=1;!0===n.wireframe&&(l=E.getWireframeAttribute(r),h=2);var v=O;null!==l&&(d=w.get(l),(v=L).setIndex(d)),c&&(!function(e,t,r,n){if(!1===m.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===f.get("ANGLE_instanced_arrays"))return;g.initAttributes();var i=t.attributes,o=n.getAttributes(),a=r.defaultAttributeValues;for(var s in o){var c=o[s];if(c>=0){var l=i[s];if(void 0!==l){var u=l.normalized,d=l.itemSize,h=w.get(l);if(void 0===h)continue;var v=h.buffer,y=h.type,b=h.bytesPerElement;if(l.isInterleavedBufferAttribute){var x=l.data,E=x.stride,A=l.offset;x&&x.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(c,x.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=x.meshPerAttribute*x.count)):g.enableAttribute(c),p.bindBuffer(34962,v),p.vertexAttribPointer(c,d,y,u,E*b,A*b)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(c,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(c),p.bindBuffer(34962,v),p.vertexAttribPointer(c,d,y,u,0,0)}else if("instanceMatrix"===s){var h=w.get(e.instanceMatrix);if(void 0===h)continue;var v=h.buffer,y=h.type;g.enableAttributeAndDivisor(c+0,1),g.enableAttributeAndDivisor(c+1,1),g.enableAttributeAndDivisor(c+2,1),g.enableAttributeAndDivisor(c+3,1),p.bindBuffer(34962,v),p.vertexAttribPointer(c+0,4,y,!1,64,0),p.vertexAttribPointer(c+1,4,y,!1,64,16),p.vertexAttribPointer(c+2,4,y,!1,64,32),p.vertexAttribPointer(c+3,4,y,!1,64,48)}else if(void 0!==a){var _=a[s];if(void 0!==_)switch(_.length){case 2:p.vertexAttrib2fv(c,_);break;case 3:p.vertexAttrib3fv(c,_);break;case 4:p.vertexAttrib4fv(c,_);break;default:p.vertexAttrib1fv(c,_)}}}}g.disableUnusedAttributes()}(i,r,n,s),null!==l&&p.bindBuffer(34963,d.buffer));var y=1/0;null!==l?y=l.count:void 0!==u&&(y=u.count);var b=r.drawRange.start*h,x=r.drawRange.count*h,A=null!==o?o.start*h:0,_=null!==o?o.count*h:1/0,M=Math.max(b,A),S=Math.min(y,b+x,A+_)-1,T=Math.max(0,S-M+1);if(0!==T){if(i.isMesh)if(!0===n.wireframe)g.setLineWidth(n.wireframeLinewidth*oe()),v.setMode(1);else switch(i.drawMode){case Ot:v.setMode(4);break;case Lt:v.setMode(5);break;case Rt:v.setMode(6)}else if(i.isLine){var R=n.linewidth;void 0===R&&(R=1),g.setLineWidth(R*oe()),i.isLineSegments?v.setMode(1):i.isLineLoop?v.setMode(2):v.setMode(3)}else i.isPoints?v.setMode(0):i.isSprite&&v.setMode(4);i.isInstancedMesh?v.renderInstances(r,M,T,i.count):r.isInstancedBufferGeometry?v.renderInstances(r,M,T,r.maxInstancedCount):v.render(M,T)}}},this.compile=function(e,t){(h=S.get(e,t)).init(),e.traverse(function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))}),h.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var r=0;r<t.material.length;r++)be(t.material[r],e.fog,t);else be(t.material,e.fog,t)})};var me=null;var ge=new vo;function ve(e,t,r,n){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,l=void 0===n?a.material:n,u=a.group;if(r.isArrayCamera)if(H=r,ce.enabled&&le.isAvailable())ye(s,t,r,c,l,u);else for(var d=r.cameras,p=0,f=d.length;p<f;p++){var m=d[p];s.layers.test(m.layers)&&(g.viewport(G.copy(m.viewport)),h.setupLights(m),ye(s,t,m,c,l,u))}else H=null,ye(s,t,r,c,l,u)}}function ye(e,t,r,n,i,o){if(e.onBeforeRender(P,t,r,n,i,o),h=S.get(t,H||r),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){g.setMaterial(i);var a=xe(r,t.fog,i,e);F.geometry=null,F.program=null,F.wireframe=!1,function(e,t){e.render(function(e){P.renderBufferImmediate(e,t)})}(e,a)}else P.renderBufferDirect(r,t.fog,n,i,e,o);e.onAfterRender(P,t,r,n,i,o),h=S.get(t,H||r)}function be(e,t,r){var n=b.get(e),i=h.state.lights,o=h.state.shadowsArray,a=i.state.version,s=_.getParameters(e,i.state,o,t,$.numPlanes,$.numIntersection,r),c=_.getProgramCacheKey(e,s),l=n.program,u=!0;if(void 0===l)e.addEventListener("dispose",pe);else if(l.cacheKey!==c)fe(e);else if(n.lightsStateVersion!==a)n.lightsStateVersion=a,u=!1;else{if(void 0!==s.shaderID)return;u=!1}if(u){if(s.shaderID){var d=go[s.shaderID];n.shader={name:e.type,uniforms:Zi(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else n.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(n.shader,P),c=_.getProgramCacheKey(e,s),l=_.acquireProgram(e,n.shader,s,c),n.program=l,e.program=l}var p=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var f=0;f<P.maxMorphTargets;f++)p["morphTarget"+f]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(f=0;f<P.maxMorphNormals;f++)p["morphNormal"+f]>=0&&e.numSupportedMorphNormals++}var m=n.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=$.numPlanes,n.numIntersection=$.numIntersection,m.clippingPlanes=$.uniform),n.fog=t,n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=a,n.needsLights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=n.program.getUniforms(),v=Ca.seqWithValue(g.seq,m);n.uniformsList=v}function xe(e,t,r,n){x.resetTextureUnits();var i=b.get(r),o=h.state.lights;if(ee&&(te||e!==U)){var a=e===U&&r.id===B;$.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,i,a)}r.version===i.__version&&(void 0===i.program?r.needsUpdate=!0:r.fog&&i.fog!==t?r.needsUpdate=!0:i.needsLights&&i.lightsStateVersion!==o.state.version?r.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===$.numPlanes&&i.numIntersection===$.numIntersection||(r.needsUpdate=!0)),r.version!==i.__version&&(be(r,t,n),i.__version=r.version);var s,c,l=!1,u=!1,d=!1,f=i.program,y=f.getUniforms(),w=i.shader.uniforms;if(g.useProgram(f.program)&&(l=!0,u=!0,d=!0),r.id!==B&&(B=r.id,u=!0),l||U!==e){if(f.numMultiviewViews>0?le.updateCameraProjectionMatricesUniform(e,y):y.setValue(p,"projectionMatrix",e.projectionMatrix),m.logarithmicDepthBuffer&&y.setValue(p,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==e&&(U=e,u=!0,d=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.envMap){var E=y.map.cameraPosition;void 0!==E&&E.setValue(p,ne.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&y.setValue(p,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&(f.numMultiviewViews>0?le.updateCameraViewMatricesUniform(e,y):y.setValue(p,"viewMatrix",e.matrixWorldInverse))}if(r.skinning){y.setOptional(p,n,"bindMatrix"),y.setOptional(p,n,"bindMatrixInverse");var A=n.skeleton;if(A){var _=A.bones;if(m.floatVertexTextures){if(void 0===A.boneTexture){var M=Math.sqrt(4*_.length);M=yr.ceilPowerOfTwo(M),M=Math.max(M,4);var S=new Float32Array(M*M*4);S.set(A.boneMatrices);var T=new lo(S,M,M,Ve,Ie);A.boneMatrices=S,A.boneTexture=T,A.boneTextureSize=M}y.setValue(p,"boneTexture",A.boneTexture,x),y.setValue(p,"boneTextureSize",A.boneTextureSize)}else y.setOptional(p,A,"boneMatrices")}}return(u||i.receiveShadow!==n.receiveShadow)&&(i.receiveShadow=n.receiveShadow,y.setValue(p,"receiveShadow",n.receiveShadow)),u&&(y.setValue(p,"toneMappingExposure",P.toneMappingExposure),y.setValue(p,"toneMappingWhitePoint",P.toneMappingWhitePoint),i.needsLights&&(c=d,(s=w).ambientLightColor.needsUpdate=c,s.lightProbe.needsUpdate=c,s.directionalLights.needsUpdate=c,s.pointLights.needsUpdate=c,s.spotLights.needsUpdate=c,s.rectAreaLights.needsUpdate=c,s.hemisphereLights.needsUpdate=c),t&&r.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(w,t),r.isMeshBasicMaterial?we(w,r):r.isMeshLambertMaterial?(we(w,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(w,r)):r.isMeshPhongMaterial?(we(w,r),r.isMeshToonMaterial?function(e,t){Ee(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(w,r):Ee(w,r)):r.isMeshStandardMaterial?(we(w,r),r.isMeshPhysicalMaterial?function(e,t){Ae(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===v&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(w,r):Ae(w,r)):r.isMeshMatcapMaterial?(we(w,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshDepthMaterial?(we(w,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshDistanceMaterial?(we(w,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(w,r)):r.isMeshNormalMaterial?(we(w,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(w,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(w,r)):r.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Y,e.scale.value=.5*X,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(w,r):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(w,r):r.isShadowMaterial&&(w.color.value.copy(r.color),w.opacity.value=r.opacity),void 0!==w.ltc_1&&(w.ltc_1.value=mo.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=mo.LTC_2),Ca.upload(p,i.uniformsList,w,x),r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Ca.upload(p,i.uniformsList,w,x),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&y.setValue(p,"center",n.center),f.numMultiviewViews>0?le.updateObjectMatricesUniforms(n,e,y):(y.setValue(p,"modelViewMatrix",n.modelViewMatrix),y.setValue(p,"normalMatrix",n.normalMatrix)),y.setValue(p,"modelMatrix",n.matrixWorld),f}function we(e,t){var r;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=b.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?r=t.map:t.specularMap?r=t.specularMap:t.displacementMap?r=t.displacementMap:t.normalMap?r=t.normalMap:t.bumpMap?r=t.bumpMap:t.roughnessMap?r=t.roughnessMap:t.metalnessMap?r=t.metalnessMap:t.alphaMap?r=t.alphaMap:t.emissiveMap&&(r=t.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}function Ee(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ae(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}ge.setAnimationLoop(function(e){ce.isPresenting()||me&&me(e)}),"undefined"!=typeof window&&ge.setContext(window),this.setAnimationLoop=function(e){me=e,ce.setAnimationLoop(e),ge.start()},this.render=function(e,t){var r,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),t&&t.isCamera){if(!k){F.geometry=null,F.program=null,F.wireframe=!1,B=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ce.enabled&&ce.isPresenting()&&(t=ce.getCamera(t)),(h=S.get(e,t)).init(),e.onBeforeRender(P,e,t,r||N),re.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),J.setFromMatrix(re),te=this.localClippingEnabled,ee=$.init(this.clippingPlanes,te,t),(d=M.get(e,t)).init(),function e(t,r,n,i){if(!1===t.visible)return;var o=t.layers.test(r.layers);if(o)if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(r);else if(t.isLight)h.pushLight(t),t.castShadow&&h.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||J.intersectsSprite(t)){i&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(re);var a=A.update(t),s=t.material;s.visible&&d.push(t,a,s,n,ne.z,null)}}else if(t.isImmediateRenderObject)i&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(re),d.push(t,null,t.material,n,ne.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==y.render.frame&&(t.skeleton.update(),t.skeleton.frame=y.render.frame),!t.frustumCulled||J.intersectsObject(t))){i&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(re);var a=A.update(t),s=t.material;if(Array.isArray(s))for(var c=a.groups,l=0,u=c.length;l<u;l++){var p=c[l],f=s[p.materialIndex];f&&f.visible&&d.push(t,a,f,n,ne.z,p)}else s.visible&&d.push(t,a,s,n,ne.z,null)}var m=t.children;for(var l=0,u=m.length;l<u;l++)e(m[l],r,n,i)}(e,t,0,P.sortObjects),!0===P.sortObjects&&d.sort(),ee&&$.beginShadows();var i=h.state.shadowsArray;ue.render(i,e,t),h.setupLights(t),ee&&$.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),ce.enabled&&le.isAvailable()&&le.attachCamera(t),T.render(d,e,t,n);var o=d.opaque,a=d.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&ve(o,e,t,s),a.length&&ve(a,e,t,s)}else o.length&&ve(o,e,t),a.length&&ve(a,e,t);e.onAfterRender(P,e,t),null!==N&&(x.updateRenderTargetMipmap(N),x.updateMultisampleRenderTarget(N)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),ce.enabled&&(le.isAvailable()&&le.detachCamera(t),ce.submitFrame()),d=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){j!==e&&null===N&&p.bindFramebuffer(36160,e),j=e},this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e,t,r){N=e,D=t,I=r,e&&void 0===b.get(e).__webglFramebuffer&&x.setupRenderTarget(e);var n=j,i=!1;if(e){var o=b.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(n=o[t||0],i=!0):n=e.isWebGLMultisampleRenderTarget?b.get(e).__webglMultisampledFramebuffer:o,G.copy(e.viewport),V.copy(e.scissor),W=e.scissorTest}else G.copy(K).multiplyScalar(Y).floor(),V.copy(Q).multiplyScalar(Y).floor(),W=Z;if(z!==n&&(p.bindFramebuffer(36160,n),z=n),g.viewport(G),g.scissor(V),g.setScissorTest(W),i){var a=b.get(e.texture);p.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,r||0)}},this.readRenderTargetPixels=function(e,t,r,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=b.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==a&&(s=s[a]),s){var c=!1;s!==z&&(p.bindFramebuffer(36160,s),c=!0);try{var l=e.texture,u=l.format,d=l.type;if(u!==Ve&&R.convert(u)!==p.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(d===Le||R.convert(d)===p.getParameter(35738)||d===Ie&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||d===Ne&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===p.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&p.readPixels(t,r,n,i,R.convert(u),R.convert(d),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&p.bindFramebuffer(36160,z)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,r){void 0===r&&(r=0);var n=Math.pow(2,-r),i=Math.floor(t.image.width*n),o=Math.floor(t.image.height*n),a=R.convert(t.format);x.setTexture2D(t,0),p.copyTexImage2D(3553,r,a,e.x,e.y,i,o,0),g.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n){var i=t.image.width,o=t.image.height,a=R.convert(r.format),s=R.convert(r.type);x.setTexture2D(r,0),t.isDataTexture?p.texSubImage2D(3553,n||0,e.x,e.y,i,o,a,s,t.image.data):p.texSubImage2D(3553,n||0,e.x,e.y,a,s,t.image),g.unbindTexture()},this.initTexture=function(e){x.setTexture2D(e,0),g.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function As(e,t){this.name="",this.color=new Qn(e),this.density=void 0!==t?t:25e-5}function _s(e,t,r){this.name="",this.color=new Qn(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3}function Ms(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=ar,this.updateRange={offset:0,count:-1},this.version=0}function Ss(e,t,r,n){this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}function Ts(e){ri.call(this),this.type="SpriteMaterial",this.color=new Qn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.assign(xs.prototype,mr.prototype),Object.assign(ws.prototype,mr.prototype),Object.assign(As.prototype,{isFogExp2:!0,clone:function(){return new As(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(_s.prototype,{isFog:!0,clone:function(){return new _s(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Ms.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ms.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Ss.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ss.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}}),Ts.prototype=Object.create(ri.prototype),Ts.prototype.constructor=Ts,Ts.prototype.isSpriteMaterial=!0,Ts.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Cs=new Ar,Os=new Ar,Ls=new Ar,Rs=new br,Ps=new br,ks=new Fr,js=new Ar,Ds=new Ar,Is=new Ar,Ns=new br,zs=new br,Bs=new br;function Fs(e){if(on.call(this),this.type="Sprite",void 0===gs){gs=new Ai;var t=new Ms(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);gs.setIndex([0,1,2,0,2,3]),gs.setAttribute("position",new Ss(t,3,0,!1)),gs.setAttribute("uv",new Ss(t,2,3,!1))}this.geometry=gs,this.material=void 0!==e?e:new Ts,this.center=new br(.5,.5)}function Us(e,t,r,n,i,o){Rs.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(Ps.x=o*Rs.x-i*Rs.y,Ps.y=i*Rs.x+o*Rs.y):Ps.copy(Rs),e.copy(t),e.x+=Ps.x,e.y+=Ps.y,e.applyMatrix4(ks)}Fs.prototype=Object.assign(Object.create(on.prototype),{constructor:Fs,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Os.setFromMatrixScale(this.matrixWorld),ks.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ls.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Os.multiplyScalar(-Ls.z);var r,n,i=this.material.rotation;0!==i&&(n=Math.cos(i),r=Math.sin(i));var o=this.center;Us(js.set(-.5,-.5,0),Ls,o,Os,r,n),Us(Ds.set(.5,-.5,0),Ls,o,Os,r,n),Us(Is.set(.5,.5,0),Ls,o,Os,r,n),Ns.set(0,0),zs.set(1,0),Bs.set(1,1);var a=e.ray.intersectTriangle(js,Ds,Is,!1,Cs);if(null!==a||(Us(Ds.set(-.5,.5,0),Ls,o,Os,r,n),zs.set(0,1),null!==(a=e.ray.intersectTriangle(js,Is,Ds,!1,Cs)))){var s=e.ray.origin.distanceTo(Cs);s<e.near||s>e.far||t.push({distance:s,point:Cs.clone(),uv:qn.getUV(Cs,js,Ds,Is,Ns,zs,Bs,new br),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return on.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Hs=new Ar,Gs=new Ar;function Vs(){on.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Ws(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ui.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Fr,this.bindMatrixInverse=new Fr}Vs.prototype=Object.assign(Object.create(on.prototype),{constructor:Vs,isLOD:!0,copy:function(e){on.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;r<n;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=this.levels,n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Hs.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(Hs);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Hs.setFromMatrixPosition(e.matrixWorld),Gs.setFromMatrixPosition(this.matrixWorld);var r=Hs.distanceTo(Gs);t[0].object.visible=!0;for(var n=1,i=t.length;n<i&&r>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(;n<i;n++)t[n].object.visible=!1}},toJSON:function(e){var t=on.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Ws.prototype=Object.assign(Object.create(Ui.prototype),{constructor:Ws,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Lr,t=this.geometry.attributes.skinWeight,r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ui.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var qs=new Fr,Xs=new Fr;function Ys(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Fr)}}function Ks(){on.call(this),this.type="Bone"}Object.assign(Ys.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var r=new Fr;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},pose:function(){var e,t,r;for(t=0,r=this.bones.length;t<r;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,r=this.bones.length;t<r;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:Xs;qs.multiplyMatrices(a,t[i]),qs.toArray(r,16*i)}void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new Ys(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,r=this.bones.length;t<r;t++){var n=this.bones[t];if(n.name===e)return n}}}),Ks.prototype=Object.assign(Object.create(on.prototype),{constructor:Ks,isBone:!0});var Qs=new Fr,Zs=new Fr,Js=[],$s=new Ui;function ec(e,t,r){Ui.call(this,e,t),this.instanceMatrix=new ii(new Float32Array(16*r),16),this.count=r}function tc(e){ri.call(this),this.type="LineBasicMaterial",this.color=new Qn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}ec.prototype=Object.assign(Object.create(Ui.prototype),{constructor:ec,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var r=this.matrixWorld,n=this.count;if($s.geometry=this.geometry,$s.material=this.material,void 0!==$s.material)for(var i=0;i<n;i++)this.getMatrixAt(i,Qs),Zs.multiplyMatrices(r,Qs),$s.matrixWorld=Zs,$s.raycast(e,Js),Js.length>0&&(Js[0].instanceId=i,Js[0].object=this,t.push(Js[0]),Js.length=0)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),tc.prototype=Object.create(ri.prototype),tc.prototype.constructor=tc,tc.prototype.isLineBasicMaterial=!0,tc.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var rc=new Ar,nc=new Ar,ic=new Fr,oc=new Rn,ac=new An;function sc(e,t,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),on.call(this),this.type="Line",this.geometry=void 0!==e?e:new Ai,this.material=void 0!==t?t:new tc({color:16777215*Math.random()})}sc.prototype=Object.assign(Object.create(on.prototype),{constructor:sc,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[0],n=1,i=t.count;n<i;n++)rc.fromBufferAttribute(t,n-1),nc.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=rc.distanceTo(nc);e.setAttribute("lineDistance",new hi(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;(r=e.lineDistances)[0]=0;for(n=1,i=o.length;n<i;n++)r[n]=r[n-1],r[n]+=o[n-1].distanceTo(o[n])}return this},raycast:function(e,t){var r=e.linePrecision,n=this.geometry,i=this.matrixWorld;if(null===n.boundingSphere&&n.computeBoundingSphere(),ac.copy(n.boundingSphere),ac.applyMatrix4(i),ac.radius+=r,!1!==e.ray.intersectsSphere(ac)){ic.getInverse(i),oc.copy(e.ray).applyMatrix4(ic);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new Ar,c=new Ar,l=new Ar,u=new Ar,d=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,p=n.attributes.position.array;if(null!==h)for(var f=h.array,m=0,g=f.length-1;m<g;m+=d){var v=f[m],y=f[m+1];if(s.fromArray(p,3*v),c.fromArray(p,3*y),!(oc.distanceSqToSegment(s,c,u,l)>a))u.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(u))<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}else for(m=0,g=p.length/3-1;m<g;m+=d){if(s.fromArray(p,3*m),c.fromArray(p,3*m+3),!(oc.distanceSqToSegment(s,c,u,l)>a))u.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(u))<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){var b=n.vertices,x=b.length;for(m=0;m<x-1;m+=d){var w;if(!(oc.distanceSqToSegment(b[m],b[m+1],u,l)>a))u.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(u))<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var cc=new Ar,lc=new Ar;function uc(e,t){sc.call(this,e,t),this.type="LineSegments"}function dc(e,t){sc.call(this,e,t),this.type="LineLoop"}function hc(e){ri.call(this),this.type="PointsMaterial",this.color=new Qn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}uc.prototype=Object.assign(Object.create(sc.prototype),{constructor:uc,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[],n=0,i=t.count;n<i;n+=2)cc.fromBufferAttribute(t,n),lc.fromBufferAttribute(t,n+1),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+cc.distanceTo(lc);e.setAttribute("lineDistance",new hi(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;for(r=e.lineDistances,n=0,i=o.length;n<i;n+=2)cc.copy(o[n]),lc.copy(o[n+1]),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+cc.distanceTo(lc)}return this}}),dc.prototype=Object.assign(Object.create(sc.prototype),{constructor:dc,isLineLoop:!0}),hc.prototype=Object.create(ri.prototype),hc.prototype.constructor=hc,hc.prototype.isPointsMaterial=!0,hc.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var pc=new Fr,fc=new Rn,mc=new An,gc=new Ar;function vc(e,t){on.call(this),this.type="Points",this.geometry=void 0!==e?e:new Ai,this.material=void 0!==t?t:new hc({color:16777215*Math.random()}),this.updateMorphTargets()}function yc(e,t,r,n,i,o,a){var s=fc.distanceSqToPoint(e);if(s<r){var c=new Ar;fc.closestPointToPoint(e,c),c.applyMatrix4(n);var l=i.ray.origin.distanceTo(c);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:c,index:t,face:null,object:a})}}function bc(e,t,r,n,i,o,a,s,c){Or.call(this,e,t,r,n,i,o,a,s,c),this.format=void 0!==a?a:Ge,this.minFilter=void 0!==o?o:Me,this.magFilter=void 0!==i?i:Me,this.generateMipmaps=!1}function xc(e,t,r,n,i,o,a,s,c,l,u,d){Or.call(this,null,o,a,s,c,l,n,i,u,d),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function wc(e,t,r,n,i,o,a,s,c){Or.call(this,e,t,r,n,i,o,a,s,c),this.needsUpdate=!0}function Ec(e,t,r,n,i,o,a,s,c,l){if((l=void 0!==l?l:Ye)!==Ye&&l!==Ke)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&l===Ye&&(r=ke),void 0===r&&l===Ke&&(r=Ue),Or.call(this,null,n,i,o,a,s,l,r,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:xe,this.minFilter=void 0!==s?s:xe,this.flipY=!1,this.generateMipmaps=!1}function Ac(e){Ai.call(this),this.type="WireframeGeometry";var t,r,n,i,o,a,s,c,l,u,d=[],h=[0,0],p={},f=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,n=m.length;t<n;t++){var g=m[t];for(r=0;r<3;r++)s=g[f[r]],c=g[f[(r+1)%3]],h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===p[l=h[0]+","+h[1]]&&(p[l]={index1:h[0],index2:h[1]})}for(l in p)a=p[l],u=e.vertices[a.index1],d.push(u.x,u.y,u.z),u=e.vertices[a.index2],d.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var v,y,b,x,w,E,A;if(u=new Ar,null!==e.index){for(v=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=w=(x=b[i]).start,n=w+x.count;t<n;t+=3)for(r=0;r<3;r++)s=y.getX(t+r),c=y.getX(t+(r+1)%3),h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===p[l=h[0]+","+h[1]]&&(p[l]={index1:h[0],index2:h[1]});for(l in p)a=p[l],u.fromBufferAttribute(v,a.index1),d.push(u.x,u.y,u.z),u.fromBufferAttribute(v,a.index2),d.push(u.x,u.y,u.z)}else for(t=0,n=(v=e.attributes.position).count/3;t<n;t++)for(r=0;r<3;r++)E=3*t+r,u.fromBufferAttribute(v,E),d.push(u.x,u.y,u.z),A=3*t+(r+1)%3,u.fromBufferAttribute(v,A),d.push(u.x,u.y,u.z)}this.setAttribute("position",new hi(d,3))}function _c(e,t,r){Yi.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new Mc(e,t,r)),this.mergeVertices()}function Mc(e,t,r){Ai.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:r};var n,i,o=[],a=[],s=[],c=[],l=new Ar,u=new Ar,d=new Ar,h=new Ar,p=new Ar;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=t+1;for(n=0;n<=r;n++){var m=n/r;for(i=0;i<=t;i++){var g=i/t;e(g,m,u),a.push(u.x,u.y,u.z),g-1e-5>=0?(e(g-1e-5,m,d),h.subVectors(u,d)):(e(g+1e-5,m,d),h.subVectors(d,u)),m-1e-5>=0?(e(g,m-1e-5,d),p.subVectors(u,d)):(e(g,m+1e-5,d),p.subVectors(d,u)),l.crossVectors(h,p).normalize(),s.push(l.x,l.y,l.z),c.push(g,m)}}for(n=0;n<r;n++)for(i=0;i<t;i++){var v=n*f+i,y=n*f+i+1,b=(n+1)*f+i+1,x=(n+1)*f+i;o.push(v,y,x),o.push(y,b,x)}this.setIndex(o),this.setAttribute("position",new hi(a,3)),this.setAttribute("normal",new hi(s,3)),this.setAttribute("uv",new hi(c,2))}function Sc(e,t,r,n){Yi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},this.fromBufferGeometry(new Tc(e,t,r,n)),this.mergeVertices()}function Tc(e,t,r,n){Ai.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},r=r||1;var i=[],o=[];function a(e,t,r,n){var i,o,a=Math.pow(2,n),c=[];for(i=0;i<=a;i++){c[i]=[];var l=e.clone().lerp(r,i/a),u=t.clone().lerp(r,i/a),d=a-i;for(o=0;o<=d;o++)c[i][o]=0===o&&i===a?l:l.clone().lerp(u,o/d)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var h=Math.floor(o/2);o%2==0?(s(c[i][h+1]),s(c[i+1][h]),s(c[i][h])):(s(c[i][h+1]),s(c[i+1][h+1]),s(c[i+1][h]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,r){var n=3*t;r.x=e[n+0],r.y=e[n+1],r.z=e[n+2]}function l(e,t,r,n){n<0&&1===e.x&&(o[t]=e.x-1),0===r.x&&0===r.z&&(o[t]=n/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var r=new Ar,n=new Ar,i=new Ar,o=0;o<t.length;o+=3)c(t[o+0],r),c(t[o+1],n),c(t[o+2],i),a(r,n,i,e)}(n=n||0),function(e){for(var t=new Ar,r=0;r<i.length;r+=3)t.x=i[r+0],t.y=i[r+1],t.z=i[r+2],t.normalize().multiplyScalar(e),i[r+0]=t.x,i[r+1]=t.y,i[r+2]=t.z}(r),function(){for(var e=new Ar,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var r=u(e)/2/Math.PI+.5,n=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(r,1-n)}var a;(function(){for(var e=new Ar,t=new Ar,r=new Ar,n=new Ar,a=new br,s=new br,c=new br,d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),r.set(i[d+6],i[d+7],i[d+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),c.set(o[h+4],o[h+5]),n.copy(e).add(t).add(r).divideScalar(3);var p=u(n);l(a,h+0,e,p),l(s,h+2,t,p),l(c,h+4,r,p)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],r=o[e+2],n=o[e+4],i=Math.max(t,r,n),a=Math.min(t,r,n);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),r<.2&&(o[e+2]+=1),n<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new hi(i,3)),this.setAttribute("normal",new hi(i.slice(),3)),this.setAttribute("uv",new hi(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function Cc(e,t){Yi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Oc(e,t)),this.mergeVertices()}function Oc(e,t){Tc.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Lc(e,t){Yi.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Rc(e,t)),this.mergeVertices()}function Rc(e,t){Tc.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Pc(e,t){Yi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new kc(e,t)),this.mergeVertices()}function kc(e,t){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];Tc.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function jc(e,t){Yi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Dc(e,t)),this.mergeVertices()}function Dc(e,t){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];Tc.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ic(e,t,r,n,i,o){Yi.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Nc(e,t,r,n,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Nc(e,t,r,n,i){Ai.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},t=t||64,r=r||1,n=n||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new Ar,l=new Ar,u=new br,d=new Ar,h=[],p=[],f=[],m=[];function g(i){d=e.getPointAt(i/t,d);var a=o.normals[i],u=o.binormals[i];for(s=0;s<=n;s++){var f=s/n*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);l.x=g*a.x+m*u.x,l.y=g*a.y+m*u.y,l.z=g*a.z+m*u.z,l.normalize(),p.push(l.x,l.y,l.z),c.x=d.x+r*l.x,c.y=d.y+r*l.y,c.z=d.z+r*l.z,h.push(c.x,c.y,c.z)}}!function(){for(a=0;a<t;a++)g(a);g(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=n;s++)u.x=a/t,u.y=s/n,f.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=n;a++){var e=(n+1)*(s-1)+(a-1),r=(n+1)*s+(a-1),i=(n+1)*s+a,o=(n+1)*(s-1)+a;m.push(e,r,o),m.push(r,i,o)}}()}(),this.setIndex(m),this.setAttribute("position",new hi(h,3)),this.setAttribute("normal",new hi(p,3)),this.setAttribute("uv",new hi(f,2))}function zc(e,t,r,n,i,o,a){Yi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Bc(e,t,r,n,i,o)),this.mergeVertices()}function Bc(e,t,r,n,i,o){Ai.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},e=e||1,t=t||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;var a,s,c=[],l=[],u=[],d=[],h=new Ar,p=new Ar,f=new Ar,m=new Ar,g=new Ar,v=new Ar,y=new Ar;for(a=0;a<=r;++a){var b=a/r*i*Math.PI*2;for(T(b,i,o,e,f),T(b+.01,i,o,e,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=n;++s){var x=s/n*Math.PI*2,w=-t*Math.cos(x),E=t*Math.sin(x);h.x=f.x+(w*y.x+E*g.x),h.y=f.y+(w*y.y+E*g.y),h.z=f.z+(w*y.z+E*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,f).normalize(),u.push(p.x,p.y,p.z),d.push(a/r),d.push(s/n)}}for(s=1;s<=r;s++)for(a=1;a<=n;a++){var A=(n+1)*(s-1)+(a-1),_=(n+1)*s+(a-1),M=(n+1)*s+a,S=(n+1)*(s-1)+a;c.push(A,_,S),c.push(_,M,S)}function T(e,t,r,n,i){var o=Math.cos(e),a=Math.sin(e),s=r/t*e,c=Math.cos(s);i.x=n*(2+c)*.5*o,i.y=n*(2+c)*a*.5,i.z=n*Math.sin(s)*.5}this.setIndex(c),this.setAttribute("position",new hi(l,3)),this.setAttribute("normal",new hi(u,3)),this.setAttribute("uv",new hi(d,2))}function Fc(e,t,r,n,i){Yi.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new Uc(e,t,r,n,i)),this.mergeVertices()}function Uc(e,t,r,n,i){Ai.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},e=e||1,t=t||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=[],c=[],l=[],u=[],d=new Ar,h=new Ar,p=new Ar;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var f=a/n*i,m=o/r*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(f),h.y=(e+t*Math.cos(m))*Math.sin(f),h.z=t*Math.sin(m),c.push(h.x,h.y,h.z),d.x=e*Math.cos(f),d.y=e*Math.sin(f),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(a/n),u.push(o/r)}for(o=1;o<=r;o++)for(a=1;a<=n;a++){var g=(n+1)*o+a-1,v=(n+1)*(o-1)+a-1,y=(n+1)*(o-1)+a,b=(n+1)*o+a;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.setAttribute("position",new hi(c,3)),this.setAttribute("normal",new hi(l,3)),this.setAttribute("uv",new hi(u,2))}vc.prototype=Object.assign(Object.create(on.prototype),{constructor:vc,isPoints:!0,raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),mc.copy(r.boundingSphere),mc.applyMatrix4(n),mc.radius+=i,!1!==e.ray.intersectsSphere(mc)){pc.getInverse(n),fc.copy(e.ray).applyMatrix4(pc);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(r.isBufferGeometry){var s=r.index,c=r.attributes.position.array;if(null!==s)for(var l=s.array,u=0,d=l.length;u<d;u++){var h=l[u];gc.fromArray(c,3*h),yc(gc,h,a,n,e,t,this)}else{u=0;for(var p=c.length/3;u<p;u++)gc.fromArray(c,3*u),yc(gc,u,a,n,e,t,this)}}else{var f=r.vertices;for(u=0,p=f.length;u<p;u++)yc(f[u],u,a,n,e,t,this)}}},updateMorphTargets:function(){var e,t,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)r=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}else{var s=n.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),bc.prototype=Object.assign(Object.create(Or.prototype),{constructor:bc,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),xc.prototype=Object.create(Or.prototype),xc.prototype.constructor=xc,xc.prototype.isCompressedTexture=!0,wc.prototype=Object.create(Or.prototype),wc.prototype.constructor=wc,wc.prototype.isCanvasTexture=!0,Ec.prototype=Object.create(Or.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isDepthTexture=!0,Ac.prototype=Object.create(Ai.prototype),Ac.prototype.constructor=Ac,_c.prototype=Object.create(Yi.prototype),_c.prototype.constructor=_c,Mc.prototype=Object.create(Ai.prototype),Mc.prototype.constructor=Mc,Sc.prototype=Object.create(Yi.prototype),Sc.prototype.constructor=Sc,Tc.prototype=Object.create(Ai.prototype),Tc.prototype.constructor=Tc,Cc.prototype=Object.create(Yi.prototype),Cc.prototype.constructor=Cc,Oc.prototype=Object.create(Tc.prototype),Oc.prototype.constructor=Oc,Lc.prototype=Object.create(Yi.prototype),Lc.prototype.constructor=Lc,Rc.prototype=Object.create(Tc.prototype),Rc.prototype.constructor=Rc,Pc.prototype=Object.create(Yi.prototype),Pc.prototype.constructor=Pc,kc.prototype=Object.create(Tc.prototype),kc.prototype.constructor=kc,jc.prototype=Object.create(Yi.prototype),jc.prototype.constructor=jc,Dc.prototype=Object.create(Tc.prototype),Dc.prototype.constructor=Dc,Ic.prototype=Object.create(Yi.prototype),Ic.prototype.constructor=Ic,Nc.prototype=Object.create(Ai.prototype),Nc.prototype.constructor=Nc,Nc.prototype.toJSON=function(){var e=Ai.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},zc.prototype=Object.create(Yi.prototype),zc.prototype.constructor=zc,Bc.prototype=Object.create(Ai.prototype),Bc.prototype.constructor=Bc,Fc.prototype=Object.create(Yi.prototype),Fc.prototype.constructor=Fc,Uc.prototype=Object.create(Ai.prototype),Uc.prototype.constructor=Uc;var Hc=function(e,t,r){r=r||2;var n,i,o,a,s,c,l,u=t&&t.length,d=u?t[0]*r:e.length,h=Gc(e,0,d,r,!0),p=[];if(!h||h.next===h.prev)return p;if(u&&(h=function(e,t,r,n){var i,o,a,s,c,l=[];for(i=0,o=t.length;i<o;i++)a=t[i]*n,s=i<o-1?t[i+1]*n:e.length,(c=Gc(e,a,s,n,!1))===c.next&&(c.steiner=!0),l.push($c(c));for(l.sort(Qc),i=0;i<l.length;i++)Zc(l[i],r),r=Vc(r,r.next);return r}(e,t,h,r)),e.length>80*r){n=o=e[0],i=a=e[1];for(var f=r;f<d;f+=r)(s=e[f])<n&&(n=s),(c=e[f+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-n,a-i))?1/l:0}return Wc(h,p,r,n,i,l),p};function Gc(e,t,r,n,i){var o,a;if(i===function(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,r,n)>0)for(o=t;o<r;o+=n)a=sl(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=sl(o,e[o],e[o+1],a);return a&&nl(a,a.next)&&(cl(a),a=a.next),a}function Vc(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!nl(n,n.next)&&0!==rl(n.prev,n,n.next))n=n.next;else{if(cl(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Wc(e,t,r,n,i,o,a){if(e){!a&&o&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=Jc(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,c,l=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(c=l;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1)}(i)}(e,n,i,o);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,o?Xc(e,n,i,o):qc(e))t.push(s.i/r),t.push(e.i/r),t.push(c.i/r),cl(e),e=c.next,l=c.next;else if((e=c)===l){a?1===a?Wc(e=Yc(e,t,r),t,r,n,i,o,2):2===a&&Kc(e,t,r,n,i,o):Wc(Vc(e),t,r,n,i,o,1);break}}}function qc(e){var t=e.prev,r=e,n=e.next;if(rl(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(el(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&rl(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Xc(e,t,r,n){var i=e.prev,o=e,a=e.next;if(rl(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=Jc(s,c,t,r,n),h=Jc(l,u,t,r,n),p=e.prevZ,f=e.nextZ;p&&p.z>=d&&f&&f.z<=h;){if(p!==e.prev&&p!==e.next&&el(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&rl(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==e.prev&&f!==e.next&&el(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&rl(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&el(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&rl(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=h;){if(f!==e.prev&&f!==e.next&&el(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&rl(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Yc(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!nl(i,o)&&il(i,n,n.next,o)&&ol(i,o)&&ol(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),cl(n),cl(n.next),n=e=o),n=n.next}while(n!==e);return n}function Kc(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&tl(a,s)){var c=al(a,s);return a=Vc(a,a.next),c=Vc(c,c.next),Wc(a,t,r,n,i,o),void Wc(c,t,r,n,i,o)}s=s.next}a=a.next}while(a!==e)}function Qc(e,t){return e.x-t.x}function Zc(e,t){if(t=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r.prev;var c,l=r,u=r.x,d=r.y,h=1/0;n=r.next;for(;n!==l;)i>=n.x&&n.x>=u&&i!==n.x&&el(o<d?i:a,o,u,d,o<d?a:i,o,n.x,n.y)&&((c=Math.abs(o-n.y)/(i-n.x))<h||c===h&&n.x>r.x)&&ol(n,e)&&(r=n,h=c),n=n.next;return r}(e,t)){var r=al(t,e);Vc(r,r.next)}}function Jc(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function $c(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function el(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function tl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&il(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&ol(e,t)&&ol(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)}function rl(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function nl(e,t){return e.x===t.x&&e.y===t.y}function il(e,t,r,n){return!!(nl(e,r)&&nl(t,n)||nl(e,n)&&nl(r,t))||rl(e,t,r)>0!=rl(e,t,n)>0&&rl(r,n,e)>0!=rl(r,n,t)>0}function ol(e,t){return rl(e.prev,e,e.next)<0?rl(e,t,e.next)>=0&&rl(e,e.prev,t)>=0:rl(e,t,e.prev)<0||rl(e,e.next,t)<0}function al(e,t){var r=new ll(e.i,e.x,e.y),n=new ll(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function sl(e,t,r,n){var i=new ll(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function cl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ll(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ul={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return ul.area(e)<0},triangulateShape:function(e,t){var r=[],n=[],i=[];dl(e),hl(r,e);var o=e.length;t.forEach(dl);for(var a=0;a<t.length;a++)n.push(o),o+=t[a].length,hl(r,t[a]);var s=Hc(r,n);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function dl(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function hl(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}function pl(e,t){Yi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new fl(e,t)),this.mergeVertices()}function fl(e,t){Ai.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var r=this,n=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:u-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3,f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:ml;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var g,v,y,b,x,w,E,A,_=!1;f&&(g=f.getSpacedPoints(s),_=!0,l=!1,v=f.computeFrenetFrames(s,!1),y=new Ar,b=new Ar,x=new Ar),l||(p=0,u=0,d=0,h=0);var M=e.extractPoints(a),S=M.shape,T=M.holes;if(!ul.isClockWise(S))for(S=S.reverse(),E=0,A=T.length;E<A;E++)w=T[E],ul.isClockWise(w)&&(T[E]=w.reverse());var C=ul.triangulateShape(S,T),O=S;for(E=0,A=T.length;E<A;E++)w=T[E],S=S.concat(w);function L(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}var R,P,k,j,D,I,N=S.length,z=C.length;function B(e,t,r){var n,i,o,a=e.x-t.x,s=e.y-t.y,c=r.x-e.x,l=r.y-e.y,u=a*a+s*s,d=a*l-s*c;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(u),p=Math.sqrt(c*c+l*l),f=t.x-s/h,m=t.y+a/h,g=((r.x-l/p-f)*l-(r.y+c/p-m)*c)/(a*l-s*c),v=(n=f+a*g-e.x)*n+(i=m+s*g-e.y)*i;if(v<=2)return new br(n,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(n=-s,i=a,o=Math.sqrt(u)):(n=a,i=s,o=Math.sqrt(u/2))}return new br(n/o,i/o)}for(var F=[],U=0,H=O.length,G=H-1,V=U+1;U<H;U++,G++,V++)G===H&&(G=0),V===H&&(V=0),F[U]=B(O[U],O[G],O[V]);var W,q,X=[],Y=F.concat();for(E=0,A=T.length;E<A;E++){for(w=T[E],W=[],U=0,G=(H=w.length)-1,V=U+1;U<H;U++,G++,V++)G===H&&(G=0),V===H&&(V=0),W[U]=B(w[U],w[G],w[V]);X.push(W),Y=Y.concat(W)}for(R=0;R<p;R++){for(k=R/p,j=u*Math.cos(k*Math.PI/2),P=d*Math.sin(k*Math.PI/2)+h,U=0,H=O.length;U<H;U++)Q((D=L(O[U],F[U],P)).x,D.y,-j);for(E=0,A=T.length;E<A;E++)for(w=T[E],W=X[E],U=0,H=w.length;U<H;U++)Q((D=L(w[U],W[U],P)).x,D.y,-j)}for(P=d+h,U=0;U<N;U++)D=l?L(S[U],Y[U],P):S[U],_?(b.copy(v.normals[0]).multiplyScalar(D.x),y.copy(v.binormals[0]).multiplyScalar(D.y),x.copy(g[0]).add(b).add(y),Q(x.x,x.y,x.z)):Q(D.x,D.y,0);for(q=1;q<=s;q++)for(U=0;U<N;U++)D=l?L(S[U],Y[U],P):S[U],_?(b.copy(v.normals[q]).multiplyScalar(D.x),y.copy(v.binormals[q]).multiplyScalar(D.y),x.copy(g[q]).add(b).add(y),Q(x.x,x.y,x.z)):Q(D.x,D.y,c/s*q);for(R=p-1;R>=0;R--){for(k=R/p,j=u*Math.cos(k*Math.PI/2),P=d*Math.sin(k*Math.PI/2)+h,U=0,H=O.length;U<H;U++)Q((D=L(O[U],F[U],P)).x,D.y,c+j);for(E=0,A=T.length;E<A;E++)for(w=T[E],W=X[E],U=0,H=w.length;U<H;U++)D=L(w[U],W[U],P),_?Q(D.x,D.y+g[s-1].y,g[s-1].x+j):Q(D.x,D.y,c+j)}function K(e,t){var r,n;for(U=e.length;--U>=0;){r=U,(n=U-1)<0&&(n=e.length-1);var i=0,o=s+2*p;for(i=0;i<o;i++){var a=N*i,c=N*(i+1);J(t+r+a,t+n+a,t+n+c,t+r+c)}}}function Q(e,t,r){o.push(e),o.push(t),o.push(r)}function Z(e,t,i){$(e),$(t),$(i);var o=n.length/3,a=m.generateTopUV(r,n,o-3,o-2,o-1);ee(a[0]),ee(a[1]),ee(a[2])}function J(e,t,i,o){$(e),$(t),$(o),$(t),$(i),$(o);var a=n.length/3,s=m.generateSideWallUV(r,n,a-6,a-3,a-2,a-1);ee(s[0]),ee(s[1]),ee(s[3]),ee(s[1]),ee(s[2]),ee(s[3])}function $(e){n.push(o[3*e+0]),n.push(o[3*e+1]),n.push(o[3*e+2])}function ee(e){i.push(e.x),i.push(e.y)}!function(){var e=n.length/3;if(l){var t=0,i=N*t;for(U=0;U<z;U++)Z((I=C[U])[2]+i,I[1]+i,I[0]+i);for(i=N*(t=s+2*p),U=0;U<z;U++)Z((I=C[U])[0]+i,I[1]+i,I[2]+i)}else{for(U=0;U<z;U++)Z((I=C[U])[2],I[1],I[0]);for(U=0;U<z;U++)Z((I=C[U])[0]+N*s,I[1]+N*s,I[2]+N*s)}r.addGroup(e,n.length/3-e,0)}(),function(){var e=n.length/3,t=0;for(K(O,t),t+=O.length,E=0,A=T.length;E<A;E++)K(w=T[E],t),t+=w.length;r.addGroup(e,n.length/3-e,1)}()}this.setAttribute("position",new hi(n,3)),this.setAttribute("uv",new hi(i,2)),this.computeVertexNormals()}pl.prototype=Object.create(Yi.prototype),pl.prototype.constructor=pl,pl.prototype.toJSON=function(){var e=Yi.prototype.toJSON.call(this);return gl(this.parameters.shapes,this.parameters.options,e)},fl.prototype=Object.create(Ai.prototype),fl.prototype.constructor=fl,fl.prototype.toJSON=function(){var e=Ai.prototype.toJSON.call(this);return gl(this.parameters.shapes,this.parameters.options,e)};var ml={generateTopUV:function(e,t,r,n,i){var o=t[3*r],a=t[3*r+1],s=t[3*n],c=t[3*n+1],l=t[3*i],u=t[3*i+1];return[new br(o,a),new br(s,c),new br(l,u)]},generateSideWallUV:function(e,t,r,n,i,o){var a=t[3*r],s=t[3*r+1],c=t[3*r+2],l=t[3*n],u=t[3*n+1],d=t[3*n+2],h=t[3*i],p=t[3*i+1],f=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<.01?[new br(a,1-c),new br(l,1-d),new br(h,1-f),new br(m,1-v)]:[new br(s,1-c),new br(u,1-d),new br(p,1-f),new br(g,1-v)]}};function gl(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var o=e[n];r.shapes.push(o.uuid)}else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}function vl(e,t){Yi.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new yl(e,t)),this.mergeVertices()}function yl(e,t){var r=(t=t||{}).font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Yi;var n=r.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),fl.call(this,n,t),this.type="TextBufferGeometry"}function bl(e,t,r,n,i,o,a){Yi.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new xl(e,t,r,n,i,o,a)),this.mergeVertices()}function xl(e,t,r,n,i,o,a){Ai.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,c,l=Math.min(o+a,Math.PI),u=0,d=[],h=new Ar,p=new Ar,f=[],m=[],g=[],v=[];for(c=0;c<=r;c++){var y=[],b=c/r,x=0;for(0==c&&0==o?x=.5/t:c==r&&l==Math.PI&&(x=-.5/t),s=0;s<=t;s++){var w=s/t;h.x=-e*Math.cos(n+w*i)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(n+w*i)*Math.sin(o+b*a),m.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),v.push(w+x,1-b),y.push(u++)}d.push(y)}for(c=0;c<r;c++)for(s=0;s<t;s++){var E=d[c][s+1],A=d[c][s],_=d[c+1][s],M=d[c+1][s+1];(0!==c||o>0)&&f.push(E,A,M),(c!==r-1||l<Math.PI)&&f.push(A,_,M)}this.setIndex(f),this.setAttribute("position",new hi(m,3)),this.setAttribute("normal",new hi(g,3)),this.setAttribute("uv",new hi(v,2))}function wl(e,t,r,n,i,o){Yi.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new El(e,t,r,n,i,o)),this.mergeVertices()}function El(e,t,r,n,i,o){Ai.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;var a,s,c,l=[],u=[],d=[],h=[],p=e,f=(t-e)/(n=void 0!==n?Math.max(1,n):1),m=new Ar,g=new br;for(s=0;s<=n;s++){for(c=0;c<=r;c++)a=i+c/r*o,m.x=p*Math.cos(a),m.y=p*Math.sin(a),u.push(m.x,m.y,m.z),d.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y);p+=f}for(s=0;s<n;s++){var v=s*(r+1);for(c=0;c<r;c++){var y=a=c+v,b=a+r+1,x=a+r+2,w=a+1;l.push(y,b,w),l.push(b,x,w)}}this.setIndex(l),this.setAttribute("position",new hi(u,3)),this.setAttribute("normal",new hi(d,3)),this.setAttribute("uv",new hi(h,2))}function Al(e,t,r,n){Yi.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},this.fromBufferGeometry(new _l(e,t,r,n)),this.mergeVertices()}function _l(e,t,r,n){Ai.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t)||12,r=r||0,n=n||2*Math.PI,n=yr.clamp(n,0,2*Math.PI);var i,o,a,s=[],c=[],l=[],u=1/t,d=new Ar,h=new br;for(o=0;o<=t;o++){var p=r+o*u*n,f=Math.sin(p),m=Math.cos(p);for(a=0;a<=e.length-1;a++)d.x=e[a].x*f,d.y=e[a].y,d.z=e[a].x*m,c.push(d.x,d.y,d.z),h.x=o/t,h.y=a/(e.length-1),l.push(h.x,h.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var g=i=a+o*e.length,v=i+e.length,y=i+e.length+1,b=i+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.setAttribute("position",new hi(c,3)),this.setAttribute("uv",new hi(l,2)),this.computeVertexNormals(),n===2*Math.PI){var x=this.attributes.normal.array,w=new Ar,E=new Ar,A=new Ar;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)w.x=x[a+0],w.y=x[a+1],w.z=x[a+2],E.x=x[i+a+0],E.y=x[i+a+1],E.z=x[i+a+2],A.addVectors(w,E).normalize(),x[a+0]=x[i+a+0]=A.x,x[a+1]=x[i+a+1]=A.y,x[a+2]=x[i+a+2]=A.z}}function Ml(e,t){Yi.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Sl(e,t)),this.mergeVertices()}function Sl(e,t){Ai.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],n=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))l(e);else for(var c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){var a,c,l,u=n.length/3,d=e.extractPoints(t),h=d.shape,p=d.holes;for(!1===ul.isClockWise(h)&&(h=h.reverse()),a=0,c=p.length;a<c;a++)l=p[a],!0===ul.isClockWise(l)&&(p[a]=l.reverse());var f=ul.triangulateShape(h,p);for(a=0,c=p.length;a<c;a++)l=p[a],h=h.concat(l);for(a=0,c=h.length;a<c;a++){var m=h[a];n.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=f.length;a<c;a++){var g=f[a],v=g[0]+u,y=g[1]+u,b=g[2]+u;r.push(v,y,b),s+=3}}this.setIndex(r),this.setAttribute("position",new hi(n,3)),this.setAttribute("normal",new hi(i,3)),this.setAttribute("uv",new hi(o,2))}function Tl(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Cl(e,t){Ai.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var r,n,i,o,a=[],s=Math.cos(yr.DEG2RAD*t),c=[0,0],l={},u=["a","b","c"];e.isBufferGeometry?(o=new Yi).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,h=o.faces,p=0,f=h.length;p<f;p++)for(var m=h[p],g=0;g<3;g++)r=m[u[g]],n=m[u[(g+1)%3]],c[0]=Math.min(r,n),c[1]=Math.max(r,n),void 0===l[i=c[0]+","+c[1]]?l[i]={index1:c[0],index2:c[1],face1:p,face2:void 0}:l[i].face2=p;for(i in l){var v=l[i];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=s){var y=d[v.index1];a.push(y.x,y.y,y.z),y=d[v.index2],a.push(y.x,y.y,y.z)}}this.setAttribute("position",new hi(a,3))}function Ol(e,t,r,n,i,o,a,s){Yi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Ll(e,t,r,n,i,o,a,s)),this.mergeVertices()}function Ll(e,t,r,n,i,o,a,s){Ai.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=[],u=[],d=[],h=[],p=0,f=[],m=r/2,g=0;function v(r){var i,o,f,v=new br,y=new Ar,b=0,x=!0===r?e:t,w=!0===r?1:-1;for(o=p,i=1;i<=n;i++)u.push(0,m*w,0),d.push(0,w,0),h.push(.5,.5),p++;for(f=p,i=0;i<=n;i++){var E=i/n*s+a,A=Math.cos(E),_=Math.sin(E);y.x=x*_,y.y=m*w,y.z=x*A,u.push(y.x,y.y,y.z),d.push(0,w,0),v.x=.5*A+.5,v.y=.5*_*w+.5,h.push(v.x,v.y),p++}for(i=0;i<n;i++){var M=o+i,S=f+i;!0===r?l.push(S,S+1,M):l.push(S+1,S,M),b+=3}c.addGroup(g,b,!0===r?1:2),g+=b}!function(){var o,v,y=new Ar,b=new Ar,x=0,w=(t-e)/r;for(v=0;v<=i;v++){var E=[],A=v/i,_=A*(t-e)+e;for(o=0;o<=n;o++){var M=o/n,S=M*s+a,T=Math.sin(S),C=Math.cos(S);b.x=_*T,b.y=-A*r+m,b.z=_*C,u.push(b.x,b.y,b.z),y.set(T,w,C).normalize(),d.push(y.x,y.y,y.z),h.push(M,1-A),E.push(p++)}f.push(E)}for(o=0;o<n;o++)for(v=0;v<i;v++){var O=f[v][o],L=f[v+1][o],R=f[v+1][o+1],P=f[v][o+1];l.push(O,L,P),l.push(L,R,P),x+=6}c.addGroup(g,x,0),g+=x}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(l),this.setAttribute("position",new hi(u,3)),this.setAttribute("normal",new hi(d,3)),this.setAttribute("uv",new hi(h,2))}function Rl(e,t,r,n,i,o,a){Ol.call(this,0,e,t,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function Pl(e,t,r,n,i,o,a){Ll.call(this,0,e,t,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function kl(e,t,r,n){Yi.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new jl(e,t,r,n)),this.mergeVertices()}function jl(e,t,r,n){Ai.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},e=e||1,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i,o,a=[],s=[],c=[],l=[],u=new Ar,d=new br;for(s.push(0,0,0),c.push(0,0,1),l.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var h=r+o/t*n;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),c.push(0,0,1),d.x=(s[i]/e+1)/2,d.y=(s[i+1]/e+1)/2,l.push(d.x,d.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.setAttribute("position",new hi(s,3)),this.setAttribute("normal",new hi(c,3)),this.setAttribute("uv",new hi(l,2))}vl.prototype=Object.create(Yi.prototype),vl.prototype.constructor=vl,yl.prototype=Object.create(fl.prototype),yl.prototype.constructor=yl,bl.prototype=Object.create(Yi.prototype),bl.prototype.constructor=bl,xl.prototype=Object.create(Ai.prototype),xl.prototype.constructor=xl,wl.prototype=Object.create(Yi.prototype),wl.prototype.constructor=wl,El.prototype=Object.create(Ai.prototype),El.prototype.constructor=El,Al.prototype=Object.create(Yi.prototype),Al.prototype.constructor=Al,_l.prototype=Object.create(Ai.prototype),_l.prototype.constructor=_l,Ml.prototype=Object.create(Yi.prototype),Ml.prototype.constructor=Ml,Ml.prototype.toJSON=function(){var e=Yi.prototype.toJSON.call(this);return Tl(this.parameters.shapes,e)},Sl.prototype=Object.create(Ai.prototype),Sl.prototype.constructor=Sl,Sl.prototype.toJSON=function(){var e=Ai.prototype.toJSON.call(this);return Tl(this.parameters.shapes,e)},Cl.prototype=Object.create(Ai.prototype),Cl.prototype.constructor=Cl,Ol.prototype=Object.create(Yi.prototype),Ol.prototype.constructor=Ol,Ll.prototype=Object.create(Ai.prototype),Ll.prototype.constructor=Ll,Rl.prototype=Object.create(Ol.prototype),Rl.prototype.constructor=Rl,Pl.prototype=Object.create(Ll.prototype),Pl.prototype.constructor=Pl,kl.prototype=Object.create(Yi.prototype),kl.prototype.constructor=kl,jl.prototype=Object.create(Ai.prototype),jl.prototype.constructor=jl;var Dl=Object.freeze({__proto__:null,WireframeGeometry:Ac,ParametricGeometry:_c,ParametricBufferGeometry:Mc,TetrahedronGeometry:Cc,TetrahedronBufferGeometry:Oc,OctahedronGeometry:Lc,OctahedronBufferGeometry:Rc,IcosahedronGeometry:Pc,IcosahedronBufferGeometry:kc,DodecahedronGeometry:jc,DodecahedronBufferGeometry:Dc,PolyhedronGeometry:Sc,PolyhedronBufferGeometry:Tc,TubeGeometry:Ic,TubeBufferGeometry:Nc,TorusKnotGeometry:zc,TorusKnotBufferGeometry:Bc,TorusGeometry:Fc,TorusBufferGeometry:Uc,TextGeometry:vl,TextBufferGeometry:yl,SphereGeometry:bl,SphereBufferGeometry:xl,RingGeometry:wl,RingBufferGeometry:El,PlaneGeometry:bo,PlaneBufferGeometry:xo,LatheGeometry:Al,LatheBufferGeometry:_l,ShapeGeometry:Ml,ShapeBufferGeometry:Sl,ExtrudeGeometry:pl,ExtrudeBufferGeometry:fl,EdgesGeometry:Cl,ConeGeometry:Rl,ConeBufferGeometry:Pl,CylinderGeometry:Ol,CylinderBufferGeometry:Ll,CircleGeometry:kl,CircleBufferGeometry:jl,BoxGeometry:Ki,BoxBufferGeometry:Qi});function Il(e){ri.call(this),this.type="ShadowMaterial",this.color=new Qn(0),this.transparent=!0,this.setValues(e)}function Nl(e){ro.call(this,e),this.type="RawShaderMaterial"}function zl(e){ri.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Qn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new br(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Bl(e){zl.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new br(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function Fl(e){ri.call(this),this.type="MeshPhongMaterial",this.color=new Qn(16777215),this.specular=new Qn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new br(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ul(e){Fl.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Hl(e){ri.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new br(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Gl(e){ri.call(this),this.type="MeshLambertMaterial",this.color=new Qn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Vl(e){ri.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new br(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Wl(e){tc.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Il.prototype=Object.create(ri.prototype),Il.prototype.constructor=Il,Il.prototype.isShadowMaterial=!0,Il.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this},Nl.prototype=Object.create(ro.prototype),Nl.prototype.constructor=Nl,Nl.prototype.isRawShaderMaterial=!0,zl.prototype=Object.create(ri.prototype),zl.prototype.constructor=zl,zl.prototype.isMeshStandardMaterial=!0,zl.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Bl.prototype=Object.create(zl.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isMeshPhysicalMaterial=!0,Bl.prototype.copy=function(e){return zl.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new Qn).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},Fl.prototype=Object.create(ri.prototype),Fl.prototype.constructor=Fl,Fl.prototype.isMeshPhongMaterial=!0,Fl.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ul.prototype=Object.create(Fl.prototype),Ul.prototype.constructor=Ul,Ul.prototype.isMeshToonMaterial=!0,Ul.prototype.copy=function(e){return Fl.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Hl.prototype=Object.create(ri.prototype),Hl.prototype.constructor=Hl,Hl.prototype.isMeshNormalMaterial=!0,Hl.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Gl.prototype=Object.create(ri.prototype),Gl.prototype.constructor=Gl,Gl.prototype.isMeshLambertMaterial=!0,Gl.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Vl.prototype=Object.create(ri.prototype),Vl.prototype.constructor=Vl,Vl.prototype.isMeshMatcapMaterial=!0,Vl.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Wl.prototype=Object.create(tc.prototype),Wl.prototype.constructor=Wl,Wl.prototype.isLineDashedMaterial=!0,Wl.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var ql=Object.freeze({__proto__:null,ShadowMaterial:Il,SpriteMaterial:Ts,RawShaderMaterial:Nl,ShaderMaterial:ro,PointsMaterial:hc,MeshPhysicalMaterial:Bl,MeshStandardMaterial:zl,MeshPhongMaterial:Fl,MeshToonMaterial:Ul,MeshNormalMaterial:Hl,MeshLambertMaterial:Gl,MeshDepthMaterial:is,MeshDistanceMaterial:os,MeshBasicMaterial:ni,MeshMatcapMaterial:Vl,LineDashedMaterial:Wl,LineBasicMaterial:tc,Material:ri}),Xl={arraySlice:function(e,t,r){return Xl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=new Array(t),n=0;n!==t;++n)r[n]=n;return r.sort(function(t,r){return e[t]-e[r]}),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*t,c=0;c!==t;++c)i[a++]=e[s+c];return i},flattenJSON:function(e,t,r,n){for(var i=1,o=e[0];void 0!==o&&void 0===o[n];)o=e[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[n])&&(t.push(o.time),r.push.apply(r,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[n])&&(t.push(o.time),a.toArray(r,r.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[n])&&(t.push(o.time),r.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,r,n,i){i=i||30;var o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var c=o.tracks[s],l=c.getValueSize(),u=[],d=[],h=0;h<c.times.length;++h){var p=c.times[h]*i;if(!(p<r||p>=n)){u.push(c.times[h]);for(var f=0;f<l;++f)d.push(c.values[h*l+f])}}0!==u.length&&(c.times=Xl.convertArray(u,c.times.constructor),c.values=Xl.convertArray(d,c.values.constructor),a.push(c))}o.tracks=a;var m=1/0;for(s=0;s<o.tracks.length;++s)m>o.tracks[s].times[0]&&(m=o.tracks[s].times[0]);for(s=0;s<o.tracks.length;++s)o.tracks[s].shift(-1*m);return o.resetDuration(),o}};function Yl(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function Kl(e,t,r,n){Yl.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ql(e,t,r,n){Yl.call(this,e,t,r,n)}function Zl(e,t,r,n){Yl.call(this,e,t,r,n)}function Jl(e,t,r,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xl.convertArray(t,this.TimeBufferType),this.values=Xl.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function $l(e,t,r){Jl.call(this,e,t,r)}function eu(e,t,r,n){Jl.call(this,e,t,r,n)}function tu(e,t,r,n){Jl.call(this,e,t,r,n)}function ru(e,t,r,n){Yl.call(this,e,t,r,n)}function nu(e,t,r,n){Jl.call(this,e,t,r,n)}function iu(e,t,r,n){Jl.call(this,e,t,r,n)}function ou(e,t,r,n){Jl.call(this,e,t,r,n)}function au(e,t,r){this.name=e,this.tracks=r,this.duration=void 0!==t?t:-1,this.uuid=yr.generateUUID(),this.duration<0&&this.resetDuration()}function su(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return tu;case"vector":case"vector2":case"vector3":case"vector4":return ou;case"color":return eu;case"quaternion":return nu;case"bool":case"boolean":return $l;case"string":return iu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var r=[],n=[];Xl.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Yl.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var o;r:{n:if(!(e<n)){for(var a=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===a)break;if(i=n,e<(n=t[++r]))break t}o=t.length;break r}if(e>=i)break e;var s=t[1];e<s&&(r=2,i=s);for(a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===a)break;if(n=i,e>=(i=t[--r-1]))break t}o=r,r=0}for(;r<o;){var c=r+o>>>1;e<t[c]?o=c:r=c+1}if(n=t[r],void 0===(i=t[r-1]))return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,o=0;o!==n;++o)t[o]=r[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Yl.prototype,{beforeStart_:Yl.prototype.copySampleValue_,afterEnd_:Yl.prototype.copySampleValue_}),Kl.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Kl,DefaultSettings_:{endingStart:St,endingEnd:St},intervalChanged_:function(e,t,r){var n=this.parameterPositions,i=e-2,o=e+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case Tt:i=e,a=2*t-r;break;case Ct:a=t+n[i=n.length-2]-n[i+1];break;default:i=e,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case Tt:o=e,s=2*r-t;break;case Ct:o=1,s=r+n[1]-n[0];break;default:o=e-1,s=t}var c=.5*(r-t),l=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-r),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(r-t)/(n-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,b=h*m-h*f,x=0;x!==a;++x)i[x]=g*o[l+x]+v*o[c+x]+y*o[s+x]+b*o[u+x];return i}}),Ql.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Ql,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=(r-t)/(n-t),u=1-l,d=0;d!==a;++d)i[d]=o[c+d]*u+o[s+d]*l;return i}}),Zl.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Zl,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Jl,{toJSON:function(e){var t,r=e.constructor;if(void 0!==r.toJSON)t=r.toJSON(e);else{t={name:e.name,times:Xl.convertArray(e.times,Array),values:Xl.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}),Object.assign(Jl.prototype,{constructor:Jl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:_t,InterpolantFactoryMethodDiscrete:function(e){return new Zl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Ql(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Kl(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case At:t=this.InterpolantFactoryMethodDiscrete;break;case _t:t=this.InterpolantFactoryMethodLinear;break;case Mt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return At;case this.InterpolantFactoryMethodLinear:return _t;case this.InterpolantFactoryMethodSmooth:return Mt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<e;)++i;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==i||o!==n){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Xl.arraySlice(r,i,o),this.values=Xl.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==n&&Xl.isTypedArray(n)){a=0;for(var c=n.length;a!==c;++a){var l=n[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,r=this.getValueSize(),n=this.getInterpolation()===Mt,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,c=e[a];if(c!==e[a+1]&&(1!==a||c!==c[0]))if(n)s=!0;else for(var l=a*r,u=l-r,d=l+r,h=0;h!==r;++h){var p=t[l+h];if(p!==t[u+h]||p!==t[d+h]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var f=a*r,m=i*r;for(h=0;h!==r;++h)t[m+h]=t[f+h]}++i}}if(o>0){e[i]=e[o];for(f=o*r,m=i*r,h=0;h!==r;++h)t[m+h]=t[f+h];++i}return i!==e.length&&(this.times=Xl.arraySlice(e,0,i),this.values=Xl.arraySlice(t,0,i*r)),this},clone:function(){var e=Xl.arraySlice(this.times,0),t=Xl.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}),$l.prototype=Object.assign(Object.create(Jl.prototype),{constructor:$l,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:At,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),eu.prototype=Object.assign(Object.create(Jl.prototype),{constructor:eu,ValueTypeName:"color"}),tu.prototype=Object.assign(Object.create(Jl.prototype),{constructor:tu,ValueTypeName:"number"}),ru.prototype=Object.assign(Object.create(Yl.prototype),{constructor:ru,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=(r-t)/(n-t),l=s+a;s!==l;s+=4)xr.slerpFlat(i,0,o,s-a,o,s,c);return i}}),nu.prototype=Object.assign(Object.create(Jl.prototype),{constructor:nu,ValueTypeName:"quaternion",DefaultInterpolation:_t,InterpolantFactoryMethodLinear:function(e){return new ru(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),iu.prototype=Object.assign(Object.create(Jl.prototype),{constructor:iu,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:At,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ou.prototype=Object.assign(Object.create(Jl.prototype),{constructor:ou,ValueTypeName:"vector"}),Object.assign(au,{parse:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),i=0,o=r.length;i!==o;++i)t.push(su(r[i]).scale(n));return new au(e.name,e.duration,t)},toJSON:function(e){for(var t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=r.length;i!==o;++i)t.push(Jl.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(e,t,r,n){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var l=Xl.getKeyframeOrder(s);s=Xl.sortedArray(s,1,l),c=Xl.sortedArray(c,1,l),n||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new tu(".morphTargetInfluences["+t[a].name+"]",s,c).scale(1/r))}return new au(e,-1,o)},findByName:function(e,t){var r=e;if(!Array.isArray(e)){var n=e;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],c=s.name.match(i);if(c&&c.length>1){var l=n[d=c[1]];l||(n[d]=l=[]),l.push(s)}}var u=[];for(var d in n)u.push(au.CreateFromMorphTargetSequence(d,n[d],t,r));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(e,t,r,n,i){if(0!==r.length){var o=[],a=[];Xl.flattenJSON(r,o,a,n),0!==o.length&&i.push(new e(t,o,a))}},n=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var l=s[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var u={},d=0;d<l.length;d++)if(l[d].morphTargets)for(var h=0;h<l[d].morphTargets.length;h++)u[l[d].morphTargets[h]]=-1;for(var p in u){var f=[],m=[];for(h=0;h!==l[d].morphTargets.length;++h){var g=l[d];f.push(g.time),m.push(g.morphTarget===p?1:0)}n.push(new tu(".morphTargetInfluence["+p+"]",f,m))}o=u.length*(a||1)}else{var v=".bones["+t[c].name+"]";r(ou,v+".position",l,"pos",n),r(nu,v+".quaternion",l,"rot",n),r(ou,v+".scale",l,"scl",n)}}return 0===n.length?null:new au(i,o,n)}}),Object.assign(au.prototype,{resetDuration:function(){for(var e=0,t=0,r=this.tracks.length;t!==r;++t){var n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new au(this.name,this.duration,e)}});var cu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function lu(e,t,r){var n=this,i=!1,o=0,a=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){a++,!1===i&&void 0!==n.onStart&&n.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,r=c.length;t<r;t+=2){var n=c[t],i=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}var uu=new lu;function du(e){this.manager=void 0!==e?e:uu,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(du.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var hu={};function pu(e){du.call(this,e)}function fu(e){du.call(this,e)}function mu(e){du.call(this,e)}function gu(e){du.call(this,e)}function vu(e){du.call(this,e)}function yu(e){du.call(this,e)}function bu(e){du.call(this,e)}function xu(){this.type="Curve",this.arcLengthDivisions=200}function wu(e,t,r,n,i,o,a,s){xu.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Eu(e,t,r,n,i,o){wu.call(this,e,t,r,r,n,i,o),this.type="ArcCurve"}function Au(){var e=0,t=0,r=0,n=0;function i(i,o,a,s){e=i,t=a,r=-3*i+3*o-2*a-s,n=2*i-2*o+a+s}return{initCatmullRom:function(e,t,r,n,o){i(t,r,o*(r-e),o*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,o,a,s){var c=(t-e)/o-(r-e)/(o+a)+(r-t)/a,l=(r-t)/a-(n-t)/(a+s)+(n-r)/s;i(t,r,c*=a,l*=a)},calc:function(i){var o=i*i;return e+t*i+r*o+n*(o*i)}}}pu.prototype=Object.assign(Object.create(du.prototype),{constructor:pu,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=cu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(void 0===hu[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],l=a[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var u,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);u="blob"===d?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var f=new DOMParser;u=f.parseFromString(l,s);break;case"json":u=JSON.parse(l);break;default:u=l}setTimeout(function(){t&&t(u),i.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{hu[e]=[],hu[e].push({onLoad:t,onProgress:r,onError:n});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",function(t){var r=this.response,n=hu[e];if(delete hu[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),cu.add(e,r);for(var o=0,a=n.length;o<a;o++){(s=n[o]).onLoad&&s.onLoad(r)}i.manager.itemEnd(e)}else{for(o=0,a=n.length;o<a;o++){var s;(s=n[o]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),m.addEventListener("progress",function(t){for(var r=hu[e],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(t)}},!1),m.addEventListener("error",function(t){var r=hu[e];delete hu[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),m.addEventListener("abort",function(t){var r=hu[e];delete hu[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}hu[e].push({onLoad:t,onProgress:r,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),fu.prototype=Object.assign(Object.create(du.prototype),{constructor:fu,load:function(e,t,r,n){var i=this,o=new pu(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},parse:function(e){for(var t=[],r=0;r<e.length;r++){var n=au.parse(e[r]);t.push(n)}return t}}),mu.prototype=Object.assign(Object.create(du.prototype),{constructor:mu,load:function(e,t,r,n){var i=this,o=[],a=new xc;a.image=o;var s=new pu(this.manager);function c(c){s.load(e[c],function(e){var r=i.parse(e,!0);o[c]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(l+=1)&&(1===r.mipmapCount&&(a.minFilter=Me),a.format=r.format,a.needsUpdate=!0,t&&t(a))},r,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,u=0,d=e.length;u<d;++u)c(u);else s.load(e,function(e){var r=i.parse(e,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+c]),o[s].format=r.format,o[s].width=r.width,o[s].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=Me),a.format=r.format,a.needsUpdate=!0,t&&t(a)},r,n);return a}}),gu.prototype=Object.assign(Object.create(du.prototype),{constructor:gu,load:function(e,t,r,n){var i=this,o=new lo,a=new pu(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(e){var r=i.parse(e);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:ye,o.wrapT=void 0!==r.wrapT?r.wrapT:ye,o.magFilter=void 0!==r.magFilter?r.magFilter:Me,o.minFilter=void 0!==r.minFilter?r.minFilter:Me,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps,o.minFilter=Ce),1===r.mipmapCount&&(o.minFilter=Me),o.needsUpdate=!0,t&&t(o,r))},r,n),o}}),vu.prototype=Object.assign(Object.create(du.prototype),{constructor:vu,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=cu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),cu.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),yu.prototype=Object.assign(Object.create(du.prototype),{constructor:yu,load:function(e,t,r,n){var i=new Po,o=new vu(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(r){o.load(e[r],function(e){i.images[r]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))},void 0,n)}for(var c=0;c<e.length;++c)s(c);return i}}),bu.prototype=Object.assign(Object.create(du.prototype),{constructor:bu,load:function(e,t,r,n){var i=new Or,o=new vu(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(r){i.image=r;var n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=n?Ge:Ve,i.needsUpdate=!0,void 0!==t&&t(i)},r,n),i}}),Object.assign(xu.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var r=this.getUtoTmapping(e);return this.getPoint(r,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=e;r++)o+=(t=this.getPoint(r/e)).distanceTo(i),n.push(o),i=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r,n=this.getLengths(),i=0,o=n.length;r=t||e*n[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=n[i=Math.floor(s+(c-s)/2)]-r)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(n[i=c]===r)return i/(o-1);var l=n[i];return(i+(r-l)/(n[i+1]-l))/(o-1)},getTangent:function(e){var t=e-1e-4,r=e+1e-4;t<0&&(t=0),r>1&&(r=1);var n=this.getPoint(t);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var r,n,i,o=new Ar,a=[],s=[],c=[],l=new Ar,u=new Fr;for(r=0;r<=e;r++)n=r/e,a[r]=this.getTangentAt(n),a[r].normalize();s[0]=new Ar,c[0]=new Ar;var d=Number.MAX_VALUE,h=Math.abs(a[0].x),p=Math.abs(a[0].y),f=Math.abs(a[0].z);for(h<=d&&(d=h,o.set(1,0,0)),p<=d&&(d=p,o.set(0,1,0)),f<=d&&o.set(0,0,1),l.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],l),c[0].crossVectors(a[0],s[0]),r=1;r<=e;r++)s[r]=s[r-1].clone(),c[r]=c[r-1].clone(),l.crossVectors(a[r-1],a[r]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(yr.clamp(a[r-1].dot(a[r]),-1,1)),s[r].applyMatrix4(u.makeRotationAxis(l,i))),c[r].crossVectors(a[r],s[r]);if(!0===t)for(i=Math.acos(yr.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),r=1;r<=e;r++)s[r].applyMatrix4(u.makeRotationAxis(a[r],i*r)),c[r].crossVectors(a[r],s[r]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),wu.prototype=Object.create(xu.prototype),wu.prototype.constructor=wu,wu.prototype.isEllipseCurve=!0,wu.prototype.getPoint=function(e,t){for(var r=t||new br,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,h=c-this.aY;s=d*l-h*u+this.aX,c=d*u+h*l+this.aY}return r.set(s,c)},wu.prototype.copy=function(e){return xu.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},wu.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},wu.prototype.fromJSON=function(e){return xu.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Eu.prototype=Object.create(wu.prototype),Eu.prototype.constructor=Eu,Eu.prototype.isArcCurve=!0;var _u=new Ar,Mu=new Au,Su=new Au,Tu=new Au;function Cu(e,t,r,n){xu.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=r||"centripetal",this.tension=n||.5}function Ou(e,t,r,n,i){var o=.5*(n-t),a=.5*(i-r),s=e*e;return(2*r-2*n+o+a)*(e*s)+(-3*r+3*n-2*o-a)*s+o*e+r}function Lu(e,t,r,n){return function(e,t){var r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function Ru(e,t,r,n,i){return function(e,t){var r=1-e;return r*r*r*t}(e,t)+function(e,t){var r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}function Pu(e,t,r,n){xu.call(this),this.type="CubicBezierCurve",this.v0=e||new br,this.v1=t||new br,this.v2=r||new br,this.v3=n||new br}function ku(e,t,r,n){xu.call(this),this.type="CubicBezierCurve3",this.v0=e||new Ar,this.v1=t||new Ar,this.v2=r||new Ar,this.v3=n||new Ar}function ju(e,t){xu.call(this),this.type="LineCurve",this.v1=e||new br,this.v2=t||new br}function Du(e,t){xu.call(this),this.type="LineCurve3",this.v1=e||new Ar,this.v2=t||new Ar}function Iu(e,t,r){xu.call(this),this.type="QuadraticBezierCurve",this.v0=e||new br,this.v1=t||new br,this.v2=r||new br}function Nu(e,t,r){xu.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Ar,this.v1=t||new Ar,this.v2=r||new Ar}function zu(e){xu.call(this),this.type="SplineCurve",this.points=e||[]}Cu.prototype=Object.create(xu.prototype),Cu.prototype.constructor=Cu,Cu.prototype.isCatmullRomCurve3=!0,Cu.prototype.getPoint=function(e,t){var r,n,i,o,a=t||new Ar,s=this.points,c=s.length,l=(c-(this.closed?0:1))*e,u=Math.floor(l),d=l-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/c)+1)*c:0===d&&u===c-1&&(u=c-2,d=1),this.closed||u>0?r=s[(u-1)%c]:(_u.subVectors(s[0],s[1]).add(s[0]),r=_u),n=s[u%c],i=s[(u+1)%c],this.closed||u+2<c?o=s[(u+2)%c]:(_u.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=_u),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,p=Math.pow(r.distanceToSquared(n),h),f=Math.pow(n.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(o),h);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),Mu.initNonuniformCatmullRom(r.x,n.x,i.x,o.x,p,f,m),Su.initNonuniformCatmullRom(r.y,n.y,i.y,o.y,p,f,m),Tu.initNonuniformCatmullRom(r.z,n.z,i.z,o.z,p,f,m)}else"catmullrom"===this.curveType&&(Mu.initCatmullRom(r.x,n.x,i.x,o.x,this.tension),Su.initCatmullRom(r.y,n.y,i.y,o.y,this.tension),Tu.initCatmullRom(r.z,n.z,i.z,o.z,this.tension));return a.set(Mu.calc(d),Su.calc(d),Tu.calc(d)),a},Cu.prototype.copy=function(e){xu.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Cu.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Cu.prototype.fromJSON=function(e){xu.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new Ar).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Pu.prototype=Object.create(xu.prototype),Pu.prototype.constructor=Pu,Pu.prototype.isCubicBezierCurve=!0,Pu.prototype.getPoint=function(e,t){var r=t||new br,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(Ru(e,n.x,i.x,o.x,a.x),Ru(e,n.y,i.y,o.y,a.y)),r},Pu.prototype.copy=function(e){return xu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Pu.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Pu.prototype.fromJSON=function(e){return xu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},ku.prototype=Object.create(xu.prototype),ku.prototype.constructor=ku,ku.prototype.isCubicBezierCurve3=!0,ku.prototype.getPoint=function(e,t){var r=t||new Ar,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(Ru(e,n.x,i.x,o.x,a.x),Ru(e,n.y,i.y,o.y,a.y),Ru(e,n.z,i.z,o.z,a.z)),r},ku.prototype.copy=function(e){return xu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},ku.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},ku.prototype.fromJSON=function(e){return xu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},ju.prototype=Object.create(xu.prototype),ju.prototype.constructor=ju,ju.prototype.isLineCurve=!0,ju.prototype.getPoint=function(e,t){var r=t||new br;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},ju.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},ju.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ju.prototype.copy=function(e){return xu.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ju.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ju.prototype.fromJSON=function(e){return xu.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Du.prototype=Object.create(xu.prototype),Du.prototype.constructor=Du,Du.prototype.isLineCurve3=!0,Du.prototype.getPoint=function(e,t){var r=t||new Ar;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Du.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Du.prototype.copy=function(e){return xu.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Du.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Du.prototype.fromJSON=function(e){return xu.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Iu.prototype=Object.create(xu.prototype),Iu.prototype.constructor=Iu,Iu.prototype.isQuadraticBezierCurve=!0,Iu.prototype.getPoint=function(e,t){var r=t||new br,n=this.v0,i=this.v1,o=this.v2;return r.set(Lu(e,n.x,i.x,o.x),Lu(e,n.y,i.y,o.y)),r},Iu.prototype.copy=function(e){return xu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Iu.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Iu.prototype.fromJSON=function(e){return xu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Nu.prototype=Object.create(xu.prototype),Nu.prototype.constructor=Nu,Nu.prototype.isQuadraticBezierCurve3=!0,Nu.prototype.getPoint=function(e,t){var r=t||new Ar,n=this.v0,i=this.v1,o=this.v2;return r.set(Lu(e,n.x,i.x,o.x),Lu(e,n.y,i.y,o.y),Lu(e,n.z,i.z,o.z)),r},Nu.prototype.copy=function(e){return xu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Nu.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Nu.prototype.fromJSON=function(e){return xu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},zu.prototype=Object.create(xu.prototype),zu.prototype.constructor=zu,zu.prototype.isSplineCurve=!0,zu.prototype.getPoint=function(e,t){var r=t||new br,n=this.points,i=(n.length-1)*e,o=Math.floor(i),a=i-o,s=n[0===o?o:o-1],c=n[o],l=n[o>n.length-2?n.length-1:o+1],u=n[o>n.length-3?n.length-1:o+2];return r.set(Ou(a,s.x,c.x,l.x,u.x),Ou(a,s.y,c.y,l.y,u.y)),r},zu.prototype.copy=function(e){xu.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this},zu.prototype.toJSON=function(){var e=xu.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e},zu.prototype.fromJSON=function(e){xu.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new br).fromArray(n))}return this};var Bu=Object.freeze({__proto__:null,ArcCurve:Eu,CatmullRomCurve3:Cu,CubicBezierCurve:Pu,CubicBezierCurve3:ku,EllipseCurve:wu,LineCurve:ju,LineCurve3:Du,QuadraticBezierCurve:Iu,QuadraticBezierCurve3:Nu,SplineCurve:zu});function Fu(){xu.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Uu(e){Fu.call(this),this.type="Path",this.currentPoint=new br,e&&this.setFromPoints(e)}function Hu(e){Uu.call(this,e),this.uuid=yr.generateUUID(),this.type="Shape",this.holes=[]}function Gu(e,t){on.call(this),this.type="Light",this.color=new Qn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Vu(e,t,r){Gu.call(this,e,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(on.DefaultUp),this.updateMatrix(),this.groundColor=new Qn(t)}function Wu(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new br(512,512),this.map=null,this.mapPass=null,this.matrix=new Fr,this._frustum=new po,this._frameExtents=new br(1,1),this._viewportCount=1,this._viewports=[new Lr(0,0,1,1)]}function qu(){Wu.call(this,new io(50,1,.5,500))}function Xu(e,t,r,n,i,o){Gu.call(this,e,t),this.type="SpotLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.target=new on,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new qu}function Yu(){Wu.call(this,new io(90,1,.5,500)),this._frameExtents=new br(4,2),this._viewportCount=6,this._viewports=[new Lr(2,1,1,1),new Lr(0,1,1,1),new Lr(3,1,1,1),new Lr(1,1,1,1),new Lr(3,0,1,1),new Lr(1,0,1,1)],this._cubeDirections=[new Ar(1,0,0),new Ar(-1,0,0),new Ar(0,0,1),new Ar(0,0,-1),new Ar(0,1,0),new Ar(0,-1,0)],this._cubeUps=[new Ar(0,1,0),new Ar(0,1,0),new Ar(0,1,0),new Ar(0,1,0),new Ar(0,0,1),new Ar(0,0,-1)]}function Ku(e,t,r,n){Gu.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new Yu}function Qu(e,t,r,n,i,o){no.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Zu(){Wu.call(this,new Qu(-5,5,5,-5,.5,500))}function Ju(e,t){Gu.call(this,e,t),this.type="DirectionalLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.target=new on,this.shadow=new Zu}function $u(e,t){Gu.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function ed(e,t,r,n){Gu.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function td(e){du.call(this,e),this.textures={}}Fu.prototype=Object.assign(Object.create(xu.prototype),{constructor:Fu,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ju(t,e))},getPoint:function(e){for(var t=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=t){var i=r[n]-t,o=this.curves[n],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}n++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),c=0;c<s.length;c++){var l=s[c];t&&t.equals(l)||(r.push(l),t=l)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){xu.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=xu.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){xu.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push((new Bu[n.type]).fromJSON(n))}return this}}),Uu.prototype=Object.assign(Object.create(Fu.prototype),{constructor:Uu,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var r=new ju(this.currentPoint.clone(),new br(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,n){var i=new Iu(this.currentPoint.clone(),new br(e,t),new br(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this},bezierCurveTo:function(e,t,r,n,i,o){var a=new Pu(this.currentPoint.clone(),new br(e,t),new br(r,n),new br(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){var t=new zu([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,r,n,i,o),this},absarc:function(e,t,r,n,i,o){return this.absellipse(e,t,r,r,n,i,o),this},ellipse:function(e,t,r,n,i,o,a,s){var c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,r,n,i,o,a,s),this},absellipse:function(e,t,r,n,i,o,a,s){var c=new wu(e,t,r,n,i,o,a,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);return this.currentPoint.copy(u),this},copy:function(e){return Fu.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Fu.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Fu.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Hu.prototype=Object.assign(Object.create(Uu.prototype),{constructor:Hu,getPointsHoles:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Uu.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){var e=Uu.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){Uu.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push((new Uu).fromJSON(n))}return this}}),Gu.prototype=Object.assign(Object.create(on.prototype),{constructor:Gu,isLight:!0,copy:function(e){return on.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=on.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Vu.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Vu,isHemisphereLight:!0,copy:function(e){return Gu.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Wu.prototype,{_projScreenMatrix:new Fr,_lightPositionWorld:new Ar,_lookTarget:new Ar,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,r=this.matrix,n=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(n),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),qu.prototype=Object.assign(Object.create(Wu.prototype),{constructor:qu,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,r=2*yr.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),Wu.prototype.updateMatrices.call(this,e)}}),Xu.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Xu,isSpotLight:!0,copy:function(e){return Gu.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Yu.prototype=Object.assign(Object.create(Wu.prototype),{constructor:Yu,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var r=this.camera,n=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),r.position.copy(i),o.copy(r.position),o.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(o),r.updateMatrixWorld(),n.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromMatrix(a)}}),Ku.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Ku,isPointLight:!0,copy:function(e){return Gu.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Qu.prototype=Object.assign(Object.create(no.prototype),{constructor:Qu,isOrthographicCamera:!0,copy:function(e,t){return no.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,o=r+e,a=n+t,s=n-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;o=(i+=u*(this.view.offsetX/c))+u*(this.view.width/c),s=(a-=d*(this.view.offsetY/l))-d*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=on.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Zu.prototype=Object.assign(Object.create(Wu.prototype),{constructor:Zu,isDirectionalLightShadow:!0,updateMatrices:function(e){Wu.prototype.updateMatrices.call(this,e)}}),Ju.prototype=Object.assign(Object.create(Gu.prototype),{constructor:Ju,isDirectionalLight:!0,copy:function(e){return Gu.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),$u.prototype=Object.assign(Object.create(Gu.prototype),{constructor:$u,isAmbientLight:!0}),ed.prototype=Object.assign(Object.create(Gu.prototype),{constructor:ed,isRectAreaLight:!0,copy:function(e){return Gu.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Gu.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),td.prototype=Object.assign(Object.create(du.prototype),{constructor:td,load:function(e,t,r,n){var i=this,o=new pu(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},parse:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var n=new ql[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=(new Qn).setHex(e.sheen)),void 0!==e.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(n.vertexColors=e.vertexColors),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(n.skinning=e.skinning),void 0!==e.morphTargets&&(n.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(n.morphNormals=e.morphNormals),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(n.uniforms[i]={},o.type){case"t":n.uniforms[i].value=r(o.value);break;case"c":n.uniforms[i].value=(new Qn).setHex(o.value);break;case"v2":n.uniforms[i].value=(new br).fromArray(o.value);break;case"v3":n.uniforms[i].value=(new Ar).fromArray(o.value);break;case"v4":n.uniforms[i].value=(new Lr).fromArray(o.value);break;case"m3":n.uniforms[i].value=(new Sr).fromArray(o.value);case"m4":n.uniforms[i].value=(new Fr).fromArray(o.value);break;default:n.uniforms[i].value=o.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)n.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=r(e.map)),void 0!==e.matcap&&(n.matcap=r(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=r(e.alphaMap),n.transparent=!0),void 0!==e.bumpMap&&(n.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),n.normalScale=(new br).fromArray(s)}return void 0!==e.displacementMap&&(n.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=r(e.specularMap)),void 0!==e.envMap&&(n.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new br).fromArray(e.clearcoatNormalScale)),n},setTextures:function(e){return this.textures=e,this}});var rd={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function nd(){Ai.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function id(e,t,r,n){"number"==typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ii.call(this,e,t,r),this.meshPerAttribute=n||1}function od(e){du.call(this,e)}nd.prototype=Object.assign(Object.create(Ai.prototype),{constructor:nd,isInstancedBufferGeometry:!0,copy:function(e){return Ai.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Ai.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),id.prototype=Object.assign(Object.create(ii.prototype),{constructor:id,isInstancedBufferAttribute:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=ii.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),od.prototype=Object.assign(Object.create(du.prototype),{constructor:od,load:function(e,t,r,n){var i=this,o=new pu(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},parse:function(e){var t=e.isInstancedBufferGeometry?new nd:new Ai,r=e.data.index;if(void 0!==r){var n=new ad[r.type](r.array);t.setIndex(new ii(n,1))}var i=e.data.attributes;for(var o in i){var a=i[o],s=(n=new ad[a.type](a.array),new(a.isInstancedBufferAttribute?id:ii)(n,a.itemSize,a.normalized));void 0!==a.name&&(s.name=a.name),t.setAttribute(o,s)}var c=e.data.morphAttributes;if(c)for(var o in c){for(var l=c[o],u=[],d=0,h=l.length;d<h;d++){a=l[d],s=new ii(n=new ad[a.type](a.array),a.itemSize,a.normalized);void 0!==a.name&&(s.name=a.name),u.push(s)}t.morphAttributes[o]=u}e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0);var p=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==p){d=0;for(var f=p.length;d!==f;++d){var m=p[d];t.addGroup(m.start,m.count,m.materialIndex)}}var g=e.data.boundingSphere;if(void 0!==g){var v=new Ar;void 0!==g.center&&v.fromArray(g.center),t.boundingSphere=new An(v,g.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var ad={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function sd(e){du.call(this,e)}sd.prototype=Object.assign(Object.create(du.prototype),{constructor:sd,load:function(e,t,r,n){var i=this,o=""===this.path?rd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new pu(i.manager);a.setPath(this.path),a.load(e,function(r){var o=null;try{o=JSON.parse(r)}catch(t){return void 0!==n&&n(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)},r,n)},parse:function(e,t){var r=this.parseShape(e.shapes),n=this.parseGeometries(e.geometries,r),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,n,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var r=0,n=e.length;r<n;r++){var i=(new Hu).fromJSON(e[r]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var r={};if(void 0!==e)for(var n=new od,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Dl[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Dl[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Dl[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Dl[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Dl[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Dl[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Dl[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Dl[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Dl[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Dl[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new Dl[s.type]((new Bu[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Dl[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Dl[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,u=s.shapes.length;l<u;l++){var d=t[s.shapes[l]];c.push(d)}a=new Dl[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],l=0,u=s.shapes.length;l<u;l++){d=t[s.shapes[l]];c.push(d)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new Bu[h.type]).fromJSON(h)),a=new Dl[s.type](c,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=n.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),r[s.uuid]=a}return r},parseMaterials:function(e,t){var r={},n={};if(void 0!==e){var i=new td;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var u=s.materials[l];void 0===r[u.uuid]&&(r[u.uuid]=i.parse(u)),c.push(r[u.uuid])}n[s.uuid]=c}else void 0===r[s.uuid]&&(r[s.uuid]=i.parse(s)),n[s.uuid]=r[s.uuid]}}return n},parseAnimations:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=au.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),t.push(i)}return t},parseImages:function(e,t){var r=this,n={};function i(e){return r.manager.itemStart(e),o.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemError(e),r.manager.itemEnd(e)})}if(void 0!==e&&e.length>0){var o=new vu(new lu(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var c=e[a],l=c.url;if(Array.isArray(l)){n[c.uuid]=[];for(var u=0,d=l.length;u<d;u++){var h=l[u],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:r.resourcePath+h;n[c.uuid].push(i(p))}}else{p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.resourcePath+c.url;n[c.uuid]=i(p)}}}return n},parseTextures:function(e,t){function r(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var n={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new Po(t[s.image]):new Or(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=r(s.mapping,ld)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=r(s.wrap[0],ud),a.wrapT=r(s.wrap[1],ud)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=r(s.minFilter,dd)),void 0!==s.magFilter&&(a.magFilter=r(s.magFilter,dd)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),n[s.uuid]=a}return n},parseObject:function(e,t,r){var n;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(r[o])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}switch(e.type){case"Scene":n=new an,void 0!==e.background&&Number.isInteger(e.background)&&(n.background=new Qn(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?n.fog=new _s(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(n.fog=new As(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new io(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(n.focus=e.focus),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.filmGauge&&(n.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(n.filmOffset=e.filmOffset),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new Qu(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"AmbientLight":n=new $u(e.color,e.intensity);break;case"DirectionalLight":n=new Ju(e.color,e.intensity);break;case"PointLight":n=new Ku(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new ed(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new Xu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new Vu(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);n=a.bones&&a.bones.length>0?new Ws(a,s):new Ui(a,s);break;case"InstancedMesh":a=i(e.geometry),s=o(e.material);var c=e.count,l=e.instanceMatrix;(n=new ec(a,s,c)).instanceMatrix=new ii(new Float32Array(l.array),16);break;case"LOD":n=new Vs;break;case"Line":n=new sc(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":n=new dc(i(e.geometry),o(e.material));break;case"LineSegments":n=new uc(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":n=new vc(i(e.geometry),o(e.material));break;case"Sprite":n=new Fs(o(e.material));break;case"Group":n=new fs;break;default:n=new on}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(n.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(n.matrixAutoUpdate=e.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.quaternion&&n.quaternion.fromArray(e.quaternion),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(n.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(n.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&n.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(n.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.frustumCulled&&(n.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(n.renderOrder=e.renderOrder),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.layers&&(n.layers.mask=e.layers),void 0!==e.drawMode&&n.setDrawMode(e.drawMode),void 0!==e.children)for(var u=e.children,d=0;d<u.length;d++)n.add(this.parseObject(u[d],t,r));if("LOD"===e.type){void 0!==e.autoUpdate&&(n.autoUpdate=e.autoUpdate);for(var h=e.levels,p=0;p<h.length;p++){var f=h[p],m=n.getObjectByProperty("uuid",f.object);void 0!==m&&n.addLevel(m,f.distance)}}return n}});var cd,ld={UVMapping:le,CubeReflectionMapping:ue,CubeRefractionMapping:de,EquirectangularReflectionMapping:he,EquirectangularRefractionMapping:pe,SphericalReflectionMapping:fe,CubeUVReflectionMapping:me,CubeUVRefractionMapping:ge},ud={RepeatWrapping:ve,ClampToEdgeWrapping:ye,MirroredRepeatWrapping:be},dd={NearestFilter:xe,NearestMipmapNearestFilter:we,NearestMipmapLinearFilter:Ae,LinearFilter:Me,LinearMipmapNearestFilter:Se,LinearMipmapLinearFilter:Ce};function hd(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),du.call(this,e),this.options=void 0}function pd(){this.type="ShapePath",this.color=new Qn,this.subPaths=[],this.currentPath=null}function fd(e){this.type="Font",this.data=e}function md(e,t,r,n,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,c,l,u,d,h,p,f=new pd;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":a=m[g++]*t+r,s=m[g++]*t+n,f.moveTo(a,s);break;case"l":a=m[g++]*t+r,s=m[g++]*t+n,f.lineTo(a,s);break;case"q":c=m[g++]*t+r,l=m[g++]*t+n,u=m[g++]*t+r,d=m[g++]*t+n,f.quadraticCurveTo(u,d,c,l);break;case"b":c=m[g++]*t+r,l=m[g++]*t+n,u=m[g++]*t+r,d=m[g++]*t+n,h=m[g++]*t+r,p=m[g++]*t+n,f.bezierCurveTo(u,d,h,p,c,l)}}return{offsetX:o.ha*t,path:f}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function gd(e){du.call(this,e)}hd.prototype=Object.assign(Object.create(du.prototype),{constructor:hd,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=cu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;fetch(e).then(function(e){return e.blob()}).then(function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)}).then(function(r){cu.add(e,r),t&&t(r),i.manager.itemEnd(e)}).catch(function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}}),Object.assign(pd.prototype,{moveTo:function(e,t){return this.currentPath=new Uu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,i,o){return this.currentPath.bezierCurveTo(e,t,r,n,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r],o=new Hu;o.curves=i.curves,t.push(o)}return t}function n(e,t){for(var r=t.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=t[i],s=t[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[o],c=-c,s=t[i],l=-l),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var u=l*(e.x-a.x)-c*(e.y-a.y);if(0===u)return!0;if(u<0)continue;n=!n}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return n}var i=ul.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return r(o);var a,s,c,l=[];if(1===o.length)return s=o[0],(c=new Hu).curves=s.curves,l.push(c),l;var u=!i(o[0].getPoints());u=e?!u:u;var d,h,p=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(d=(s=o[v]).getPoints()),(a=e?!a:a)?(!u&&f[g]&&g++,f[g]={s:new Hu,p:d},f[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:d[0]});if(!f[0])return r(o);if(f.length>1){for(var b=!1,x=[],w=0,E=f.length;w<E;w++)p[w]=[];for(w=0,E=f.length;w<E;w++)for(var A=m[w],_=0;_<A.length;_++){for(var M=A[_],S=!0,T=0;T<f.length;T++)n(M.p,f[T].p)&&(w!==T&&x.push({froms:w,tos:T,hole:_}),S?(S=!1,p[T].push(M)):b=!0);S&&p[w].push(M)}x.length>0&&(b||(m=p))}v=0;for(var C=f.length;v<C;v++){c=f[v].s,l.push(c);for(var O=0,L=(h=m[v]).length;O<L;O++)c.holes.push(h[O].h)}return l}}),Object.assign(fd.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var r=[],n=function(e,t,r){for(var n=Array.from?Array.from(e):String(e).split(""),i=t/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,a=[],s=0,c=0,l=0;l<n.length;l++){var u=n[l];if("\n"===u)s=0,c-=o;else{var d=md(u,i,s,c,r);s+=d.offsetX,a.push(d.path)}}return a}(e,t,this.data),i=0,o=n.length;i<o;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}}),gd.prototype=Object.assign(Object.create(du.prototype),{constructor:gd,load:function(e,t,r,n){var i=this,o=new pu(this.manager);o.setPath(this.path),o.load(e,function(e){var r;try{r=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}var n=i.parse(r);t&&t(n)},r,n)},parse:function(e){return new fd(e)}});var vd={getContext:function(){return void 0===cd&&(cd=new(window.AudioContext||window.webkitAudioContext)),cd},setContext:function(e){cd=e}};function yd(e){du.call(this,e)}function bd(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new Ar)}function xd(e,t){Gu.call(this,void 0,t),this.sh=void 0!==e?e:new bd}function wd(e,t,r){xd.call(this,void 0,r);var n=(new Qn).set(e),i=(new Qn).set(t),o=new Ar(n.r,n.g,n.b),a=new Ar(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function Ed(e,t){xd.call(this,void 0,t);var r=(new Qn).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}yd.prototype=Object.assign(Object.create(du.prototype),{constructor:yd,load:function(e,t,r,n){var i=new pu(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(e){var r=e.slice(0);vd.getContext().decodeAudioData(r,function(e){t(e)})},r,n)}}),Object.assign(bd.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var r=e.x,n=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScale(o[1],.488603*n),t.addScale(o[2],.488603*i),t.addScale(o[3],.488603*r),t.addScale(o[4],r*n*1.092548),t.addScale(o[5],n*i*1.092548),t.addScale(o[6],.315392*(3*i*i-1)),t.addScale(o[7],r*i*1.092548),t.addScale(o[8],.546274*(r*r-n*n)),t},getIrradianceAt:function(e,t){var r=e.x,n=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScale(o[1],1.023328*n),t.addScale(o[2],1.023328*i),t.addScale(o[3],1.023328*r),t.addScale(o[4],.858086*r*n),t.addScale(o[5],.858086*n*i),t.addScale(o[6],.743125*i*i-.247708),t.addScale(o[7],.858086*r*i),t.addScale(o[8],.429043*(r*r-n*n)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var r=this.coefficients,n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var r=this.coefficients,n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}}),Object.assign(bd,{getBasisAt:function(e,t){var r=e.x,n=e.y,i=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*i,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*r*i,t[8]=.546274*(r*r-n*n)}}),xd.prototype=Object.assign(Object.create(Gu.prototype),{constructor:xd,isLightProbe:!0,copy:function(e){return Gu.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return Gu.prototype.toJSON.call(this,e)}}),wd.prototype=Object.assign(Object.create(xd.prototype),{constructor:wd,isHemisphereLightProbe:!0,copy:function(e){return xd.prototype.copy.call(this,e),this},toJSON:function(e){return xd.prototype.toJSON.call(this,e)}}),Ed.prototype=Object.assign(Object.create(xd.prototype),{constructor:Ed,isAmbientLightProbe:!0,copy:function(e){return xd.prototype.copy.call(this,e),this},toJSON:function(e){return xd.prototype.toJSON.call(this,e)}});var Ad=new Fr,_d=new Fr;function Md(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new io,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new io,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Sd(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Md.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var r,n,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(yr.DEG2RAD*t.fov*.5)/t.zoom;_d.elements[12]=-o,Ad.elements[12]=o,r=-s*t.aspect+a,n=s*t.aspect+a,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraL.projectionMatrix.copy(i),r=-s*t.aspect-a,n=s*t.aspect-a,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_d),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ad)}}),Object.assign(Sd.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var Td=new Ar,Cd=new xr,Od=new Ar,Ld=new Ar;function Rd(){on.call(this),this.type="AudioListener",this.context=vd.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Sd}function Pd(e){on.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}Rd.prototype=Object.assign(Object.create(on.prototype),{constructor:Rd,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){on.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Td,Cd,Od),Ld.set(0,0,-1).applyQuaternion(Cd),t.positionX){var n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Td.x,n),t.positionY.linearRampToValueAtTime(Td.y,n),t.positionZ.linearRampToValueAtTime(Td.z,n),t.forwardX.linearRampToValueAtTime(Ld.x,n),t.forwardY.linearRampToValueAtTime(Ld.y,n),t.forwardZ.linearRampToValueAtTime(Ld.z,n),t.upX.linearRampToValueAtTime(r.x,n),t.upY.linearRampToValueAtTime(r.y,n),t.upZ.linearRampToValueAtTime(r.z,n)}else t.setPosition(Td.x,Td.y,Td.z),t.setOrientation(Ld.x,Ld.y,Ld.z,r.x,r.y,r.z)}}),Pd.prototype=Object.assign(Object.create(on.prototype),{constructor:Pd,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var kd=new Ar,jd=new xr,Dd=new Ar,Id=new Ar;function Nd(e){Pd.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function zd(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Bd(e,t,r){this.binding=e,this.valueSize=r;var n,i=Float64Array;switch(t){case"quaternion":n=this._slerp;break;case"string":case"bool":i=Array,n=this._select;break;default:n=this._lerp}this.buffer=new i(4*r),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Nd.prototype=Object.assign(Object.create(Pd.prototype),{constructor:Nd,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(e){if(on.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(kd,jd,Dd),Id.set(0,0,1).applyQuaternion(jd);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(kd.x,r),t.positionY.linearRampToValueAtTime(kd.y,r),t.positionZ.linearRampToValueAtTime(kd.z,r),t.orientationX.linearRampToValueAtTime(Id.x,r),t.orientationY.linearRampToValueAtTime(Id.y,r),t.orientationZ.linearRampToValueAtTime(Id.z,r)}else t.setPosition(kd.x,kd.y,kd.z),t.setOrientation(Id.x,Id.y,Id.z)}}}),Object.assign(zd.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}}),Object.assign(Bd.prototype,{accumulate:function(e,t){var r=this.buffer,n=this.valueSize,i=e*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(r,n,a,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(r[s]!==r[s+t]){o.setValue(r,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,r=this.valueSize,n=3*r;e.getValue(t,n);for(var i=r,o=n;i!==o;++i)t[i]=t[n+i%r];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)e[t+o]=e[r+o]},_slerp:function(e,t,r,n){xr.slerpFlat(e,t,e,t,e,r,n)},_lerp:function(e,t,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[r+a]*n}}});var Fd=new RegExp("[\\[\\]\\.:\\/]","g"),Ud="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Hd=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Gd=/(WCOD+)?/.source.replace("WCOD",Ud),Vd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Wd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),qd=new RegExp("^"+Hd+Gd+Vd+Wd+"$"),Xd=["material","materials","bones"];function Yd(e,t,r){var n=r||Kd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function Kd(e,t,r){this.path=t,this.parsedPath=r||Kd.parseTrackName(t),this.node=Kd.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Qd(){this.uuid=yr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function Zd(e,t,r){this._mixer=e,this._clip=t,this._localRoot=r||null;for(var n=t.tracks,i=n.length,o=new Array(i),a={endingStart:St,endingEnd:St},s=0;s!==i;++s){var c=n[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=wt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Jd(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function $d(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function eh(e,t,r){Ms.call(this,e,t),this.meshPerAttribute=r||1}function th(e,t,r,n){this.ray=new Rn(e,t),this.near=r||0,this.far=n||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function rh(e,t){return e.distance-t.distance}function nh(e,t,r,n){if(!1!==e.visible&&(e.raycast(t,r),!0===n))for(var i=e.children,o=0,a=i.length;o<a;o++)nh(i[o],t,r,!0)}function ih(e,t,r){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==r?r:0,this}function oh(e,t,r){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==r?r:0,this}Object.assign(Yd.prototype,{getValue:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Object.assign(Kd,{Composite:Yd,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new Kd.Composite(e,t,r):new Kd(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Fd,"")},parseTrackName:function(e){var t=qd.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==Xd.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){var n=function(e){for(var r=0;r<e.length;r++){var i=e[r];if(i.name===t||i.uuid===t)return i;var o=n(i.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}}),Object.assign(Kd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(e=Kd.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var o=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[n];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Kd.prototype,{_getValue_unbound:Kd.prototype.getValue,_setValue_unbound:Kd.prototype.setValue}),Object.assign(Qd.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,l=0,u=arguments.length;l!==u;++l){var d=arguments[l],h=d.uuid,p=n[h];if(void 0===p){p=t++,n[h]=p,e.push(d);for(var f=0,m=s;f!==m;++f)a[f].push(new Kd(d,i[f],o[f]))}else if(p<r){c=e[p];var g=--r,v=e[g];n[v.uuid]=p,e[p]=v,n[h]=g,e[g]=d;for(f=0,m=s;f!==m;++f){var y=a[f],b=y[g],x=y[p];y[p]=b,void 0===x&&(x=new Kd(d,i[f],o[f])),y[g]=x}}else e[p]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,i=n.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,l=r[c];if(void 0!==l&&l>=t){var u=t++,d=e[u];r[d.uuid]=l,e[l]=d,r[c]=u,e[u]=s;for(var h=0,p=i;h!==p;++h){var f=n[h],m=f[u],g=f[l];f[l]=m,f[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a].uuid,l=n[c];if(void 0!==l)if(delete n[c],l<r){var u=--r,d=e[u],h=e[v=--t];n[d.uuid]=l,e[l]=d,n[h.uuid]=u,e[u]=h,e.pop();for(var p=0,f=o;p!==f;++p){var m=(y=i[p])[u],g=y[v];y[l]=m,y[u]=g,y.pop()}}else{var v;n[(h=e[v=--t]).uuid]=l,e[l]=h,e.pop();for(p=0,f=o;p!==f;++p){var y;(y=i[p])[l]=y[v],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,n=r[e],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);n=i.length,r[e]=n,o.push(e),a.push(t),i.push(u);for(var d=l,h=s.length;d!==h;++d){var p=s[d];u[d]=new Kd(p,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Object.assign(Zd.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){var n=this._clip.duration,i=e._clip.duration,o=i/n,a=n/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+r,c[0]=e/a,c[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*r;if(o<0||0===r)return;this._startTime=null,t=r*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,u=0,d=c.length;u!==d;++u)c[u].evaluate(a),l[u].accumulate(n,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r)t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,r=this._clip.duration,n=this.loop,i=this._loopCount,o=n===Et;if(0===e)return-1===i?t:o&&1==(1&i)?r-t:t;if(n===xt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=r)t=r;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=r||t<0){var a=Math.floor(t/r);t-=r*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?r:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=t;if(o&&1==(1&i))return r-t}return t},_setEndings:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=Tt,n.endingEnd=Tt):(n.endingStart=e?this.zeroSlopeAtStart?Tt:St:Ct,n.endingEnd=t?this.zeroSlopeAtEnd?Tt:St:Ct)},_scheduleFading:function(e,t,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=r,this}}),Jd.prototype=Object.assign(Object.create(mr.prototype),{constructor:Jd,_bindAction:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,o=e._propertyBindings,a=e._interpolants,s=r.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==i;++u){var d=n[u],h=d.name,p=l[h];if(void 0!==p)o[u]=p;else{if(void 0!==(p=o[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}var f=t&&t._propertyBindings[u].binding.parsedPath;++(p=new Bd(Kd.create(r,h,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,h),o[u]=p}a[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,r){var n=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var n=this._bindingsByRootAndName,i=n[t],o=this._bindings;void 0===i&&(i={},n[t]=i),i[r]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[n]},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&((r=new Ql(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var r=t||this._root,n=r.uuid,i="string"==typeof e?au.findByName(r,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[n];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new Zd(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,o,n),l},existingAction:function(e,t){var r=t||this._root,n=r.uuid,i="string"==typeof e?au.findByName(r,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[n]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,r=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==n;++i)r[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==r;++a){t[a]._update(n,e,i,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var l=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,t[l]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete n[r]}},uncacheRoot:function(e){var t=e.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),$d.prototype.clone=function(){return new $d(void 0===this.value.clone?this.value:this.value.clone())},eh.prototype=Object.assign(Object.create(Ms.prototype),{constructor:eh,isInstancedInterleavedBuffer:!0,copy:function(e){return Ms.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(th.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,r){var n=r||[];return nh(e,this,n,t),n.sort(rh),n},intersectObjects:function(e,t,r){var n=r||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,o=e.length;i<o;i++)nh(e[i],this,n,t);return n.sort(rh),n}}),Object.assign(ih.prototype,{set:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(yr.clamp(t/this.radius,-1,1))),this}}),Object.assign(oh.prototype,{set:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}});var ah=new br;function sh(e,t){this.min=void 0!==e?e:new br(1/0,1/0),this.max=void 0!==t?t:new br(-1/0,-1/0)}Object.assign(sh.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var r=ah.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new br),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new br),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new br),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new br),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return ah.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var ch=new Ar,lh=new Ar;function uh(e,t){this.start=void 0!==e?e:new Ar,this.end=void 0!==t?t:new Ar}function dh(e){on.call(this),this.material=e,this.render=function(){}}Object.assign(uh.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Ar),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Ar),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Ar),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){ch.subVectors(e,this.start),lh.subVectors(this.end,this.start);var r=lh.dot(lh),n=lh.dot(ch)/r;return t&&(n=yr.clamp(n,0,1)),n},closestPointToPoint:function(e,t,r){var n=this.closestPointToPointParameter(e,t);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new Ar),this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),dh.prototype=Object.create(on.prototype),dh.prototype.constructor=dh,dh.prototype.isImmediateRenderObject=!0;var hh=new Ar,ph=new Ar,fh=new Sr,mh=["a","b","c"];function gh(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new Ai,l=new hi(2*a*3,3);c.setAttribute("position",l),uc.call(this,c,new tc({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}gh.prototype=Object.create(uc.prototype),gh.prototype.constructor=gh,gh.prototype.update=function(){this.object.updateMatrixWorld(!0),fh.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,r=this.object.geometry;if(r&&r.isGeometry)for(var n=r.vertices,i=r.faces,o=0,a=0,s=i.length;a<s;a++)for(var c=i[a],l=0,u=c.vertexNormals.length;l<u;l++){var d=n[c[mh[l]]],h=c.vertexNormals[l];hh.copy(d).applyMatrix4(e),ph.copy(h).applyMatrix3(fh).normalize().multiplyScalar(this.size).add(hh),t.setXYZ(o,hh.x,hh.y,hh.z),o+=1,t.setXYZ(o,ph.x,ph.y,ph.z),o+=1}else if(r&&r.isBufferGeometry){var p=r.attributes.position,f=r.attributes.normal;for(o=0,l=0,u=p.count;l<u;l++)hh.set(p.getX(l),p.getY(l),p.getZ(l)).applyMatrix4(e),ph.set(f.getX(l),f.getY(l),f.getZ(l)),ph.applyMatrix3(fh).normalize().multiplyScalar(this.size).add(hh),t.setXYZ(o,hh.x,hh.y,hh.z),o+=1,t.setXYZ(o,ph.x,ph.y,ph.z),o+=1}t.needsUpdate=!0};var vh=new Ar;function yh(e,t){on.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var r=new Ai,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.setAttribute("position",new hi(n,3));var c=new tc({fog:!1});this.cone=new uc(r,c),this.add(this.cone),this.update()}yh.prototype=Object.create(on.prototype),yh.prototype.constructor=yh,yh.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},yh.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),vh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var bh=new Ar,xh=new Fr,wh=new Fr;function Eh(e){for(var t=function e(t){var r=[];t&&t.isBone&&r.push(t);for(var n=0;n<t.children.length;n++)r.push.apply(r,e(t.children[n]));return r}(e),r=new Ai,n=[],i=[],o=new Qn(0,0,1),a=new Qn(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.setAttribute("position",new hi(n,3)),r.setAttribute("color",new hi(i,3));var l=new tc({vertexColors:A,depthTest:!1,depthWrite:!1,transparent:!0});uc.call(this,r,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ah(e,t,r){this.light=e,this.light.updateMatrixWorld(),this.color=r;var n=new xl(t,4,2),i=new ni({wireframe:!0,fog:!1});Ui.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function _h(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var r=new Ai;r.setAttribute("position",new hi([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere();var n=new tc({fog:!1});sc.call(this,r,n);var i=new Ai;i.setAttribute("position",new hi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Ui(i,new ni({side:v,fog:!1}))),this.update()}Eh.prototype=Object.create(uc.prototype),Eh.prototype.constructor=Eh,Eh.prototype.updateMatrixWorld=function(e){var t=this.bones,r=this.geometry,n=r.getAttribute("position");wh.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(xh.multiplyMatrices(wh,a.matrixWorld),bh.setFromMatrixPosition(xh),n.setXYZ(o,bh.x,bh.y,bh.z),xh.multiplyMatrices(wh,a.parent.matrixWorld),bh.setFromMatrixPosition(xh),n.setXYZ(o+1,bh.x,bh.y,bh.z),o+=2)}r.getAttribute("position").needsUpdate=!0,on.prototype.updateMatrixWorld.call(this,e)},Ah.prototype=Object.create(Ui.prototype),Ah.prototype.constructor=Ah,Ah.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ah.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},_h.prototype=Object.create(sc.prototype),_h.prototype.constructor=_h,_h.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},_h.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var Mh=new Ar,Sh=new Qn,Th=new Qn;function Ch(e,t,r){on.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var n=new Rc(t);n.rotateY(.5*Math.PI),this.material=new ni({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=A);var i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.setAttribute("color",new ii(o,3)),this.add(new Ui(n,this.material)),this.update()}function Oh(e,t){this.lightProbe=e,this.size=t;var r={GAMMA_OUTPUT:""},n=new ro({defines:r,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),i=new xl(1,32,16);Ui.call(this,i,n),this.onBeforeRender()}function Lh(e,t,r,n){e=e||10,t=t||10,r=new Qn(void 0!==r?r:4473924),n=new Qn(void 0!==n?n:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],c=[],l=0,u=0,d=-a;l<=t;l++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);var h=l===i?r:n;h.toArray(c,u),u+=3,h.toArray(c,u),u+=3,h.toArray(c,u),u+=3,h.toArray(c,u),u+=3}var p=new Ai;p.setAttribute("position",new hi(s,3)),p.setAttribute("color",new hi(c,3));var f=new tc({vertexColors:A});uc.call(this,p,f)}function Rh(e,t,r,n,i,o){e=e||10,t=t||16,r=r||8,n=n||64,i=new Qn(void 0!==i?i:4473924),o=new Qn(void 0!==o?o:8947848);var a,s,c,l,u,d,h,p=[],f=[];for(l=0;l<=t;l++)c=l/t*(2*Math.PI),a=Math.sin(c)*e,s=Math.cos(c)*e,p.push(0,0,0),p.push(a,0,s),h=1&l?i:o,f.push(h.r,h.g,h.b),f.push(h.r,h.g,h.b);for(l=0;l<=r;l++)for(h=1&l?i:o,d=e-e/r*l,u=0;u<n;u++)c=u/n*(2*Math.PI),a=Math.sin(c)*d,s=Math.cos(c)*d,p.push(a,0,s),f.push(h.r,h.g,h.b),c=(u+1)/n*(2*Math.PI),a=Math.sin(c)*d,s=Math.cos(c)*d,p.push(a,0,s),f.push(h.r,h.g,h.b);var m=new Ai;m.setAttribute("position",new hi(p,3)),m.setAttribute("color",new hi(f,3));var g=new tc({vertexColors:A});uc.call(this,m,g)}function Ph(e,t,r,n){this.audio=e,this.range=t||1,this.divisionsInnerAngle=r||16,this.divisionsOuterAngle=n||2;var i=new Ai,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,a=new Float32Array(3*(3*o+3));i.setAttribute("position",new ii(a,3));var s=new tc({color:65280}),c=new tc({color:16776960});sc.call(this,i,[c,s]),this.update()}Ch.prototype=Object.create(on.prototype),Ch.prototype.constructor=Ch,Ch.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Ch.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Sh.copy(this.light.color),Th.copy(this.light.groundColor);for(var r=0,n=t.count;r<n;r++){var i=r<n/2?Sh:Th;t.setXYZ(r,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(Mh.setFromMatrixPosition(this.light.matrixWorld).negate())},Oh.prototype=Object.create(Ui.prototype),Oh.prototype.constructor=Oh,Oh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Oh.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Lh.prototype=Object.assign(Object.create(uc.prototype),{constructor:Lh,copy:function(e){return uc.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Rh.prototype=Object.create(uc.prototype),Rh.prototype.constructor=Rh,Ph.prototype=Object.create(sc.prototype),Ph.prototype.constructor=Ph,Ph.prototype.update=function(){var e,t,r=this.audio,n=this.range,i=this.divisionsInnerAngle,o=this.divisionsOuterAngle,a=yr.degToRad(r.panner.coneInnerAngle),s=yr.degToRad(r.panner.coneOuterAngle),c=a/2,l=s/2,u=0,d=0,h=this.geometry,p=h.attributes.position;function f(r,i,o,a){var s=(i-r)/o;for(p.setXYZ(u,0,0,0),d++,e=r;e<i;e+=s)t=u+d,p.setXYZ(t,Math.sin(e)*n,0,Math.cos(e)*n),p.setXYZ(t+1,Math.sin(Math.min(e+s,i))*n,0,Math.cos(Math.min(e+s,i))*n),p.setXYZ(t+2,0,0,0),d+=3;h.addGroup(u,d,a),u+=d,d=0}h.clearGroups(),f(-l,-c,o,0),f(-c,c,i,1),f(c,l,o,0),p.needsUpdate=!0,a===s&&(this.material[0].visible=!1)},Ph.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var kh=new Ar,jh=new Ar,Dh=new Sr;function Ih(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Ai,l=new hi(2*a*3,3);c.setAttribute("position",l),uc.call(this,c,new tc({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}Ih.prototype=Object.create(uc.prototype),Ih.prototype.constructor=Ih,Ih.prototype.update=function(){this.object.updateMatrixWorld(!0),Dh.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,r=this.object.geometry,n=r.vertices,i=r.faces,o=0,a=0,s=i.length;a<s;a++){var c=i[a],l=c.normal;kh.copy(n[c.a]).add(n[c.b]).add(n[c.c]).divideScalar(3).applyMatrix4(e),jh.copy(l).applyMatrix3(Dh).normalize().multiplyScalar(this.size).add(kh),t.setXYZ(o,kh.x,kh.y,kh.z),o+=1,t.setXYZ(o,jh.x,jh.y,jh.z),o+=1}t.needsUpdate=!0};var Nh=new Ar,zh=new Ar,Bh=new Ar;function Fh(e,t,r){on.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1);var n=new Ai;n.setAttribute("position",new hi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new tc({fog:!1});this.lightPlane=new sc(n,i),this.add(this.lightPlane),(n=new Ai).setAttribute("position",new hi([0,0,0,0,0,1],3)),this.targetLine=new sc(n,i),this.add(this.targetLine),this.update()}Fh.prototype=Object.create(on.prototype),Fh.prototype.constructor=Fh,Fh.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Fh.prototype.update=function(){Nh.setFromMatrixPosition(this.light.matrixWorld),zh.setFromMatrixPosition(this.light.target.matrixWorld),Bh.subVectors(zh,Nh),this.lightPlane.lookAt(zh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zh),this.targetLine.scale.z=Bh.length()};var Uh=new Ar,Hh=new no;function Gh(e){var t=new Ai,r=new tc({color:16777215,vertexColors:E}),n=[],i=[],o={},a=new Qn(16755200),s=new Qn(16711680),c=new Qn(43775),l=new Qn(16777215),u=new Qn(3355443);function d(e,t,r){h(e,r),h(t,r)}function h(e,t){n.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(n.length/3-1)}d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",c),d("u2","u3",c),d("u3","u1",c),d("c","t",l),d("p","c",u),d("cn1","cn2",u),d("cn3","cn4",u),d("cf1","cf2",u),d("cf3","cf4",u),t.setAttribute("position",new hi(n,3)),t.setAttribute("color",new hi(i,3)),uc.call(this,t,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Vh(e,t,r,n,i,o,a){Uh.set(i,o,a).unproject(n);var s=t[e];if(void 0!==s)for(var c=r.getAttribute("position"),l=0,u=s.length;l<u;l++)c.setXYZ(s[l],Uh.x,Uh.y,Uh.z)}Gh.prototype=Object.create(uc.prototype),Gh.prototype.constructor=Gh,Gh.prototype.update=function(){var e=this.geometry,t=this.pointMap;Hh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Vh("c",t,e,Hh,0,0,-1),Vh("t",t,e,Hh,0,0,1),Vh("n1",t,e,Hh,-1,-1,-1),Vh("n2",t,e,Hh,1,-1,-1),Vh("n3",t,e,Hh,-1,1,-1),Vh("n4",t,e,Hh,1,1,-1),Vh("f1",t,e,Hh,-1,-1,1),Vh("f2",t,e,Hh,1,-1,1),Vh("f3",t,e,Hh,-1,1,1),Vh("f4",t,e,Hh,1,1,1),Vh("u1",t,e,Hh,.7,1.1,-1),Vh("u2",t,e,Hh,-.7,1.1,-1),Vh("u3",t,e,Hh,0,2,-1),Vh("cf1",t,e,Hh,-1,0,1),Vh("cf2",t,e,Hh,1,0,1),Vh("cf3",t,e,Hh,0,-1,1),Vh("cf4",t,e,Hh,0,1,1),Vh("cn1",t,e,Hh,-1,0,-1),Vh("cn2",t,e,Hh,1,0,-1),Vh("cn3",t,e,Hh,0,-1,-1),Vh("cn4",t,e,Hh,0,1,-1),e.getAttribute("position").needsUpdate=!0};var Wh=new xn;function qh(e,t){this.object=e,void 0===t&&(t=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Ai;i.setIndex(new ii(r,1)),i.setAttribute("position",new ii(n,3)),uc.call(this,i,new tc({color:t})),this.matrixAutoUpdate=!1,this.update()}function Xh(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Ai;n.setIndex(new ii(r,1)),n.setAttribute("position",new hi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),uc.call(this,n,new tc({color:t})),this.geometry.computeBoundingSphere()}function Yh(e,t,r){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var n=void 0!==r?r:16776960,i=new Ai;i.setAttribute("position",new hi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),sc.call(this,i,new tc({color:n}));var o=new Ai;o.setAttribute("position",new hi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Ui(o,new ni({color:n,opacity:.2,transparent:!0,depthWrite:!1})))}qh.prototype=Object.create(uc.prototype),qh.prototype.constructor=qh,qh.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Wh.setFromObject(this.object),!Wh.isEmpty()){var t=Wh.min,r=Wh.max,n=this.geometry.attributes.position,i=n.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=t.x,i[4]=r.y,i[5]=r.z,i[6]=t.x,i[7]=t.y,i[8]=r.z,i[9]=r.x,i[10]=t.y,i[11]=r.z,i[12]=r.x,i[13]=r.y,i[14]=t.z,i[15]=t.x,i[16]=r.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=r.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}},qh.prototype.setFromObject=function(e){return this.object=e,this.update(),this},qh.prototype.copy=function(e){return uc.prototype.copy.call(this,e),this.object=e.object,this},qh.prototype.clone=function(){return(new this.constructor).copy(this)},Xh.prototype=Object.create(uc.prototype),Xh.prototype.constructor=Xh,Xh.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),on.prototype.updateMatrixWorld.call(this,e))},Yh.prototype=Object.create(sc.prototype),Yh.prototype.constructor=Yh,Yh.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?v:g,this.lookAt(this.plane.normal),on.prototype.updateMatrixWorld.call(this,e)};var Kh,Qh,Zh=new Ar;function Jh(e,t,r,n,i,o){on.call(this),void 0===e&&(e=new Ar(0,0,1)),void 0===t&&(t=new Ar(0,0,0)),void 0===r&&(r=1),void 0===n&&(n=16776960),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===Kh&&((Kh=new Ai).setAttribute("position",new hi([0,0,0,0,1,0],3)),(Qh=new Ll(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new sc(Kh,new tc({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ui(Qh,new ni({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,o)}function $h(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new Ai;r.setAttribute("position",new hi(t,3)),r.setAttribute("color",new hi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var n=new tc({vertexColors:A});uc.call(this,r,n)}function ep(e,t,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ei(e,t,r,i,o,a)}Jh.prototype=Object.create(on.prototype),Jh.prototype.constructor=Jh,Jh.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Zh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Zh,t)}},Jh.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},Jh.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Jh.prototype.copy=function(e){return on.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Jh.prototype.clone=function(){return(new this.constructor).copy(this)},$h.prototype=Object.create(uc.prototype),$h.prototype.constructor=$h;var tp=0,rp=1;function np(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function ip(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function op(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new vc(e,t)}function ap(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Fs(e)}function sp(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new vc(e,t)}function cp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new hc(e)}function lp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new hc(e)}function up(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new hc(e)}function dp(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ar(e,t,r)}function hp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new ii(e,t).setDynamic(!0)}function pp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new oi(e,t)}function fp(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ai(e,t)}function mp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new si(e,t)}function gp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ci(e,t)}function vp(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new li(e,t)}function yp(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ui(e,t)}function bp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new di(e,t)}function xp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new hi(e,t)}function wp(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new pi(e,t)}function Ep(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Cu.call(this,e),this.type="catmullrom",this.closed=!0}function Ap(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Cu.call(this,e),this.type="catmullrom"}function _p(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Cu.call(this,e),this.type="catmullrom"}function Mp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new $h(e)}function Sp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new qh(e,t)}function Tp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new uc(new Cl(e.geometry),new tc({color:void 0!==t?t:16777215}))}function Cp(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new uc(new Ac(e.geometry),new tc({color:void 0!==t?t:16777215}))}function Op(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new pu(e)}function Lp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new gu(e)}xu.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(xu.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Fu.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Yi,r=0,n=e.length;r<n;r++){var i=e[r];t.vertices.push(new Ar(i.x,i.y,i.z||0))}return t}}),Object.assign(Uu.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Ep.prototype=Object.create(Cu.prototype),Ap.prototype=Object.create(Cu.prototype),_p.prototype=Object.create(Cu.prototype),Object.assign(_p.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Lh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Eh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(du.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),rd.extractUrlBase(e)}}),du.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(sd.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(sh.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(xn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),uh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(yr,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),yr.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),yr.ceilPowerOfTwo(e)}}),Object.assign(Sr.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Fr.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ar).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,o)}}),Dn.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},xr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Rn.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(qn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(qn,{barycoordFromPoint:function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),qn.getBarycoord(e,t,r,n,i)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),qn.getNormal(e,t,r,n)}}),Object.assign(Hu.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new pl(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ml(this,e)}}),Object.assign(br.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ar.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Lr.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Yi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(on.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(on.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Vs.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ys.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Ws.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(xu.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),io.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Gu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ii.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===sr},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(sr)}}}),Object.assign(ii.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?sr:ar),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Ai.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ii(arguments[1],arguments[2])))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)}}),Object.defineProperties(Ai.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ms.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===sr},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Ms.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?sr:ar),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(fl.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties($d.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ri.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Qn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===b}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Fl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ro.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Es.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Es.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(cs.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(co.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(Rr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(xs.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Object.defineProperties(Pd.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new yd).load(e,function(e){t.setBuffer(e)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),zd.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},so.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Rp={merge:function(e,t,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Pp(){console.error("THREE.CanvasRenderer has been removed")}function kp(){console.error("THREE.JSONLoader has been removed.")}Tr.crossOrigin=void 0,Tr.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new bu;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,r,void 0,n);return t&&(o.mapping=t),o},Tr.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new yu;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,r,void 0,n);return t&&(o.mapping=t),o},Tr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Tr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var jp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Dp(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:n}}))},function(e,t,r){e.exports=r(870)()},function(e,t,r){var n=r(77),i=r(62),o=r(690),a=r(23);e.exports=function(e,t){return(a(e)?n:o)(e,i(t,3))}},function(e,t){var r=Array.isArray;e.exports=r},,function(e,t,r){"use strict";for(var n=function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e},i={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},o=0;o<24;o+=1)i[112+o]="F"+(o+1);for(var a=0;a<26;a+=1){var s=a+65;i[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var c={codes:i,getCode:function(e){return n(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var t=n(e);if(t&&e.key)return e.key;var r=i[t?e.keyCode||e.which:e];return Array.isArray(r)&&(r=t?r[e.shiftKey?1:0]:r[0]),r},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};c.Spacebar=c[" "],c.Digit0=c[0],c.Digit1=c[1],c.Digit2=c[2],c.Digit3=c[3],c.Digit4=c[4],c.Digit5=c[5],c.Digit6=c[6],c.Digit7=c[7],c.Digit8=c[8],c.Digit9=c[9],c.Tilde=c["~"],c.GraveAccent=c["`"],c.ExclamationPoint=c["!"],c.AtSign=c["@"],c.PoundSign=c["#"],c.PercentSign=c["%"],c.Caret=c["^"],c.Ampersand=c["&"],c.PlusSign=c["+"],c.MinusSign=c["-"],c.EqualsSign=c["="],c.DivisionSign=c["/"],c.MultiplicationSign=c["*"],c.Comma=c[","],c.Decimal=c["."],c.Colon=c[":"],c.Semicolon=c[";"],c.Pipe=c["|"],c.BackSlash=c["\\"],c.QuestionMark=c["?"],c.SingleQuote=c["'"],c.DoubleQuote=c['"'],c.LeftCurlyBrace=c["{"],c.RightCurlyBrace=c["}"],c.LeftParenthesis=c["("],c.RightParenthesis=c[")"],c.LeftAngleBracket=c["<"],c.RightAngleBracket=c[">"],c.LeftSquareBracket=c["["],c.RightSquareBracket=c["]"],e.exports=c},function(e,t,r){var n=r(336),i=r(113),o=r(156),a=i(function(e,t){return o(e)?n(e,t):[]});e.exports=a},function(e,t,r){var n=r(145);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,i,o,a,s],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";var n;n=r(672),e.exports=n.default,e.exports.instance=n.instance},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){var n=r(472);e.exports=function(e){return e&&e.length?n(e):[]}},,function(e,t,r){var n=r(311),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){var n=r(337),i=r(46),o=r(117),a=r(95),s=r(339),c=Math.max;e.exports=function(e,t,r,l){e=i(e)?e:s(e),r=r&&!l?a(r):0;var u=e.length;return r<0&&(r=c(u+r,0)),o(e)?r<=u&&e.indexOf(t,r)>-1:!!u&&n(e,t,r)>-1}},function(e,t,r){"use strict";var n=r(398),i=r.n(n);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a=function e(t,r){var n=r.default,i=void 0===n?null:n,o=r.triggerUpdate,a=void 0===o||o,s=r.onChange,c=void 0===s?function(e,t){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=i,this.triggerUpdate=a,this.onChange=c};t.a=function(e){var t=e.stateInit,r=void 0===t?function(){return{}}:t,n=e.props,s=void 0===n?{}:n,c=e.methods,l=void 0===c?{}:c,u=e.aliases,d=void 0===u?{}:u,h=e.init,p=void 0===h?function(){}:h,f=e.update,m=void 0===f?function(){}:f,g=Object.keys(s).map(function(e){return new a(e,s[e])});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},r instanceof Function?r(e):r,{initialised:!1}),n={};function a(t){return s(t,e),c(),a}var s=function(e,r){p.call(a,e,t,r),t.initialised=!0},c=i()(function(){t.initialised&&(m.call(a,t,n),n={})},1);return g.forEach(function(e){a[e.name]=function(e){var r=e.name,i=e.triggerUpdate,o=void 0!==i&&i,s=e.onChange,l=void 0===s?function(e,t){}:s,u=e.defaultVal,d=void 0===u?null:u;return function(e){var i=t[r];if(!arguments.length)return i;var s=void 0===e?d:e;return t[r]=s,l.call(a,s,t,i),!n.hasOwnProperty(r)&&(n[r]=i),o&&c(),a}}(e)}),Object.keys(l).forEach(function(e){a[e]=function(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=l[e]).call.apply(r,[a,t].concat(i))}}),Object.entries(d).forEach(function(e){var t=o(e,2),r=t[0],n=t[1];return a[r]=a[n]}),a.resetProps=function(){return g.forEach(function(e){a[e.name](e.defaultVal)}),a},a.resetProps(),t._rerender=c,a}}},function(e,t,r){var n=r(598),i=r(599),o=r(600);e.exports=function(e){return n(e)||i(e)||o()}},function(e,t,r){"use strict";(function(e){var r=function(){this._tweens={},this._tweensAddedDuringUpdate={}};r.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var r=Object.keys(this._tweens);if(0===r.length)return!1;for(e=void 0!==e?e:i.now();r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var o=this._tweens[r[n]];o&&!1===o.update(e)&&(o._isPlaying=!1,t||delete this._tweens[r[n]])}r=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var n,i=new r;i.Group=r,i._nextId=0,i.nextId=function(){return i._nextId++},"undefined"==typeof self&&void 0!==e&&e.hrtime?i.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?i.now=self.performance.now.bind(self.performance):void 0!==Date.now?i.now=Date.now:i.now=function(){return(new Date).getTime()},i.Tween=function(e,t){this._isPaused=!1,this._pauseStart=null,this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=i.Easing.Linear.None,this._interpolationFunction=i.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||i,this._id=i.nextId()},i.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},duration:function(e){return this._duration=e,this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?i.now()+parseFloat(e):e:i.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(void 0===this._valuesStart[t]&&(this._valuesStart[t]=this._object[t]),this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},pause:function(e){return this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=void 0===e?i.now():e,this._group.remove(this),this)},resume:function(e){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===e?i.now():e)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onRepeat:function(e){return this._onRepeatCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,r,n;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r,n=this._easingFunction(r),this._valuesEnd)if(void 0!==this._valuesStart[t]){var i=this._valuesStart[t]||0,o=this._valuesEnd[t];o instanceof Array?this._object[t]=this._interpolationFunction(o,n):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[t]=i+(o-i)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var a=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=a}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,c=this._chainedTweens.length;s<c;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},i.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-i.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*i.Easing.Bounce.In(2*e):.5*i.Easing.Bounce.Out(2*e-1)+.5}}},i.Interpolation={Linear:function(e,t){var r=e.length-1,n=r*t,o=Math.floor(n),a=i.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],n):t>1?a(e[r],e[r-1],r-n):a(e[o],e[o+1>r?r:o+1],n-o)},Bezier:function(e,t){for(var r=0,n=e.length-1,o=Math.pow,a=i.Interpolation.Utils.Bernstein,s=0;s<=n;s++)r+=o(1-t,n-s)*o(t,s)*e[s]*a(n,s);return r},CatmullRom:function(e,t){var r=e.length-1,n=r*t,o=Math.floor(n),a=i.Interpolation.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(o=Math.floor(n=r*(1+t))),a(e[(o-1+r)%r],e[o],e[(o+1)%r],e[(o+2)%r],n-o)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(a(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):a(e[o?o-1:0],e[o],e[r<o+1?r:o+1],e[r<o+2?r:o+2],n-o)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=i.Interpolation.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:(n=[1],function(e){var t=1;if(n[e])return n[e];for(var r=e;r>1;r--)t*=r;return n[e]=t,t}),CatmullRom:function(e,t,r,n,i){var o=.5*(r-e),a=.5*(n-t),s=i*i;return(2*t-2*r+o+a)*(i*s)+(-3*t+3*r-2*o-a)*s+o*i+t}}},i.version="18.5.0",t.a=i}).call(this,r(862))},function(e,t,r){"use strict";var n=function(e,t,r){var n;function i(){var i,o,a=n.length,s=0,c=0,l=0;for(i=0;i<a;++i)s+=(o=n[i]).x||0,c+=o.y||0,l+=o.z||0;for(s=s/a-e,c=c/a-t,l=l/a-r,i=0;i<a;++i)o=n[i],s&&(o.x-=s),c&&(o.y-=c),l&&(o.z-=l)}return null==e&&(e=0),null==t&&(t=0),null==r&&(r=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.z=function(e){return arguments.length?(r=+e,i):r},i};function i(e,t,r){if(isNaN(t))return e;var n,i,o,a,s,c,l=e._root,u={data:r},d=e._x0,h=e._x1;if(!l)return e._root=u,e;for(;l.length;)if((a=t>=(i=(d+h)/2))?d=i:h=i,n=l,!(l=l[s=+a]))return n[s]=u,e;if(t===(o=+e._x.call(null,l.data)))return u.next=l,n?n[s]=u:e._root=u,e;do{n=n?n[s]=new Array(2):e._root=new Array(2),(a=t>=(i=(d+h)/2))?d=i:h=i}while((s=+a)==(c=+(o>=i)));return n[c]=l,n[s]=u,e}var o=function(e,t,r){this.node=e,this.x0=t,this.x1=r};function a(e){return e[0]}function s(e,t){var r=new c(null==t?a:t,NaN,NaN);return null==e?r:r.addAll(e)}function c(e,t,r){this._x=e,this._x0=t,this._x1=r,this._root=void 0}function l(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var u=s.prototype=c.prototype;u.copy=function(){var e,t,r=new c(this._x,this._x0,this._x1),n=this._root;if(!n)return r;if(!n.length)return r._root=l(n),r;for(e=[{source:n,target:r._root=new Array(2)}];n=e.pop();)for(var i=0;i<2;++i)(t=n.source[i])&&(t.length?e.push({source:t,target:n.target[i]=new Array(2)}):n.target[i]=l(t));return r},u.add=function(e){var t=+this._x.call(null,e);return i(this.cover(t),t,e)},u.addAll=function(e){var t,r,n=e.length,o=new Array(n),a=1/0,s=-1/0;for(t=0;t<n;++t)isNaN(r=+this._x.call(null,e[t]))||(o[t]=r,r<a&&(a=r),r>s&&(s=r));for(s<a&&(a=this._x0,s=this._x1),this.cover(a).cover(s),t=0;t<n;++t)i(this,o[t],e[t]);return this},u.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,r=this._x1;if(isNaN(t))r=(t=Math.floor(e))+1;else{if(!(t>e||e>r))return this;var n,i,o=r-t,a=this._root;switch(i=+(e<(t+r)/2)){case 0:do{(n=new Array(2))[i]=a,a=n}while(e>(r=t+(o*=2)));break;case 1:do{(n=new Array(2))[i]=a,a=n}while((t=r-(o*=2))>e)}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._x1=r,this},u.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},u.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},u.find=function(e,t){var r,n,i,a,s,c=this._x0,l=this._x1,u=[],d=this._root;for(d&&u.push(new o(d,c,l)),null==t?t=1/0:(c=e-t,l=e+t);a=u.pop();)if(!(!(d=a.node)||(n=a.x0)>l||(i=a.x1)<c))if(d.length){var h=(n+i)/2;u.push(new o(d[1],h,i),new o(d[0],n,h)),(s=+(e>=h))&&(a=u[u.length-1],u[u.length-1]=u[u.length-1-s],u[u.length-1-s]=a)}else{var p=Math.abs(e-+this._x.call(null,d.data));p<t&&(t=p,c=e-p,l=e+p,r=d.data)}return r},u.remove=function(e){if(isNaN(o=+this._x.call(null,e)))return this;var t,r,n,i,o,a,s,c,l,u=this._root,d=this._x0,h=this._x1;if(!u)return this;if(u.length)for(;;){if((s=o>=(a=(d+h)/2))?d=a:h=a,t=u,!(u=u[c=+s]))return this;if(!u.length)break;t[c+1&1]&&(r=t,l=c)}for(;u.data!==e;)if(n=u,!(u=u.next))return this;return(i=u.next)&&delete u.next,n?(i?n.next=i:delete n.next,this):t?(i?t[c]=i:delete t[c],(u=t[0]||t[1])&&u===(t[1]||t[0])&&!u.length&&(r?r[l]=u:this._root=u),this):(this._root=i,this)},u.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},u.root=function(){return this._root},u.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},u.visit=function(e){var t,r,n,i,a=[],s=this._root;for(s&&a.push(new o(s,this._x0,this._x1));t=a.pop();)if(!e(s=t.node,n=t.x0,i=t.x1)&&s.length){var c=(n+i)/2;(r=s[1])&&a.push(new o(r,c,i)),(r=s[0])&&a.push(new o(r,n,c))}return this},u.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new o(this._root,this._x0,this._x1));t=r.pop();){var i=t.node;if(i.length){var a,s=t.x0,c=t.x1,l=(s+c)/2;(a=i[0])&&r.push(new o(a,s,l)),(a=i[1])&&r.push(new o(a,l,c))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.x1);return this},u.x=function(e){return arguments.length?(this._x=e,this):this._x};function d(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,o,a,s,c,l,u,d,h,p=e._root,f={data:n},m=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!p)return e._root=f,e;for(;p.length;)if((l=t>=(o=(m+v)/2))?m=o:v=o,(u=r>=(a=(g+y)/2))?g=a:y=a,i=p,!(p=p[d=u<<1|l]))return i[d]=f,e;if(s=+e._x.call(null,p.data),c=+e._y.call(null,p.data),t===s&&r===c)return f.next=p,i?i[d]=f:e._root=f,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(l=t>=(o=(m+v)/2))?m=o:v=o,(u=r>=(a=(g+y)/2))?g=a:y=a}while((d=u<<1|l)==(h=(c>=a)<<1|s>=o));return i[h]=p,i[d]=f,e}var h=function(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i};function p(e){return e[0]}function f(e){return e[1]}function m(e,t,r){var n=new g(null==t?p:t,null==r?f:r,NaN,NaN,NaN,NaN);return null==e?n:n.addAll(e)}function g(e,t,r,n,i,o){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function v(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var y=m.prototype=g.prototype;y.copy=function(){var e,t,r=new g(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=v(n),r;for(e=[{source:n,target:r._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(t=n.source[i])&&(t.length?e.push({source:t,target:n.target[i]=new Array(4)}):n.target[i]=v(t));return r},y.add=function(e){var t=+this._x.call(null,e),r=+this._y.call(null,e);return d(this.cover(t,r),t,r,e)},y.addAll=function(e){var t,r,n,i,o=e.length,a=new Array(o),s=new Array(o),c=1/0,l=1/0,u=-1/0,h=-1/0;for(r=0;r<o;++r)isNaN(n=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||(a[r]=n,s[r]=i,n<c&&(c=n),n>u&&(u=n),i<l&&(l=i),i>h&&(h=i));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),r=0;r<o;++r)d(this,a[r],s[r],e[r]);return this},y.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,o=(n=Math.floor(t))+1;else{for(var a,s,c=i-r,l=this._root;r>e||e>=i||n>t||t>=o;)switch(s=(t<n)<<1|e<r,(a=new Array(4))[s]=l,l=a,c*=2,s){case 0:i=r+c,o=n+c;break;case 1:r=i-c,o=n+c;break;case 2:i=r+c,n=o-c;break;case 3:r=i-c,n=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this},y.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},y.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},y.find=function(e,t,r){var n,i,o,a,s,c,l,u=this._x0,d=this._y0,p=this._x1,f=this._y1,m=[],g=this._root;for(g&&m.push(new h(g,u,d,p,f)),null==r?r=1/0:(u=e-r,d=t-r,p=e+r,f=t+r,r*=r);c=m.pop();)if(!(!(g=c.node)||(i=c.x0)>p||(o=c.y0)>f||(a=c.x1)<u||(s=c.y1)<d))if(g.length){var v=(i+a)/2,y=(o+s)/2;m.push(new h(g[3],v,y,a,s),new h(g[2],i,y,v,s),new h(g[1],v,o,a,y),new h(g[0],i,o,v,y)),(l=(t>=y)<<1|e>=v)&&(c=m[m.length-1],m[m.length-1]=m[m.length-1-l],m[m.length-1-l]=c)}else{var b=e-+this._x.call(null,g.data),x=t-+this._y.call(null,g.data),w=b*b+x*x;if(w<r){var E=Math.sqrt(r=w);u=e-E,d=t-E,p=e+E,f=t+E,n=g.data}}return n},y.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,r,n,i,o,a,s,c,l,u,d,h,p=this._root,f=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(f+g)/2))?f=s:g=s,(u=a>=(c=(m+v)/2))?m=c:v=c,t=p,!(p=p[d=u<<1|l]))return this;if(!p.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(r=t,h=d)}for(;p.data!==e;)if(n=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,n?(i?n.next=i:delete n.next,this):t?(i?t[d]=i:delete t[d],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(r?r[h]=p:this._root=p),this):(this._root=i,this)},y.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},y.root=function(){return this._root},y.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},y.visit=function(e){var t,r,n,i,o,a,s=[],c=this._root;for(c&&s.push(new h(c,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(c=t.node,n=t.x0,i=t.y0,o=t.x1,a=t.y1)&&c.length){var l=(n+o)/2,u=(i+a)/2;(r=c[3])&&s.push(new h(r,l,u,o,a)),(r=c[2])&&s.push(new h(r,n,u,l,a)),(r=c[1])&&s.push(new h(r,l,i,o,u)),(r=c[0])&&s.push(new h(r,n,i,l,u))}return this},y.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new h(this._root,this._x0,this._y0,this._x1,this._y1));t=r.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,c=t.x1,l=t.y1,u=(a+c)/2,d=(s+l)/2;(o=i[0])&&r.push(new h(o,a,s,u,d)),(o=i[1])&&r.push(new h(o,u,s,c,d)),(o=i[2])&&r.push(new h(o,a,d,u,l)),(o=i[3])&&r.push(new h(o,u,d,c,l))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},y.x=function(e){return arguments.length?(this._x=e,this):this._x},y.y=function(e){return arguments.length?(this._y=e,this):this._y};function b(e,t,r,n,i){if(isNaN(t)||isNaN(r)||isNaN(n))return e;var o,a,s,c,l,u,d,h,p,f,m,g,v=e._root,y={data:i},b=e._x0,x=e._y0,w=e._z0,E=e._x1,A=e._y1,_=e._z1;if(!v)return e._root=y,e;for(;v.length;)if((h=t>=(a=(b+E)/2))?b=a:E=a,(p=r>=(s=(x+A)/2))?x=s:A=s,(f=n>=(c=(w+_)/2))?w=c:_=c,o=v,!(v=v[m=f<<2|p<<1|h]))return o[m]=y,e;if(l=+e._x.call(null,v.data),u=+e._y.call(null,v.data),d=+e._z.call(null,v.data),t===l&&r===u&&n===d)return y.next=v,o?o[m]=y:e._root=y,e;do{o=o?o[m]=new Array(8):e._root=new Array(8),(h=t>=(a=(b+E)/2))?b=a:E=a,(p=r>=(s=(x+A)/2))?x=s:A=s,(f=n>=(c=(w+_)/2))?w=c:_=c}while((m=f<<2|p<<1|h)==(g=(d>=c)<<2|(u>=s)<<1|l>=a));return o[g]=v,o[m]=y,e}var x=function(e,t,r,n,i,o,a){this.node=e,this.x0=t,this.y0=r,this.z0=n,this.x1=i,this.y1=o,this.z1=a};function w(e){return e[0]}function E(e){return e[1]}function A(e){return e[2]}function _(e,t,r,n){var i=new M(null==t?w:t,null==r?E:r,null==n?A:n,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function M(e,t,r,n,i,o,a,s,c){this._x=e,this._y=t,this._z=r,this._x0=n,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=c,this._root=void 0}function S(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var T=_.prototype=M.prototype;T.copy=function(){var e,t,r=new M(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root;if(!n)return r;if(!n.length)return r._root=S(n),r;for(e=[{source:n,target:r._root=new Array(8)}];n=e.pop();)for(var i=0;i<8;++i)(t=n.source[i])&&(t.length?e.push({source:t,target:n.target[i]=new Array(8)}):n.target[i]=S(t));return r},T.add=function(e){var t=+this._x.call(null,e),r=+this._y.call(null,e),n=+this._z.call(null,e);return b(this.cover(t,r,n),t,r,n,e)},T.addAll=function(e){var t,r,n,i,o,a=e.length,s=new Array(a),c=new Array(a),l=new Array(a),u=1/0,d=1/0,h=1/0,p=-1/0,f=-1/0,m=-1/0;for(r=0;r<a;++r)isNaN(n=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t))||(s[r]=n,c[r]=i,l[r]=o,n<u&&(u=n),n>p&&(p=n),i<d&&(d=i),i>f&&(f=i),o<h&&(h=o),o>m&&(m=o));for(p<u&&(u=this._x0,p=this._x1),f<d&&(d=this._y0,f=this._y1),m<h&&(h=this._z0,m=this._z1),this.cover(u,d,h).cover(p,f,m),r=0;r<a;++r)b(this,s[r],c[r],l[r],e[r]);return this},T.cover=function(e,t,r){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,c=this._z1;if(isNaN(n))a=(n=Math.floor(e))+1,s=(i=Math.floor(t))+1,c=(o=Math.floor(r))+1;else{if(!(n>e||e>a||i>t||t>s||o>r||r>c))return this;var l,u,d=a-n,h=this._root;switch(u=(r<(o+c)/2)<<2|(t<(i+s)/2)<<1|e<(n+a)/2){case 0:do{(l=new Array(8))[u]=h,h=l}while(s=i+(d*=2),c=o+d,e>(a=n+d)||t>s||r>c);break;case 1:do{(l=new Array(8))[u]=h,h=l}while(s=i+(d*=2),c=o+d,(n=a-d)>e||t>s||r>c);break;case 2:do{(l=new Array(8))[u]=h,h=l}while(i=s-(d*=2),c=o+d,e>(a=n+d)||i>t||r>c);break;case 3:do{(l=new Array(8))[u]=h,h=l}while(i=s-(d*=2),c=o+d,(n=a-d)>e||i>t||r>c);break;case 4:do{(l=new Array(8))[u]=h,h=l}while(s=i+(d*=2),o=c-d,e>(a=n+d)||t>s||o>r);break;case 5:do{(l=new Array(8))[u]=h,h=l}while(s=i+(d*=2),o=c-d,(n=a-d)>e||t>s||o>r);break;case 6:do{(l=new Array(8))[u]=h,h=l}while(i=s-(d*=2),o=c-d,e>(a=n+d)||i>t||o>r);break;case 7:do{(l=new Array(8))[u]=h,h=l}while(i=s-(d*=2),o=c-d,(n=a-d)>e||i>t||o>r)}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=c,this},T.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},T.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},T.find=function(e,t,r,n){var i,o,a,s,c,l,u,d,h,p=this._x0,f=this._y0,m=this._z0,g=this._x1,v=this._y1,y=this._z1,b=[],w=this._root;for(w&&b.push(new x(w,p,f,m,g,v,y)),null==n?n=1/0:(p=e-n,f=t-n,m=r-n,g=e+n,v=t+n,y=r+n,n*=n);d=b.pop();)if(!(!(w=d.node)||(o=d.x0)>g||(a=d.y0)>v||(s=d.z0)>y||(c=d.x1)<p||(l=d.y1)<f||(u=d.z1)<m))if(w.length){var E=(o+c)/2,A=(a+l)/2,_=(s+u)/2;b.push(new x(w[7],E,A,_,c,l,u),new x(w[6],o,A,_,E,l,u),new x(w[5],E,a,_,c,A,u),new x(w[4],o,a,_,E,A,u),new x(w[3],E,A,s,c,l,_),new x(w[2],o,A,s,E,l,_),new x(w[1],E,a,s,c,A,_),new x(w[0],o,a,s,E,A,_)),(h=(r>=_)<<2|(t>=A)<<1|e>=E)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-h],b[b.length-1-h]=d)}else{var M=e-+this._x.call(null,w.data),S=t-+this._y.call(null,w.data),T=r-+this._z.call(null,w.data),C=M*M+S*S+T*T;if(C<n){var O=Math.sqrt(n=C);p=e-O,f=t-O,m=r-O,g=e+O,v=t+O,y=r+O,i=w.data}}return i},T.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,r,n,i,o,a,s,c,l,u,d,h,p,f,m,g=this._root,v=this._x0,y=this._y0,b=this._z0,x=this._x1,w=this._y1,E=this._z1;if(!g)return this;if(g.length)for(;;){if((d=o>=(c=(v+x)/2))?v=c:x=c,(h=a>=(l=(y+w)/2))?y=l:w=l,(p=s>=(u=(b+E)/2))?b=u:E=u,t=g,!(g=g[f=p<<2|h<<1|d]))return this;if(!g.length)break;(t[f+1&7]||t[f+2&7]||t[f+3&7]||t[f+4&7]||t[f+5&7]||t[f+6&7]||t[f+7&7])&&(r=t,m=f)}for(;g.data!==e;)if(n=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,n?(i?n.next=i:delete n.next,this):t?(i?t[f]=i:delete t[f],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(r?r[m]=g:this._root=g),this):(this._root=i,this)},T.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},T.root=function(){return this._root},T.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},T.visit=function(e){var t,r,n,i,o,a,s,c,l=[],u=this._root;for(u&&l.push(new x(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=l.pop();)if(!e(u=t.node,n=t.x0,i=t.y0,o=t.z0,a=t.x1,s=t.y1,c=t.z1)&&u.length){var d=(n+a)/2,h=(i+s)/2,p=(o+c)/2;(r=u[7])&&l.push(new x(r,d,h,p,a,s,c)),(r=u[6])&&l.push(new x(r,n,h,p,d,s,c)),(r=u[5])&&l.push(new x(r,d,i,p,a,h,c)),(r=u[4])&&l.push(new x(r,n,i,p,d,h,c)),(r=u[3])&&l.push(new x(r,d,h,o,a,s,p)),(r=u[2])&&l.push(new x(r,n,h,o,d,s,p)),(r=u[1])&&l.push(new x(r,d,i,o,a,h,p)),(r=u[0])&&l.push(new x(r,n,i,o,d,h,p))}return this},T.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new x(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=r.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,c=t.z0,l=t.x1,u=t.y1,d=t.z1,h=(a+l)/2,p=(s+u)/2,f=(c+d)/2;(o=i[0])&&r.push(new x(o,a,s,c,h,p,f)),(o=i[1])&&r.push(new x(o,h,s,c,l,p,f)),(o=i[2])&&r.push(new x(o,a,p,c,h,u,f)),(o=i[3])&&r.push(new x(o,h,p,c,l,u,f)),(o=i[4])&&r.push(new x(o,a,s,f,h,p,d)),(o=i[5])&&r.push(new x(o,h,s,f,l,p,d)),(o=i[6])&&r.push(new x(o,a,p,f,h,u,d)),(o=i[7])&&r.push(new x(o,h,p,f,l,u,d))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},T.x=function(e){return arguments.length?(this._x=e,this):this._x},T.y=function(e){return arguments.length?(this._y=e,this):this._y},T.z=function(e){return arguments.length?(this._z=e,this):this._z};var C=function(e){return function(){return e}},O=function(){return 1e-6*(Math.random()-.5)};function L(e){return e.index}function R(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}var P=function(e){var t,r,n,i,o,a,s=L,c=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},l=C(30),u=1;function d(n){for(var o=0,s=e.length;o<u;++o)for(var c,l,d,h,p,f=0,m=0,g=0,v=0;f<s;++f)l=(c=e[f]).source,m=(d=c.target).x+d.vx-l.x-l.vx||O(),i>1&&(g=d.y+d.vy-l.y-l.vy||O()),i>2&&(v=d.z+d.vz-l.z-l.vz||O()),m*=h=((h=Math.sqrt(m*m+g*g+v*v))-r[f])/h*n*t[f],g*=h,v*=h,d.vx-=m*(p=a[f]),i>1&&(d.vy-=g*p),i>2&&(d.vz-=v*p),l.vx+=m*(p=1-p),i>1&&(l.vy+=g*p),i>2&&(l.vz+=v*p)}function h(){if(n){var i,c,l=n.length,u=e.length,d=new Map(n.map((e,t)=>[s(e,t,n),e]));for(i=0,o=new Array(l);i<u;++i)(c=e[i]).index=i,"object"!=typeof c.source&&(c.source=R(d,c.source)),"object"!=typeof c.target&&(c.target=R(d,c.target)),o[c.source.index]=(o[c.source.index]||0)+1,o[c.target.index]=(o[c.target.index]||0)+1;for(i=0,a=new Array(u);i<u;++i)c=e[i],a[i]=o[c.source.index]/(o[c.source.index]+o[c.target.index]);t=new Array(u),p(),r=new Array(u),f()}}function p(){if(n)for(var r=0,i=e.length;r<i;++r)t[r]=+c(e[r],r,e)}function f(){if(n)for(var t=0,i=e.length;t<i;++t)r[t]=+l(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){n=e,i=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(c="function"==typeof e?e:C(+e),p(),d):c},d.distance=function(e){return arguments.length?(l="function"==typeof e?e:C(+e),f(),d):l},d},k=r(884),j=r(395);function D(e){return e.x}function I(e){return e.y}function N(e){return e.z}var z=10,B=Math.PI*(3-Math.sqrt(5)),F=Math.PI/24,U=function(e,t){t=t||2;var r,n=Math.min(3,Math.max(1,Math.round(t))),i=1,o=.001,a=1-Math.pow(o,1/300),s=0,c=.6,l=new Map,u=Object(j.c)(h),d=Object(k.a)("tick","end");function h(){p(),d.call("tick",r),i<o&&(u.stop(),d.call("end",r))}function p(t){var o,u,d=e.length;void 0===t&&(t=1);for(var h=0;h<t;++h)for(i+=(s-i)*a,l.forEach(function(e){e(i)}),o=0;o<d;++o)null==(u=e[o]).fx?u.x+=u.vx*=c:(u.x=u.fx,u.vx=0),n>1&&(null==u.fy?u.y+=u.vy*=c:(u.y=u.fy,u.vy=0)),n>2&&(null==u.fz?u.z+=u.vz*=c:(u.z=u.fz,u.vz=0));return r}function f(){for(var t,r=0,i=e.length;r<i;++r){if((t=e[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||n>1&&isNaN(t.y)||n>2&&isNaN(t.z)){var o=z*(n>2?Math.cbrt(r):n>1?Math.sqrt(r):r),a=r*B,s=r*F;t.x=o*(n>1?Math.cos(a):1),n>1&&(t.y=o*Math.sin(a)),n>2&&(t.z=o*Math.sin(s))}(isNaN(t.vx)||n>1&&isNaN(t.vy)||n>2&&isNaN(t.vz))&&(t.vx=0,n>1&&(t.vy=0),n>2&&(t.vz=0))}}function m(t){return t.initialize&&t.initialize(e,n),t}return null==e&&(e=[]),f(),r={tick:p,restart:function(){return u.restart(h),r},stop:function(){return u.stop(),r},numDimensions:function(e){return arguments.length?(n=Math.min(3,Math.max(1,Math.round(e))),l.forEach(m),r):n},nodes:function(t){return arguments.length?(e=t,f(),l.forEach(m),r):e},alpha:function(e){return arguments.length?(i=+e,r):i},alphaMin:function(e){return arguments.length?(o=+e,r):o},alphaDecay:function(e){return arguments.length?(a=+e,r):+a},alphaTarget:function(e){return arguments.length?(s=+e,r):s},velocityDecay:function(e){return arguments.length?(c=1-e,r):1-c},force:function(e,t){return arguments.length>1?(null==t?l.delete(e):l.set(e,m(t)),r):l.get(e)},find:function(){var t,r,i,o,a,s,c=Array.prototype.slice.call(arguments),l=c.shift()||0,u=(n>1?c.shift():null)||0,d=(n>2?c.shift():null)||0,h=c.shift()||1/0,p=0,f=e.length;for(h*=h,p=0;p<f;++p)(o=(t=l-(a=e[p]).x)*t+(r=u-(a.y||0))*r+(i=d-(a.z||0))*i)<h&&(s=a,h=o);return s},on:function(e,t){return arguments.length>1?(d.on(e,t),r):d.on(e)}}},H=function(){var e,t,r,n,i,o=C(-30),a=1,c=1/0,l=.81;function u(i){var o,a=e.length,c=(1===t?s(e,D):2===t?m(e,D,I):3===t?_(e,D,I,N):null).visitAfter(h);for(n=i,o=0;o<a;++o)r=e[o],c.visit(p)}function d(){if(e){var t,r,n=e.length;for(i=new Array(n),t=0;t<n;++t)r=e[t],i[r.index]=+o(r,t,e)}}function h(e){var r,n,o,a,s,c,l=0,u=0,d=e.length;if(d){for(o=a=s=c=0;c<d;++c)(r=e[c])&&(n=Math.abs(r.value))&&(l+=r.value,u+=n,o+=n*(r.x||0),a+=n*(r.y||0),s+=n*(r.z||0));l*=Math.sqrt(4/d),e.x=o/u,t>1&&(e.y=a/u),t>2&&(e.z=s/u)}else{(r=e).x=r.data.x,t>1&&(r.y=r.data.y),t>2&&(r.z=r.data.z);do{l+=i[r.data.index]}while(r=r.next)}e.value=l}function p(e,o,s,u,d){if(!e.value)return!0;var h=[s,u,d][t-1],p=e.x-r.x,f=t>1?e.y-r.y:0,m=t>2?e.z-r.z:0,g=h-o,v=p*p+f*f+m*m;if(g*g/l<v)return v<c&&(0===p&&(v+=(p=O())*p),t>1&&0===f&&(v+=(f=O())*f),t>2&&0===m&&(v+=(m=O())*m),v<a&&(v=Math.sqrt(a*v)),r.vx+=p*e.value*n/v,t>1&&(r.vy+=f*e.value*n/v),t>2&&(r.vz+=m*e.value*n/v)),!0;if(!(e.length||v>=c)){(e.data!==r||e.next)&&(0===p&&(v+=(p=O())*p),t>1&&0===f&&(v+=(f=O())*f),t>2&&0===m&&(v+=(m=O())*m),v<a&&(v=Math.sqrt(a*v)));do{e.data!==r&&(g=i[e.data.index]*n/v,r.vx+=p*g,t>1&&(r.vy+=f*g),t>2&&(r.vz+=m*g))}while(e=e.next)}}return u.initialize=function(r,n){e=r,t=n,d()},u.strength=function(e){return arguments.length?(o="function"==typeof e?e:C(+e),d(),u):o},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(c=e*e,u):Math.sqrt(c)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u},G=function(e,t,r,n){var i,o,a,s,c=C(.1);function l(e){for(var c=0,l=i.length;c<l;++c){var u=i[c],d=u.x-t||1e-6,h=(u.y||0)-r||1e-6,p=(u.z||0)-n||1e-6,f=Math.sqrt(d*d+h*h+p*p),m=(s[c]-f)*a[c]*e/f;u.vx+=d*m,o>1&&(u.vy+=h*m),o>2&&(u.vz+=p*m)}}function u(){if(i){var t,r=i.length;for(a=new Array(r),s=new Array(r),t=0;t<r;++t)s[t]=+e(i[t],t,i),a[t]=isNaN(s[t])?0:+c(i[t],t,i)}}return"function"!=typeof e&&(e=C(+e)),null==t&&(t=0),null==r&&(r=0),null==n&&(n=0),l.initialize=function(e,t){i=e,o=t,u()},l.strength=function(e){return arguments.length?(c="function"==typeof e?e:C(+e),u(),l):c},l.radius=function(t){return arguments.length?(e="function"==typeof t?t:C(+t),u(),l):e},l.x=function(e){return arguments.length?(t=+e,l):t},l.y=function(e){return arguments.length?(r=+e,l):r},l.z=function(e){return arguments.length?(n=+e,l):n},l};r.d(t,"a",function(){return n}),r.d(t,"b",function(){return P}),r.d(t,"c",function(){return H}),r.d(t,"d",function(){return G}),r.d(t,"e",function(){return U})},function(e,t,r){var n=r(272)("wks"),i=r(182),o=r(50).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(283),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(75),i=r(603),o=r(604),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(66),i=r(222);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(85);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(53)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(420)},function(e,t,r){var n=r(667),i=r(668),o=r(669);e.exports=function(e,t){return n(e)||i(e,t)||o()}},,function(e,t,r){for(var n=r(460),i=r(278),o=r(86),a=r(50),s=r(73),c=r(184),l=r(42),u=l("iterator"),d=l("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(p),m=0;m<f.length;m++){var g,v=f[m],y=p[v],b=a[v],x=b&&b.prototype;if(x&&(x[u]||s(x,u,h),x[d]||s(x,d,v),c[v]=h,y))for(g in n)x[g]||o(x,g,n[g],!0)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(214);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(635),i=r(655),o=r(93),a=r(23),s=r(657);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}},function(e,t,r){var n=r(325),i=r(152),o=r(46);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t,r){var n=r(652),i=r(213),o=r(653),a=r(327),s=r(328),c=r(45),l=r(313),u=l(n),d=l(i),h=l(o),p=l(a),f=l(s),m=c;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,r){var n=r(749),i=r(751);e.exports=function(e,t,r){return n(i,e,t,r)}},function(e,t,r){var n=r(45),i=r(48),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==c}},function(e,t,r){"use strict";r.r(t),r.d(t,"createStore",function(){return s}),r.d(t,"combineReducers",function(){return l}),r.d(t,"bindActionCreators",function(){return d}),r.d(t,"applyMiddleware",function(){return f}),r.d(t,"compose",function(){return p}),r.d(t,"__DO_NOT_USE__ActionTypes",function(){return o});var n=r(246),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var i;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,h=!1;function p(){d===u&&(d=u.slice())}function f(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var r=d.indexOf(e);d.splice(r,1)}}}function g(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,l=c(l,e)}finally{h=!1}for(var t=u=d,r=0;r<t.length;r++){(0,t[r])()}return e}return g({type:o.INIT}),(i={dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:o.REPLACE})}})[n.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(f())}return r(),{unsubscribe:t(r)}}})[n.a]=function(){return this},e},i}function c(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];0,"function"==typeof e[i]&&(r[i]=e[i])}var a,s=Object.keys(r);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(r)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,i={},o=0;o<s.length;o++){var l=s[o],u=r[l],d=e[l],h=u(d,t);if(void 0===h){var p=c(l,t);throw new Error(p)}i[l]=h,n=n||h!==d}return n?i:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},i=0;i<r.length;i++){var o=r[i],a=e[o];"function"==typeof a&&(n[o]=u(a,t))}return n}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map(function(e){return e(i)});return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){h(e,t,r[t])})}return e}({},r,{dispatch:n=p.apply(void 0,o)(r.dispatch)})}}}},function(e,t,r){var n=r(318),i=r(62),o=r(659),a=r(23),s=r(154);e.exports=function(e,t,r){var c=a(e)?n:o;return r&&s(e,t,r)&&(t=void 0),c(e,i(t,3))}},function(e,t,r){var n=r(152),i=r(64),o=r(149),a=r(23),s=r(46),c=r(150),l=r(153),u=r(221),d="[object Map]",h="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||o(e)))return!e.length;var t=i(e);if(t==d||t==h)return!e.size;if(l(e))return!n(e).length;for(var r in e)if(p.call(e,r))return!1;return!0}},function(e,t,r){var n=r(456),i=r(457);e.exports=function(e,t,r){var i=e[t];if(i){var o=[];if(Object.keys(i).forEach(function(e){-1===n.indexOf(e)&&o.push(e)}),o.length)throw new Error("Prop "+t+" passed to "+r+". Has invalid keys "+o.join(", "))}},e.exports.isRequired=function(t,r,n){if(!t[r])throw new Error("Prop "+r+" passed to "+n+" is required");return e.exports(t,r,n)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},function(e,t,r){e.exports={contentHeader__container:"contentHeader__container___2z3Js",contentHeaderContainer:"contentHeader__container___2z3Js",contentFooter__container:"contentFooter__container___2jlVW",contentFooterContainer:"contentFooter__container___2jlVW",content__container:"content__container___36LFs",contentContainer:"content__container___36LFs",graphPopover__container:"graphPopover__container___1i8Yo",graphPopoverContainer:"graphPopover__container___1i8Yo"}},function(e,t,r){e.exports={homeContainer:"homeContainer___1RYYY",leftPanelContainer:"leftPanelContainer___IkXWJ",rightPanelContainer:"rightPanelContainer___3cei-",floatingStatusInfo:"floatingStatusInfo___1nSjd",home__tabPane:"home__tabPane___2j0Eo",homeTabPane:"home__tabPane___2j0Eo"}},function(e,t,r){var n=r(84),i=r(183);e.exports=r(52)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(476),i=r(481);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(35).Symbol;e.exports=n},function(e,t,r){var n=r(610),i=r(613);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){var n=r(112),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t,r){var n=r(691),i=r(44),o="Expected a function";e.exports=function(e,t,r){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),n(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,r){e.exports={tablePagination__container:"tablePagination__container___ki158",tablePaginationContainer:"tablePagination__container___ki158",pagination:"pagination___2S7Fs",table__container:"table__container___EsKWE",tableContainer:"table__container___EsKWE",table__cellContainer:"table__cellContainer___3kphW",tableCellContainer:"table__cellContainer___3kphW",table__dataPerPage:"table__dataPerPage___6nfa2",tableDataPerPage:"table__dataPerPage___6nfa2"}},function(e,t,r){e.exports=r(423)()},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=function(e){var t=(0,n.useRef)(e);t.current=e;var r=(0,n.useCallback)(function(e){if("function"!=typeof e)throw new Error("the argument supplied to the 'setHandler' function should be of type function");t.current=e});return[t,r]};t.default=i},function(e,t,r){var n=r(51),i=r(274),o=r(276),a=Object.defineProperty;t.f=r(52)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(50),i=r(73),o=r(106),a=r(182)("src"),s=Function.toString,c=(""+s).split("toString");r(181).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var l="function"==typeof r;l&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(l&&(o(r,a)||i(r,a,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,r){var n=r(88),i=r(477),o=r(478),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(43).Symbol;e.exports=n},function(e,t,r){var n=r(105);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(47),i=r(207),o=r(552),a=r(555);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,r){var n=r(110),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){var n=r(223);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},function(e,t,r){var n=r(660),i=r(663)(n);e.exports=i},function(e,t){e.exports=function e(t,r){var n;t||(t={});if(r)for(n in r)if(r.hasOwnProperty(n)){var i=t.hasOwnProperty(n),o=typeof r[n],a=!i||typeof t[n]!==o;a?t[n]=r[n]:"object"===o&&(t[n]=e(t[n],r[n]))}return t}},function(e,t){function r(e){return new n("number"==typeof e?e:+new Date)}function n(e){this.seed=e}function i(){var e=this.seed;return e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16),this.seed=e,(268435455&e)/268435456}e.exports=r,e.exports.random=r,e.exports.randomIterator=function(e,t){var n=t||r();if("function"!=typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var r,i,o;for(r=e.length-1;r>0;--r)i=n.next(r+1),o=e[i],e[i]=e[r],e[r]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,r,i;for(t=e.length-1;t>0;--t)r=n.next(t+1),i=e[r],e[r]=e[t],e[t]=i;return e}}},n.prototype.next=function(e){return Math.floor(this.nextDouble()*e)},n.prototype.nextDouble=i,n.prototype.uniform=i,n.prototype.gaussian=function(){var e,t,r;do{t=2*this.nextDouble()-1,r=2*this.nextDouble()-1,e=t*t+r*r}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,r){var n=r(157),i=r(96),o=r(671),a=r(23);e.exports=function(e,t){return(a(e)?n:i)(e,o(t))}},function(e,t,r){var n=r(336),i=r(159),o=r(113),a=r(156),s=o(function(e,t){return a(e)?n(e,i(t,1,a,!0)):[]});e.exports=s},function(e,t){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(i=r?r.call(n,u,d,l):void 0)||void 0===i&&u!==d)return!1}return!0}},function(e,t,r){e.exports={graphStatusInfo__rowContainer:"graphStatusInfo__rowContainer___1o2Ar",graphStatusInfoRowContainer:"graphStatusInfo__rowContainer___1o2Ar",graphStatusInfo__darkContainer:"graphStatusInfo__darkContainer___1oGn2",graphStatusInfoDarkContainer:"graphStatusInfo__darkContainer___1oGn2"}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(50),i=r(181),o=r(73),a=r(86),s=r(277),c=function(e,t,r){var l,u,d,h,p=e&c.F,f=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,y=f?n:m?n[t]||(n[t]={}):(n[t]||{}).prototype,b=f?i:i[t]||(i[t]={}),x=b.prototype||(b.prototype={});for(l in f&&(r=t),r)d=((u=!p&&y&&void 0!==y[l])?y:r)[l],h=v&&u?s(d,n):g&&"function"==typeof d?s(Function.call,d):d,y&&a(y,l,d,e&c.U),b[l]!=d&&o(b,l,h),g&&x[l]!=d&&(x[l]=d)};n.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(197),i=r(292);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(r[l],e[l],l,r,e):void 0;void 0===u&&(u=e[l]),a?i(r,l,u):n(r,l,u)}return r}},function(e,t,r){var n=r(294),i=r(526),o=r(109);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t,r){var n=r(282),i=r(200);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){var n=r(87),i=r(60),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==o}},function(e,t,r){var n=r(23),i=r(211),o=r(312),a=r(61);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,r){var n=r(45),i=r(30),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==o}},function(e,t,r){var n=r(93),i=r(314),o=r(216);e.exports=function(e,t){return o(i(e,t,n),e+"")}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t){function r(e,t,r){if(e.hasOwnProperty(r)){if("function"==typeof t[r])return;t[r]=function(n){return void 0!==n?(e[r]=n,t):e[r]}}}e.exports=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(n))for(var i=0;i<n.length;++i)r(e,t,n[i]);else for(var o in e)r(e,t,o)}},function(e,t,r){var n=r(45),i=r(23),o=r(30),a="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&n(e)==a}},function(e,t,r){var n=r(323),i=r(684),o=r(62),a=r(23);e.exports=function(e,t){return(a(e)?n:i)(e,o(t,3))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useDidMount",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"useWillUnmount",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useLifecycle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useWindowResize",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"useWindowScroll",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"useDebouncedFn",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"useThrottledFn",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useMouse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"useMouseEvents",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"useMouseState",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"useTimeout",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"useConditionalTimeout",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"useInterval",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"useGlobalEvent",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"usePreviousValue",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"useGeolocation",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"useGeolocationEvents",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"useGeolocationState",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"useMediaQuery",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"useValueHistory",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"useOnlineState",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"useViewportSpy",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"useValidatedState",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"useDragEvents",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"useDrag",{enumerable:!0,get:function(){return T.default}});var n=C(r(265)),i=C(r(266)),o=C(r(435)),a=C(r(436)),s=C(r(437)),c=C(r(438)),l=C(r(440)),u=C(r(441)),d=C(r(178)),h=C(r(268)),p=C(r(442)),f=C(r(443)),m=C(r(444)),g=C(r(123)),v=C(r(269)),y=C(r(445)),b=C(r(179)),x=C(r(270)),w=C(r(448)),E=C(r(449)),A=C(r(450)),_=C(r(451)),M=C(r(452)),S=C(r(271)),T=C(r(453));function C(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(t instanceof Array?t.length?t:[void 0]:[t]).map(function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}}),l=e.reduce(function(e,t){var i=e,o=t;return c.forEach(function(e,t){var s,l=e.keyAccessor;if(e.isProp){var u=o,d=u[l],h=n(u,[l].map(a));s=d,o=h}else s=l(o,t);t+1<c.length?(i.hasOwnProperty(s)||(i[s]={}),i=i[s]):r?(i.hasOwnProperty(s)||(i[s]=[]),i[s].push(o)):i[s]=o}),e},{});r instanceof Function&&function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n===c.length?Object.keys(t).forEach(function(e){return t[e]=r(t[e])}):Object.values(t).forEach(function(t){return e(t,n+1)})}(l);var u=l;return s&&(u=[],function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r.length===c.length?u.push({keys:r,vals:t}):Object.entries(t).forEach(function(t){var n=i(t,2),a=n[0],s=n[1];return e(s,[].concat(o(r),[a]))})}(l),t instanceof Array&&0===t.length&&1===u.length&&(u[0].keys=[])),u}},function(e,t,r){var n;!function(i){var o=/^\s+/,a=/\s+$/,s=0,c=i.round,l=i.min,u=i.max,d=i.random;function h(e,t){if(t=t||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,s=null,c=null,d=!1,h=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,r=!1;if(L[e])e=L[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=G.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=G.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=G.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=G.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=G.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=G.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=G.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:B(t[4]),format:r?"name":"hex8"};if(t=G.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:r?"name":"hex"};if(t=G.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=G.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(p=e.r,f=e.g,m=e.b,t={r:255*k(p,255),g:255*k(f,255),b:255*k(m,255)},d=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):V(e.h)&&V(e.s)&&V(e.v)?(n=N(e.s),s=N(e.v),t=function(e,t,r){e=6*k(e,360),t=k(t,100),r=k(r,100);var n=i.floor(e),o=e-n,a=r*(1-t),s=r*(1-o*t),c=r*(1-(1-o)*t),l=n%6;return{r:255*[r,s,a,a,c,r][l],g:255*[c,r,r,s,a,a][l],b:255*[a,a,c,r,r,s][l]}}(e.h,n,s),d=!0,h="hsv"):V(e.h)&&V(e.s)&&V(e.l)&&(n=N(e.s),c=N(e.l),t=function(e,t,r){var n,i,o;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=k(e,360),t=k(t,100),r=k(r,100),0===t)n=i=o=r;else{var s=r<.5?r*(1+t):r+t-r*t,c=2*r-s;n=a(c,s,e+1/3),i=a(c,s,e),o=a(c,s,e-1/3)}return{r:255*n,g:255*i,b:255*o}}(e.h,n,c),d=!0,h="hsl"),e.hasOwnProperty("a")&&(r=e.a));var p,f,m;return r=P(r),{ok:d,format:e.format||h,r:l(255,u(t.r,0)),g:l(255,u(t.g,0)),b:l(255,u(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=c(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=r.ok,this._tc_id=s++}function p(e,t,r){e=k(e,255),t=k(t,255),r=k(r,255);var n,i,o=u(e,t,r),a=l(e,t,r),s=(o+a)/2;if(o==a)n=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case e:n=(t-r)/c+(t<r?6:0);break;case t:n=(r-e)/c+2;break;case r:n=(e-t)/c+4}n/=6}return{h:n,s:i,l:s}}function f(e,t,r){e=k(e,255),t=k(t,255),r=k(r,255);var n,i,o=u(e,t,r),a=l(e,t,r),s=o,c=o-a;if(i=0===o?0:c/o,o==a)n=0;else{switch(o){case e:n=(t-r)/c+(t<r?6:0);break;case t:n=(r-e)/c+2;break;case r:n=(e-t)/c+4}n/=6}return{h:n,s:i,v:s}}function m(e,t,r,n){var i=[I(c(e).toString(16)),I(c(t).toString(16)),I(c(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,r,n){return[I(z(n)),I(c(e).toString(16)),I(c(t).toString(16)),I(c(r).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var r=h(e).toHsl();return r.s-=t/100,r.s=j(r.s),h(r)}function y(e,t){t=0===t?0:t||10;var r=h(e).toHsl();return r.s+=t/100,r.s=j(r.s),h(r)}function b(e){return h(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var r=h(e).toHsl();return r.l+=t/100,r.l=j(r.l),h(r)}function w(e,t){t=0===t?0:t||10;var r=h(e).toRgb();return r.r=u(0,l(255,r.r-c(-t/100*255))),r.g=u(0,l(255,r.g-c(-t/100*255))),r.b=u(0,l(255,r.b-c(-t/100*255))),h(r)}function E(e,t){t=0===t?0:t||10;var r=h(e).toHsl();return r.l-=t/100,r.l=j(r.l),h(r)}function A(e,t){var r=h(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,h(r)}function _(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function M(e){var t=h(e).toHsl(),r=t.h;return[h(e),h({h:(r+120)%360,s:t.s,l:t.l}),h({h:(r+240)%360,s:t.s,l:t.l})]}function S(e){var t=h(e).toHsl(),r=t.h;return[h(e),h({h:(r+90)%360,s:t.s,l:t.l}),h({h:(r+180)%360,s:t.s,l:t.l}),h({h:(r+270)%360,s:t.s,l:t.l})]}function T(e){var t=h(e).toHsl(),r=t.h;return[h(e),h({h:(r+72)%360,s:t.s,l:t.l}),h({h:(r+216)%360,s:t.s,l:t.l})]}function C(e,t,r){t=t||6,r=r||30;var n=h(e).toHsl(),i=360/r,o=[h(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(h(n));return o}function O(e,t){t=t||6;for(var r=h(e).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/t;t--;)a.push(h({h:n,s:i,v:o})),o=(o+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=P(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=c(360*e.h),r=c(100*e.s),n=c(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=c(360*e.h),r=c(100*e.s),n=c(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var o=[I(c(e).toString(16)),I(c(t).toString(16)),I(c(r).toString(16)),I(z(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*k(this._r,255))+"%",g:c(100*k(this._g,255))+"%",b:c(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*k(this._r,255))+"%, "+c(100*k(this._g,255))+"%, "+c(100*k(this._b,255))+"%)":"rgba("+c(100*k(this._r,255))+"%, "+c(100*k(this._g,255))+"%, "+c(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=h(e);r="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},h.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:N(e[n]));e=r}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:d(),g:d(),b:d()})},h.mix=function(e,t,r){r=0===r?0:r||50;var n=h(e).toRgb(),i=h(t).toRgb(),o=r/100;return h({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},h.readability=function(e,t){var r=h(e),n=h(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},h.isReadable=function(e,t,r){var n,i,o=h.readability(e,t);switch(i=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},h.mostReadable=function(e,t,r){var n,i,o,a,s=null,c=0;i=(r=r||{}).includeFallbackColors,o=r.level,a=r.size;for(var l=0;l<t.length;l++)(n=h.readability(e,t[l]))>c&&(c=n,s=h(t[l]));return h.isReadable(e,s,{level:o,size:a})||!i?s:(r.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],r))};var L=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=h.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(L);function P(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function k(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,u(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function j(e){return l(1,u(0,e))}function D(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function N(e){return e<=1&&(e=100*e+"%"),e}function z(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return D(e)/255}var F,U,H,G=(U="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",H="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!G.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(n=function(){return h}.call(t,r,t,e))||(e.exports=n)}(Math)},function(e,t,r){e.exports=r(868)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(83))&&n.__esModule?n:{default:n};function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l={capture:!1,once:!1,passive:!1},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2?arguments[2]:void 0,n=c((0,o.default)(r),2),u=n[0],d=n[1],h=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},l,{},t||{});return(0,i.useEffect)(function(){var t=function(e){u.current&&u.current(e)};return u.current&&e&&window.addEventListener(e,t,h),function(){e&&window.removeEventListener(e,t,h)}},[e,t]),d};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return new Proxy(Object.create(null),{get:function(t,r){return r&&"string"==typeof r&&"on"===r.slice(0,2)?function(){throw new Error(e)}:{error:e}}})};t.default=n},function(e,t,r){var n=r(463),i=r(104);e.exports=function(e){return n(i(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(74)(Object,"create");e.exports=n},function(e,t,r){var n=r(486),i=r(487),o=r(488),a=r(489),s=r(490);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(130);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(492);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){"use strict";var n=r(51);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){var n=r(536),i=r(192),o=r(537),a=r(286),s=r(538),c=r(87),l=r(284),u=l(n),d=l(i),h=l(o),p=l(a),f=l(s),m=c;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,r){var n=r(91),i=r(92);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},function(e,t){e.exports=function(e){return e}},function(e,t,r){"use strict";r(568);var n=r(51),i=r(132),o=r(52),a=/./.toString,s=function(e){r(86)(RegExp.prototype,"toString",e,!0)};r(53)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(76)(Object,"create");e.exports=n},function(e,t,r){var n=r(618),i=r(619),o=r(620),a=r(621),s=r(622);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(143);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(624);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(111),i=r(78);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},function(e,t,r){var n=r(212),i=r(643),o=r(644);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},function(e,t,r){var n=r(648),i=r(30),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,r){(function(e){var n=r(35),i=r(649),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,r(90)(e))},function(e,t,r){(function(e){var n=r(311),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,r(90)(e))},function(e,t,r){var n=r(153),i=r(651),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(143),i=r(46),o=r(114),a=r(48);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},function(e,t,r){var n=r(337);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},function(e,t,r){var n=r(46),i=r(30);e.exports=function(e){return i(e)&&n(e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},function(e,t,r){var n=r(219),i=r(714);e.exports=function e(t,r,o,a,s){var c=-1,l=t.length;for(o||(o=i),s||(s=[]);++c<l;){var u=t[c];r>0&&o(u)?r>1?e(u,r-1,o,a,s):n(s,u):a||(s[s.length]=u)}return s}},function(e,t,r){var n=r(161),i=r(48);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=n(e.prototype),o=e.apply(r,t);return i(o)?o:r}}},function(e,t,r){var n=r(48),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},function(e,t,r){var n=r(228),i=r(344);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(r[l],e[l],l,r,e):void 0;void 0===u&&(u=e[l]),a?i(r,l,u):n(r,l,u)}return r}},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(597);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t,r){var n=r(634)(r(241));e.exports=n},function(e,t,r){var n=r(697),i=r(61),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,n).replace(a,"")}},function(e,t,r){var n=r(341),i=r(96),o=r(62),a=r(710),s=r(23);e.exports=function(e,t,r){var c=s(e)?n:a,l=arguments.length<3;return c(e,o(t,4),r,l,i)}},function(e,t,r){var n=r(711),i=r(229)(function(e,t){return null==e?{}:n(e,t)});e.exports=i},function(e,t,r){var n=r(872);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var r,n=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(r=i.exec(e));){var d=r[0],h=r[1],p=r.index;if(s+=e.slice(a,p),a=p+d.length,h)s+=h[1];else{var f=e[a],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],x=r[7];s&&(n.push(s),s="");var w=null!=m&&null!=f&&f!==m,E="+"===b||"*"===b,A="?"===b||"*"===b,_=r[2]||u,M=v||y;n.push({name:g||o++,prefix:m||"",delimiter:_,optional:A,repeat:E,partial:w,asterisk:!!x,pattern:M?l(M):x?".*":"[^"+c(_)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&n.push(s),n}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,i){for(var o="",s=r||{},c=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!=typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(n(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(d=c(h[p]),!t[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):c(h),!t[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e.sensitive?"":"i"}function h(e,t,r){n(t)||(r=t||r,t=[]);for(var i=(r=r||{}).strict,o=!1!==r.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=c(l);else{var h=c(l.prefix),p="(?:"+l.pattern+")";t.push(l),l.repeat&&(p+="(?:"+h+p+")*"),a+=p=l.optional?l.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var f=c(r.delimiter||"/"),m=a.slice(-f.length)===f;return i||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+f+"|$)",u(new RegExp("^"+a,d(r)),t)}function p(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):n(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(p(e[i],t,r).source);return u(new RegExp("(?:"+n.join("|")+")",d(r)),t)}(e,t,r):function(e,t,r){return h(o(e,r),t,r)}(e,t,r)}},function(e,t,r){"use strict";r.r(t);var n=r(20),i=r(41),o=r(396),a=r.n(o),s=r(244),c=r.n(s),l=r(397),u=r.n(l),d=r(38),h=r(9),p=r.n(h),f=r(120);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e,t,r){var n=r.objBindAttr,i=void 0===n?"__obj":n,o=r.dataBindAttr,a=void 0===o?"__data":o,s=r.idAccessor,c=r.purge,l=void 0!==c&&c,u=function(e){return e.hasOwnProperty(a)},d=t.filter(function(e){return!u(e)}),h=t.filter(u).map(function(e){return e[a]}),p=l?{enter:e,exit:h,update:[]}:function(e,t,r){var n={enter:[],update:[],exit:[]};if(r){var i=Object(f.a)(e,r,!1),o=Object(f.a)(t,r,!1),a=Object.assign({},i,o);Object.entries(a).forEach(function(e){var t=y(e,2),r=t[0],a=t[1],s=i.hasOwnProperty(r)?o.hasOwnProperty(r)?"update":"exit":"enter";n[s].push("update"===s?[i[r],o[r]]:a)})}else{var s=new Set(e),c=new Set(t);new Set([].concat(b(s),b(c))).forEach(function(e){var t=s.has(e)?c.has(e)?"update":"exit":"enter";n[t].push("update"===t?[e,e]:e)})}return n}(h,e,s);return p.update=p.update.map(function(e){var t=y(e,2),r=t[0],n=t[1];return r!==n&&(n[i]=r[i],n[i][a]=n),n}),p.exit=p.exit.concat(d.map(function(e){return m({},i,e)})),p}var w=function(e,t,r,n,i){var o=i.createObj,a=void 0===o?function(e){return{}}:o,s=i.updateObj,c=void 0===s?function(e,t){}:s,l=i.exitObj,u=void 0===l?function(e){}:l,d=i.objBindAttr,h=void 0===d?"__obj":d,p=i.dataBindAttr,f=void 0===p?"__data":p,y=v(i,["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"]),w=x(e,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({objBindAttr:h,dataBindAttr:f},y)),E=w.enter,A=w.update;w.exit.forEach(function(e){var t=e[h];delete e[h],u(t),n(t)});var _=function(e){var t=[];return e.forEach(function(e){var r=a(e);r&&(r[f]=e,e[h]=r,t.push(r))}),t}(E);!function(e){e.forEach(function(e){var t=e[h];t&&(t[f]=e,c(t,e))})}([].concat(b(E),b(A))),_.forEach(r)},E=r(886),A=r(885),_=r(121),M=r.n(_);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,r){return(R=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&L(i,r.prototype),i}).apply(null,arguments)}function P(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var D=function e(t){t.geometry&&t.geometry.dispose(),t.material&&function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())}(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},I=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),D(t)}};function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.objFilter,i=void 0===n?function(){return!0}:n,o=P(r,["objFilter"]);return w(e,t.children.filter(i),function(e){return t.add(e)},function(e){t.remove(e),I(e)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({objBindAttr:"__threeObj"},o))}var z=function(e){return isNaN(e)?parseInt(M()(e).toHex(),16):e},B=function(e){return isNaN(e)?M()(e).getAlpha():1},F=Object(E.a)(A.a);function U(e,t,r){t&&"string"==typeof r&&e.filter(function(e){return!e[r]}).forEach(function(e){e[r]=F(t(e))})}var H=window.THREE?window.THREE:{Group:n.Group,Mesh:n.Mesh,MeshLambertMaterial:n.MeshLambertMaterial,Color:n.Color,BufferGeometry:n.BufferGeometry,BufferAttribute:n.BufferAttribute,Matrix4:n.Matrix4,Vector3:n.Vector3,SphereBufferGeometry:n.SphereBufferGeometry,CylinderBufferGeometry:n.CylinderBufferGeometry,TubeBufferGeometry:n.TubeBufferGeometry,ConeBufferGeometry:n.ConeBufferGeometry,Line:n.Line,LineBasicMaterial:n.LineBasicMaterial,QuadraticBezierCurve3:n.QuadraticBezierCurve3,CubicBezierCurve3:n.CubicBezierCurve3},G={graph:a.a,forcelayout:c.a,forcelayout3d:u.a},V=(new H.BufferGeometry).setAttribute?"setAttribute":"addAttribute";var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(n){function i(){var t,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return o=this,(n=!(a=(t=O(i)).call.apply(t,[this].concat(c)))||"object"!=typeof a&&"function"!=typeof a?k(o):a).__kapsuleInstance=e().apply(void 0,[].concat(j(r?[k(n)]:[]),c)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,t),i}();return Object.keys(e()).forEach(function(e){return n.prototype[e]=function(){var t,r=(t=this.__kapsuleInstance)[e].apply(t,arguments);return r===this.__kapsuleInstance?this:r}}),n}(Object(d.a)({props:{jsonUrl:{onChange:function(e,t){var r=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then(function(e){return e.json()}).then(function(e){t.fetchingJson=!1,t.onFinishLoading(e),r.graphData(e)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){(e.nodes.length||e.links.length)&&console.info("force-graph loading",e.nodes.length+" nodes",e.links.length+" links"),t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var r=t.d3ForceLayout.force("charge");function n(e,t){e.forEach(function(e){delete e[t],delete e["v".concat(t)]})}r&&r.strength(e>2?-60:-30),e<3&&n(t.graphData.nodes,"z"),e<2&&n(t.graphData.nodes,"y")}},dagMode:{onChange:function(e,t){!e&&"d3"===t.forceEngine&&(t.graphData.nodes||[]).forEach(function(e){return e.fx=e.fy=e.fz=void 0})}},dagLevelDistance:{},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,r){return void 0===r?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,r),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t,r,n,i,o="ngraph"!==e.forceEngine;return e.engineRunning&&function(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime?(e.engineRunning=!1,e.onEngineStop()):(e.layout[o?"tick":"step"](),e.onEngineTick());e.graphData.nodes.forEach(function(t){var r=t.__threeObj;if(r){var n=o?t:e.layout.getNodePosition(t[e.nodeId]);r.position.x=n.x,r.position.y=n.y||0,r.position.z=n.z||0}});var t=p()(e.linkWidth),r=p()(e.linkCurvature),n=p()(e.linkCurveRotation),i=p()(e.linkThreeObjectExtend);e.graphData.links.forEach(function(a){var s=a.__lineObj;if(s){var c=o?a:e.layout.getLinkPosition(e.layout.graph.getLink(a.source,a.target).id),l=c[o?"source":"from"],u=c[o?"target":"to"];if(l.hasOwnProperty("x")&&u.hasOwnProperty("x")){!function(t){var i=o?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),a=i[o?"source":"from"],s=i[o?"target":"to"];if(!a.hasOwnProperty("x")||!s.hasOwnProperty("x"))return;var c=r(t);if(c){var l,u=new H.Vector3(a.x,a.y||0,a.z||0),d=new H.Vector3(s.x,s.y||0,s.z||0),h=u.distanceTo(d),p=n(t);if(h>0){var f=s.x-a.x,m=s.y-a.y||0,g=(new H.Vector3).subVectors(d,u),v=g.clone().multiplyScalar(c).cross(0!==f||0!==m?new H.Vector3(0,0,1):new H.Vector3(0,1,0)).applyAxisAngle(g.normalize(),p).add((new H.Vector3).addVectors(u,d).divideScalar(2));l=new H.QuadraticBezierCurve3(u,v,d)}else{var y=70*c,b=-p,x=b+Math.PI/2;l=new H.CubicBezierCurve3(u,new H.Vector3(y*Math.cos(x),y*Math.sin(x),0).add(u),new H.Vector3(y*Math.cos(b),y*Math.sin(b),0).add(u),d)}t.__curve=l}else t.__curve=null}(a);var d=i(a);if(!e.linkPositionUpdate||!e.linkPositionUpdate(d?s.children[1]:s,{start:{x:l.x,y:l.y,z:l.z},end:{x:u.x,y:u.y,z:u.z}},a)||d){var h=a.__curve,p=s.children.length?s.children[0]:s;if("Line"===p.type){if(h)p.geometry.setFromPoints(h.getPoints(30));else{var f=p.geometry.getAttribute("position");f&&f.array&&6===f.array.length||p.geometry[V]("position",f=new H.BufferAttribute(new Float32Array(6),3)),f.array[0]=l.x,f.array[1]=l.y||0,f.array[2]=l.z||0,f.array[3]=u.x,f.array[4]=u.y||0,f.array[5]=u.z||0,f.needsUpdate=!0}p.geometry.computeBoundingSphere()}else if("Mesh"===p.type)if(h){"TubeBufferGeometry"!==p.geometry.type&&(p.position.set(0,0,0),p.rotation.set(0,0,0),p.scale.set(1,1,1));var m=Math.ceil(10*t(a))/10,g=m/2,v=new H.TubeBufferGeometry(h,30,g,e.linkResolution,!1);p.geometry.dispose(),p.geometry=v}else{if("CylinderBufferGeometry"!==p.geometry.type){var y=Math.ceil(10*t(a))/10,b=y/2,x=new H.CylinderBufferGeometry(b,b,1,e.linkResolution,1,!1);x.applyMatrix((new H.Matrix4).makeTranslation(0,.5,0)),x.applyMatrix((new H.Matrix4).makeRotationX(Math.PI/2)),p.geometry.dispose(),p.geometry=x}var w=new H.Vector3(l.x,l.y||0,l.z||0),E=new H.Vector3(u.x,u.y||0,u.z||0),A=w.distanceTo(E);p.position.x=w.x,p.position.y=w.y,p.position.z=w.z,p.scale.z=A,p.parent.localToWorld(E),p.lookAt(E)}}}}})}(),t=p()(e.linkDirectionalArrowRelPos),r=p()(e.linkDirectionalArrowLength),n=p()(e.nodeVal),e.graphData.links.forEach(function(i){var a=i.__arrowObj;if(a){var s=o?i:e.layout.getLinkPosition(e.layout.graph.getLink(i.source,i.target).id),c=s[o?"source":"from"],l=s[o?"target":"to"];if(c.hasOwnProperty("x")&&l.hasOwnProperty("x")){var u=Math.sqrt(Math.max(0,n(c)||1))*e.nodeRelSize,d=Math.sqrt(Math.max(0,n(l)||1))*e.nodeRelSize,h=r(i),p=t(i),f=i.__curve?function(e){return i.__curve.getPoint(e)}:function(e){var t=function(e,t,r,n){return t[e]+(r[e]-t[e])*n||0};return{x:t("x",c,l,e),y:t("y",c,l,e),z:t("z",c,l,e)}},m=i.__curve?i.__curve.getLength():Math.sqrt(["x","y","z"].map(function(e){return Math.pow((l[e]||0)-(c[e]||0),2)}).reduce(function(e,t){return e+t},0)),g=u+h+(m-u-d-h)*p,v=f(g/m),y=f((g-h)/m);["x","y","z"].forEach(function(e){return a.position[e]=y[e]});var b=R(H.Vector3,j(["x","y","z"].map(function(e){return v[e]})));a.parent.localToWorld(b),a.lookAt(b)}}}),i=p()(e.linkDirectionalParticleSpeed),e.graphData.links.forEach(function(t){var r=t.__photonsObj&&t.__photonsObj.children,n=t.__singleHopPhotonsObj&&t.__singleHopPhotonsObj.children;if(n&&n.length||r&&r.length){var a=o?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),s=a[o?"source":"from"],c=a[o?"target":"to"];if(s.hasOwnProperty("x")&&c.hasOwnProperty("x")){var l=i(t),u=t.__curve?function(e){return t.__curve.getPoint(e)}:function(e){var t=function(e,t,r,n){return t[e]+(r[e]-t[e])*n||0};return{x:t("x",s,c,e),y:t("y",s,c,e),z:t("z",s,c,e)}},d=[].concat(j(r||[]),j(n||[]));d.forEach(function(e,t){var n="singleHopPhotons"===e.parent.__linkThreeObjType;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=n?0:t/r.length),e.__progressRatio+=l,e.__progressRatio>=1){if(n)return e.parent.remove(e),void I(e);e.__progressRatio=e.__progressRatio%1}var i=e.__progressRatio,o=u(i);["x","y","z"].forEach(function(t){return e.position[t]=o[t]})})}}}),this},emitParticle:function(e,t){if(t){if(!t.__singleHopPhotonsObj){var r=new H.Group;r.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=r,e.graphScene.add(r)}var n=p()(e.linkDirectionalParticleWidth),i=Math.ceil(10*n(t))/10/2,o=e.linkDirectionalParticleResolution,a=new H.SphereBufferGeometry(i,o,o),s=p()(e.linkColor),c=p()(e.linkDirectionalParticleColor)(t)||s(t)||"#f0f0f0",l=new H.Color(z(c)),u=3*e.linkOpacity,d=new H.MeshLambertMaterial({color:l,transparent:!0,opacity:u});t.__singleHopPhotonsObj.add(new H.Mesh(a,d))}return this}},stateInit:function(){return{d3ForceLayout:Object(i.e)().force("link",Object(i.b)()).force("charge",Object(i.c)()).force("center",Object(i.a)()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e},update:function(e,t){var r,n,o,a,s,c=function(e){return e.some(function(e){return t.hasOwnProperty(e)})};if(e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&c(["nodeAutoColorBy","graphData","nodeColor"])&&U(e.graphData.nodes,p()(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&c(["linkAutoColorBy","graphData","linkColor"])&&U(e.graphData.links,p()(e.linkAutoColorBy),e.linkColor),e._flushObjects||c(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var l=p()(e.nodeThreeObject),u=p()(e.nodeThreeObjectExtend),d=p()(e.nodeVal),h=p()(e.nodeColor),f=p()(e.nodeVisibility),m={},g={},v=new Set;N(e.graphData.nodes.filter(f),e.graphScene,{purge:e._flushObjects||c(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(e){return"node"===e.__graphObjType},createObj:function(t){var r,n=l(t),i=u(t);return n&&e.nodeThreeObject===n&&(n=n.clone()),n&&!i?(r=n,v.add(r)):(r=new H.Mesh,n&&i&&r.add(n)),r.__graphObjType="node",r},updateObj:function(t,r){if(!v.has(t)){var n=d(r)||1,i=Math.cbrt(n)*e.nodeRelSize,o=e.nodeResolution;"SphereBufferGeometry"===t.geometry.type&&t.geometry.parameters.radius===i&&t.geometry.parameters.widthSegments===o||(m.hasOwnProperty(n)||(m[n]=new H.SphereBufferGeometry(i,o,o)),t.geometry.dispose(),t.geometry=m[n]);var a=h(r),s=new H.Color(z(a||"#ffffaa")),c=e.nodeOpacity*B(a);"MeshLambertMaterial"===t.material.type&&t.material.color.equals(s)&&t.material.opacity===c||(g.hasOwnProperty(a)||(g[a]=new H.MeshLambertMaterial({color:s,transparent:!0,opacity:c})),t.material.dispose(),t.material=g[a])}}})}if(e._flushObjects||c(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var y=p()(e.linkThreeObject),b=p()(e.linkThreeObjectExtend),x=p()(e.linkMaterial),w=p()(e.linkVisibility),E=p()(e.linkColor),A=p()(e.linkWidth),_={},M={},T=e.graphData.links.filter(w),C=new Set;if(N(T,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||c(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(e){return"link"===e.__graphObjType},createObj:function(t){var r,n,i=y(t),o=b(t);if(i&&e.linkThreeObject===i&&(i=i.clone()),!i||o)if(!!A(t))r=new H.Mesh;else{var a=new H.BufferGeometry;a[V]("position",new H.BufferAttribute(new Float32Array(6),3)),r=new H.Line(a)}return i?o?((n=new H.Group).add(r),n.add(i)):(n=i,C.add(n)):n=r,n.renderOrder=10,n.__graphObjType="link",n},updateObj:function(t,r){if(!C.has(t)){var n=t.children.length?t.children[0]:t,i=Math.ceil(10*A(r))/10;if(!!i){var o=i/2,a=e.linkResolution;if("CylinderBufferGeometry"!==n.geometry.type||n.geometry.parameters.radiusTop!==o||n.geometry.parameters.radialSegments!==a){if(!M.hasOwnProperty(i)){var s=new H.CylinderBufferGeometry(o,o,1,a,1,!1);s.applyMatrix((new H.Matrix4).makeTranslation(0,.5,0)),s.applyMatrix((new H.Matrix4).makeRotationX(Math.PI/2)),M[i]=s}n.geometry.dispose(),n.geometry=M[i]}}var c=x(r);if(c)n.material=c;else{var l=E(r),u=new H.Color(z(l||"#f0f0f0")),d=e.linkOpacity*B(l);"MeshLambertMaterial"===n.material.type&&n.material.color.equals(u)&&n.material.opacity===d||(_.hasOwnProperty(l)||(_[l]=new H.MeshLambertMaterial({color:u,transparent:d<1,opacity:d,depthWrite:d>=1})),n.material.dispose(),n.material=_[l])}}}}),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var O=p()(e.linkDirectionalArrowLength),L=p()(e.linkDirectionalArrowColor);N(T.filter(O),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(e){return"arrow"===e.__linkThreeObjType},createObj:function(){var e=new H.Mesh(void 0,new H.MeshLambertMaterial({transparent:!0}));return e.__linkThreeObjType="arrow",e},updateObj:function(t,r){var n=O(r),i=e.linkDirectionalArrowResolution;if("ConeBufferGeometry"!==t.geometry.type||t.geometry.parameters.height!==n||t.geometry.parameters.radialSegments!==i){var o=new H.ConeBufferGeometry(.25*n,n,i);o.translate(0,n/2,0),o.rotateX(Math.PI/2),t.geometry.dispose(),t.geometry=o}t.material.color=new H.Color(L(r)||E(r)||"#f0f0f0"),t.material.opacity=3*e.linkOpacity}})}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var R=p()(e.linkDirectionalParticles),P=p()(e.linkDirectionalParticleWidth),k=p()(e.linkDirectionalParticleColor),D={},I={};N(T.filter(R),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(e){return"photons"===e.__linkThreeObjType},createObj:function(){var e=new H.Group;return e.__linkThreeObjType="photons",e},updateObj:function(t,r){var n,i=Math.round(Math.abs(R(r))),o=!!t.children.length&&t.children[0],a=Math.ceil(10*P(r))/10/2,s=e.linkDirectionalParticleResolution;o&&o.geometry.parameters.radius===a&&o.geometry.parameters.widthSegments===s?n=o.geometry:(I.hasOwnProperty(a)||(I[a]=new H.SphereBufferGeometry(a,s,s)),n=I[a],o&&o.geometry.dispose());var c,l=k(r)||E(r)||"#f0f0f0",u=new H.Color(z(l)),d=3*e.linkOpacity;o&&o.material.color.equals(u)&&o.material.opacity===d?c=o.material:(D.hasOwnProperty(l)||(D[l]=new H.MeshLambertMaterial({color:u,transparent:!0,opacity:d})),c=D[l],o&&o.material.dispose()),N(j(new Array(i)).map(function(e,t){return{idx:t}}),t,{idAccessor:function(e){return e.idx},createObj:function(){return new H.Mesh(n,c)},updateObj:function(e){e.geometry=n,e.material=c}})}})}}if(e._flushObjects=!1,c(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]});var F,W="ngraph"!==e.forceEngine;if(W){(F=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var q=e.d3ForceLayout.force("link");q&&q.id(function(t){return t[e.nodeId]}).links(e.graphData.links);var X=e.dagMode&&(r=e.graphData,n=function(t){return t[e.nodeId]},o=r.nodes,a=r.links,s={},o.forEach(function(e){return s[n(e)]={data:e,out:[],depth:-1}}),a.forEach(function(e){var t=e.source,r=e.target,i=l(t),o=l(r);if(!s.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!s.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var a=s[i],c=s[o];function l(e){return"object"===S(e)?n(e):e}a.out.push(c)}),function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=r.length,o=0,a=t.length;o<a;o++){var s=t[o];if(-1!==r.indexOf(s)){var c=[].concat(j(r.slice(r.indexOf(s))),[s]).map(function(e){return n(e.data)});throw"Invalid DAG structure! Found cycle in node path: ".concat(c.join(" -> "),".")}i>s.depth&&(s.depth=i,e(s.out,[].concat(j(r),[s])))}}(Object.values(s)),Object.keys(s).forEach(function(e){return s[e]=s[e].depth}),s),Y=Math.max.apply(Math,j(Object.values(X||[]))),K=e.dagLevelDistance||e.graphData.nodes.length/(Y||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var Q=function(t,r){return function(n){return t?(X[n[e.nodeId]]-Y/2)*K*(r?-1:1):void 0}},Z=Q(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),J=Q(-1!==["td","bu"].indexOf(e.dagMode),"td"===e.dagMode),$=Q(-1!==["zin","zout"].indexOf(e.dagMode),"zout"===e.dagMode);e.graphData.nodes.forEach(function(e){e.fx=Z(e),e.fy=J(e),e.fz=$(e)})}e.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?Object(i.d)(function(t){var r=X[t[e.nodeId]];return("radialin"===e.dagMode?Y-r:r)*K}).strength(1):null)}else{var ee=G.graph();e.graphData.nodes.forEach(function(t){ee.addNode(t[e.nodeId])}),e.graphData.links.forEach(function(e){ee.addLink(e.source,e.target)}),(F=G["forcelayout"+(2===e.numDimensions?"":"3d")](ee)).graph=ee}for(var te=0;te<e.warmupTicks;te++)F[W?"tick":"step"]();e.layout=F,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}}),(window.THREE?window.THREE:{Group:n.Group}).Group,!0);t.default=W},function(e,t,r){e.exports={radiusByProperty__inputContainer:"radiusByProperty__inputContainer___1kcSJ",radiusByPropertyInputContainer:"radiusByProperty__inputContainer___1kcSJ",radiusByProperty__container:"radiusByProperty__container___3lOSb",radiusByPropertyContainer:"radiusByProperty__container___3lOSb",radiusByProperty__valuesContainer:"radiusByProperty__valuesContainer___38RsX",radiusByPropertyValuesContainer:"radiusByProperty__valuesContainer___38RsX"}},function(e,t,r){e.exports={tableSection__searchContainer:"tableSection__searchContainer___ucR3W",tableSectionSearchContainer:"tableSection__searchContainer___ucR3W",tableSection__searchButton:"tableSection__searchButton___wec9_",tableSectionSearchButton:"tableSection__searchButton___wec9_"}},function(e,t,r){e.exports={graphFileContainer:"graphFileContainer___3LYqX",graphFilename:"graphFilename___3nnvo",graphFileMenu:"graphFileMenu___18dUJ"}},function(e,t,r){e.exports={graphContainer:"graphContainer___3Do1r",editingToolsContainer:"editingToolsContainer___3Cz64",addLinkHelperContainer:"addLinkHelperContainer___s1bi0"}},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=s(r(83)),o=s(r(124)),a=s(r(267));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(e,t,r){(0,n.useEffect)(function(){var n,i=function(e){t.current&&t.current(e)};return null!==e&&e.current&&(n=e.current),null===e&&(n=document),n&&n.addEventListener&&n.addEventListener(r,i),function(){n&&n.removeEventListener&&n.removeEventListener(r,i)}},[])},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=c((0,i.default)(),2),r=t[0],n=t[1],s=c((0,i.default)(),2),u=s[0],d=s[1],h=c((0,i.default)(),2),p=h[0],f=h[1],m=c((0,i.default)(),2),g=m[0],v=m[1],y=c((0,i.default)(),2),b=y[0],x=y[1],w=c((0,i.default)(),2),E=w[0],A=w[1],_=c((0,i.default)(),2),M=_[0],S=_[1];return null===e||(0,a.default)(e,"current")?(l(e,r,"mousedown"),l(e,u,"mouseenter"),l(e,p,"mouseleave"),l(e,g,"mousemove"),l(e,b,"mouseout"),l(e,E,"mouseover"),l(e,M,"mouseup"),Object.freeze({onMouseDown:n,onMouseEnter:d,onMouseLeave:f,onMouseMove:v,onMouseOut:x,onMouseOver:A,onMouseUp:S})):(0,o.default)("Unable to assign any mouse event to the given ref")};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=s(r(83)),o=s(r(124)),a=s(r(180));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default,t=(0,n.useRef)(),r=c((0,i.default)(),2),s=r[0],l=r[1],u=c((0,i.default)(),2),d=u[0],h=u[1],p="geolocation"in window.navigator;return(0,n.useEffect)(function(){return p&&(t.current=window.navigator.geolocation.watchPosition(function(e){s.current&&s.current(e)},function(e){d.current&&d.current(e)},e)),function(){p&&window.navigator.geolocation.clearWatch(t.current)}},[]),p?Object.freeze({isSupported:p,onChange:l,onError:h}):(0,o.default)("The Geolocation API is not supported")};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Object.create(null);n.enableHighAccuracy=!1,n.timeout=4294967295,n.maximumAge=0;var i=Object.freeze(n);t.default=i},function(e,t){var r=e.exports={version:"2.6.3"};"number"==typeof __e&&(__e=r)},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(126),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(272)("keys"),i=r(182);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(104);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(473),i=r(491),o=r(493),a=r(494),s=r(495);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(74)(r(43),"Map");e.exports=n},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},function(e,t,r){"use strict";var n,i,o=r(132),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(n=/a/,i=/b*/g,a.call(n,"a"),a.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,r,n,i,c=this;return u&&(r=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(t=c.lastIndex),n=a.call(c,e),l&&n&&(c.lastIndex=c.global?n.index+n[0].length:t),u&&n&&n.length>1&&s.call(n[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)}),n}),e.exports=c},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){var n=r(128),i=r(515),o=r(516),a=r(517),s=r(518),c=r(519);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t,r){var n=r(292),i=r(130),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(523),i=r(60),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,r){(function(e){var n=r(43),i=r(524),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,r(90)(e))},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){(function(e){var n=r(283),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,r(90)(e))},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(534),i=r(298),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),function(t){return o.call(e,t)}))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t,r){var n=r(296)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(303);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){var n=r(47),i=r(110),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t){function r(e,t){if(!(this instanceof r))return new r(e,t);if(Array.isArray(e)||(t=e,e=[]),t=t||{},this.data=e||[],this.length=this.data.length,this.compare=t.compare||i,this.setNodeId=t.setNodeId||n,this.length>0)for(var o=this.length>>1;o>=0;o--)this._down(o);if(t.setNodeId)for(o=0;o<this.length;++o)this.setNodeId(this.data[o],o)}function n(){}function i(e,t){return e-t}e.exports=r,r.prototype={push:function(e){this.data.push(e),this.setNodeId(e,this.length),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this.setNodeId(this.data[0],0),this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},updateItem:function(e){this._down(e),this._up(e)},_up:function(e){for(var t=this.data,r=this.compare,n=this.setNodeId,i=t[e];e>0;){var o=e-1>>1,a=t[o];if(r(i,a)>=0)break;t[e]=a,n(a,e),e=o}t[e]=i,n(i,e)},_down:function(e){for(var t=this.data,r=this.compare,n=this.length>>1,i=t[e],o=this.setNodeId;e<n;){var a=1+(e<<1),s=a+1,c=t[a];if(s<this.length&&r(t[s],c)<0&&(a=s,c=t[s]),r(c,i)>=0)break;t[e]=c,o(c,e),e=a}t[e]=i,o(i,e)}}},function(e,t){e.exports={l2:function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},l1:function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.abs(r)+Math.abs(n)}}},function(e,t){var r=[];"function"==typeof Object.freeze&&Object.freeze(r),e.exports={heuristic:function(){return 0},distance:function(){return 1},compareFScore:function(e,t){return e.fScore-t.fScore},NO_PATH:r,setHeapIndex:function(e,t){e.heapIndex=t},setH1:function(e,t){e.h1=t},setH2:function(e,t){e.h2=t},compareF1Score:function(e,t){return e.f1-t.f1},compareF2Score:function(e,t){return e.f2-t.f2}}},function(e,t,r){var n=r(23),i=r(112),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,r){var n=r(607),i=r(623),o=r(625),a=r(626),s=r(627);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(76)(r(35),"Map");e.exports=n},function(e,t,r){var n=r(75),i=r(77),o=r(23),a=r(112),s=1/0,c=n?n.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},function(e,t){e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}},function(e,t,r){var n=r(630),i=r(316)(n);e.exports=i},function(e,t,r){var n=r(141),i=r(637),o=r(638),a=r(639),s=r(640),c=r(641);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t,r){var n=r(642),i=r(30);e.exports=function e(t,r,o,a,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,s))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t,r){var n=r(323),i=r(324),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),function(t){return o.call(e,t)}))}:i;e.exports=s},function(e,t,r){var n=r(650),i=r(94),o=r(151),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){var n=r(335),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=n(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},function(e,t,r){var n=r(326)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){e.exports=r(679)()},function(e,t,r){var n=r(705),i=r(158),o=r(706);e.exports=function(e){return i(e)?o(e):n(e)}},function(e,t,r){var n=r(344),i=r(143),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(713),i=r(314),o=r(216);e.exports=function(e){return o(i(e,void 0,n),e+"")}},function(e,t,r){var n=r(349),i=r(753),o=r(754),a=r(351),s=r(763),c=r(233),l=r(764),u=r(357),d=r(358),h=r(95),p="Expected a function",f=1,m=2,g=8,v=16,y=32,b=64,x=Math.max;e.exports=function(e,t,r,w,E,A,_,M){var S=t&m;if(!S&&"function"!=typeof e)throw new TypeError(p);var T=w?w.length:0;if(T||(t&=~(y|b),w=E=void 0),_=void 0===_?_:x(h(_),0),M=void 0===M?M:h(M),T-=E?E.length:0,t&b){var C=w,O=E;w=E=void 0}var L=S?void 0:c(e),R=[e,t,r,w,E,C,O,A,_,M];if(L&&l(R,L),e=R[0],t=R[1],r=R[2],w=R[3],E=R[4],!(M=R[9]=void 0===R[9]?S?0:e.length:x(R[9]-T,0))&&t&(g|v)&&(t&=~(g|v)),t&&t!=f)P=t==g||t==v?o(e,t,M):t!=y&&t!=(f|y)||E.length?a.apply(void 0,R):s(e,t,r,w);else var P=i(e,t,r);return d((L?n:u)(P,R),e,t)}},function(e,t,r){var n=r(161),i=r(232),o=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=n(i.prototype),a.prototype.constructor=a,e.exports=a},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(350),i=r(163),o=n?function(e){return n.get(e)}:i;e.exports=o},function(e,t,r){var n=r(161),i=r(232);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){var r="__lodash_placeholder__";e.exports=function(e,t){for(var n=-1,i=e.length,o=0,a=[];++n<i;){var s=e[n];s!==t&&s!==r||(e[n]=r,a[o++]=n)}return a}},function(e,t,r){var n=r(319);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t){e.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},function(e,t){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(r,n,i){if("function"!=typeof n)throw new Error("callback is expected to be a function");var o=t[r];return o||(o=t[r]=[]),o.push({callback:n,ctx:i}),e},off:function(r,n){var i=void 0===r;if(i)return t=Object.create(null),e;if(t[r]){var o="function"!=typeof n;if(o)delete t[r];else for(var a=t[r],s=0;s<a.length;++s)a[s].callback===n&&a.splice(s,1)}return e},fire:function(r){var n,i=t[r];if(!i)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,n)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},function(e,t,r){"use strict";r(866)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,r){(function(t){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return h.Date.now()};function v(e,t,n){var i,o,a,s,c,l,u=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function v(t){var r=i,n=o;return i=o=void 0,u=t,s=e.apply(n,r)}function x(e){var r=e-l;return void 0===l||r>=t||r<0||h&&e-u>=a}function w(){var e=g();if(x(e))return E(e);c=setTimeout(w,function(e){var r=t-(e-l);return h?m(r,a-(e-u)):r}(e))}function E(e){return c=void 0,p&&i?v(e):(i=o=void 0,s)}function A(){var e=g(),r=x(e);if(i=arguments,o=this,l=e,r){if(void 0===c)return function(e){return u=e,c=setTimeout(w,t),d?v(e):s}(l);if(h)return c=setTimeout(w,t),v(l)}return void 0===c&&(c=setTimeout(w,t)),s}return t=b(t)||0,y(n)&&(d=!!n.leading,a=(h="maxWait"in n)?f(b(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),A.cancel=function(){void 0!==c&&clearTimeout(c),u=0,i=l=o=c=void 0},A.flush=function(){return void 0===c?s:E(g())},A}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==i}(e))return n;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return y(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),v(e,t,{leading:i,maxWait:t,trailing:o})}}).call(this,r(82))},function(e,t,r){var n=r(334),i=r(62),o=r(95),a=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var c=null==r?0:o(r);return c<0&&(c=a(s+c,0)),n(e,i(t,3),c)}},function(e,t,r){var n=r(338);e.exports=function(e){return e&&e.length?n(e):[]}},function(e,t,r){var n=r(45),i=r(225),o=r(30),a="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,u=c.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!o(e)||n(e)!=a)return!1;var t=i(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}},function(e,t,r){e.exports=function(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var o=r(365)(t),a=function(t){var r=e.getLinks(t);return r?1+r.length/3:1};t&&"function"==typeof t.nodeMass&&(a=t.nodeMass);var s=Object.create(null),c={},l=0,u=o.settings.springTransform||i;l=0,e.forEachNode(function(e){f(e.id),l+=1}),e.forEachLink(g),e.on("changed",p);var d=!1,h={step:function(){if(0===l)return!0;var e=o.step();h.lastMove=e,h.fire("step");var t,r=e/l,n=r<=.01;return d!==n&&(d=n,t=n,h.fire("stable",t)),n},getNodePosition:function(e){return b(e).pos},setNodePosition:function(e){var t=b(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1)),o.invalidateBBox()},getLinkPosition:function(e){var t=c[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:function(e){Object.keys(s).forEach(function(t){e(s[t],t)})},pinNode:function(e,t){var r=b(e.id);r.isPinned=!!t},isNodePinned:function(e){return b(e.id).isPinned},dispose:function(){e.off("changed",p),h.fire("disposed")},getBody:function(e){return s[e]},getSpring:function(t,r){var n;if(void 0===r)n="object"!=typeof t?t:t.id;else{var i=e.hasLink(t,r);if(!i)return;n=i.id}return c[n]},simulator:o,graph:e,lastMove:0};return n(h),h;function p(t){for(var r=0;r<t.length;++r){var n=t[r];"add"===n.changeType?(n.node&&f(n.node.id),n.link&&g(n.link)):"remove"===n.changeType&&(n.node&&m(n.node),n.link&&v(n.link))}l=e.getNodesCount()}function f(t){var r=s[t];if(!r){var n=e.getNode(t);if(!n)throw new Error("initBody() was called with unknown node id");var i=n.position;if(!i){var a=function(e){var t=[];if(!e.links)return t;for(var r=Math.min(e.links.length,2),n=0;n<r;++n){var i=e.links[n],o=i.fromId!==e.id?s[i.fromId]:s[i.toId];o&&o.pos&&t.push(o)}return t}(n);i=o.getBestNewBodyPosition(a)}(r=o.addBodyAt(i)).id=t,s[t]=r,y(t),function(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}(n)&&(r.isPinned=!0)}}function m(e){var t=e.id,r=s[t];r&&(s[t]=null,delete s[t],o.removeBody(r))}function g(e){y(e.fromId),y(e.toId);var t=s[e.fromId],r=s[e.toId],n=o.addSpring(t,r,e.length);u(e,n),c[e.id]=n}function v(t){var r=c[t.id];if(r){var n=e.getNode(t.fromId),i=e.getNode(t.toId);n&&y(n.id),i&&y(i.id),delete c[t.id],o.removeSpring(r)}}function y(e){var t=s[e];if(t.mass=a(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function b(e){var t=s[e];return t||(f(e),t=s[e]),t}},e.exports.simulator=r(365);var n=r(238);function i(){}},function(e,t,r){"use strict";var n=r(425),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(f){var i=p(r);i&&i!==f&&e(t,i,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var s=c(t),m=c(r),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||n&&n[v]||m&&m[v]||s&&s[v])){var y=h(r,v);try{l(t,v,y)}catch(e){}}}return t}return t}},function(e,t,r){"use strict";(function(e,n){var i,o=r(369);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(o.a)(i);t.a=a}).call(this,r(82),r(429)(e))},function(e,t,r){var n=r(592),i=r(304)(function(e,t){return null==e?{}:n(e,t)});e.exports=i},function(e,t,r){var n=r(677),i=r(223),o=r(335);e.exports=function(e,t,r){return t=i(t),void 0===r?(r=t,t=0):r=i(r),e=o(e),n(e,t,r)}},function(e,t,r){var n=r(159),i=r(113),o=r(338),a=r(156),s=i(function(e){return o(n(e,1,a,!0))});e.exports=s},function(e,t,r){e.exports={coloringByProperty__inputContainer:"coloringByProperty__inputContainer___31YVj",coloringByPropertyInputContainer:"coloringByProperty__inputContainer___31YVj",coloringByProperty__container:"coloringByProperty__container___1ZhVs",coloringByPropertyContainer:"coloringByProperty__container___1ZhVs"}},function(e,t,r){e.exports={mst__inputContainer:"mst__inputContainer___2xaGT",mstInputContainer:"mst__inputContainer___2xaGT",mst__container:"mst__container___kNaBV",mstContainer:"mst__container___kNaBV"}},function(e,t,r){e.exports={shortestPath__inputContainer:"shortestPath__inputContainer___1fvBn",shortestPathInputContainer:"shortestPath__inputContainer___1fvBn",shortestPath__container:"shortestPath__container___39Qdu",shortestPathContainer:"shortestPath__container___39Qdu"}},function(e,t,r){var n=r(305),i=r(718),o=r(742),a=r(743),s=o(function(e,t){if(null==e)return[];var r=t.length;return r>1&&a(e,t[0],t[1])?t=[]:r>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,n(t,1),[])});e.exports=s},function(e,t,r){e.exports={cardContainer:"cardContainer___oksLM",browseFromMyComputerContainer:"browseFromMyComputerContainer___H2CZV"}},function(e,t){e.exports=function(e){return[...e].reduce((e,[t,r])=>(e[t]=r,e),{})}},function(e,t,r){e.exports=r(367)},,,,,,,,function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))i.call(r,l)&&(s[l]=r[l]);if(n){a=n(r);for(var u=0;u<a.length;u++)o.call(r,a[u])&&(s[a[u]]=r[a[u]])}}return s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(83))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){var t=a((0,o.default)(e),2),r=t[0],n=t[1];return(0,i.useEffect)(function(){r.current&&r.current()},[]),n};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(83))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){var t=a((0,o.default)(e),2),r=t[0],n=t[1];return(0,i.useEffect)(function(){return function(){r.current&&r.current()}},[]),n};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(178))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=a((0,i.useState)({clientX:0,clientY:0,screenX:0,screenY:0}),2),r=t[0],n=t[1];return(0,(0,o.default)(e).onMouseMove)(function(e){var t=function(e){return{clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY}}(e);n(t)}),r};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=function(e){var t=(0,n.useRef)();return(0,n.useEffect)(function(){return t.current=e,function(){t.current=void 0}}),t.current};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=c(r(179)),o=c(r(180)),a=c(r(446)),s=c(r(447));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default,t=l((0,n.useState)(null),2),r=t[0],c=t[1],u=l((0,n.useState)(!1),2),d=u[0],h=u[1],p=(0,i.default)(e),f=p.isSupported,m=p.onChange,g=(0,n.useCallback)(function(){null===r&&(h(!0),navigator.geolocation.getCurrentPosition(function(e){(0,s.default)(r,e)||(c((0,a.default)(e)),h(!1))}))},[r]);return(0,n.useEffect)(g,[r]),m(g),Object.freeze({isSupported:f,isRetrieving:d,position:r})};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=s(r(267)),o=s(r(124)),a=s(r(83));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(e,t,r){(0,n.useEffect)(function(){var n=function(e){t.current&&t.current(e)};return e.current&&e.current.addEventListener(r,n),function(){e.current&&e.current.removeEventListener(r,n)}},[])},u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c((0,a.default)(),2),s=r[0],u=r[1],d=c((0,a.default)(),2),h=d[0],p=d[1],f=c((0,a.default)(),2),m=f[0],g=f[1],v=c((0,a.default)(),2),y=v[0],b=v[1],x=c((0,a.default)(),2),w=x[0],E=x[1],A=c((0,a.default)(),2),_=A[0],M=A[1],S=c((0,a.default)(),2),T=S[0],C=S[1],O=c((0,a.default)(),2),L=O[0],R=O[1];return null===e||(0,i.default)(e,"current")?((0,n.useEffect)(function(){t&&e.current&&!e.current.hasAttribute("draggable")&&e.current.setAttribute("draggable",!0)},[]),l(e,s,"drag"),l(e,h,"drop"),l(e,m,"dragenter"),l(e,y,"dragend"),l(e,w,"dragexit"),l(e,_,"dragleave"),l(e,T,"dragover"),l(e,L,"dragstart"),Object.freeze({onDrag:u,onDrop:p,onDragEnter:g,onDragEnd:b,onDragExit:E,onDragLeave:M,onDragOver:C,onDragStart:R})):(0,o.default)("Unable to assign any drag event to the given ref")};t.default=u},function(e,t,r){var n=r(181),i=r(50),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(273)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,r){e.exports=!r(52)&&!r(53)(function(){return 7!=Object.defineProperty(r(275)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(85),i=r(50).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(85);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(186);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(279),i=r(189);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(106),i=r(125),o=r(468)(!1),a=r(188)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(84).f,i=r(106),o=r(42)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(191),i=r(496),o=r(497);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t,r){var n=r(87),i=r(44),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==c}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(82))},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,r){var n=r(74)(r(43),"Set");e.exports=n},function(e,t,r){"use strict";var n=r(288),i=r(51),o=r(506),a=r(289),s=r(187),c=r(290),l=r(194),u=r(53),d=Math.min,h=[].push,p=!u(function(){RegExp(4294967295,"y")});r(291)("split",2,function(e,t,r,u){var f;return f="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?4294967295:t>>>0,f=new RegExp(e.source,u+"g");(o=l.call(f,i))&&!((a=f.lastIndex)>d&&(c.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&h.apply(c,o.slice(1)),s=o[0].length,d=a,c.length>=p));)f.lastIndex===o.index&&f.lastIndex++;return d===i.length?!s&&f.test("")||c.push(""):c.push(i.slice(d)),c.length>p?c.slice(0,p):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var i=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,n):f.call(String(i),r,n)},function(e,t){var n=u(f,e,this,t,f!==r);if(n.done)return n.value;var l=i(e),h=String(this),m=o(l,RegExp),g=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),y=new m(p?l:"^(?:"+l.source+")",v),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var x=0,w=0,E=[];w<h.length;){y.lastIndex=p?w:0;var A,_=c(y,p?h:h.slice(w));if(null===_||(A=d(s(y.lastIndex+(p?0:w)),h.length))===x)w=a(h,w,g);else{if(E.push(h.slice(x,w)),E.length===b)return E;for(var M=1;M<=_.length-1;M++)if(E.push(_[M]),E.length===b)return E;w=x=A}}return E.push(h.slice(x)),E}]})},function(e,t,r){var n=r(85),i=r(185),o=r(42)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){"use strict";var n=r(507)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){"use strict";var n=r(508),i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var o=r.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,r){"use strict";r(509);var n=r(86),i=r(73),o=r(53),a=r(104),s=r(42),c=r(194),l=s("species"),u=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var h=s(e),p=!o(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),f=p?!o(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[l]=function(){return r}),r[h](""),!t}):void 0;if(!p||!f||"replace"===e&&!u||"split"===e&&!d){var m=/./[h],g=r(a,h,""[e],function(e,t,r,n,i){return t.exec===c?p&&!i?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),v=g[0],y=g[1];n(String.prototype,e,v),i(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,r){var n=r(293);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(74),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){var n=r(522),i=r(198),o=r(47),a=r(199),s=r(133),c=r(295),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&i(e),d=!r&&!u&&a(e),h=!r&&!u&&!d&&c(e),p=r||u||d||h,f=p?n(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},function(e,t,r){var n=r(525),i=r(134),o=r(201),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(294),i=r(529),o=r(109);e.exports=function(e){return o(e)?n(e,!0):i(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(204),i=r(205),o=r(203),a=r(298),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,r){var n=r(301),i=r(203),o=r(108);e.exports=function(e){return n(e,o,i)}},function(e,t,r){var n=r(204),i=r(47);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},function(e,t,r){var n=r(301),i=r(299),o=r(297);e.exports=function(e){return n(e,o,i)}},function(e,t,r){var n=r(43).Uint8Array;e.exports=n},function(e,t,r){var n=r(562),i=r(306),o=r(307);e.exports=function(e){return o(i(e,void 0,n),e+"")}},function(e,t,r){var n=r(204),i=r(563);e.exports=function e(t,r,o,a,s){var c=-1,l=t.length;for(o||(o=i),s||(s=[]);++c<l;){var u=t[c];r>0&&o(u)?r>1?e(u,r-1,o,a,s):n(s,u):a||(s[s.length]=u)}return s}},function(e,t,r){var n=r(564),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=r(c),n(e,this,l)}}},function(e,t,r){var n=r(565),i=r(567)(n);e.exports=i},function(e,t){function r(e){var t="number"==typeof e?e:+new Date,r=function(){return(268435455&(t=4294967295&(3042594569^(t=(t=4294967295&((t=(t=4294967295&(3345072700^(t=t+2127912214+(t<<12)&4294967295)^t>>>19))+374761393+(t<<5)&4294967295)+3550635116^t<<9))+4251993797+(t<<3)&4294967295)^t>>>16)))/268435456};return{next:function(e){return Math.floor(r()*e)},nextDouble:function(){return r()}}}e.exports={random:r,randomIterator:function(e,t){var n=t||r();if("function"!=typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var r,i,o;for(r=e.length-1;r>0;--r)i=n.next(r+1),o=e[i],e[i]=e[r],e[r]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,r,i;for(t=e.length-1;t>0;--t)r=n.next(t+1),i=e[r],e[r]=e[t],e[t]=i;return e}}}}},function(e,t){function r(e){this.node=e,this.parent=null,this.closed=!1,this.open=0,this.distanceToSource=Number.POSITIVE_INFINITY,this.fScore=Number.POSITIVE_INFINITY,this.heapIndex=-1}e.exports=function(){var e=0,t=[];return{createNewState:function(n){var i=t[e];return i?(i.node=n,i.parent=null,i.closed=!1,i.open=0,i.distanceToSource=Number.POSITIVE_INFINITY,i.fScore=Number.POSITIVE_INFINITY,i.heapIndex=-1):(i=new r(n),t[e]=i),e++,i},reset:function(){e=0}}}},function(e,t,r){var n=r(595),i=r(596);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(82))},function(e,t,r){var n=r(605),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)}),t});e.exports=a},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(139),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=r(c),n(e,this,l)}}},function(e,t,r){var n=r(76),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){var r=800,n=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=n-(a-o);if(o=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(146),i=r(318),o=r(147),a=1,s=2;e.exports=function(e,t,r,c,l,u){var d=r&a,h=e.length,p=t.length;if(h!=p&&!(d&&p>h))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,g=!0,v=r&s?new n:void 0;for(u.set(e,t),u.set(t,e);++m<h;){var y=e[m],b=t[m];if(c)var x=d?c(b,y,m,t,e,u):c(y,b,m,e,t,u);if(void 0!==x){if(x)continue;g=!1;break}if(v){if(!i(t,function(e,t){if(!o(v,t)&&(y===e||l(y,e,r,c,u)))return v.push(t)})){g=!1;break}}else if(y!==b&&!l(y,b,r,c,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){var n=r(35).Uint8Array;e.exports=n},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},function(e,t,r){var n=r(322),i=r(220),o=r(63);e.exports=function(e){return n(e,o,i)}},function(e,t,r){var n=r(219),i=r(23);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(647),i=r(149),o=r(23),a=r(150),s=r(114),c=r(221),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&i(e),d=!r&&!u&&a(e),h=!r&&!u&&!d&&c(e),p=r||u||d||h,f=p?n(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(76)(r(35),"Set");e.exports=n},function(e,t,r){var n=r(76)(r(35),"WeakMap");e.exports=n},function(e,t,r){var n=r(48);e.exports=function(e){return e==e&&!n(e)}},function(e,t){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},function(e,t,r){var n=r(656),i=r(332);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t,r){var n=r(111),i=r(149),o=r(23),a=r(114),s=r(222),c=r(78);e.exports=function(e,t,r){for(var l=-1,u=(t=n(t,e)).length,d=!1;++l<u;){var h=c(t[l]);if(!(d=null!=e&&r(e,h)))break;e=e[h]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){e.exports=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,r){var n=r(48),i=r(112),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):s.test(e)?o:+e}},function(e,t,r){var n=r(146),i=r(155),o=r(224),a=r(77),s=r(94),c=r(147),l=200;e.exports=function(e,t,r,u){var d=-1,h=i,p=!0,f=e.length,m=[],g=t.length;if(!f)return m;r&&(t=a(t,s(r))),u?(h=o,p=!1):t.length>=l&&(h=c,p=!1,t=new n(t));e:for(;++d<f;){var v=e[d],y=null==r?v:r(v);if(v=u||0!==v?v:0,p&&y==y){for(var b=g;b--;)if(t[b]===y)continue e;m.push(v)}else h(t,y,u)||m.push(v)}return m}},function(e,t,r){var n=r(334),i=r(664),o=r(665);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,i,r)}},function(e,t,r){var n=r(146),i=r(155),o=r(224),a=r(147),s=r(666),c=r(148),l=200;e.exports=function(e,t,r){var u=-1,d=i,h=e.length,p=!0,f=[],m=f;if(r)p=!1,d=o;else if(h>=l){var g=t?null:s(e);if(g)return c(g);p=!1,d=a,m=new n}else m=t?[]:f;e:for(;++u<h;){var v=e[u],y=t?t(v):v;if(v=r||0!==v?v:0,p&&y==y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),f.push(v)}else d(m,y,r)||(m!==f&&m.push(y),f.push(v))}return f}},function(e,t,r){var n=r(670),i=r(63);e.exports=function(e){return null==e?[]:n(e,i(e))}},function(e,t,r){var n=r(688),i=r(332);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t){e.exports=function(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}},function(e,t,r){var n=r(215);e.exports=function(e,t,r){var i=e.length;return r=void 0===r?i:r,!t&&r>=i?e:n(e,t,r)}},function(e,t,r){var n=r(228),i=r(111),o=r(114),a=r(48),s=r(78);e.exports=function(e,t,r,c){if(!a(e))return e;for(var l=-1,u=(t=i(t,e)).length,d=u-1,h=e;null!=h&&++l<u;){var p=s(t[l]),f=r;if(l!=d){var m=h[p];void 0===(f=c?c(m,p,h):void 0)&&(f=a(m)?m:o(t[l+1])?[]:{})}n(h,p,f),h=h[p]}return e}},function(e,t,r){var n=r(315);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(722),i=r(60);e.exports=function e(t,r,o,a,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,s))}},function(e,t,r){var n=r(281),i=r(723),o=r(285),a=1,s=2;e.exports=function(e,t,r,c,l,u){var d=r&a,h=e.length,p=t.length;if(h!=p&&!(d&&p>h))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,g=!0,v=r&s?new n:void 0;for(u.set(e,t),u.set(t,e);++m<h;){var y=e[m],b=t[m];if(c)var x=d?c(b,y,m,t,e,u):c(y,b,m,e,t,u);if(void 0!==x){if(x)continue;g=!1;break}if(v){if(!i(t,function(e,t){if(!o(v,t)&&(y===e||l(y,e,r,c,u)))return v.push(t)})){g=!1;break}}else if(y!==b&&!l(y,b,r,c,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,r){var n=r(44);e.exports=function(e){return e==e&&!n(e)}},function(e,t){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},function(e,t,r){var n=r(93),i=r(350),o=i?function(e,t){return i.set(e,t),e}:n;e.exports=o},function(e,t,r){var n=r(328),i=n&&new n;e.exports=i},function(e,t,r){var n=r(352),i=r(353),o=r(755),a=r(160),s=r(354),c=r(359),l=r(762),u=r(235),d=r(35),h=1,p=2,f=8,m=16,g=128,v=512;e.exports=function e(t,r,y,b,x,w,E,A,_,M){var S=r&g,T=r&h,C=r&p,O=r&(f|m),L=r&v,R=C?void 0:a(t);return function h(){for(var p=arguments.length,f=Array(p),m=p;m--;)f[m]=arguments[m];if(O)var g=c(h),v=o(f,g);if(b&&(f=n(f,b,x,O)),w&&(f=i(f,w,E,O)),p-=v,O&&p<M){var P=u(f,g);return s(t,r,e,h.placeholder,y,f,P,A,_,M-p)}var k=T?y:this,j=C?k[t]:t;return p=f.length,A?f=l(f,A):L&&p>1&&f.reverse(),S&&_<p&&(f.length=_),this&&this!==d&&this instanceof h&&(j=R||a(j)),j.apply(k,f)}}},function(e,t){var r=Math.max;e.exports=function(e,t,n,i){for(var o=-1,a=e.length,s=n.length,c=-1,l=t.length,u=r(a-s,0),d=Array(l+u),h=!i;++c<l;)d[c]=t[c];for(;++o<s;)(h||o<a)&&(d[n[o]]=e[o]);for(;u--;)d[c++]=e[o++];return d}},function(e,t){var r=Math.max;e.exports=function(e,t,n,i){for(var o=-1,a=e.length,s=-1,c=n.length,l=-1,u=t.length,d=r(a-c,0),h=Array(d+u),p=!i;++o<d;)h[o]=e[o];for(var f=o;++l<u;)h[f+l]=t[l];for(;++s<c;)(p||o<a)&&(h[f+n[s]]=e[o++]);return h}},function(e,t,r){var n=r(355),i=r(357),o=r(358),a=1,s=2,c=4,l=8,u=32,d=64;e.exports=function(e,t,r,h,p,f,m,g,v,y){var b=t&l;t|=b?u:d,(t&=~(b?d:u))&c||(t&=~(a|s));var x=[e,t,p,b?f:void 0,b?m:void 0,b?void 0:f,b?void 0:m,g,v,y],w=r.apply(void 0,x);return n(e)&&i(w,x),w.placeholder=h,o(w,e,t)}},function(e,t,r){var n=r(231),i=r(233),o=r(356),a=r(757);e.exports=function(e){var t=o(e),r=a[t];if("function"!=typeof r||!(t in n.prototype))return!1;if(e===r)return!0;var s=i(r);return!!s&&e===s[0]}},function(e,t,r){var n=r(756),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",r=n[t],o=i.call(n,t)?r.length:0;o--;){var a=r[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t,r){var n=r(349),i=r(316)(n);e.exports=i},function(e,t,r){var n=r(759),i=r(760),o=r(216),a=r(761);e.exports=function(e,t,r){var s=t+"";return o(e,i(s,a(n(s),r)))}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,r){var n=r(162),i=r(63);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(217),i=r(157),o=r(228),a=r(360),s=r(766),c=r(769),l=r(115),u=r(770),d=r(771),h=r(321),p=r(772),f=r(64),m=r(773),g=r(774),v=r(779),y=r(23),b=r(150),x=r(780),w=r(48),E=r(782),A=r(63),_=1,M=2,S=4,T="[object Arguments]",C="[object Function]",O="[object GeneratorFunction]",L="[object Object]",R={};R[T]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[L]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[C]=R["[object WeakMap]"]=!1,e.exports=function e(t,r,P,k,j,D){var I,N=r&_,z=r&M,B=r&S;if(P&&(I=j?P(t,k,j,D):P(t)),void 0!==I)return I;if(!w(t))return t;var F=y(t);if(F){if(I=m(t),!N)return l(t,I)}else{var U=f(t),H=U==C||U==O;if(b(t))return c(t,N);if(U==L||U==T||H&&!j){if(I=z||H?{}:v(t),!N)return z?d(t,s(I,t)):u(t,a(I,t))}else{if(!R[U])return j?t:{};I=g(t,U,N)}}D||(D=new n);var G=D.get(t);if(G)return G;D.set(t,I),E(t)?t.forEach(function(n){I.add(e(n,r,P,n,t,D))}):x(t)&&t.forEach(function(n,i){I.set(i,e(n,r,P,i,t,D))});var V=B?z?p:h:z?keysIn:A,W=F?void 0:V(t);return i(W||t,function(n,i){W&&(n=t[i=n]),o(I,i,e(n,r,P,i,t,D))}),I}},function(e,t,r){var n=r(325),i=r(767),o=r(46);e.exports=function(e){return o(e)?n(e,!0):i(e)}},function(e,t,r){var n=r(219),i=r(225),o=r(220),a=r(324),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,r){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var n=r(9),i=r(170);i.hasOwnProperty("default")&&(i=i.default);var o=function(e){return"string"==typeof e?JSON.parse(e):e},a=function(e){if("function"==typeof e)return e;var t=eval;try{return t("("+e+")")}catch(e){}return null},s=function(e){return isNaN(parseFloat(e))?a(e)?a(e):e:parseFloat(e)};AFRAME.registerComponent("forcegraph",{schema:{jsonUrl:{type:"string",default:""},nodes:{parse:o,default:[]},links:{parse:o,default:[]},numDimensions:{type:"number",default:3},dagMode:{type:"string",default:""},dagLevelDistance:{type:"number",default:0},nodeRelSize:{type:"number",default:4},nodeId:{type:"string",default:"id"},nodeLabel:{parse:s,default:"name"},nodeDesc:{parse:s,default:"desc"},nodeVal:{parse:s,default:"val"},nodeResolution:{type:"number",default:8},nodeVisibility:{parse:s,default:!0},nodeColor:{parse:s,default:"color"},nodeAutoColorBy:{parse:s,default:""},nodeOpacity:{type:"number",default:.75},nodeThreeObject:{parse:s,default:null},nodeThreeObjectExtend:{parse:s,default:!1},linkSource:{type:"string",default:"source"},linkTarget:{type:"string",default:"target"},linkLabel:{parse:s,default:"name"},linkDesc:{parse:s,default:"desc"},linkHoverPrecision:{type:"number",default:2},linkVisibility:{parse:s,default:!0},linkColor:{parse:s,default:"color"},linkAutoColorBy:{parse:s,default:""},linkOpacity:{type:"number",default:.2},linkWidth:{parse:s,default:0},linkResolution:{type:"number",default:6},linkCurvature:{parse:s,default:0},linkCurveRotation:{parse:s,default:0},linkMaterial:{parse:s,default:null},linkThreeObject:{parse:s,default:null},linkThreeObjectExtend:{parse:s,default:!1},linkPositionUpdate:{parse:a,default:null},linkDirectionalArrowLength:{parse:s,default:0},linkDirectionalArrowColor:{parse:s,default:null},linkDirectionalArrowRelPos:{parse:s,default:.5},linkDirectionalArrowResolution:{type:"number",default:8},linkDirectionalParticles:{parse:s,default:0},linkDirectionalParticleSpeed:{parse:s,default:.01},linkDirectionalParticleWidth:{parse:s,default:.5},linkDirectionalParticleColor:{parse:s,default:null},linkDirectionalParticleResolution:{type:"number",default:4},onNodeCenterHover:{parse:a,default:function(){}},onLinkCenterHover:{parse:a,default:function(){}},forceEngine:{type:"string",default:"d3"},d3AlphaDecay:{type:"number",default:.0228},d3VelocityDecay:{type:"number",default:.4},warmupTicks:{type:"int",default:0},cooldownTicks:{type:"int",default:1e18},cooldownTime:{type:"int",default:15e3},onEngineTick:{parse:a,default:function(){}},onEngineStop:{parse:a,default:function(){}}},emitParticle:function(){this.forceGraph||(this.forceGraph=new i);const e=this.forceGraph,t=e.emitParticle.apply(e,arguments);return t===e?this:t},d3Force:function(){this.forceGraph||(this.forceGraph=new i);const e=this.forceGraph,t=e.d3Force.apply(e,arguments);return t===e?this:t},d3ReheatSimulation:function(){return this.forceGraph&&this.forceGraph.d3ReheatSimulation(),this},refresh:function(){return this.forceGraph&&this.forceGraph.refresh(),this},init:function(){var e=this.state={};e.infoEl=document.createElement("a-text"),e.infoEl.setAttribute("position","0 -0.1 -1"),e.infoEl.setAttribute("width",1),e.infoEl.setAttribute("align","center"),e.infoEl.setAttribute("color","lavender"),e.tooltipEl=document.createElement("a-text"),e.tooltipEl.setAttribute("position","0 -0.5 -1"),e.tooltipEl.setAttribute("width",2),e.tooltipEl.setAttribute("align","center"),e.tooltipEl.setAttribute("color","lavender"),e.tooltipEl.setAttribute("value",""),e.subTooltipEl=document.createElement("a-text"),e.subTooltipEl.setAttribute("position","0 -0.6 -1"),e.subTooltipEl.setAttribute("width",1.5),e.subTooltipEl.setAttribute("align","center"),e.subTooltipEl.setAttribute("color","lavender"),e.subTooltipEl.setAttribute("value","");var t=document.querySelector("a-entity[camera], a-camera");t.appendChild(e.infoEl),t.appendChild(e.tooltipEl),t.appendChild(e.subTooltipEl),e.cameraObj=t.object3D.children.filter(function(e){return"PerspectiveCamera"===e.type})[0],this.el.sceneEl.addEventListener("camera-set-active",function(t){e.cameraObj=t.detail.cameraEl.components.camera.camera}),this.forceGraph||(this.forceGraph=new i),this.el.object3D.add(this.forceGraph),this.forceGraph.onLoading(function(){e.infoEl.setAttribute("value","Loading...")}).onFinishLoading(function(){e.infoEl.setAttribute("value","")})},remove:function(){this.state.infoEl.remove(),this.state.tooltipEl.remove(),this.state.subTooltipEl.remove()},update:function(e){var t=this,r=this.data,n=AFRAME.utils.diff(r,e);["jsonUrl","numDimensions","dagMode","dagLevelDistance","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].filter(function(e){return e in n}).forEach(function(e){t.forceGraph[e](""!==r[e]?r[e]:null)}),("nodes"in n||"links"in n)&&t.forceGraph.graphData({nodes:r.nodes,links:r.links})},tick:function(e,t){var r=new THREE.Raycaster;r.linePrecision=this.data.linkHoverPrecision,r.setFromCamera(new THREE.Vector2(0,0),this.state.cameraObj);var i=r.intersectObjects(this.forceGraph.children).filter(function(e){return-1!==["node","link"].indexOf(e.object.__graphObjType)}).sort(function(e,t){return r(t)-r(e);function r(e){return"node"===e.object.__graphObjType}}),o=i.length?i[0].object:null;if(o!==this.state.hoverObj){const e=this.state.hoverObj?this.state.hoverObj.__graphObjType:null,t=this.state.hoverObj?this.state.hoverObj.__data:null,r=o?o.__graphObjType:null,i=o?o.__data:null;e&&e!==r&&this.data["on"+("node"===e?"Node":"Link")+"CenterHover"](null,t),r&&this.data["on"+("node"===r?"Node":"Link")+"CenterHover"](i,e===r?t:null),this.state.hoverObj=o,this.state.tooltipEl.setAttribute("value",o&&n(this.data[o.__graphObjType+"Label"])(o.__data)||""),this.state.subTooltipEl.setAttribute("value",o&&n(this.data[o.__graphObjType+"Desc"])(o.__data)||"")}this.forceGraph.tickFrame()}})},function(e,t,r){e.exports=function(e){var t=r(840),n=r(116),i=r(97),o=r(238),a=(e=i(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20})).createQuadTree||r(841),s=e.createBounds||r(845),c=e.createDragForce||r(846),l=e.createSpringForce||r(847),u=e.integrator||r(848),d=e.createBody||r(849),h=[],p=[],f=a(e),m=s(h,e),g=l(e),v=c(e),y=!0,b={bodies:h,quadTree:f,springs:p,settings:e,step:function(){!function(){var e,t=h.length;if(t)for(f.insertBodies(h);t--;)(e=h[t]).isPinned||(e.force.reset(),f.updateBodyForce(e),v.update(e));t=p.length;for(;t--;)g.update(p[t])}();var t=u(h,e.timeStep);return m.update(),t},addBody:function(e){if(!e)throw new Error("Body is required");return h.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=d(e);return h.push(t),t},removeBody:function(e){if(e){var t=h.indexOf(e);if(!(t<0))return h.splice(t,1),0===h.length&&m.reset(),!0}},addSpring:function(e,r,n,i,o){if(!e||!r)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var a=new t(e,r,n,o>=0?o:-1,i);return p.push(a),a},getTotalMovement:function(){return 0},removeSpring:function(e){if(e){var t=p.indexOf(e);return t>-1?(p.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return m.getBestNewPosition(e)},getBBox:function(){return y&&(m.update(),y=!1),m.box},invalidateBBox:function(){y=!0},gravity:function(t){return void 0!==t?(e.gravity=t,f.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,f.options({theta:t}),this):e.theta}};return n(e,b),o(b),b}},function(e,t){function r(e,t){this.pos=new n(e,t),this.prevPos=new n(e,t),this.force=new n,this.velocity=new n,this.mass=1}function n(e,t){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0)}function i(e,t,r){this.pos=new o(e,t,r),this.prevPos=new o(e,t,r),this.force=new o,this.velocity=new o,this.mass=1}function o(e,t,r){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0,this.z="number"==typeof e.z?e.z:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof r?r:0)}e.exports={Body:r,Vector2d:n,Body3d:i,Vector3d:o},r.prototype.setPosition=function(e,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t},n.prototype.reset=function(){this.x=this.y=0},i.prototype.setPosition=function(e,t,r){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t,this.prevPos.z=this.pos.z=r},o.prototype.reset=function(){this.x=this.y=this.z=0}},function(e,t,r){!function(){"use strict";var t=Math.abs,n=Math.min,i=Math.max,o=Math.cos,a=Math.sin,s=Math.acos,c=Math.sqrt,l=Math.PI,u={x:0,y:0,z:0},d=r(368),h=r(863),p=function(e){var r=e&&e.forEach?e:[].slice.call(arguments),n=!1;if("object"==typeof r[0]){n=r.length;var i=[];r.forEach(function(e){["x","y","z"].forEach(function(t){void 0!==e[t]&&i.push(e[t])})}),r=i}var o=!1,a=r.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==a&&8!==a&&9!==a&&12!==a&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var s=!o&&(9===a||12===a)||e&&e[0]&&void 0!==e[0].z;this._3d=s;for(var c=[],l=0,u=s?3:2;l<a;l+=u){var h={x:r[l],y:r[l+1]};s&&(h.z=r[l+2]),c.push(h)}this.order=c.length-1,this.points=c;var p=["x","y"];s&&p.push("z"),this.dims=p,this.dimlen=p.length,function(e){for(var r=e.order,n=e.points,i=d.align(n,{p1:n[0],p2:n[r]}),o=0;o<i.length;o++)if(t(i[o].y)>1e-4)return void(e._linear=!1);e._linear=!0}(this),this._t1=0,this._t2=1,this.update()},f=r(864);function m(e,t,r,n,i){void 0===i&&(i=.5);var o=d.projectionratio(i,e),a=1-o,s={x:o*t.x+a*n.x,y:o*t.y+a*n.y},c=d.abcratio(i,e);return{A:{x:r.x+(r.x-s.x)/c,y:r.y+(r.y-s.y)/c},B:r,C:s}}p.SVGtoBeziers=function(e){return f(p,e)},p.quadraticFromPoints=function(e,t,r,n){if(void 0===n&&(n=.5),0===n)return new p(t,t,r);if(1===n)return new p(e,t,t);var i=m(2,e,t,r,n);return new p(e,i.A,r)},p.cubicFromPoints=function(e,t,r,n,i){void 0===n&&(n=.5);var o=m(3,e,t,r,n);void 0===i&&(i=d.dist(t,o.C));var a=i*(1-n)/n,s=d.dist(e,r),c=(r.x-e.x)/s,l=(r.y-e.y)/s,u=i*c,h=i*l,f=a*c,g=a*l,v=t.x-u,y=t.y-h,b=t.x+f,x=t.y+g,w=o.A,E=w.x+(v-w.x)/(1-n),A=w.y+(y-w.y)/(1-n),_=w.x+(b-w.x)/n,M=w.y+(x-w.y)/n,S={x:e.x+(E-e.x)/n,y:e.y+(A-e.y)/n},T={x:r.x+(_-r.x)/(1-n),y:r.y+(M-r.y)/(1-n)};return new p(e,S,T,r)};var g=function(){return d};p.getUtils=g,p.PolyBezier=h,p.prototype={getUtils:g,valueOf:function(){return this.toString()},toString:function(){return d.pointsToString(this.points)},toSVG:function(e){if(this._3d)return!1;for(var t=this.points,r=["M",t[0].x,t[0].y,2===this.order?"Q":"C"],n=1,i=t.length;n<i;n++)r.push(t[n].x),r.push(t[n].y);return r.join(" ")},setRatios:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]},update:function(){this._lut=[],this.dpoints=d.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var e=this.points,t=d.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return d.length(this.derivative.bind(this))},_lut:[],getLUT:function(e){if(e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(var t=0;t<=e;t++)this._lut.push(this.compute(t/e));return this._lut},on:function(e,t){t=t||5;for(var r,n=this.getLUT(),i=[],o=0,a=0;a<n.length;a++)r=n[a],d.dist(r,e)<t&&(i.push(r),o+=a/n.length);return!!i.length&&o/i.length},project:function(e){var t=this.getLUT(),r=t.length-1,n=d.closest(t,e),i=n.mdist,o=n.mpos;if(0===o||o===r){var a=o/r,s=this.compute(a);return s.t=a,s.d=i,s}var c,l,u,h=(o+1)/r,p=.1/r;for(i+=1,c=a=(o-1)/r;a<h+p;a+=p)l=this.compute(a),(u=d.dist(e,l))<i&&(i=u,c=a);return(l=this.compute(c)).t=c,l.d=i,l},get:function(e){return this.compute(e)},point:function(e){return this.points[e]},compute:function(e){return this.ratios?d.computeWithRatios(e,this.points,this.ratios,this._3d):d.compute(e,this.points,this._3d,this.ratios)},raise:function(){for(var e,t,r=this.points,n=[r[0]],i=r.length,o=1;o<i;o++)e=r[o],t=r[o-1],n[o]={x:(i-o)/i*e.x+o/i*t.x,y:(i-o)/i*e.y+o/i*t.y};return n[i]=r[i-1],new p(n)},derivative:function(e){var t,r,n=1-e,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],u],t=n,r=e),3===this.order&&(t=n*n,r=n*e*2,i=e*e);var a={x:t*o[0].x+r*o[1].x+i*o[2].x,y:t*o[0].y+r*o[1].y+i*o[2].y};return this._3d&&(a.z=t*o[0].z+r*o[1].z+i*o[2].z),a},curvature:function(e){return d.curvature(e,this.points,this._3d)},inflections:function(){return d.inflections(this.points)},normal:function(e){return this._3d?this.__normal3(e):this.__normal2(e)},__normal2:function(e){var t=this.derivative(e),r=c(t.x*t.x+t.y*t.y);return{x:-t.y/r,y:t.x/r}},__normal3:function(e){var t=this.derivative(e),r=this.derivative(e+.01),n=c(t.x*t.x+t.y*t.y+t.z*t.z),i=c(r.x*r.x+r.y*r.y+r.z*r.z);t.x/=n,t.y/=n,t.z/=n,r.x/=i,r.y/=i,r.z/=i;var o={x:r.y*t.z-r.z*t.y,y:r.z*t.x-r.x*t.z,z:r.x*t.y-r.y*t.x},a=c(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;var s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}},hull:function(e){var t,r=this.points,n=[],i=[],o=0,a=0,s=0;for(i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],3===this.order&&(i[o++]=r[3]);r.length>1;){for(n=[],a=0,s=r.length-1;a<s;a++)t=d.lerp(e,r[a],r[a+1]),i[o++]=t,n.push(t);r=n}return i},split:function(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;var r=this.hull(e),n={left:2===this.order?new p([r[0],r[3],r[5]]):new p([r[0],r[4],r[7],r[9]]),right:2===this.order?new p([r[5],r[4],r[2]]):new p([r[9],r[8],r[6],r[3]]),span:r};return n.left._t1=d.map(0,0,1,this._t1,this._t2),n.left._t2=d.map(e,0,1,this._t1,this._t2),n.right._t1=d.map(e,0,1,this._t1,this._t2),n.right._t2=d.map(1,0,1,this._t1,this._t2),t?(t=d.map(t,e,1,0,1),n.right.split(t).left):n},extrema:function(){var e,t,r=this.dims,n={},i=[];return r.forEach(function(r){t=function(e){return e[r]},e=this.dpoints[0].map(t),n[r]=d.droots(e),3===this.order&&(e=this.dpoints[1].map(t),n[r]=n[r].concat(d.droots(e))),n[r]=n[r].filter(function(e){return e>=0&&e<=1}),i=i.concat(n[r].sort(d.numberSort))}.bind(this)),i=i.sort(d.numberSort).filter(function(e,t){return i.indexOf(e)===t}),n.values=i,n},bbox:function(){var e=this.extrema(),t={};return this.dims.forEach(function(r){t[r]=d.getminmax(this,r,e[r])}.bind(this)),t},overlaps:function(e){var t=this.bbox(),r=e.bbox();return d.bboxoverlap(t,r)},offset:function(e,t){if(void 0!==t){var r=this.get(e),n=this.normal(e),i={c:r,n:n,x:r.x+n.x*t,y:r.y+n.y*t};return this._3d&&(i.z=r.z+n.z*t),i}if(this._linear){var o=this.normal(0),a=this.points.map(function(t){var r={x:t.x+e*o.x,y:t.y+e*o.y};return t.z&&n.z&&(r.z=t.z+e*o.z),r});return[new p(a)]}return this.reduce().map(function(t){return t.scale(e)})},simple:function(){if(3===this.order){var e=d.angle(this.points[0],this.points[3],this.points[1]),r=d.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&r<0||e<0&&r>0)return!1}var n=this.normal(0),i=this.normal(1),o=n.x*i.x+n.y*i.y;return this._3d&&(o+=n.z*i.z),t(s(o))<l/3},reduce:function(){var e,r,n=0,i=0,o=[],a=[],s=this.extrema().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),n=s[0],e=1;e<s.length;e++)i=s[e],(r=this.split(n,i))._t1=n,r._t2=i,o.push(r),n=i;return o.forEach(function(e){for(n=0,i=0;i<=1;)for(i=n+.01;i<=1.01;i+=.01)if(!(r=e.split(n,i)).simple()){if(t(n-(i-=.01))<.01)return[];(r=e.split(n,i))._t1=d.map(n,0,1,e._t1,e._t2),r._t2=d.map(i,0,1,e._t1,e._t2),a.push(r),n=i;break}n<1&&((r=e.split(n,1))._t1=d.map(n,0,1,e._t1,e._t2),r._t2=e._t2,a.push(r))}),a},scale:function(e){var t=this.order,r=!1;if("function"==typeof e&&(r=e),r&&2===t)return this.raise().scale(r);var n=this.clockwise,i=r?r(0):e,o=r?r(1):e,a=[this.offset(0,10),this.offset(1,10)],s=d.lli4(a[0],a[0].c,a[1],a[1].c);if(!s)throw new Error("cannot scale this curve. Try reducing it first.");var l=this.points,u=[];return[0,1].forEach(function(e){var r=u[e*t]=d.copy(l[e*t]);r.x+=(e?o:i)*a[e].n.x,r.y+=(e?o:i)*a[e].n.y}.bind(this)),r?([0,1].forEach(function(i){if(2!==this.order||!i){var o=l[i+1],a={x:o.x-s.x,y:o.y-s.y},d=r?r((i+1)/t):e;r&&!n&&(d=-d);var h=c(a.x*a.x+a.y*a.y);a.x/=h,a.y/=h,u[i+1]={x:o.x+d*a.x,y:o.y+d*a.y}}}.bind(this)),new p(u)):([0,1].forEach(function(e){if(2!==this.order||!e){var r=u[e*t],n=this.derivative(e),i={x:r.x+n.x,y:r.y+n.y};u[e+1]=d.lli4(r,i,s,l[e+1])}}.bind(this)),new p(u))},outline:function(e,t,r,n){t=void 0===t?e:t;var i,o=this.reduce(),a=o.length,s=[],c=[],l=0,u=this.length(),p=void 0!==r&&void 0!==n;function f(e,t,r,n,i){return function(o){var a=n/r,s=(n+i)/r,c=t-e;return d.map(o,0,1,e+a*c,e+s*c)}}o.forEach(function(i){E=i.length(),p?(s.push(i.scale(f(e,r,u,l,E))),c.push(i.scale(f(-t,-n,u,l,E)))):(s.push(i.scale(e)),c.push(i.scale(-t))),l+=E}),c=c.map(function(e){return(i=e.points)[3]?e.points=[i[3],i[2],i[1],i[0]]:e.points=[i[2],i[1],i[0]],e}).reverse();var m=s[0].points[0],g=s[a-1].points[s[a-1].points.length-1],v=c[a-1].points[c[a-1].points.length-1],y=c[0].points[0],b=d.makeline(v,m),x=d.makeline(g,y),w=[b].concat(s).concat([x]).concat(c),E=w.length;return new h(w)},outlineshapes:function(e,t,r){t=t||e;for(var n=this.outline(e,t).curves,i=[],o=1,a=n.length;o<a/2;o++){var s=d.makeshape(n[o],n[a-o],r);s.startcap.virtual=o>1,s.endcap.virtual=o<a/2-1,i.push(s)}return i},intersects:function(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof p&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)},lineIntersects:function(e){var t=n(e.p1.x,e.p2.x),r=n(e.p1.y,e.p2.y),o=i(e.p1.x,e.p2.x),a=i(e.p1.y,e.p2.y),s=this;return d.roots(this.points,e).filter(function(e){var n=s.get(e);return d.between(n.x,t,o)&&d.between(n.y,r,a)})},selfintersects:function(e){var t,r,n,i,o=this.reduce(),a=o.length-2,s=[];for(t=0;t<a;t++)n=o.slice(t,t+1),i=o.slice(t+2),r=this.curveintersects(n,i,e),s=s.concat(r);return s},curveintersects:function(e,t,r){var n=[];e.forEach(function(e){t.forEach(function(t){e.overlaps(t)&&n.push({left:e,right:t})})});var i=[];return n.forEach(function(e){var t=d.pairiteration(e.left,e.right,r);t.length>0&&(i=i.concat(t))}),i},arcs:function(e){e=e||.5;return this._iterate(e,[])},_error:function(e,r,n,i){var o=(i-n)/4,a=this.get(n+o),s=this.get(i-o),c=d.dist(e,r),l=d.dist(e,a),u=d.dist(e,s);return t(l-c)+t(u-c)},_iterate:function(e,t){var r,n=0,i=1;do{r=0,i=1;var s,c,l,u,h,p=this.get(n),f=!1,m=!1,g=i,v=1;do{if(m=f,u=l,g=(n+i)/2,0,s=this.get(g),c=this.get(i),(l=d.getccenter(p,s,c)).interval={start:n,end:i},f=this._error(l,p,n,i)<=e,(h=m&&!f)||(v=i),f){if(i>=1){if(l.interval.end=v=1,u=l,i>1){var y={x:l.x+l.r*o(l.e),y:l.y+l.r*a(l.e)};l.e+=d.angle({x:l.x,y:l.y},y,this.get(1))}break}i+=(i-n)/2}else i=g}while(!h&&r++<100);if(r>=100)break;u=u||l,t.push(u),n=v}while(i<1);return t}},e.exports=p}()},function(e,t,r){!function(){"use strict";var t=Math.abs,n=Math.cos,i=Math.sin,o=Math.acos,a=Math.atan2,s=Math.sqrt,c=Math.pow,l=function(e){return e<0?-c(-e,1/3):c(e,1/3)},u=Math.PI,d=2*u,h=u/2,p=Number.MAX_SAFE_INTEGER||9007199254740991,f=Number.MIN_SAFE_INTEGER||-9007199254740991,m={x:0,y:0,z:0},g={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var r=t(e),n=r.x*r.x+r.y*r.y;return void 0!==r.z&&(n+=r.z*r.z),s(n)},compute:function(e,t,r){if(0===e)return t[0];var n=t.length-1;if(1===e)return t[n];var i=t,o=1-e;if(0===n)return t[0];if(1===n)return h={x:o*i[0].x+e*i[1].x,y:o*i[0].y+e*i[1].y},r&&(h.z=o*i[0].z+e*i[1].z),h;if(n<4){var a,s,c,l=o*o,u=e*e,d=0;2===n?(i=[i[0],i[1],i[2],m],a=l,s=o*e*2,c=u):3===n&&(a=l*o,s=l*e*3,c=o*u*3,d=e*u);var h={x:a*i[0].x+s*i[1].x+c*i[2].x+d*i[3].x,y:a*i[0].y+s*i[1].y+c*i[2].y+d*i[3].y};return r&&(h.z=a*i[0].z+s*i[1].z+c*i[2].z+d*i[3].z),h}for(var p=JSON.parse(JSON.stringify(t));p.length>1;){for(var f=0;f<p.length-1;f++)p[f]={x:p[f].x+(p[f+1].x-p[f].x)*e,y:p[f].y+(p[f+1].y-p[f].y)*e},void 0!==p[f].z&&(p[f]=p[f].z+(p[f+1].z-p[f].z)*e);p.splice(p.length-1,1)}return p[0]},computeWithRatios:function(e,t,r,n){var i,o=1-e,a=r,s=t,c=a[0],l=a[1],u=a[2],d=a[3];return c*=o,l*=e,2===s.length?(i=c+l,{x:(c*s[0].x+l*s[1].x)/i,y:(c*s[0].y+l*s[1].y)/i,z:!!n&&(c*s[0].z+l*s[1].z)/i}):(c*=o,l*=2*o,u*=e*e,3===s.length?(i=c+l+u,{x:(c*s[0].x+l*s[1].x+u*s[2].x)/i,y:(c*s[0].y+l*s[1].y+u*s[2].y)/i,z:!!n&&(c*s[0].z+l*s[1].z+u*s[2].z)/i}):(c*=o,l*=1.5*o,u*=3*o,d*=e*e*e,4===s.length?(i=c+l+u+d,{x:(c*s[0].x+l*s[1].x+u*s[2].x+d*s[3].x)/i,y:(c*s[0].y+l*s[1].y+u*s[2].y+d*s[3].y)/i,z:!!n&&(c*s[0].z+l*s[1].z+u*s[2].z+d*s[3].z)/i}):void 0))},derive:function(e,t){for(var r=[],n=e,i=n.length,o=i-1;i>1;i--,o--){for(var a,s=[],c=0;c<o;c++)a={x:o*(n[c+1].x-n[c].x),y:o*(n[c+1].y-n[c].y)},t&&(a.z=o*(n[c+1].z-n[c].z)),s.push(a);r.push(s),n=s}return r},between:function(e,t,r){return t<=e&&e<=r||g.approximately(e,t)||g.approximately(e,r)},approximately:function(e,r,n){return t(e-r)<=(n||1e-6)},length:function(e){var t,r,n=0,i=g.Tvalues.length;for(t=0;t<i;t++)r=.5*g.Tvalues[t]+.5,n+=g.Cvalues[t]*g.arcfn(r,e);return.5*n},map:function(e,t,r,n,i){return n+(i-n)*((e-t)/(r-t))},lerp:function(e,t,r){var n={x:t.x+e*(r.x-t.x),y:t.y+e*(r.y-t.y)};return t.z&&r.z&&(n.z=t.z+e*(r.z-t.z)),n},pointToString:function(e){var t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(g.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,r){var n=t.x-e.x,i=t.y-e.y,o=r.x-e.x,s=r.y-e.y;return a(n*s-i*o,n*o+i*s)},round:function(e,t){var r=""+e,n=r.indexOf(".");return parseFloat(r.substring(0,n+1+t))},dist:function(e,t){var r=e.x-t.x,n=e.y-t.y;return s(r*r+n*n)},closest:function(e,t){var r,n,i=c(2,63);return e.forEach(function(e,o){(n=g.dist(t,e))<i&&(i=n,r=o)}),{mdist:i,mpos:r}},abcratio:function(e,r){if(2!==r&&3!==r)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=c(e,r)+c(1-e,r);return t((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var r=c(1-e,t);return r/(c(e,t)+r)},lli8:function(e,t,r,n,i,o,a,s){var c=(e-r)*(o-s)-(t-n)*(i-a);return 0!=c&&{x:((e*n-t*r)*(i-a)-(e-r)*(i*s-o*a))/c,y:((e*n-t*r)*(o-s)-(t-n)*(i*s-o*a))/c}},lli4:function(e,t,r,n){var i=e.x,o=e.y,a=t.x,s=t.y,c=r.x,l=r.y,u=n.x,d=n.y;return g.lli8(i,o,a,s,c,l,u,d)},lli:function(e,t){return g.lli4(e,e.c,t,t.c)},makeline:function(e,t){var n=r(367),i=e.x,o=e.y,a=t.x,s=t.y,c=(a-i)/3,l=(s-o)/3;return new n(i,o,i+c,o+l,i+2*c,o+2*l,a,s)},findbbox:function(e){var t=p,r=p,n=f,i=f;return e.forEach(function(e){var o=e.bbox();t>o.x.min&&(t=o.x.min),r>o.y.min&&(r=o.y.min),n<o.x.max&&(n=o.x.max),i<o.y.max&&(i=o.y.max)}),{x:{min:t,mid:(t+n)/2,max:n,size:n-t},y:{min:r,mid:(r+i)/2,max:i,size:i-r}}},shapeintersections:function(e,t,r,n,i){if(!g.bboxoverlap(t,n))return[];var o=[],a=[e.startcap,e.forward,e.back,e.endcap],s=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(t){t.virtual||s.forEach(function(n){if(!n.virtual){var a=t.intersects(n,i);a.length>0&&(a.c1=t,a.c2=n,a.s1=e,a.s2=r,o.push(a))}})}),o},makeshape:function(e,t,r){var n=t.points.length,i=e.points.length,o=g.makeline(t.points[n-1],e.points[0]),a=g.makeline(e.points[i-1],t.points[0]),s={startcap:o,forward:e,back:t,endcap:a,bbox:g.findbbox([o,e,t,a])},c=g;return s.intersections=function(e){return c.shapeintersections(s,s.bbox,e,e.bbox,r)},s},getminmax:function(e,t,r){if(!r)return{min:0,max:0};var n,i,o=p,a=f;-1===r.indexOf(0)&&(r=[0].concat(r)),-1===r.indexOf(1)&&r.push(1);for(var s=0,c=r.length;s<c;s++)n=r[s],(i=e.get(n))[t]<o&&(o=i[t]),i[t]>a&&(a=i[t]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(e,t){var r=t.p1.x,o=t.p1.y,s=-a(t.p2.y-o,t.p2.x-r);return e.map(function(e){return{x:(e.x-r)*n(s)-(e.y-o)*i(s),y:(e.x-r)*i(s)+(e.y-o)*n(s)}})},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var r=e.length-1,i=g.align(e,t),a=function(e){return 0<=e&&e<=1};if(2===r){if(0!==(m=(v=i[0].y)-2*(y=i[1].y)+(b=i[2].y))){var c=-s(y*y-v*b),u=-v+y;return[-(c+u)/m,-(-c+u)/m].filter(a)}return y!==b&&0===m?[(2*y-b)/(2*y-2*b)].filter(a):[]}var h=i[0].y,p=i[1].y,f=i[2].y,m=3*p-h-3*f+i[3].y,v=3*h-6*p+3*f,y=-3*h+3*p,b=h;if(g.approximately(m,0)){if(g.approximately(v,0))return g.approximately(y,0)?[]:[-b/y].filter(a);var x=2*v;return[((w=s(y*y-4*v*b))-y)/x,(-y-w)/x].filter(a)}var w,E,A=(i=(3*(y/=m)-(v/=m)*v)/3)/3,_=(w=(2*v*v*v-9*v*y+27*(b/=m))/27)/2,M=_*_+A*A*A;if(M<0){var S=-i/3,T=s(S*S*S),C=-w/(2*T),O=o(C<-1?-1:C>1?1:C),L=2*l(T);return[L*n(O/3)-v/3,L*n((O+d)/3)-v/3,L*n((O+2*d)/3)-v/3].filter(a)}if(0===M)return[2*(E=_<0?l(-_):-l(_))-v/3,-E-v/3].filter(a);var R=s(M);return[(E=l(-_+R))-l(_+R)-v/3].filter(a)},droots:function(e){if(3===e.length){var t=e[0],r=e[1],n=e[2],i=t-2*r+n;if(0!==i){var o=-s(r*r-t*n),a=-t+r;return[-(o+a)/i,-(-o+a)/i]}return r!==n&&0===i?[(2*r-n)/(2*(r-n))]:[]}if(2===e.length)return(t=e[0])!==(r=e[1])?[t/(t-r)]:[]},curvature:function(e,r,n,i){var o,a,l,u,d,h,p=g.derive(r),f=p[0],m=p[1],v=g.compute(e,f),y=g.compute(e,m),b=v.x*v.x+v.y*v.y;if(n?(o=s(c(v.y*y.z-y.y*v.z,2)+c(v.z*y.x-y.z*v.x,2)+c(v.x*y.y-y.x*v.y,2)),a=c(b+v.z*v.z,2/3)):(o=v.x*y.y-v.y*y.x,a=c(b,2/3)),0===o||0===a)return{k:0,r:0};if(d=o/a,h=a/o,!i){var x=g.curvature(e-.001,r,n,!0).k,w=g.curvature(e+.001,r,n,!0).k;u=(w-d+(d-x))/2,l=(t(w-d)+t(d-x))/2}return{k:d,r:h,dk:u,adk:l}},inflections:function(e){if(e.length<4)return[];var t=g.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=t[2].x*t[1].y,n=t[3].x*t[1].y,i=t[1].x*t[2].y,o=18*(-3*r+2*n+3*i-(d=t[3].x*t[2].y)),a=18*(3*r-n-3*i),s=18*(i-r);if(g.approximately(o,0)){if(!g.approximately(a,0)){var c=-s/a;if(0<=c&&c<=1)return[c]}return[]}var l=a*a-4*o*s,u=Math.sqrt(l),d=2*o;return g.approximately(d,0)?[]:[(u-a)/d,-(a+u)/d].filter(function(e){return 0<=e&&e<=1})},bboxoverlap:function(e,r){var n,i,o,a,s,c=["x","y"],l=c.length;for(n=0;n<l;n++)if(o=e[i=c[n]].mid,a=r[i].mid,s=(e[i].size+r[i].size)/2,t(o-a)>=s)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,r){var n=e.bbox(),i=t.bbox(),o=1e5,a=r||.5;if(n.x.size+n.y.size<a&&i.x.size+i.y.size<a)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(t._t1+t._t2)/2|0)/o];var s=e.split(.5),c=t.split(.5),l=[{left:s.left,right:c.left},{left:s.left,right:c.right},{left:s.right,right:c.right},{left:s.right,right:c.left}];l=l.filter(function(e){return g.bboxoverlap(e.left.bbox(),e.right.bbox())});var u=[];return 0===l.length?u:(l.forEach(function(e){u=u.concat(g.pairiteration(e.left,e.right,a))}),u=u.filter(function(e,t){return u.indexOf(e)===t}))},getccenter:function(e,t,r){var o,s=t.x-e.x,c=t.y-e.y,l=r.x-t.x,u=r.y-t.y,p=s*n(h)-c*i(h),f=s*i(h)+c*n(h),m=l*n(h)-u*i(h),v=l*i(h)+u*n(h),y=(e.x+t.x)/2,b=(e.y+t.y)/2,x=(t.x+r.x)/2,w=(t.y+r.y)/2,E=y+p,A=b+f,_=x+m,M=w+v,S=g.lli8(y,b,E,A,x,w,_,M),T=g.dist(S,e),C=a(e.y-S.y,e.x-S.x),O=a(t.y-S.y,t.x-S.x),L=a(r.y-S.y,r.x-S.x);return C<L?((C>O||O>L)&&(C+=d),C>L&&(o=L,L=C,C=o)):L<O&&O<C?(o=L,L=C,C=o):L+=d,S.s=C,S.e=L,S.r=T,S},numberSort:function(e,t){return e-t}};e.exports=g}()},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",function(){return n})},function(e,t,r){var n=r(195),i=r(514),o=r(551),a=r(91),s=r(107),c=r(560),l=r(304),u=r(302),d=l(function(e,t){var r={};if(null==e)return r;var l=!1;t=n(t,function(t){return t=a(t,e),l||(l=t.length>1),t}),s(e,u(e),r),l&&(r=i(r,7,c));for(var d=t.length;d--;)o(r,t[d]);return r});e.exports=d},function(e,t,r){var n=r(45),i=r(30),o="[object Number]";e.exports=function(e){return"number"==typeof e||i(e)&&n(e)==o}},function(e,t,r){var n=r(45),i=r(30),o="[object Boolean]";e.exports=function(e){return!0===e||!1===e||i(e)&&n(e)==o}},function(e,t,r){e.exports=r(678)},function(e,t,r){"use strict";e.exports=r(681)},function(e,t,r){var n=r(694)();e.exports=n},function(e,t,r){var n=r(696),i=r(703),o=n(function(e,t,r){return e+(r?" ":"")+i(t)});e.exports=o},function(e,t,r){r(10);var n=r(707);function i(t,r,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,r){var i=n(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}},i(t,r,o||t)}e.exports=i},function(e,t){e.exports=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i}},function(e,t,r){var n=r(708),i=r(709),o=r(62),a=r(23),s=r(154);e.exports=function(e,t,r){var c=a(e)?n:i;return r&&s(e,t,r)&&(t=void 0),c(e,o(t,3))}},function(e,t,r){var n=r(61),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=n(e))&&o.test(e)?e.replace(i,"\\$&"):e}},function(e,t,r){var n=r(215),i=r(95);e.exports=function(e,t,r){var o=null==e?0:e.length;return o?(t=r||void 0===t?1:i(t),n(e,0,(t=o-t)<0?0:t)):[]}},function(e,t,r){var n=r(152),i=r(64),o=r(46),a=r(117),s=r(715),c="[object Map]",l="[object Set]";e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return t==c||t==l?e.size:n(e).length}},function(e,t,r){var n=r(218);e.exports=function(e,t){return n(e,t)}},function(e,t,r){e.exports={buttonLink:"buttonLink___3seJT"}},function(e,t,r){var n=r(343);e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},function(e,t,r){e.exports={extractSubgraph__container:"extractSubgraph__container___-Z5Kq",extractSubgraphContainer:"extractSubgraph__container___-Z5Kq"}},function(e,t,r){var n=r(65)("uniq",r(242),r(237));n.placeholder=r(54),e.exports=n},function(e,t,r){var n=r(65)("identity",r(93),r(237));n.placeholder=r(54),e.exports=n},function(e,t,r){var n=r(65)("filter",r(118));n.placeholder=r(54),e.exports=n},function(e,t,r){var n=r(65)("split",r(790));n.placeholder=r(54),e.exports=n},function(e,t,r){var n=r(65)("flatMap",r(793));n.placeholder=r(54),e.exports=n},function(e,t,r){var n=r(65)("map",r(22));n.placeholder=r(54),e.exports=n},function(e,t,r){var n=r(65)("toArray",r(794),r(237));n.placeholder=r(54),e.exports=n},function(e,t,r){var n=r(65)("flow",r(796));n.placeholder=r(54),e.exports=n},function(e,t,r){"use strict";r.d(t,"b",function(){return f}),r.d(t,"a",function(){return g}),r.d(t,"c",function(){return v});var n,i,o=0,a=0,s=0,c=1e3,l=0,u=0,d=0,h="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function f(){return u||(p(m),u=h.now()+d)}function m(){u=0}function g(){this._call=this._time=this._next=null}function v(e,t,r){var n=new g;return n.restart(e,t,r),n}function y(){u=(l=h.now())+d,o=a=0;try{!function(){f(),++o;for(var e,t=n;t;)(e=u-t._time)>=0&&t._call.call(null,e),t=t._next;--o}()}finally{o=0,function(){var e,t,r=n,o=1/0;for(;r;)r._call?(o>r._time&&(o=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:n=t);i=e,x(o)}(),u=0}}function b(){var e=h.now(),t=e-l;t>c&&(d-=t,l=e)}function x(e){o||(a&&(a=clearTimeout(a)),e-u>24?(e<1/0&&(a=setTimeout(y,e-h.now()-d)),s&&(s=clearInterval(s))):(s||(l=h.now(),s=setInterval(b,c)),o=1,p(y)))}g.prototype=v.prototype={constructor:g,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?f():+r)+(null==t?0:+t),this._next||i===this||(i?i._next=this:n=this,i=this),this._call=e,this._time=r,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}}},function(e,t,r){e.exports=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,r=[],l={},u=0,d=e.multigraph?function(e,t,r){var n=c(e,t),i=l.hasOwnProperty(n);if(i||M(e,t)){i||(l[n]=0);var o="@"+ ++l[n];n=c(e+o,t+o)}return new s(e,t,r,n)}:function(e,t,r){var n=c(e,t);return new s(e,t,r,n)},h=[],p=S,f=S,m=S,g=S,v={addNode:w,addLink:function(e,t,n){m();var i=E(e)||w(e),o=E(t)||w(t),s=d(e,t,n);r.push(s),a(i,s),e!==t&&a(o,s);return p(s,"add"),g(),s},removeLink:_,removeNode:A,getNode:E,getNodesCount:function(){return t.size},getLinksCount:function(){return r.length},getLinks:function(e){var t=E(e);return t?t.links:null},forEachNode:O,forEachLinkedNode:function(e,r,n){var i=E(e);if(i&&i.links&&"function"==typeof r)return n?function(e,r,n){for(var i=0;i<e.length;++i){var o=e[i];if(o.fromId===r&&n(t.get(o.toId),o))return!0}}(i.links,e,r):function(e,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=o.fromId===r?o.toId:o.fromId;if(n(t.get(a),o))return!0}}(i.links,e,r)},forEachLink:function(e){var t,n;if("function"==typeof e)for(t=0,n=r.length;t<n;++t)e(r[t])},beginUpdate:m,endUpdate:g,clear:function(){m(),O(function(e){A(e.id)}),g()},hasLink:M,hasNode:E,getLink:M};return n(v),y=v.on,v.on=function(){return v.beginUpdate=m=T,v.endUpdate=g=C,p=b,f=x,v.on=y,y.apply(v,arguments)},v;var y;function b(e,t){h.push({link:e,changeType:t})}function x(e,t){h.push({node:e,changeType:t})}function w(e,r){if(void 0===e)throw new Error("Invalid node identifier");m();var n=E(e);return n?(n.data=r,f(n,"update")):(n=new o(e,r),f(n,"add")),t.set(e,n),g(),n}function E(e){return t.get(e)}function A(e){var r=E(e);if(!r)return!1;m();var n=r.links;if(n){r.links=null;for(var i=0;i<n.length;++i)_(n[i])}return t.delete(e),f(r,"remove"),g(),!0}function _(e){if(!e)return!1;var t=i(e,r);if(t<0)return!1;m(),r.splice(t,1);var n=E(e.fromId),o=E(e.toId);return n&&(t=i(e,n.links))>=0&&n.links.splice(t,1),o&&(t=i(e,o.links))>=0&&o.links.splice(t,1),p(e,"remove"),g(),!0}function M(e,t){var r,n=E(e);if(!n||!n.links)return null;for(r=0;r<n.links.length;++r){var i=n.links[r];if(i.fromId===e&&i.toId===t)return i}return null}function S(){}function T(){u+=1}function C(){0===(u-=1)&&h.length>0&&(v.fire("changed",h),h.length=0)}function O(e){if("function"!=typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var r=t.values(),n=r.next();!n.done;){if(e(n.value))return!0;n=r.next()}}};var n=r(238);function i(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var r,n=t.length;for(r=0;r<n;r+=1)if(t[r]===e)return r;return-1}function o(e,t){this.id=e,this.links=null,this.data=t}function a(e,t){e.links?e.links.push(t):e.links=[t]}function s(e,t,r,n){this.fromId=e,this.toId=t,this.data=r,this.id=n}function c(e,t){return e.toString()+"👉 "+t.toString()}},function(e,t,r){function n(e,t){return t=r(97)(t,{createQuadTree:r(850),createBounds:r(854),createDragForce:r(855),createSpringForce:r(856),integrator:i(t),createBody:r(857)}),n.get2dLayout(e,t)}function i(e){return e&&"verlet"===e.integrator?r(858):r(859)}e.exports=n,n.get2dLayout=r(244)},function(e,t){function r(e,t,r){var n,i,o,a,s;function c(){var l=Date.now()-a;l<t&&l>=0?n=setTimeout(c,t-l):(n=null,r||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var l=function(){o=this,i=arguments,a=Date.now();var l=r&&!n;return n||(n=setTimeout(c,t)),l&&(s=e.apply(o,i),o=i=null),s};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(s=e.apply(o,i),o=i=null,clearTimeout(n),n=null)},l}r.debounce=r,e.exports=r},function(e,t,r){var n,i=window.THREE||r(20);e.exports=n=function(e,t){var r=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new i.Vector3;var o=new i.Vector3,a=n.NONE,s=n.NONE,c=new i.Vector3,l=new i.Vector2,u=new i.Vector2,d=new i.Vector3,h=0,p=new i.Vector2,f=new i.Vector2,m=0,g=0,v=new i.Vector2,y=new i.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var b={type:"change"},x={type:"start"},w={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var E,A,_,M,S,T,C,O,L,R,P,k=(E=new i.Vector2,function(e,t){return E.set((e-r.screen.left)/r.screen.width,(t-r.screen.top)/r.screen.height),E}),j=function(){var e=new i.Vector2;return function(t,n){return e.set((t-.5*r.screen.width-r.screen.left)/(.5*r.screen.width),(r.screen.height+2*(r.screen.top-n))/r.screen.width),e}}();function D(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t}function I(e){!1!==r.enabled&&(window.removeEventListener("keydown",I),s=a,a===n.NONE&&(D(r.keys[n.ROTATE],e.keyCode)&&!r.noRotate?a=n.ROTATE:D(r.keys[n.ZOOM],e.keyCode)&&!r.noZoom?a=n.ZOOM:D(r.keys[n.PAN],e.keyCode)&&!r.noPan&&(a=n.PAN)))}function N(e){!1!==r.enabled&&(a=s,window.addEventListener("keydown",I,!1))}function z(e){!1!==r.enabled&&(e.preventDefault(),e.stopPropagation(),a===n.NONE&&(a=e.button),a!==n.ROTATE||r.noRotate?a!==n.ZOOM||r.noZoom?a!==n.PAN||r.noPan||(v.copy(k(e.pageX,e.pageY)),y.copy(v)):(p.copy(k(e.pageX,e.pageY)),f.copy(p)):(u.copy(j(e.pageX,e.pageY)),l.copy(u)),document.addEventListener("mousemove",B,!1),document.addEventListener("mouseup",F,!1),r.dispatchEvent(x))}function B(e){!1!==r.enabled&&(e.preventDefault(),e.stopPropagation(),a!==n.ROTATE||r.noRotate?a!==n.ZOOM||r.noZoom?a!==n.PAN||r.noPan||y.copy(k(e.pageX,e.pageY)):f.copy(k(e.pageX,e.pageY)):(l.copy(u),u.copy(j(e.pageX,e.pageY))))}function F(e){!1!==r.enabled&&(e.preventDefault(),e.stopPropagation(),a=n.NONE,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",F),r.dispatchEvent(w))}function U(e){if(!1!==r.enabled){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:p.y-=.025*e.deltaY;break;case 1:p.y-=.01*e.deltaY;break;default:p.y-=25e-5*e.deltaY}r.dispatchEvent(x),r.dispatchEvent(w)}}function H(e){if(!1!==r.enabled){switch(e.touches.length){case 1:a=n.TOUCH_ROTATE,u.copy(j(e.touches[0].pageX,e.touches[0].pageY)),l.copy(u);break;default:a=n.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=m=Math.sqrt(t*t+i*i);var o=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(k(o,s)),y.copy(v)}r.dispatchEvent(x)}}function G(e){if(!1!==r.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:l.copy(u),u.copy(j(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;g=Math.sqrt(t*t+n*n);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(k(i,o))}}function V(e){if(!1!==r.enabled){switch(e.touches.length){case 0:a=n.NONE;break;case 1:a=n.TOUCH_ROTATE,u.copy(j(e.touches[0].pageX,e.touches[0].pageY)),l.copy(u)}r.dispatchEvent(w)}}function W(e){!1!==r.enabled&&e.preventDefault()}this.rotateCamera=(_=new i.Vector3,M=new i.Quaternion,S=new i.Vector3,T=new i.Vector3,C=new i.Vector3,O=new i.Vector3,function(){O.set(u.x-l.x,u.y-l.y,0),(A=O.length())?(c.copy(r.object.position).sub(r.target),S.copy(c).normalize(),T.copy(r.object.up).normalize(),C.crossVectors(T,S).normalize(),T.setLength(u.y-l.y),C.setLength(u.x-l.x),O.copy(T.add(C)),_.crossVectors(O,c).normalize(),A*=r.rotateSpeed,M.setFromAxisAngle(_,A),c.applyQuaternion(M),r.object.up.applyQuaternion(M),d.copy(_),h=A):!r.staticMoving&&h&&(h*=Math.sqrt(1-r.dynamicDampingFactor),c.copy(r.object.position).sub(r.target),M.setFromAxisAngle(d,h),c.applyQuaternion(M),r.object.up.applyQuaternion(M)),l.copy(u)}),this.zoomCamera=function(){var e;a===n.TOUCH_ZOOM_PAN?(e=m/g,m=g,c.multiplyScalar(e)):(1!==(e=1+(f.y-p.y)*r.zoomSpeed)&&e>0&&c.multiplyScalar(e),r.staticMoving?p.copy(f):p.y+=(f.y-p.y)*this.dynamicDampingFactor)},this.panCamera=(L=new i.Vector2,R=new i.Vector3,P=new i.Vector3,function(){L.copy(y).sub(v),L.lengthSq()&&(L.multiplyScalar(c.length()*r.panSpeed),P.copy(c).cross(r.object.up).setLength(L.x),P.add(R.copy(r.object.up).setLength(L.y)),r.object.position.add(P),r.target.add(P),r.staticMoving?v.copy(y):v.add(L.subVectors(y,v).multiplyScalar(r.dynamicDampingFactor)))}),this.checkDistances=function(){r.noZoom&&r.noPan||(c.lengthSq()>r.maxDistance*r.maxDistance&&(r.object.position.addVectors(r.target,c.setLength(r.maxDistance)),p.copy(f)),c.lengthSq()<r.minDistance*r.minDistance&&(r.object.position.addVectors(r.target,c.setLength(r.minDistance)),p.copy(f)))},this.update=function(){c.subVectors(r.object.position,r.target),r.noRotate||r.rotateCamera(),r.noZoom||r.zoomCamera(),r.noPan||r.panCamera(),r.object.position.addVectors(r.target,c),r.checkDistances(),r.object.lookAt(r.target),o.distanceToSquared(r.object.position)>1e-6&&(r.dispatchEvent(b),o.copy(r.object.position))},this.reset=function(){a=n.NONE,s=n.NONE,r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.up.copy(r.up0),c.subVectors(r.object.position,r.target),r.object.lookAt(r.target),r.dispatchEvent(b),o.copy(r.object.position)},this.dispose=function(){this.domElement.removeEventListener("contextmenu",W,!1),this.domElement.removeEventListener("mousedown",z,!1),this.domElement.removeEventListener("wheel",U,!1),this.domElement.removeEventListener("touchstart",H,!1),this.domElement.removeEventListener("touchend",V,!1),this.domElement.removeEventListener("touchmove",G,!1),document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",F,!1),window.removeEventListener("keydown",I,!1),window.removeEventListener("keyup",N,!1)},this.domElement.addEventListener("contextmenu",W,!1),this.domElement.addEventListener("mousedown",z,!1),this.domElement.addEventListener("wheel",U,!1),this.domElement.addEventListener("touchstart",H,!1),this.domElement.addEventListener("touchend",V,!1),this.domElement.addEventListener("touchmove",G,!1),window.addEventListener("keydown",I,!1),window.addEventListener("keyup",N,!1),this.handleResize(),this.update()},n.prototype=Object.create(i.EventDispatcher.prototype)},function(e,t){e.exports=function(e){function t(t,r){var n,i,o,a,s;this.object=t,this.domElement=void 0!==r?r:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(l),c.update(),p=h.NONE},this.update=(n=new e.Vector3,i=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),o=i.clone().inverse(),a=new e.Vector3,s=new e.Quaternion,function(){var e=c.object.position;return n.copy(e).sub(c.target),n.applyQuaternion(i),m.setFromVector3(n),c.autoRotate&&p===h.NONE&&L(2*Math.PI/60/60*c.autoRotateSpeed),m.theta+=g.theta,m.phi+=g.phi,m.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,m.theta)),m.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=v,m.radius=Math.max(c.minDistance,Math.min(c.maxDistance,m.radius)),c.target.add(y),n.setFromSpherical(m),n.applyQuaternion(o),e.copy(c.target).add(n),c.object.lookAt(c.target),!0===c.enableDamping?(g.theta*=1-c.dampingFactor,g.phi*=1-c.dampingFactor):g.set(0,0,0),v=1,y.set(0,0,0),!!(b||a.distanceToSquared(c.object.position)>f||8*(1-s.dot(c.object.quaternion))>f)&&(c.dispatchEvent(l),a.copy(c.object.position),s.copy(c.object.quaternion),b=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",q,!1),c.domElement.removeEventListener("mousedown",z,!1),c.domElement.removeEventListener("wheel",U,!1),c.domElement.removeEventListener("touchstart",G,!1),c.domElement.removeEventListener("touchend",W,!1),c.domElement.removeEventListener("touchmove",V,!1),document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",F,!1),window.removeEventListener("keydown",H,!1)};var c=this,l={type:"change"},u={type:"start"},d={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},p=h.NONE,f=1e-6,m=new e.Spherical,g=new e.Spherical,v=1,y=new e.Vector3,b=!1,x=new e.Vector2,w=new e.Vector2,E=new e.Vector2,A=new e.Vector2,_=new e.Vector2,M=new e.Vector2,S=new e.Vector2,T=new e.Vector2,C=new e.Vector2;function O(){return Math.pow(.95,c.zoomSpeed)}function L(e){g.theta-=e}function R(e){g.phi-=e}var P,k=(P=new e.Vector3,function(e,t){P.setFromMatrixColumn(t,0),P.multiplyScalar(-e),y.add(P)}),j=function(){var t=new e.Vector3;return function(e,r){t.setFromMatrixColumn(r,1),t.multiplyScalar(e),y.add(t)}}(),D=function(){var t=new e.Vector3;return function(r,n){var i=c.domElement===document?c.domElement.body:c.domElement;if(c.object instanceof e.PerspectiveCamera){var o=c.object.position;t.copy(o).sub(c.target);var a=t.length();a*=Math.tan(c.object.fov/2*Math.PI/180),k(2*r*a/i.clientHeight,c.object.matrix),j(2*n*a/i.clientHeight,c.object.matrix)}else c.object instanceof e.OrthographicCamera?(k(r*(c.object.right-c.object.left)/c.object.zoom/i.clientWidth,c.object.matrix),j(n*(c.object.top-c.object.bottom)/c.object.zoom/i.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function I(t){c.object instanceof e.PerspectiveCamera?v/=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*t)),c.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function N(t){c.object instanceof e.PerspectiveCamera?v*=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/t)),c.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function z(e){if(!1!==c.enabled){if(e.preventDefault(),e.button===c.mouseButtons.ORBIT){if(!1===c.enableRotate)return;!function(e){x.set(e.clientX,e.clientY)}(e),p=h.ROTATE}else if(e.button===c.mouseButtons.ZOOM){if(!1===c.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),p=h.DOLLY}else if(e.button===c.mouseButtons.PAN){if(!1===c.enablePan)return;!function(e){A.set(e.clientX,e.clientY)}(e),p=h.PAN}p!==h.NONE&&(document.addEventListener("mousemove",B,!1),document.addEventListener("mouseup",F,!1),c.dispatchEvent(u))}}function B(e){if(!1!==c.enabled)if(e.preventDefault(),p===h.ROTATE){if(!1===c.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),E.subVectors(w,x);var t=c.domElement===document?c.domElement.body:c.domElement;L(2*Math.PI*E.x/t.clientWidth*c.rotateSpeed),R(2*Math.PI*E.y/t.clientHeight*c.rotateSpeed),x.copy(w),c.update()}(e)}else if(p===h.DOLLY){if(!1===c.enableZoom)return;!function(e){T.set(e.clientX,e.clientY),C.subVectors(T,S),C.y>0?I(O()):C.y<0&&N(O()),S.copy(T),c.update()}(e)}else if(p===h.PAN){if(!1===c.enablePan)return;!function(e){_.set(e.clientX,e.clientY),M.subVectors(_,A),D(M.x,M.y),A.copy(_),c.update()}(e)}}function F(e){!1!==c.enabled&&(document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",F,!1),c.dispatchEvent(d),p=h.NONE)}function U(e){!1===c.enabled||!1===c.enableZoom||p!==h.NONE&&p!==h.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?N(O()):e.deltaY>0&&I(O()),c.update()}(e),c.dispatchEvent(u),c.dispatchEvent(d))}function H(e){!1!==c.enabled&&!1!==c.enableKeys&&!1!==c.enablePan&&function(e){switch(e.keyCode){case c.keys.UP:D(0,c.keyPanSpeed),c.update();break;case c.keys.BOTTOM:D(0,-c.keyPanSpeed),c.update();break;case c.keys.LEFT:D(c.keyPanSpeed,0),c.update();break;case c.keys.RIGHT:D(-c.keyPanSpeed,0),c.update()}}(e)}function G(e){if(!1!==c.enabled){switch(e.touches.length){case 1:if(!1===c.enableRotate)return;!function(e){x.set(e.touches[0].pageX,e.touches[0].pageY)}(e),p=h.TOUCH_ROTATE;break;case 2:if(!1===c.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);S.set(0,n)}(e),p=h.TOUCH_DOLLY;break;case 3:if(!1===c.enablePan)return;!function(e){A.set(e.touches[0].pageX,e.touches[0].pageY)}(e),p=h.TOUCH_PAN;break;default:p=h.NONE}p!==h.NONE&&c.dispatchEvent(u)}}function V(e){if(!1!==c.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===c.enableRotate)return;if(p!==h.TOUCH_ROTATE)return;!function(e){w.set(e.touches[0].pageX,e.touches[0].pageY),E.subVectors(w,x);var t=c.domElement===document?c.domElement.body:c.domElement;L(2*Math.PI*E.x/t.clientWidth*c.rotateSpeed),R(2*Math.PI*E.y/t.clientHeight*c.rotateSpeed),x.copy(w),c.update()}(e);break;case 2:if(!1===c.enableZoom)return;if(p!==h.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);T.set(0,n),C.subVectors(T,S),C.y>0?N(O()):C.y<0&&I(O()),S.copy(T),c.update()}(e);break;case 3:if(!1===c.enablePan)return;if(p!==h.TOUCH_PAN)return;!function(e){_.set(e.touches[0].pageX,e.touches[0].pageY),M.subVectors(_,A),D(M.x,M.y),A.copy(_),c.update()}(e);break;default:p=h.NONE}}function W(e){!1!==c.enabled&&(c.dispatchEvent(d),p=h.NONE)}function q(e){e.preventDefault()}c.domElement.addEventListener("contextmenu",q,!1),c.domElement.addEventListener("mousedown",z,!1),c.domElement.addEventListener("wheel",U,!1),c.domElement.addEventListener("touchstart",G,!1),c.domElement.addEventListener("touchend",W,!1),c.domElement.addEventListener("touchmove",V,!1),window.addEventListener("keydown",H,!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t}},function(e,t){e.exports=function(e){e.FlyControls=function(t,r,n){this.object=t,n=n||{},this.domElement=void 0!==r?r:document,r&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=void 0===n.movementSpeed?1:n.movementSpeed,this.rollSpeed=void 0===n.rollSpeed?.005:n.rollSpeed,this.dragToLook=!0,this.autoForward=!1,this.tmpQuaternion=new e.Quaternion,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new e.Vector3(0,0,0),this.rotationVector=new e.Vector3(0,0,0);var i=Date.now();function o(e,t){return function(){t.apply(e,arguments)}}this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)},this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}[38,40,37,39].indexOf(e.keyCode)>-1&&e.preventDefault(),this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),r=t.size[0]/2,n=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-r)/r,this.moveState.pitchDown=(e.pageY-t.offset[1]-n)/n,this.updateRotationVector()}},this.mouseout=function(e){e.preventDefault(),e.stopPropagation(),this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.updateRotationVector(),this.updateMovementVector()},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(e){var t=Date.now(),r=(e=(t-i)/10)*this.movementSpeed,n=e*this.rollSpeed;this.object.translateX(this.moveVector.x*r),this.object.translateY(this.moveVector.y*r),this.object.translateZ(this.moveVector.z*r),this.tmpQuaternion.set(this.rotationVector.x*n,this.rotationVector.y*n,this.rotationVector.z*n,1).normalize(),this.object.quaternion.multiply(this.tmpQuaternion),this.object.rotation.setFromQuaternion(this.object.quaternion,this.object.rotation.order),i=t},this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousemove",o(this,this.mousemove),!1),this.domElement.addEventListener("mousedown",o(this,this.mousedown),!1),this.domElement.addEventListener("mouseup",o(this,this.mouseup),!1),this.domElement.addEventListener("mouseout",o(this,this.mouseout),!1),this.domElement.addEventListener("keydown",o(this,this.keydown),!1),this.domElement.addEventListener("keyup",o(this,this.keyup),!1),this.updateMovementVector(),this.updateRotationVector()}}},function(e,t,r){var n=r(867);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t,r){"use strict";var n=r(67).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?n:n.apply(null,arguments)},t.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},,,,,,,,,,,,,,,,function(e,t,r){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(264),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}function w(){}function E(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var A=E.prototype=new w;A.constructor=E,n(A,x.prototype),A.isPureReactComponent=!0;var _={current:null},M={current:null},S=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,n)&&!T.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===i[n]&&(i[n]=c[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:M.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var L=/\/+/g,R=[];function P(e,t,r,n){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function k(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function j(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return n(i,t,""===r?"."+D(t,0):r),1;if(c=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=r+D(s=t[l],l);c+=e(s,u,n,i)}else if(u=null===t||"object"!=typeof t?null:"function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,u=r+D(s,l++),n,i);else if("object"===s)throw n=""+t,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return c}(e,"",t,r)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function I(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,n,r,function(e){return e}):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(L,"$&/")+"/")+r)),n.push(e))}function z(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(L,"$&/")+"/"),j(e,N,t=P(t,o,n,i)),k(t)}function B(){var e=_.current;if(null===e)throw Error(v(321));return e}var F={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return z(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;j(e,I,t=P(null,null,t,r)),k(t)},count:function(e){return j(e,function(){return null},null)},toArray:function(e){var t=[];return z(e,t,null,function(e){return e}),t},only:function(e){if(!O(e))throw Error(v(143));return e}},createRef:function(){return{current:null}},Component:x,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,r){return B().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,r){return B().useReducer(e,t,r)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,Profiler:l,StrictMode:c,Suspense:p,createElement:C,cloneElement:function(e,t,r){if(null==e)throw Error(v(267,e));var i=n({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=M.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:c}},createFactory:function(e){var t=C.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:n}},U={default:F},H=U&&F||U;e.exports=H.default||H},function(e,t,r){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(0),i=r(264),o=r(421);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=null,c={};function l(){if(s)for(var e in c){var t=c[e],r=s.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!d[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in d[r]=t,r=t.eventTypes){var i=void 0,o=r[n],l=t,p=n;if(h.hasOwnProperty(p))throw Error(a(99,p));h[p]=o;var f=o.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&u(f[i],l,p);i=!0}else o.registrationName?(u(o.registrationName,l,p),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function u(e,t,r){if(p[e])throw Error(a(100,e));p[e]=t,f[e]=t.eventTypes[r].dependencies}var d=[],h={},p={},f={};var m=!1,g=null,v=!1,y=null,b={onError:function(e){m=!0,g=e}};function x(e,t,r,n,i,o,a,s,c){m=!1,g=null,function(e,t,r,n,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){this.onError(e)}}.apply(b,arguments)}var w=null,E=null,A=null;function _(e,t,r){var n=e.type||"unknown-event";e.currentTarget=A(r),function(e,t,r,n,i,o,s,c,l){if(x.apply(this,arguments),m){if(!m)throw Error(a(198));var u=g;m=!1,g=null,v||(v=!0,y=u)}}(n,t,void 0,e),e.currentTarget=null}function M(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function S(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var T=null;function C(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)_(e,t[n],r[n]);else t&&_(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O(e){if(null!==e&&(T=M(T,e)),e=T,T=null,e){if(S(e,C),T)throw Error(a(95));if(v)throw e=y,v=!1,y=null,e}}var L={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!c.hasOwnProperty(t)||c[t]!==n){if(c[t])throw Error(a(102,t));c[t]=n,r=!0}}r&&l()}};function R(e,t){var r=e.stateNode;if(!r)return null;var n=w(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}var P=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;P.hasOwnProperty("ReactCurrentDispatcher")||(P.ReactCurrentDispatcher={current:null}),P.hasOwnProperty("ReactCurrentBatchConfig")||(P.ReactCurrentBatchConfig={suspense:null});var k=/^(.*)[\\\/]/,j="function"==typeof Symbol&&Symbol.for,D=j?Symbol.for("react.element"):60103,I=j?Symbol.for("react.portal"):60106,N=j?Symbol.for("react.fragment"):60107,z=j?Symbol.for("react.strict_mode"):60108,B=j?Symbol.for("react.profiler"):60114,F=j?Symbol.for("react.provider"):60109,U=j?Symbol.for("react.context"):60110,H=j?Symbol.for("react.concurrent_mode"):60111,G=j?Symbol.for("react.forward_ref"):60112,V=j?Symbol.for("react.suspense"):60113,W=j?Symbol.for("react.suspense_list"):60120,q=j?Symbol.for("react.memo"):60115,X=j?Symbol.for("react.lazy"):60116;j&&Symbol.for("react.fundamental"),j&&Symbol.for("react.responder"),j&&Symbol.for("react.scope");var Y="function"==typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case N:return"Fragment";case I:return"Portal";case B:return"Profiler";case z:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case U:return"Context.Consumer";case F:return"Context.Provider";case G:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case q:return Q(e.type);case X:if(e=1===e._status?e._result:null)return Q(e)}return null}function Z(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=Q(e.type);r=null,n&&(r=Q(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(k,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}var J=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$=null,ee=null,te=null;function re(e){if(e=E(e)){if("function"!=typeof $)throw Error(a(280));var t=w(e.stateNode);$(e.stateNode,e.type,t)}}function ne(e){ee?te?te.push(e):te=[e]:ee=e}function ie(){if(ee){var e=ee,t=te;if(te=ee=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function oe(e,t){return e(t)}function ae(e,t,r,n){return e(t,r,n)}function se(){}var ce=oe,le=!1,ue=!1;function de(){null===ee&&null===te||(se(),ie())}new Map;var he=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,fe={},me={};function ge(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new ge(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new ge(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new ge(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new ge(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new ge(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new ge(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ve[e]=new ge(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ve[e]=new ge(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ve[e]=new ge(e,5,!1,e.toLowerCase(),null,!1)});var ye=/[\-:]([a-z])/g;function be(e){return e[1].toUpperCase()}function xe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e,t,r,n){var i=ve.hasOwnProperty(t)?ve[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!pe.call(me,e)||!pe.call(fe,e)&&(he.test(e)?me[e]=!0:(fe[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ae(e){e._valueTracker||(e._valueTracker=function(e){var t=Ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ee(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Me(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Se(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=xe(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&we(e,"checked",t,!1)}function Ce(e,t){Te(e,t);var r=xe(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Le(e,t.type,r):t.hasOwnProperty("defaultValue")&&Le(e,t.type,xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Le(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Re(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Pe(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ke(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function je(e,t){var r=t.value;if(null==r){if(r=t.defaultValue,null!=(t=t.children)){if(null!=r)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}r=t}null==r&&(r="")}e._wrapperState={initialValue:xe(r)}}function De(e,t){var r=xe(t.value),n=xe(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ye,be);ve[t]=new ge(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ye,be);ve[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ye,be);ve[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new ge(e,1,!1,e.toLowerCase(),null,!1)}),ve.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ve[e]=new ge(e,1,!1,e.toLowerCase(),null,!0)});var Ne={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue,He=(Ue=function(e,t){if(e.namespaceURI!==Ne.svg||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return Ue(e,t)})}:Ue);function Ge(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ve(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},qe={},Xe={};function Ye(e){if(qe[e])return qe[e];if(!We[e])return e;var t,r=We[e];for(t in r)if(r.hasOwnProperty(t)&&t in Xe)return qe[e]=r[t];return e}J&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ke=Ye("animationend"),Qe=Ye("animationiteration"),Ze=Ye("animationstart"),Je=Ye("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(et(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return rt(i),e;if(o===n)return rt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,c=i.child;c;){if(c===r){s=!0,r=i,n=o;break}if(c===n){s=!0,n=i,r=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===r){s=!0,r=o,n=i;break}if(c===n){s=!0,n=o,r=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,ot,at,st=!1,ct=[],lt=null,ut=null,dt=null,ht=new Map,pt=new Map,ft=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),gt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function vt(e,t,r,n){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:n}}function yt(e,t){switch(e){case"focus":case"blur":lt=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":ht.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function bt(e,t,r,n,i){return null===e||e.nativeEvent!==i?(e=vt(t,r,n,i),null!==t&&(null!==(t=dn(t))&&ot(t)),e):(e.eventSystemFlags|=n,e)}function xt(e){var t=un(e.target);if(null!==t){var r=et(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=tt(r)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,function(){at(r)})}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wt(e){if(null!==e.blockedOn)return!1;var t=Cr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var r=dn(t);return null!==r&&ot(r),e.blockedOn=t,!1}return!0}function Et(e,t,r){wt(e)&&r.delete(t)}function At(){for(st=!1;0<ct.length;){var e=ct[0];if(null!==e.blockedOn){null!==(e=dn(e.blockedOn))&&it(e);break}var t=Cr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ct.shift()}null!==lt&&wt(lt)&&(lt=null),null!==ut&&wt(ut)&&(ut=null),null!==dt&&wt(dt)&&(dt=null),ht.forEach(Et),pt.forEach(Et)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,At)))}function Mt(e){function t(t){return _t(t,e)}if(0<ct.length){_t(ct[0],e);for(var r=1;r<ct.length;r++){var n=ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==lt&&_t(lt,e),null!==ut&&_t(ut,e),null!==dt&&_t(dt,e),ht.forEach(t),pt.forEach(t),r=0;r<ft.length;r++)(n=ft[r]).blockedOn===e&&(n.blockedOn=null);for(;0<ft.length&&null===(r=ft[0]).blockedOn;)xt(r),null===r.blockedOn&&ft.shift()}function St(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ct(e,t,r){(t=R(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=M(r._dispatchListeners,t),r._dispatchInstances=M(r._dispatchInstances,e))}function Ot(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Tt(t);for(t=r.length;0<t--;)Ct(r[t],"captured",e);for(t=0;t<r.length;t++)Ct(r[t],"bubbled",e)}}function Lt(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=R(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=M(r._dispatchListeners,t),r._dispatchInstances=M(r._dispatchInstances,e))}function Rt(e){e&&e.dispatchConfig.registrationName&&Lt(e._targetInst,null,e)}function Pt(e){S(e,Ot)}function kt(){return!0}function jt(){return!1}function Dt(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?kt:jt,this.isPropagationStopped=jt,this}function It(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Nt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function zt(e){e.eventPool=[],e.getPooled=It,e.release=Nt}i(Dt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=kt)},persist:function(){this.isPersistent=kt},isPersistent:jt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=jt,this._dispatchInstances=this._dispatchListeners=null}}),Dt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Dt.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,zt(r),r},zt(Dt);var Bt=Dt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ft=Dt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ut=Dt.extend({view:null,detail:null}),Ht=Ut.extend({relatedTarget:null});function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Vt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function Yt(){return Xt}for(var Kt=Ut.extend({key:function(e){if(e.key){var t=Vt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Wt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yt,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,Zt=0,Jt=!1,$t=!1,er=Ut.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Zt;return Zt=e.screenY,$t?"mousemove"===e.type?e.screenY-t:0:($t=!0,0)}}),tr=er.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rr=er.extend({dataTransfer:null}),nr=Ut.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yt}),ir=Dt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),or=er.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ar=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ke,"animationEnd",2],[Qe,"animationIteration",2],[Ze,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],sr={},cr={},lr=0;lr<ar.length;lr++){var ur=ar[lr],dr=ur[0],hr=ur[1],pr=ur[2],fr="on"+(hr[0].toUpperCase()+hr.slice(1)),mr={phasedRegistrationNames:{bubbled:fr,captured:fr+"Capture"},dependencies:[dr],eventPriority:pr};sr[hr]=mr,cr[dr]=mr}var gr={eventTypes:sr,getEventPriority:function(e){return void 0!==(e=cr[e])?e.eventPriority:2},extractEvents:function(e,t,r,n){var i=cr[e];if(!i)return null;switch(e){case"keypress":if(0===Gt(r))return null;case"keydown":case"keyup":e=Kt;break;case"blur":case"focus":e=Ht;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case Ke:case Qe:case Ze:e=Bt;break;case Je:e=ir;break;case"scroll":e=Ut;break;case"wheel":e=or;break;case"copy":case"cut":case"paste":e=Ft;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tr;break;default:e=Dt}return Pt(t=e.getPooled(i,t,r,n)),t}},vr=o.unstable_UserBlockingPriority,yr=o.unstable_runWithPriority,br=gr.getEventPriority,xr=10,wr=[];function Er(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=un(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=St(e.nativeEvent);n=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,c=0;c<d.length;c++){var l=d[c];l&&(l=l.extractEvents(n,t,o,i,a))&&(s=M(s,l))}O(s)}}var Ar=!0;function _r(e,t){Mr(t,e,!1)}function Mr(e,t,r){switch(br(t)){case 0:var n=function(e,t,r){le||se();var n=Tr,i=le;le=!0;try{ae(n,e,t,r)}finally{(le=i)||de()}}.bind(null,t,1);break;case 1:n=function(e,t,r){yr(vr,Tr.bind(null,e,t,r))}.bind(null,t,1);break;default:n=Tr.bind(null,t,1)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Sr(e,t,r,n){if(wr.length){var i=wr.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=r,i.targetInst=n,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:r,targetInst:n,ancestors:[]};try{if(t=Er,r=e,ue)t(r,void 0);else{ue=!0;try{ce(t,r,void 0)}finally{ue=!1,de()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,wr.length<xr&&wr.push(e)}}function Tr(e,t,r){if(Ar)if(0<ct.length&&-1<mt.indexOf(e))e=vt(null,e,t,r),ct.push(e);else{var n=Cr(e,t,r);null===n?yt(e,r):-1<mt.indexOf(e)?(e=vt(n,e,t,r),ct.push(e)):function(e,t,r,n){switch(t){case"focus":return lt=bt(lt,e,t,r,n),!0;case"dragenter":return ut=bt(ut,e,t,r,n),!0;case"mouseover":return dt=bt(dt,e,t,r,n),!0;case"pointerover":var i=n.pointerId;return ht.set(i,bt(ht.get(i)||null,e,t,r,n)),!0;case"gotpointercapture":return i=n.pointerId,pt.set(i,bt(pt.get(i)||null,e,t,r,n)),!0}return!1}(n,e,t,r)||(yt(e,r),Sr(e,t,r,null))}}function Cr(e,t,r){var n=St(r);if(null!==(n=un(n))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Sr(e,t,r,n),null}function Or(e){if(!J)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Lr=new("function"==typeof WeakMap?WeakMap:Map);function Rr(e){var t=Lr.get(e);return void 0===t&&(t=new Set,Lr.set(e,t)),t}function Pr(e,t,r){if(!r.has(e)){switch(e){case"scroll":Mr(t,"scroll",!0);break;case"focus":case"blur":Mr(t,"focus",!0),Mr(t,"blur",!0),r.add("blur"),r.add("focus");break;case"cancel":case"close":Or(e)&&Mr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&_r(e,t)}r.add(e)}}var kr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];function Dr(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function Ir(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=Dr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(kr).forEach(function(e){jr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]})});var Nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(e,t){if(t){if(Nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function Br(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fr(e,t){var r=Rr(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var n=0;n<t.length;n++)Pr(t[n],e,r)}function Ur(){}function Hr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vr(e,t){var r,n=Gr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gr(n)}}function Wr(){for(var e=window,t=Hr();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Hr((e=t.contentWindow).document)}return t}function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Xr="$",Yr="/$",Kr="$?",Qr="$!",Zr=null,Jr=null;function $r(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function en(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var tn="function"==typeof setTimeout?setTimeout:void 0,rn="function"==typeof clearTimeout?clearTimeout:void 0;function nn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function on(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Xr||r===Qr||r===Kr){if(0===t)return e;t--}else r===Yr&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),sn="__reactInternalInstance$"+an,cn="__reactEventHandlers$"+an,ln="__reactContainere$"+an;function un(e){var t=e[sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ln]||r[sn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=on(e);null!==e;){if(r=e[sn])return r;e=on(e)}return t}r=(e=r).parentNode}return null}function dn(e){return!(e=e[sn]||e[ln])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function hn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function pn(e){return e[cn]||null}var fn=null,mn=null,gn=null;function vn(){if(gn)return gn;var e,t,r=mn,n=r.length,i="value"in fn?fn.value:fn.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return gn=i.slice(e,1<t?1-t:void 0)}var yn=Dt.extend({data:null}),bn=Dt.extend({data:null}),xn=[9,13,27,32],wn=J&&"CompositionEvent"in window,En=null;J&&"documentMode"in document&&(En=document.documentMode);var An=J&&"TextEvent"in window&&!En,_n=J&&(!wn||En&&8<En&&11>=En),Mn=String.fromCharCode(32),Sn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Rn={eventTypes:Sn,extractEvents:function(e,t,r,n){var i;if(wn)e:{switch(e){case"compositionstart":var o=Sn.compositionStart;break e;case"compositionend":o=Sn.compositionEnd;break e;case"compositionupdate":o=Sn.compositionUpdate;break e}o=void 0}else Ln?Cn(e,r)&&(o=Sn.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=Sn.compositionStart);return o?(_n&&"ko"!==r.locale&&(Ln||o!==Sn.compositionStart?o===Sn.compositionEnd&&Ln&&(i=vn()):(mn="value"in(fn=n)?fn.value:fn.textContent,Ln=!0)),o=yn.getPooled(o,t,r,n),i?o.data=i:null!==(i=On(r))&&(o.data=i),Pt(o),i=o):i=null,(e=An?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Tn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Tn?null:e;default:return null}}(e,r):function(e,t){if(Ln)return"compositionend"===e||!wn&&Cn(e,t)?(e=vn(),gn=mn=fn=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=bn.getPooled(Sn.beforeInput,t,r,n)).data=e,Pt(t)):t=null,null===i?t:null===t?i:[i,t]}},Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}var jn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Dn(e,t,r){return(e=Dt.getPooled(jn.change,e,t,r)).type="change",ne(r),Pt(e),e}var In=null,Nn=null;function zn(e){O(e)}function Bn(e){if(_e(hn(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;function Hn(){In&&(In.detachEvent("onpropertychange",Gn),Nn=In=null)}function Gn(e){if("value"===e.propertyName&&Bn(Nn))if(e=Dn(Nn,e,St(e)),le)O(e);else{le=!0;try{oe(zn,e)}finally{le=!1,de()}}}function Vn(e,t,r){"focus"===e?(Hn(),Nn=r,(In=t).attachEvent("onpropertychange",Gn)):"blur"===e&&Hn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Nn)}function qn(e,t){if("click"===e)return Bn(t)}function Xn(e,t){if("input"===e||"change"===e)return Bn(t)}J&&(Un=Or("input")&&(!document.documentMode||9<document.documentMode));var Yn,Kn={eventTypes:jn,_isInputEventSupported:Un,extractEvents:function(e,t,r,n){var i=t?hn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Fn;else if(kn(i))if(Un)a=Xn;else{a=Wn;var s=Vn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=qn);if(a&&(a=a(e,t)))return Dn(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Le(i,"number",i.value)}},Qn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zn={eventTypes:Qn,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?un(t):null)&&(t!==(o=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=er,c=Qn.mouseLeave,l=Qn.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=tr,c=Qn.pointerLeave,l=Qn.pointerEnter,u="pointer");if(e=null==a?i:hn(a),i=null==t?i:hn(t),(c=s.getPooled(c,a,r,n)).type=u+"leave",c.target=e,c.relatedTarget=i,(n=s.getPooled(l,t,r,n)).type=u+"enter",n.target=i,n.relatedTarget=e,u=t,(s=a)&&u)e:{for(e=u,a=0,t=l=s;t;t=Tt(t))a++;for(t=0,i=e;i;i=Tt(i))t++;for(;0<a-t;)l=Tt(l),a--;for(;0<t-a;)e=Tt(e),t--;for(;a--;){if(l===e||l===e.alternate)break e;l=Tt(l),e=Tt(e)}l=null}else l=null;for(e=l,l=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)l.push(s),s=Tt(s);for(s=[];u&&u!==e&&(null===(a=u.alternate)||a!==e);)s.push(u),u=Tt(u);for(u=0;u<l.length;u++)Lt(l[u],"bubbled",c);for(u=s.length;0<u--;)Lt(s[u],"captured",n);return r===Yn?(Yn=null,[c]):(Yn=r,[c,n])}};var Jn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},$n=Object.prototype.hasOwnProperty;function ei(e,t){if(Jn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!$n.call(t,r[n])||!Jn(e[r[n]],t[r[n]]))return!1;return!0}var ti=J&&"documentMode"in document&&11>=document.documentMode,ri={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ni=null,ii=null,oi=null,ai=!1;function si(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ai||null==ni||ni!==Hr(r)?null:("selectionStart"in(r=ni)&&qr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},oi&&ei(oi,r)?null:(oi=r,(e=Dt.getPooled(ri.select,ii,e,t)).type="select",e.target=ni,Pt(e),e))}var ci={eventTypes:ri,extractEvents:function(e,t,r,n){var i,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!o)){e:{o=Rr(o),i=f.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?hn(t):window,e){case"focus":(kn(o)||"true"===o.contentEditable)&&(ni=o,ii=t,oi=null);break;case"blur":oi=ii=ni=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":return ai=!1,si(r,n);case"selectionchange":if(ti)break;case"keydown":case"keyup":return si(r,n)}return null}};L.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=pn,E=dn,A=hn,L.injectEventPluginsByName({SimpleEventPlugin:gr,EnterLeaveEventPlugin:Zn,ChangeEventPlugin:Kn,SelectEventPlugin:ci,BeforeInputEventPlugin:Rn}),new Set;var li=[],ui=-1;function di(e){0>ui||(e.current=li[ui],li[ui]=null,ui--)}function hi(e,t){li[++ui]=e.current,e.current=t}var pi={},fi={current:pi},mi={current:!1},gi=pi;function vi(e,t){var r=e.type.contextTypes;if(!r)return pi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!=(e=e.childContextTypes)}function bi(e){di(mi),di(fi)}function xi(e){di(mi),di(fi)}function wi(e,t,r){if(fi.current!==pi)throw Error(a(168));hi(fi,t),hi(mi,r)}function Ei(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},r,{},n)}function Ai(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||pi,gi=fi.current,hi(fi,t),hi(mi,mi.current),!0}function _i(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(t=Ei(e,t,gi),n.__reactInternalMemoizedMergedChildContext=t,di(mi),di(fi),hi(fi,t)):di(mi),hi(mi,r)}var Mi=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Li=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,ki=o.unstable_UserBlockingPriority,ji=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,Ni={},zi=void 0!==Oi?Oi:function(){},Bi=null,Fi=null,Ui=!1,Hi=Li(),Gi=1e4>Hi?Li:function(){return Li()-Hi};function Vi(){switch(Ri()){case Pi:return 99;case ki:return 98;case ji:return 97;case Di:return 96;case Ii:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return ki;case 97:return ji;case 96:return Di;case 95:return Ii;default:throw Error(a(332))}}function qi(e,t){return e=Wi(e),Mi(e,t)}function Xi(e,t,r){return e=Wi(e),Si(e,t,r)}function Yi(e){return null===Bi?(Bi=[e],Fi=Si(Pi,Qi)):Bi.push(e),Ni}function Ki(){if(null!==Fi){var e=Fi;Fi=null,Ti(e)}Qi()}function Qi(){if(!Ui&&null!==Bi){Ui=!0;var e=0;try{var t=Bi;qi(99,function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}}),Bi=null}catch(t){throw null!==Bi&&(Bi=Bi.slice(e+1)),Si(Pi,Ki),t}finally{Ui=!1}}}var Zi=3;function Ji(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function $i(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var eo={current:null},to=null,ro=null,no=null;function io(){no=ro=to=null}function oo(e,t){var r=e.type._context;hi(eo,r._currentValue),r._currentValue=t}function ao(e){var t=eo.current;di(eo),e.type._context._currentValue=t}function so(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function co(e,t){to=e,no=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ga=!0),e.firstContext=null)}function lo(e,t){if(no!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(no=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===to)throw Error(a(308));ro=t,to.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var uo=!1;function ho(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function po(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function fo(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function mo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function go(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,i=null;null===n&&(n=e.updateQueue=ho(e.memoizedState))}else n=e.updateQueue,i=r.updateQueue,null===n?null===i?(n=e.updateQueue=ho(e.memoizedState),i=r.updateQueue=ho(r.memoizedState)):n=e.updateQueue=po(i):null===i&&(i=r.updateQueue=po(n));null===i||n===i?mo(n,t):null===n.lastUpdate||null===i.lastUpdate?(mo(n,t),mo(i,t)):(mo(n,t),i.lastUpdate=t)}function vo(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=ho(e.memoizedState):yo(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function yo(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=po(t)),t}function bo(e,t,r,n,o,a){switch(r.tag){case 1:return"function"==typeof(e=r.payload)?e.call(a,n,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=r.payload)?e.call(a,n,o):e))break;return i({},n,o);case 2:uo=!0}return n}function xo(e,t,r,n,i){uo=!1;for(var o=(t=yo(e,t)).baseState,a=null,s=0,c=t.firstUpdate,l=o;null!==c;){var u=c.expirationTime;u<i?(null===a&&(a=c,o=l),s<u&&(s=u)):(_c(u,c.suspenseConfig),l=bo(e,0,c,l,r,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<i?(null===u&&(u=c,null===a&&(o=l)),s<d&&(s=d)):(l=bo(e,0,c,l,r,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(o=l),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=u,Mc(s),e.expirationTime=s,e.memoizedState=l}function wo(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Eo(t.firstEffect,r),t.firstEffect=t.lastEffect=null,Eo(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function Eo(e,t){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var n=t;if("function"!=typeof r)throw Error(a(191,r));r.call(n)}e=e.nextEffect}}var Ao=P.ReactCurrentBatchConfig,_o=(new n.Component).refs;function Mo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:i({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var So={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=hc(),i=Ao.suspense;(i=fo(n=pc(n,e,i),i)).payload=t,null!=r&&(i.callback=r),go(e,i),fc(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=hc(),i=Ao.suspense;(i=fo(n=pc(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),go(e,i),fc(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=hc(),n=Ao.suspense;(n=fo(r=pc(r,e,n),n)).tag=2,null!=t&&(n.callback=t),go(e,n),fc(e,r)}};function To(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ei(r,n)||!ei(i,o))}function Co(e,t,r){var n=!1,i=pi,o=t.contextType;return"object"==typeof o&&null!==o?o=lo(o):(i=yi(t)?gi:fi.current,o=(n=null!=(n=t.contextTypes))?vi(e,i):pi),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=So,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Oo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function Lo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=_o;var o=t.contextType;"object"==typeof o&&null!==o?i.context=lo(o):(o=yi(t)?gi:fi.current,i.context=vi(e,o)),null!==(o=e.updateQueue)&&(xo(e,o,r,i,n),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Mo(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&So.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(xo(e,o,r,i,n),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ro=Array.isArray;function Po(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===_o&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function jo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,r){return(e=Gc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=qc(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Po(e,t,r),n.return=e,n):((n=Vc(r.type,r.key,r.props,null,e.mode,n)).ref=Po(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Xc(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=Wc(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=qc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case D:return(r=Vc(t.type,t.key,t.props,null,e.mode,r)).ref=Po(e,null,t),r.return=e,r;case I:return(t=Xc(t,e.mode,r)).return=e,t}if(Ro(t)||K(t))return(t=Wc(t,e.mode,r,null)).return=e,t;ko(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:c(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case D:return r.key===i?r.type===N?d(e,t,r.props.children,n,i):l(e,t,r,n):null;case I:return r.key===i?u(e,t,r,n):null}if(Ro(r)||K(r))return null!==i?null:d(e,t,r,n,null);ko(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case D:return e=e.get(null===n.key?r:n.key)||null,n.type===N?d(t,e,n.props.children,i,n.key):l(t,e,n,i);case I:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(Ro(n)||K(n))return d(t,e=e.get(r)||null,n,i,null);ko(t,n)}return null}function m(i,a,s,c){for(var l=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(i,d),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],c))&&(a=o(d,a,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=n(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),l}function g(i,s,c,l){var u=K(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return r(i,m),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=n(i,m);!y.done;g++,y=c.next())null!==(y=f(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),u}return function(e,n,o,c){var l="object"==typeof o&&null!==o&&o.type===N&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case D:e:{for(u=o.key,l=n;null!==l;){if(l.key===u){if(7===l.tag?o.type===N:l.elementType===o.type){r(e,l.sibling),(n=i(l,o.type===N?o.props.children:o.props)).ref=Po(e,l,o),n.return=e,e=n;break e}r(e,l);break}t(e,l),l=l.sibling}o.type===N?((n=Wc(o.props.children,e.mode,c,o.key)).return=e,e=n):((c=Vc(o.type,o.key,o.props,null,e.mode,c)).ref=Po(e,n,o),c.return=e,e=c)}return s(e);case I:e:{for(l=o.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Xc(o,e.mode,c)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=qc(o,e.mode,c)).return=e,e=n),s(e);if(Ro(o))return m(e,n,o,c);if(K(o))return g(e,n,o,c);if(u&&ko(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Do=jo(!0),Io=jo(!1),No={},zo={current:No},Bo={current:No},Fo={current:No};function Uo(e){if(e===No)throw Error(a(174));return e}function Ho(e,t){hi(Fo,t),hi(Bo,e),hi(zo,No);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}di(zo),hi(zo,t)}function Go(e){di(zo),di(Bo),di(Fo)}function Vo(e){Uo(Fo.current);var t=Uo(zo.current),r=Be(t,e.type);t!==r&&(hi(Bo,e),hi(zo,r))}function Wo(e){Bo.current===e&&(di(zo),di(Bo))}var qo={current:0};function Xo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||r.data===Kr||r.data===Qr))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Yo(e,t){return{responder:e,props:t}}var Ko=P.ReactCurrentDispatcher,Qo=P.ReactCurrentBatchConfig,Zo=0,Jo=null,$o=null,ea=null,ta=null,ra=null,na=null,ia=0,oa=null,aa=0,sa=!1,ca=null,la=0;function ua(){throw Error(a(321))}function da(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jn(e[r],t[r]))return!1;return!0}function ha(e,t,r,n,i,o){if(Zo=o,Jo=t,ea=null!==e?e.memoizedState:null,Ko.current=null===ea?Ra:Pa,t=r(n,i),sa){do{sa=!1,la+=1,ea=null!==e?e.memoizedState:null,na=ta,oa=ra=$o=null,Ko.current=Pa,t=r(n,i)}while(sa);ca=null,la=0}if(Ko.current=La,(e=Jo).memoizedState=ta,e.expirationTime=ia,e.updateQueue=oa,e.effectTag|=aa,e=null!==$o&&null!==$o.next,Zo=0,na=ra=ta=ea=$o=Jo=null,ia=0,oa=null,aa=0,e)throw Error(a(300));return t}function pa(){Ko.current=La,Zo=0,na=ra=ta=ea=$o=Jo=null,ia=0,oa=null,aa=0,sa=!1,ca=null,la=0}function fa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ra?ta=ra=e:ra=ra.next=e,ra}function ma(){if(null!==na)na=(ra=na).next,ea=null!==($o=ea)?$o.next:null;else{if(null===ea)throw Error(a(310));var e={memoizedState:($o=ea).memoizedState,baseState:$o.baseState,queue:$o.queue,baseUpdate:$o.baseUpdate,next:null};ra=null===ra?ta=e:ra.next=e,ea=$o.next}return ra}function ga(e,t){return"function"==typeof t?t(e):t}function va(e){var t=ma(),r=t.queue;if(null===r)throw Error(a(311));if(r.lastRenderedReducer=e,0<la){var n=r.dispatch;if(null!==ca){var i=ca.get(r);if(void 0!==i){ca.delete(r);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Jn(o,t.memoizedState)||(Ga=!0),t.memoizedState=o,t.baseUpdate===r.last&&(t.baseState=o),r.lastRenderedState=o,[o,n]}}return[t.memoizedState,n]}n=r.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var c=i=null,l=n,u=!1;do{var d=l.expirationTime;d<Zo?(u||(u=!0,c=s,i=o),d>ia&&Mc(ia=d)):(_c(d,l.suspenseConfig),o=l.eagerReducer===e?l.eagerState:e(o,l.action)),s=l,l=l.next}while(null!==l&&l!==n);u||(c=s,i=o),Jn(o,t.memoizedState)||(Ga=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=i,r.lastRenderedState=o}return[t.memoizedState,r.dispatch]}function ya(e){var t=fa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e}).dispatch=Oa.bind(null,Jo,e),[t.memoizedState,e]}function ba(e){return va(ga)}function xa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===oa?(oa={lastEffect:null}).lastEffect=e.next=e:null===(t=oa.lastEffect)?oa.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,oa.lastEffect=e),e}function wa(e,t,r,n){var i=fa();aa|=e,i.memoizedState=xa(t,r,void 0,void 0===n?null:n)}function Ea(e,t,r,n){var i=ma();n=void 0===n?null:n;var o=void 0;if(null!==$o){var a=$o.memoizedState;if(o=a.destroy,null!==n&&da(n,a.deps))return void xa(0,r,o,n)}aa|=e,i.memoizedState=xa(t,r,o,n)}function Aa(e,t){return wa(516,192,e,t)}function _a(e,t){return Ea(516,192,e,t)}function Ma(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(){}function Ta(e,t){return fa().memoizedState=[e,void 0===t?null:t],e}function Ca(e,t){var r=ma();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&da(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Oa(e,t,r){if(!(25>la))throw Error(a(301));var n=e.alternate;if(e===Jo||null!==n&&n===Jo)if(sa=!0,e={expirationTime:Zo,suspenseConfig:null,action:r,eagerReducer:null,eagerState:null,next:null},null===ca&&(ca=new Map),void 0===(r=ca.get(t)))ca.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}else{var i=hc(),o=Ao.suspense;o={expirationTime:i=pc(i,e,o),suspenseConfig:o,action:r,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var c=s.next;null!==c&&(o.next=c),s.next=o}if(t.last=o,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=n(l,r);if(o.eagerReducer=n,o.eagerState=u,Jn(u,l))return}catch(e){}fc(e,i)}}var La={readContext:lo,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useResponder:ua,useDeferredValue:ua,useTransition:ua},Ra={readContext:lo,useCallback:Ta,useContext:lo,useEffect:Aa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,wa(4,36,Ma.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wa(4,36,e,t)},useMemo:function(e,t){var r=fa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Jo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fa().memoizedState=e},useState:ya,useDebugValue:Sa,useResponder:Yo,useDeferredValue:function(e,t){var r=ya(e),n=r[0],i=r[1];return Aa(function(){o.unstable_next(function(){var r=Qo.suspense;Qo.suspense=void 0===t?null:t;try{i(e)}finally{Qo.suspense=r}})},[e,t]),n},useTransition:function(e){var t=ya(!1),r=t[0],n=t[1];return[Ta(function(t){n(!0),o.unstable_next(function(){var r=Qo.suspense;Qo.suspense=void 0===e?null:e;try{n(!1),t()}finally{Qo.suspense=r}})},[e,r]),r]}},Pa={readContext:lo,useCallback:Ca,useContext:lo,useEffect:_a,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Ea(4,36,Ma.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ea(4,36,e,t)},useMemo:function(e,t){var r=ma();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&da(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)},useReducer:va,useRef:function(){return ma().memoizedState},useState:ba,useDebugValue:Sa,useResponder:Yo,useDeferredValue:function(e,t){var r=ba(),n=r[0],i=r[1];return _a(function(){o.unstable_next(function(){var r=Qo.suspense;Qo.suspense=void 0===t?null:t;try{i(e)}finally{Qo.suspense=r}})},[e,t]),n},useTransition:function(e){var t=ba(),r=t[0],n=t[1];return[Ca(function(t){n(!0),o.unstable_next(function(){var r=Qo.suspense;Qo.suspense=void 0===e?null:e;try{n(!1),t()}finally{Qo.suspense=r}})},[e,r]),r]}},ka=null,ja=null,Da=!1;function Ia(e,t){var r=Uc(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Na(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function za(e){if(Da){var t=ja;if(t){var r=t;if(!Na(e,t)){if(!(t=nn(r.nextSibling))||!Na(e,t))return e.effectTag=-1025&e.effectTag|2,Da=!1,void(ka=e);Ia(ka,r)}ka=e,ja=nn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Da=!1,ka=e}}function Ba(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ka=e}function Fa(e){if(e!==ka)return!1;if(!Da)return Ba(e),Da=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!en(t,e.memoizedProps))for(t=ja;t;)Ia(e,t),t=nn(t.nextSibling);if(Ba(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Yr){if(0===t){ja=nn(e.nextSibling);break e}t--}else r!==Xr&&r!==Qr&&r!==Kr||t++}e=e.nextSibling}ja=null}}else ja=ka?nn(e.stateNode.nextSibling):null;return!0}function Ua(){ja=ka=null,Da=!1}var Ha=P.ReactCurrentOwner,Ga=!1;function Va(e,t,r,n){t.child=null===e?Io(t,null,r,n):Do(t,e.child,r,n)}function Wa(e,t,r,n,i){r=r.render;var o=t.ref;return co(t,i),n=ha(e,t,r,n,o,i),null===e||Ga?(t.effectTag|=1,Va(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),cs(e,t,i))}function qa(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||Hc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Vc(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Xa(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:ei)(i,n)&&e.ref===t.ref)?cs(e,t,o):(t.effectTag|=1,(e=Gc(a,n)).ref=t.ref,e.return=t,t.child=e)}function Xa(e,t,r,n,i,o){return null!==e&&ei(e.memoizedProps,n)&&e.ref===t.ref&&(Ga=!1,i<o)?cs(e,t,o):Ka(e,t,r,n,o)}function Ya(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Ka(e,t,r,n,i){var o=yi(r)?gi:fi.current;return o=vi(t,o),co(t,i),r=ha(e,t,r,n,o,i),null===e||Ga?(t.effectTag|=1,Va(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),cs(e,t,i))}function Qa(e,t,r,n,i){if(yi(r)){var o=!0;Ai(t)}else o=!1;if(co(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Co(t,r,n),Lo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=r.contextType;"object"==typeof l&&null!==l?l=lo(l):l=vi(t,l=yi(r)?gi:fi.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||c!==l)&&Oo(t,a,n,l),uo=!1;var h=t.memoizedState;c=a.state=h;var p=t.updateQueue;null!==p&&(xo(t,p,n,a,i),c=t.memoizedState),s!==n||h!==c||mi.current||uo?("function"==typeof u&&(Mo(t,r,u,n),c=t.memoizedState),(s=uo||To(t,r,s,n,h,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=l,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:$i(t.type,s),c=a.context,"object"==typeof(l=r.contextType)&&null!==l?l=lo(l):l=vi(t,l=yi(r)?gi:fi.current),(d="function"==typeof(u=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||c!==l)&&Oo(t,a,n,l),uo=!1,c=t.memoizedState,h=a.state=c,null!==(p=t.updateQueue)&&(xo(t,p,n,a,i),h=t.memoizedState),s!==n||c!==h||mi.current||uo?("function"==typeof u&&(Mo(t,r,u,n),h=t.memoizedState),(u=uo||To(t,r,s,n,c,h,l))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=l,n=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),n=!1);return Za(e,t,r,n,o,i)}function Za(e,t,r,n,i,o){Ya(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return i&&_i(t,r,!1),cs(e,t,o);n=t.stateNode,Ha.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=Do(t,e.child,null,o),t.child=Do(t,null,s,o)):Va(e,t,s,o),t.memoizedState=n.state,i&&_i(t,r,!0),t.child}function Ja(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Ho(e,t.containerInfo)}var $a,es,ts,rs,ns={dehydrated:null,retryTime:0};function is(e,t,r){var n,i=t.mode,o=t.pendingProps,a=qo.current,s=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),hi(qo,1&a),null===e){if(void 0!==o.fallback&&za(t),s){if(s=o.fallback,(o=Wc(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Wc(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=ns,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=Io(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=Gc(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=Gc(i,o,i.expirationTime)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=ns,t.child=r,i}return r=Do(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=Wc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Wc(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=ns,t.child=o,r}return t.memoizedState=null,t.child=Do(t,e,o.children,r)}function os(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),so(e.return,t)}function as(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function ss(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Va(e,t,n.children,r),0!=(2&(n=qo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&os(e,r);else if(19===e.tag)os(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hi(qo,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Xo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),as(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}as(t,!0,r,null,o,t.lastEffect);break;case"together":as(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function cs(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&Mc(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Gc(e=t.child,e.pendingProps,e.expirationTime),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Gc(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function ls(e){e.effectTag|=4}function us(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ds(e){switch(e.tag){case 1:yi(e.type)&&bi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Go(),xi(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Wo(e),null;case 13:return di(qo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return di(qo),null;case 4:return Go(),null;case 10:return ao(e),null;default:return null}}function hs(e,t){return{value:e,source:t,stack:Z(t)}}$a=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},es=function(){},ts=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,c,l=t.stateNode;switch(Uo(zo.current),e=null,r){case"input":a=Me(l,a),n=Me(l,n),e=[];break;case"option":a=Re(l,a),n=Re(l,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=ke(l,a),n=ke(l,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(l.onclick=Ur)}for(s in zr(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in l=a[s])l.hasOwnProperty(c)&&(r||(r={}),r[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(p.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var u=n[s];if(l=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(r||(r={}),r[c]=u[c])}else r||(e||(e=[]),e.push(s,r)),r=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(s,""+u)):"children"===s?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(p.hasOwnProperty(s)?(null!=u&&Fr(o,s),e||l===u||(e=[])):(e=e||[]).push(s,u))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&ls(t)}},rs=function(e,t,r,n){r!==n&&ls(t)};var ps="function"==typeof WeakSet?WeakSet:Set;function fs(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=Z(r)),null!==r&&Q(r.type),t=t.value,null!==e&&1===e.tag&&Q(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function ms(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ic(e,t)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:vs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:$i(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function vs(e,t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if(0!=(n.tag&e)){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}0!=(n.tag&t)&&(i=n.create,n.destroy=i()),n=n.next}while(n!==r)}}function ys(e,t,r){switch("function"==typeof Bc&&Bc(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;qi(97<r?97:r,function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){Ic(i,e)}}e=e.next}while(e!==n)})}break;case 1:ms(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ic(e,t)}}(t,r);break;case 5:ms(t);break;case 4:Es(e,t,r)}}function bs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&bs(t)}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(xs(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(Ge(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||xs(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(r)if(n){var c=s;s=r,8===(o=t).nodeType?o.parentNode.insertBefore(c,s):o.insertBefore(c,s)}else t.insertBefore(s,r);else n?(8===(c=t).nodeType?(o=c.parentNode).insertBefore(s,c):(o=c).appendChild(s),null!=(c=c._reactRootContainer)||null!==o.onclick||(o.onclick=Ur)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Es(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=r,d=l;;)if(ys(c,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(c=n,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ys(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function As(e,t){switch(t.tag){case 0:case 11:case 14:case 15:vs(4,8,t);break;case 1:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[cn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Te(r,n),Br(e,i),t=Br(e,n),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?Ir(r,c):"dangerouslySetInnerHTML"===s?He(r,c):"children"===s?Ge(r,c):we(r,s,c,t)}switch(e){case"input":Ce(r,n);break;case"textarea":De(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Pe(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Pe(r,!!n.multiple,n.defaultValue,!0):Pe(r,!!n.multiple,n.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Mt(t.containerInfo));break;case 12:break;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,$s=Gi()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Dr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break e;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}_s(t);break;case 19:_s(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ps),t.forEach(function(t){var n=function(e,t){var r=e.stateNode;null!==r&&r.delete(t),0==(t=0)&&(t=pc(t=hc(),e,null)),null!==(e=mc(e,t))&&vc(e)}.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}var Ms="function"==typeof WeakMap?WeakMap:Map;function Ss(e,t,r){(r=fo(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rc||(rc=!0,nc=n),fs(e,t)},r}function Ts(e,t,r){(r=fo(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return fs(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===ic?ic=new Set([this]):ic.add(this),fs(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var Cs,Os=Math.ceil,Ls=P.ReactCurrentDispatcher,Rs=P.ReactCurrentOwner,Ps=0,ks=8,js=16,Ds=32,Is=0,Ns=1,zs=2,Bs=3,Fs=4,Us=5,Hs=Ps,Gs=null,Vs=null,Ws=0,qs=Is,Xs=null,Ys=1073741823,Ks=1073741823,Qs=null,Zs=0,Js=!1,$s=0,ec=500,tc=null,rc=!1,nc=null,ic=null,oc=!1,ac=null,sc=90,cc=null,lc=0,uc=null,dc=0;function hc(){return(Hs&(js|Ds))!==Ps?1073741821-(Gi()/10|0):0!==dc?dc:dc=1073741821-(Gi()/10|0)}function pc(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=Vi();if(0==(4&t))return 99===n?1073741823:1073741822;if((Hs&js)!==Ps)return Ws;if(null!==r)e=Ji(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Ji(e,150,100);break;case 97:case 96:e=Ji(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Gs&&e===Ws&&--e,e}function fc(e,t){if(50<lc)throw lc=0,uc=null,Error(a(185));if(null!==(e=mc(e,t))){var r=Vi();1073741823===t?(Hs&ks)!==Ps&&(Hs&(js|Ds))===Ps?yc(e):(vc(e),Hs===Ps&&Ki()):vc(e),(4&Hs)===Ps||98!==r&&99!==r||(null===cc?cc=new Map([[e,t]]):(void 0===(r=cc.get(e))||r>t)&&cc.set(e,t))}}function mc(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Gs===i&&(Mc(t),qs===Fs&&Qc(i,Ws)),Zc(i,t)),i}function gc(e){var t=e.lastExpiredTime;return 0!==t?t:Kc(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function vc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(yc.bind(null,e));else{var t=gc(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=hc();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Ni&&Ti(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Yi(yc.bind(null,e)):Xi(n,function e(t,r){dc=0;if(r)return r=hc(),Jc(t,r),vc(t),null;var n=gc(t);if(0!==n){if(r=t.callbackNode,(Hs&(js|Ds))!==Ps)throw Error(a(327));if(kc(),t===Gs&&n===Ws||wc(t,n),null!==Vs){var i=Hs;Hs|=js;for(var o=Ac();;)try{Tc();break}catch(e){Ec(t,e)}if(io(),Hs=i,Ls.current=o,qs===Ns)throw r=Xs,wc(t,n),Qc(t,n),vc(t),r;if(null===Vs)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=qs,Gs=null,i){case Is:case Ns:throw Error(a(345));case zs:Jc(t,2<n?2:n);break;case Bs:if(Qc(t,n),i=t.lastSuspendedTime,n===i&&(t.nextKnownPendingLevel=Lc(o)),1073741823===Ys&&10<(o=$s+ec-Gi())){if(Js){var s=t.lastPingedTime;if(0===s||s>=n){t.lastPingedTime=n,wc(t,n);break}}if(0!==(s=gc(t))&&s!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=tn(Rc.bind(null,t),o);break}Rc(t);break;case Fs:if(Qc(t,n),i=t.lastSuspendedTime,n===i&&(t.nextKnownPendingLevel=Lc(o)),Js&&(0===(o=t.lastPingedTime)||o>=n)){t.lastPingedTime=n,wc(t,n);break}if(0!==(o=gc(t))&&o!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Ks?i=10*(1073741821-Ks)-Gi():1073741823===Ys?i=0:(i=10*(1073741821-Ys)-5e3,o=Gi(),n=10*(1073741821-n)-o,0>(i=o-i)&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Os(i/1960))-i,n<i&&(i=n)),10<i){t.timeoutHandle=tn(Rc.bind(null,t),i);break}Rc(t);break;case Us:if(1073741823!==Ys&&null!==Qs){s=Ys;var c=Qs;if(0>=(i=0|c.busyMinDurationMs)?i=0:(o=0|c.busyDelayMs,s=Gi()-(10*(1073741821-s)-(0|c.timeoutMs||5e3)),i=s<=o?0:o+i-s),10<i){Qc(t,n),t.timeoutHandle=tn(Rc.bind(null,t),i);break}}Rc(t);break;default:throw Error(a(329))}if(vc(t),t.callbackNode===r)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function yc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Rc(e);else{if((Hs&(js|Ds))!==Ps)throw Error(a(327));if(kc(),e===Gs&&t===Ws||wc(e,t),null!==Vs){var r=Hs;Hs|=js;for(var n=Ac();;)try{Sc();break}catch(t){Ec(e,t)}if(io(),Hs=r,Ls.current=n,qs===Ns)throw r=Xs,wc(e,t),Qc(e,t),vc(e),r;if(null!==Vs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Gs=null,Rc(e),vc(e)}}return null}function bc(e,t){var r=Hs;Hs|=1;try{return e(t)}finally{(Hs=r)===Ps&&Ki()}}function xc(e,t){var r=Hs;Hs&=-2,Hs|=ks;try{return e(t)}finally{(Hs=r)===Ps&&Ki()}}function wc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,rn(r)),null!==Vs)for(r=Vs.return;null!==r;){var n=r;switch(n.tag){case 1:var i=n.type.childContextTypes;null!=i&&bi();break;case 3:Go(),xi();break;case 5:Wo(n);break;case 4:Go();break;case 13:case 19:di(qo);break;case 10:ao(n)}r=r.return}Gs=e,Vs=Gc(e.current,null),Ws=t,qs=Is,Xs=null,Ks=Ys=1073741823,Qs=null,Zs=0,Js=!1}function Ec(e,t){for(;;){try{if(io(),pa(),null===Vs||null===Vs.return)return qs=Ns,Xs=t,null;e:{var r=e,n=Vs.return,i=Vs,o=t;if(t=Ws,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&qo.current),c=n;do{var l;if(l=13===c.tag){var u=c.memoizedState;if(null!==u)l=null!==u.dehydrated;else{var d=c.memoizedProps;l=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!s)}}if(l){var h=c.updateQueue;if(null===h){var p=new Set;p.add(a),c.updateQueue=p}else h.add(a);if(0==(2&c.mode)){if(c.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=fo(1073741823,null);f.tag=2,go(i,f)}i.expirationTime=1073741823;break e}o=void 0,i=t;var m=r.pingCache;if(null===m?(m=r.pingCache=new Ms,o=new Set,m.set(a,o)):void 0===(o=m.get(a))&&(o=new Set,m.set(a,o)),!o.has(i)){o.add(i);var g=Nc.bind(null,r,a,i);a.then(g,g)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);o=Error((Q(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Z(i))}qs!==Us&&(qs=zs),o=hs(o,i),c=n;do{switch(c.tag){case 3:a=o,c.effectTag|=4096,c.expirationTime=t,vo(c,Ss(c,a,t));break e;case 1:a=o;var v=c.type,y=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===ic||!ic.has(y)))){c.effectTag|=4096,c.expirationTime=t,vo(c,Ts(c,a,t));break e}}c=c.return}while(null!==c)}Vs=Oc(Vs)}catch(e){t=e;continue}break}}function Ac(){var e=Ls.current;return Ls.current=La,null===e?La:e}function _c(e,t){e<Ys&&2<e&&(Ys=e),null!==t&&e<Ks&&2<e&&(Ks=e,Qs=t)}function Mc(e){e>Zs&&(Zs=e)}function Sc(){for(;null!==Vs;)Vs=Cc(Vs)}function Tc(){for(;null!==Vs&&!Ci();)Vs=Cc(Vs)}function Cc(e){var t=Cs(e.alternate,e,Ws);return e.memoizedProps=e.pendingProps,null===t&&(t=Oc(e)),Rs.current=null,t}function Oc(e){Vs=e;do{var t=Vs.alternate;if(e=Vs.return,0==(2048&Vs.effectTag)){e:{var r=t,n=Ws,o=(t=Vs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:yi(t.type)&&bi();break;case 3:Go(),xi(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===r||null===r.child)&&Fa(t)&&ls(t),es(t);break;case 5:Wo(t),n=Uo(Fo.current);var s=t.type;if(null!==r&&null!=t.stateNode)ts(r,t,s,o,n),r.ref!==t.ref&&(t.effectTag|=128);else if(o){var c=Uo(zo.current);if(Fa(t)){var l=(o=t).stateNode;r=o.type;var u=o.memoizedProps,d=n;switch(l[sn]=o,l[cn]=u,s=void 0,n=l,r){case"iframe":case"object":case"embed":_r("load",n);break;case"video":case"audio":for(l=0;l<$e.length;l++)_r($e[l],n);break;case"source":_r("error",n);break;case"img":case"image":case"link":_r("error",n),_r("load",n);break;case"form":_r("reset",n),_r("submit",n);break;case"details":_r("toggle",n);break;case"input":Se(n,u),_r("invalid",n),Fr(d,"onChange");break;case"select":n._wrapperState={wasMultiple:!!u.multiple},_r("invalid",n),Fr(d,"onChange");break;case"textarea":je(n,u),_r("invalid",n),Fr(d,"onChange")}for(s in zr(r,u),l=null,u)u.hasOwnProperty(s)&&(c=u[s],"children"===s?"string"==typeof c?n.textContent!==c&&(l=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(l=["children",""+c]):p.hasOwnProperty(s)&&null!=c&&Fr(d,s));switch(r){case"input":Ae(n),Oe(n,u,!0);break;case"textarea":Ae(n),Ie(n);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(n.onclick=Ur)}s=l,o.updateQueue=s,(o=null!==s)&&ls(t)}else{r=t,d=s,u=o,l=9===n.nodeType?n:n.ownerDocument,c===Ne.html&&(c=ze(d)),c===Ne.html?"script"===d?((u=l.createElement("div")).innerHTML="<script><\/script>",l=u.removeChild(u.firstChild)):"string"==typeof u.is?l=l.createElement(d,{is:u.is}):(l=l.createElement(d),"select"===d&&(d=l,u.multiple?d.multiple=!0:u.size&&(d.size=u.size))):l=l.createElementNS(c,d),(u=l)[sn]=r,u[cn]=o,$a(u,t,!1,!1),t.stateNode=u;var h=n,f=Br(d=s,r=o);switch(d){case"iframe":case"object":case"embed":_r("load",u),n=r;break;case"video":case"audio":for(n=0;n<$e.length;n++)_r($e[n],u);n=r;break;case"source":_r("error",u),n=r;break;case"img":case"image":case"link":_r("error",u),_r("load",u),n=r;break;case"form":_r("reset",u),_r("submit",u),n=r;break;case"details":_r("toggle",u),n=r;break;case"input":Se(u,r),n=Me(u,r),_r("invalid",u),Fr(h,"onChange");break;case"option":n=Re(u,r);break;case"select":u._wrapperState={wasMultiple:!!r.multiple},n=i({},r,{value:void 0}),_r("invalid",u),Fr(h,"onChange");break;case"textarea":je(u,r),n=ke(u,r),_r("invalid",u),Fr(h,"onChange");break;default:n=r}zr(d,n),l=void 0,c=d;var m=u,g=n;for(l in g)if(g.hasOwnProperty(l)){var v=g[l];"style"===l?Ir(m,v):"dangerouslySetInnerHTML"===l?null!=(v=v?v.__html:void 0)&&He(m,v):"children"===l?"string"==typeof v?("textarea"!==c||""!==v)&&Ge(m,v):"number"==typeof v&&Ge(m,""+v):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=v&&Fr(h,l):null!=v&&we(m,l,v,f))}switch(d){case"input":Ae(u),Oe(u,r,!1);break;case"textarea":Ae(u),Ie(u);break;case"option":null!=r.value&&u.setAttribute("value",""+xe(r.value));break;case"select":(n=u).multiple=!!r.multiple,null!=(u=r.value)?Pe(n,!!r.multiple,u,!1):null!=r.defaultValue&&Pe(n,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof n.onClick&&(u.onclick=Ur)}(o=$r(s,o))&&ls(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(r&&null!=t.stateNode)rs(r,t,r.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(a(166));n=Uo(Fo.current),Uo(zo.current),Fa(t)?(s=(o=t).stateNode,n=o.memoizedProps,s[sn]=o,(o=s.nodeValue!==n)&&ls(t)):(s=t,(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[sn]=s,t.stateNode=o)}break;case 11:break;case 13:if(di(qo),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=n;break e}o=null!==o,s=!1,null===r?void 0!==t.memoizedProps.fallback&&Fa(t):(s=null!==(n=r.memoizedState),o||null===n||null!==(n=r.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=n,n.nextEffect=u):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),o&&!s&&0!=(2&t.mode)&&(null===r&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&qo.current)?qs===Is&&(qs=Bs):(qs!==Is&&qs!==Bs||(qs=Fs),0!==Zs&&null!==Gs&&(Qc(Gs,Ws),Zc(Gs,Zs)))),(o||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Go(),es(t);break;case 10:ao(t);break;case 9:case 14:break;case 17:yi(t.type)&&bi();break;case 19:if(di(qo),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(u=o.rendering)){if(s)us(o,!1);else if(qs!==Is||null!==r&&0!=(64&r.effectTag))for(r=t.child;null!==r;){if(null!==(u=Xo(r))){for(t.effectTag|=64,us(o,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=n,s=t.child;null!==s;)r=o,(n=s).effectTag&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(u=n.alternate)?(n.childExpirationTime=0,n.expirationTime=r,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null):(n.childExpirationTime=u.childExpirationTime,n.expirationTime=u.expirationTime,n.child=u.child,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,r=u.dependencies,n.dependencies=null===r?null:{expirationTime:r.expirationTime,firstContext:r.firstContext,responders:r.responders}),s=s.sibling;hi(qo,1&qo.current|2),t=t.child;break e}r=r.sibling}}else{if(!s)if(null!==(r=Xo(u))){if(t.effectTag|=64,s=!0,null!==(n=r.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),us(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Gi()>o.tailExpiration&&1<n&&(t.effectTag|=64,s=!0,us(o,!1),t.expirationTime=t.childExpirationTime=n-1);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Gi()+500),n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=t.lastEffect,n.sibling=null,o=qo.current,hi(qo,o=s?1&o|2:1&o),t=n;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(o=Vs,1===Ws||1!==o.childExpirationTime){for(s=0,n=o.child;null!==n;)(r=n.expirationTime)>s&&(s=r),(u=n.childExpirationTime)>s&&(s=u),n=n.sibling;o.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Vs.firstEffect),null!==Vs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Vs.firstEffect),e.lastEffect=Vs.lastEffect),1<Vs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Vs:e.firstEffect=Vs,e.lastEffect=Vs))}else{if(null!==(t=ds(Vs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Vs.sibling))return t;Vs=e}while(null!==Vs);return qs===Is&&(qs=Us),null}function Lc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Rc(e){var t=Vi();return qi(99,function(e,t){do{kc()}while(null!==ac);if((Hs&(js|Ds))!==Ps)throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Lc(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Gs&&(Vs=Gs=null,Ws=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Hs;Hs|=Ds,Rs.current=null,Zr=Ar;var s=Wr();if(qr(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{c.nodeType,d.nodeType}catch(e){c=null;break e}var h=0,p=-1,f=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==c||0!==u&&3!==v.nodeType||(p=h+u),v!==d||0!==l&&3!==v.nodeType||(f=h+l),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===c&&++m===u&&(p=h),y===d&&++g===l&&(f=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}c=-1===p||-1===f?null:{start:p,end:f}}else c=null}c=c||{start:0,end:0}}else c=null;Jr={focusedElem:s,selectionRange:c},Ar=!1,tc=i;do{try{Pc()}catch(e){if(null===tc)throw Error(a(330));Ic(tc,e),tc=tc.nextEffect}}while(null!==tc);tc=i;do{try{for(s=e,c=t;null!==tc;){var x=tc.effectTag;if(16&x&&Ge(tc.stateNode,""),128&x){var w=tc.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&x){case 2:ws(tc),tc.effectTag&=-3;break;case 6:ws(tc),tc.effectTag&=-3,As(tc.alternate,tc);break;case 1024:tc.effectTag&=-1025;break;case 1028:tc.effectTag&=-1025,As(tc.alternate,tc);break;case 4:As(tc.alternate,tc);break;case 8:Es(s,u=tc,c),bs(u)}tc=tc.nextEffect}}catch(e){if(null===tc)throw Error(a(330));Ic(tc,e),tc=tc.nextEffect}}while(null!==tc);if(E=Jr,w=Wr(),x=E.focusedElem,c=E.selectionRange,w!==x&&x&&x.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(x.ownerDocument.documentElement,x)){null!==c&&qr(x)&&(w=c.start,void 0===(E=c.end)&&(E=w),"selectionStart"in x?(x.selectionStart=w,x.selectionEnd=Math.min(E,x.value.length)):(E=(w=x.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=x.textContent.length,s=Math.min(c.start,u),c=void 0===c.end?s:Math.min(c.end,u),!E.extend&&s>c&&(u=c,c=s,s=u),u=Vr(x,s),d=Vr(x,c),u&&d&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),s>c?(E.addRange(w),E.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),E.addRange(w))))),w=[];for(E=x;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<w.length;x++)(E=w[x]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Jr=null,Ar=!!Zr,Zr=null,e.current=r,tc=i;do{try{for(x=n;null!==tc;){var A=tc.effectTag;if(36&A){var _=tc.alternate;switch(E=x,(w=tc).tag){case 0:case 11:case 15:vs(16,32,w);break;case 1:var M=w.stateNode;if(4&w.effectTag)if(null===_)M.componentDidMount();else{var S=w.elementType===w.type?_.memoizedProps:$i(w.type,_.memoizedProps);M.componentDidUpdate(S,_.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var T=w.updateQueue;null!==T&&wo(0,T,M);break;case 3:var C=w.updateQueue;if(null!==C){if(s=null,null!==w.child)switch(w.child.tag){case 5:s=w.child.stateNode;break;case 1:s=w.child.stateNode}wo(0,C,s)}break;case 5:var O=w.stateNode;null===_&&4&w.effectTag&&$r(w.type,w.memoizedProps)&&O.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var L=w.alternate;if(null!==L){var R=L.memoizedState;if(null!==R){var P=R.dehydrated;null!==P&&Mt(P)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&A){w=void 0;var k=tc.ref;if(null!==k){var j=tc.stateNode;switch(tc.tag){case 5:w=j;break;default:w=j}"function"==typeof k?k(w):k.current=w}}tc=tc.nextEffect}}catch(e){if(null===tc)throw Error(a(330));Ic(tc,e),tc=tc.nextEffect}}while(null!==tc);tc=null,zi(),Hs=o}else e.current=r;if(oc)oc=!1,ac=e,sc=t;else for(tc=i;null!==tc;)t=tc.nextEffect,tc.nextEffect=null,tc=t;if(0===(t=e.firstPendingTime)&&(ic=null),1073741823===t?e===uc?lc++:(lc=0,uc=e):lc=0,"function"==typeof zc&&zc(r.stateNode,n),vc(e),rc)throw rc=!1,e=nc,nc=null,e;return(Hs&ks)!==Ps?null:(Ki(),null)}.bind(null,e,t)),null}function Pc(){for(;null!==tc;){var e=tc.effectTag;0!=(256&e)&&gs(tc.alternate,tc),0==(512&e)||oc||(oc=!0,Xi(97,function(){return kc(),null})),tc=tc.nextEffect}}function kc(){if(90!==sc){var e=97<sc?97:sc;return sc=90,qi(e,jc)}}function jc(){if(null===ac)return!1;var e=ac;if(ac=null,(Hs&(js|Ds))!==Ps)throw Error(a(331));var t=Hs;for(Hs|=Ds,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:vs(128,0,r),vs(0,64,r)}}catch(t){if(null===e)throw Error(a(330));Ic(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Hs=t,Ki(),!0}function Dc(e,t,r){go(e,t=Ss(e,t=hs(r,t),1073741823)),null!==(e=mc(e,1073741823))&&vc(e)}function Ic(e,t){if(3===e.tag)Dc(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Dc(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===ic||!ic.has(n))){go(r,e=Ts(r,e=hs(t,e),1073741823)),null!==(r=mc(r,1073741823))&&vc(r);break}}r=r.return}}function Nc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Gs===e&&Ws===r?qs===Fs||qs===Bs&&1073741823===Ys&&Gi()-$s<ec?wc(e,Ws):Js=!0:Kc(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,e.finishedExpirationTime===r&&(e.finishedExpirationTime=0,e.finishedWork=null),vc(e)))}Cs=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mi.current)Ga=!0;else{if(n<r){switch(Ga=!1,t.tag){case 3:Ja(t),Ua();break;case 5:if(Vo(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:yi(t.type)&&Ai(t);break;case 4:Ho(t,t.stateNode.containerInfo);break;case 10:oo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?is(e,t,r):(hi(qo,1&qo.current),null!==(t=cs(e,t,r))?t.sibling:null);hi(qo,1&qo.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return ss(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),hi(qo,qo.current),!n)return null}return cs(e,t,r)}Ga=!1}}else Ga=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=vi(t,fi.current),co(t,r),i=ha(null,t,n,e,i,r),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,pa(),yi(n)){var o=!0;Ai(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=n.getDerivedStateFromProps;"function"==typeof s&&Mo(t,n,s,e),i.updater=So,t.stateNode=i,i._reactInternalFiber=t,Lo(t,n,e,r),t=Za(null,t,n,!0,o,r)}else t.tag=0,Va(null,t,i,r),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Hc(e)?1:0;if(null!=e){if((e=e.$$typeof)===G)return 11;if(e===q)return 14}return 2}(i),e=$i(i,e),o){case 0:t=Ka(null,t,i,e,r);break;case 1:t=Qa(null,t,i,e,r);break;case 11:t=Wa(null,t,i,e,r);break;case 14:t=qa(null,t,i,$i(i.type,e),n,r);break;default:throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ka(e,t,n,i=t.elementType===n?i:$i(n,i),r);case 1:return n=t.type,i=t.pendingProps,Qa(e,t,n,i=t.elementType===n?i:$i(n,i),r);case 3:if(Ja(t),null===(n=t.updateQueue))throw Error(a(282));if(i=null!==(i=t.memoizedState)?i.element:null,xo(t,n,t.pendingProps,null,r),(n=t.memoizedState.element)===i)Ua(),t=cs(e,t,r);else{if((i=t.stateNode.hydrate)&&(ja=nn(t.stateNode.containerInfo.firstChild),ka=t,i=Da=!0),i)for(r=Io(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Va(e,t,n,r),Ua();t=t.child}return t;case 5:return Vo(t),null===e&&za(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,en(n,i)?s=null:null!==o&&en(n,o)&&(t.effectTag|=16),Ya(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Va(e,t,s,r),t=t.child),t;case 6:return null===e&&za(t),null;case 13:return is(e,t,r);case 4:return Ho(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Do(t,null,n,r):Va(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Wa(e,t,n,i=t.elementType===n?i:$i(n,i),r);case 7:return Va(e,t,t.pendingProps,r),t.child;case 8:case 12:return Va(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,oo(t,o=i.value),null!==s){var c=s.value;if(0===(o=Jn(c,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!mi.current){t=cs(e,t,r);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&o)){1===c.tag&&((u=fo(r,null)).tag=2,go(c,u)),c.expirationTime<r&&(c.expirationTime=r),null!==(u=c.alternate)&&u.expirationTime<r&&(u.expirationTime=r),so(c.return,r),l.expirationTime<r&&(l.expirationTime=r);break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}Va(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,co(t,r),n=n(i=lo(i,o.unstable_observedBits)),t.effectTag|=1,Va(e,t,n,r),t.child;case 14:return o=$i(i=t.type,t.pendingProps),qa(e,t,i,o=$i(i.type,o),n,r);case 15:return Xa(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:$i(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,yi(n)?(e=!0,Ai(t)):e=!1,co(t,r),Co(t,n,i),Lo(t,n,i,r),Za(null,t,n,!0,e,r);case 19:return ss(e,t,r)}throw Error(a(156,t.tag))};var zc=null,Bc=null;function Fc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Uc(e,t,r,n){return new Fc(e,t,r,n)}function Hc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gc(e,t){var r=e.alternate;return null===r?((r=Uc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vc(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Hc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case N:return Wc(r.children,i,o,t);case H:s=8,i|=7;break;case z:s=8,i|=1;break;case B:return(e=Uc(12,r,t,8|i)).elementType=B,e.type=B,e.expirationTime=o,e;case V:return(e=Uc(13,r,t,i)).type=V,e.elementType=V,e.expirationTime=o,e;case W:return(e=Uc(19,r,t,i)).elementType=W,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case F:s=10;break e;case U:s=9;break e;case G:s=11;break e;case q:s=14;break e;case X:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Uc(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function Wc(e,t,r,n){return(e=Uc(7,e,n,t)).expirationTime=r,e}function qc(e,t,r){return(e=Uc(6,e,null,t)).expirationTime=r,e}function Xc(e,t,r){return(t=Uc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Kc(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Qc(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Zc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Jc(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function $c(e,t,r,n){var i=t.current,o=hc(),s=Ao.suspense;o=pc(o,i,s);e:if(r){t:{if(et(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(yi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===r.tag){var l=r.type;if(yi(l)){r=Ei(r,l,c);break e}}r=c}else r=pi;return null===t.context?t.context=r:t.pendingContext=r,(t=fo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),go(i,t),fc(i,o),o}function el(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function rl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function nl(e,t,r){var n=new Yc(e,t,r=null!=r&&!0===r.hydrate),i=Uc(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,e[ln]=n.current,r&&0!==t&&function(e){var t=Rr(e);mt.forEach(function(r){Pr(r,e,t)}),gt.forEach(function(r){Pr(r,e,t)})}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=el(a);s.call(e)}}$c(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new nl(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=el(a);c.call(e)}}xc(function(){$c(t,a,e,i)})}return el(a)}function al(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}nl.prototype.render=function(e,t){$c(e,this._internalRoot,null,void 0===t?null:t)},nl.prototype.unmount=function(e){var t=this._internalRoot,r=void 0===e?null:e,n=t.containerInfo;$c(null,t,null,function(){n[ln]=null,null!==r&&r()})},it=function(e){if(13===e.tag){var t=Ji(hc(),150,100);fc(e,t),rl(e,t)}},ot=function(e){if(13===e.tag){hc();var t=Zi++;fc(e,t),rl(e,t)}},at=function(e){if(13===e.tag){var t=hc();fc(e,t=pc(t,e,null)),rl(e,t)}},$=function(e,t,r){switch(t){case"input":if(Ce(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=pn(n);if(!i)throw Error(a(90));_e(n),Ce(n,i)}}}break;case"textarea":De(e,r);break;case"select":null!=(t=r.value)&&Pe(e,!!r.multiple,t,!1)}},oe=bc,ae=function(e,t,r,n){var i=Hs;Hs|=4;try{return qi(98,e.bind(null,t,r,n))}finally{(Hs=i)===Ps&&Ki()}},se=function(){(Hs&(1|js|Ds))===Ps&&(function(){if(null!==cc){var e=cc;cc=null,e.forEach(function(e,t){Jc(t,e),vc(t)}),Ki()}}(),kc())},ce=function(e,t){var r=Hs;Hs|=2;try{return e(t)}finally{(Hs=r)===Ps&&Ki()}};var sl={createPortal:al,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},hydrate:function(e,t,r){if(!il(t))throw Error(a(200));return ol(null,e,t,!0,r)},render:function(e,t,r){if(!il(t))throw Error(a(200));return ol(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){if(!il(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return ol(e,t,r,!1,n)},unmountComponentAtNode:function(e){if(!il(e))throw Error(a(40));return!!e._reactRootContainer&&(xc(function(){ol(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0)},unstable_createPortal:function(){return al.apply(void 0,arguments)},unstable_batchedUpdates:bc,flushSync:function(e,t){if((Hs&(js|Ds))!==Ps)throw Error(a(187));var r=Hs;Hs|=1;try{return qi(99,e.bind(null,t))}finally{Hs=r,Ki()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[dn,hn,pn,L.injectEventPluginsByName,h,Pt,function(e){S(e,Rt)},ne,ie,Tr,O,kc,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);zc=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Bc=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:un,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var cl={default:sl},ll=cl&&sl||cl;e.exports=ll.default||ll},function(e,t,r){"use strict";e.exports=r(422)},function(e,t,r){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(u,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var y=!1,b=null,x=-1,w=5,E=0;a=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,_=A.port2;A.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+w;try{b(!0,e)?_.postMessage(null):(y=!1,b=null)}catch(e){throw _.postMessage(null),e}}else y=!1},n=function(e){b=e,y||(y=!0,_.postMessage(null))},i=function(e,r){x=f(function(){e(t.unstable_now())},r)},o=function(){m(x),x=-1}}function M(e,t){var r=e.length;e.push(t);e:for(;;){var n=Math.floor((r-1)/2),i=e[n];if(!(void 0!==i&&0<C(i,t)))break e;e[n]=t,e[r]=i,r=n}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>C(a,r))void 0!==c&&0>C(c,a)?(e[n]=c,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==c&&0>C(c,r)))break e;e[n]=c,e[s]=r,n=s}}}return t}return null}function C(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var O=[],L=[],R=1,P=null,k=3,j=!1,D=!1,I=!1;function N(e){for(var t=S(L);null!==t;){if(null===t.callback)T(L);else{if(!(t.startTime<=e))break;T(L),t.sortIndex=t.expirationTime,M(O,t)}t=S(L)}}function z(e){if(I=!1,N(e),!D)if(null!==S(O))D=!0,n(B);else{var t=S(L);null!==t&&i(z,t.startTime-e)}}function B(e,r){D=!1,I&&(I=!1,o()),j=!0;var n=k;try{for(N(r),P=S(O);null!==P&&(!(P.expirationTime>r)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,k=P.priorityLevel;var c=s(P.expirationTime<=r);r=t.unstable_now(),"function"==typeof c?P.callback=c:P===S(O)&&T(O),N(r)}else T(O);P=S(O)}if(null!==P)var l=!0;else{var u=S(L);null!==u&&i(z,u.startTime-r),l=!1}return l}finally{P=null,k=n,j=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=k;k=e;try{return t()}finally{k=r}},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var r=k;k=t;try{return e()}finally{k=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:F(e)}else a=F(e),c=s;return e={id:R++,callback:r,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,M(L,e),null===S(O)&&e===S(L)&&(I?o():I=!0,i(z,c-s))):(e.sortIndex=a,M(O,e),D||j||(D=!0,n(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=k;return function(){var r=k;k=t;try{return e.apply(this,arguments)}finally{k=r}}},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=S(O);return r!==P&&null!==P&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<P.expirationTime||a()},t.unstable_requestPaint=U,t.unstable_continueExecution=function(){D||j||(D=!0,n(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return S(O)},t.unstable_Profiling=null},function(e,t,r){"use strict";var n=r(424);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";e.exports=r(426)},function(e,t,r){"use strict";
/** @license React v16.7.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case g:case m:case o:return t}}}function y(e){return v(e)===h}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||v(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===c},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===f}},function(e,t,r){"use strict";e.exports=r(428)},function(e,t,r){"use strict";
/** @license React v16.8.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case g:case m:case o:return t}}}function y(e){return v(e)===h}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||v(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===c},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===f}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){"use strict";var n=r(434);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(265)),i=o(r(266));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t){return{onDidMount:(0,n.default)(e),onWillUnmount:(0,i.default)(t)}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(123))&&n.__esModule?n:{default:n};var o=function(e){return(0,i.default)("resize",null,e)};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(123))&&n.__esModule?n:{default:n};var o=function(e){return(0,i.default)("scroll",null,e)};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(439))&&n.__esModule?n:{default:n};var a={leading:!1,trailing:!0},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,n=arguments.length>3?arguments[3]:void 0,s=(0,o.default)(e,t,r);return(0,i.useCallback)(s,n)};t.default=s},function(e,t,r){(function(t){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return h.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==i}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=function(e,t,n){var i,o,a,s,c,l,u=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var r=i,n=o;return i=o=void 0,u=t,s=e.apply(n,r)}function x(e){var r=e-l;return void 0===l||r>=t||r<0||h&&e-u>=a}function w(){var e=g();if(x(e))return E(e);c=setTimeout(w,function(e){var r=t-(e-l);return h?m(r,a-(e-u)):r}(e))}function E(e){return c=void 0,p&&i?b(e):(i=o=void 0,s)}function A(){var e=g(),r=x(e);if(i=arguments,o=this,l=e,r){if(void 0===c)return function(e){return u=e,c=setTimeout(w,t),d?b(e):s}(l);if(h)return c=setTimeout(w,t),b(l)}return void 0===c&&(c=setTimeout(w,t)),s}return t=y(t)||0,v(n)&&(d=!!n.leading,a=(h="maxWait"in n)?f(y(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),A.cancel=function(){void 0!==c&&clearTimeout(c),u=0,i=l=o=c=void 0},A.flush=function(){return void 0===c?s:E(g())},A}}).call(this,r(82))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(240))&&n.__esModule?n:{default:n};var a={leading:!1,trailing:!0},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,n=arguments.length>3?arguments[3]:void 0,s=(0,o.default)(e,t,r);return(0,i.useCallback)(s,n)};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(178)),i=o(r(268));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return[(0,i.default)(e),(0,n.default)(e)]};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={cancelOnUnmount:!0},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},s,{},r||{}),l=(0,n.useRef)(),u=(0,n.useRef)(e),d=i((0,n.useState)(!1),2),h=d[0],p=d[1],f=(0,n.useCallback)(function(){l.current&&(clearTimeout(l.current),p(!0))},[]);return(0,n.useEffect)(function(){"function"==typeof e&&(u.current=e)},[e]),(0,n.useEffect)(function(){"number"==typeof t&&(l.current=setTimeout(function(){u.current()},t))},[t]),(0,n.useEffect)(function(){return function(){c.cancelOnUnmount&&f()}},[]),[h,f]};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(269))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={cancelOnUnmount:!0,cancelOnConditionChange:!0},u=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l,u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},l,{},n||{}),d=(0,i.useRef)(),h=(0,i.useRef)(e),p=a((0,i.useState)(!1),2),f=p[0],m=p[1],g=(0,o.default)(r),v=(0,i.useCallback)(function(){d.current&&(clearTimeout(d.current),m(!0))},[]);return(0,i.useEffect)(function(){"function"==typeof e&&(h.current=e)},[e]),(0,i.useEffect)(function(){r&&"number"==typeof t&&(d.current=setTimeout(function(){h.current()},t))},[r,t]),(0,i.useEffect)(function(){g&&r!==g&&u.cancelOnConditionChange&&v()},[r,n]),(0,i.useEffect)(function(){return function(){u.cancelOnUnmount&&v()}},[]),[f,v]};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={cancelOnUnmount:!0},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},s,{},r||{}),l=(0,n.useRef)(),u=(0,n.useRef)(e),d=i((0,n.useState)(!1),2),h=d[0],p=d[1],f=(0,n.useCallback)(function(){l.current&&(clearInterval(l.current),p(!0))},[]);return(0,n.useEffect)(function(){"function"==typeof e&&(u.current=e)},[e]),(0,n.useEffect)(function(){"number"==typeof t&&(l.current=setInterval(function(){u.current()},t))},[t]),(0,n.useEffect)(function(){return function(){c.cancelOnUnmount&&f()}},[]),[h,f]};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(270)),i=a(r(179)),o=a(r(180));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default;return[(0,n.default)(e),(0,i.default)(e)]};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e?{timestamp:e.timestamp,coords:{latitude:e.coords.latitude,longitude:e.coords.longitude,altitude:e.coords.altitude,accuracy:e.coords.accuracy,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,speed:e.coords.speed}}:null};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return!(!(e&&t&&t.coords)||e.timestamp&&t.timestamp&&e.timestamp!==t.timestamp||e.coords.latitude!==t.coords.latitude||e.coords.longitude!==t.coords.longitude||e.coords.altitude!==t.coords.altitude||e.coords.accuracy!==t.coords.accuracy||e.coords.altitudeAccuracy!==t.coords.altitudeAccuracy||e.coords.heading!==t.coords.heading||e.coords.speed!==t.coords.speed)};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(124))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){if(!("matchMedia"in window))return(0,o.default)("matchMedia is not supported");var t=a((0,i.useState)(!!window.matchMedia(e).matches),2),r=t[0],n=t[1];return(0,i.useEffect)(function(){var t=window.matchMedia(e),r=function(){return n(!!t.matches)};return t.addListener(r),r(),function(){t.removeListener(r)}},[e]),r};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=function(e){var t=(0,n.useRef)([]);return(0,n.useEffect)(function(){t.current.push(e)},[e]),t.current};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(123))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(){var e="ononline"in window,t=a((0,i.useState)(!e||navigator.onLine),2),r=t[0],n=t[1],s=(0,o.default)("online",{capture:!0}),c=(0,o.default)("offline",{capture:!0});return e?(s(function(){n(!0)}),c(function(){n(!1)}),r):(console.warn("The current device does not support the 'online/offline' events, you should avoid using useOnlineState"),r)};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o={root:void 0,rootMargin:"0px",threshold:0},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=i((0,n.useState)(),2),a=r[0],s=r[1];return(0,n.useLayoutEffect)(function(){var r=new IntersectionObserver(function(e){return e.forEach(function(e){var t=e.isIntersecting;s(t)})},t);return r.observe(e.current),function(){r.disconnect(e.current)}},[e]),a};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=function(e,t){var r=i((0,n.useState)(t),2),o=r[0],a=r[1],s=(0,n.useRef)({changed:!1});return[o,(0,n.useCallback)(function(t){a(t),s.current={changed:!0,valid:e(t)}},[e]),s.current]};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(0),o=(n=r(271))&&n.__esModule?n:{default:n};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u={dragImage:null,dragImageXOffset:0,dragImageYOffset:0,transfer:null,transferFormat:"text"},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=(0,o.default)(e,!0),n=r.onDragStart,d=r.onDragEnd,h=l((0,i.useState)(!1),2),p=h[0],f=h[1],m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},u,{},t||{});return n(function(e){if(f(!0),m.dragImage){var t=new Image;t.src=m.dragImage,e.dataTransfer.setDragImage(t,m.dragImageXOffset,m.dragImageYOffset)}if(m.transfer){var r="object"===a(m.transfer)?JSON.stringify(m.transfer):"".concat(m.transfer);e.dataTransfer.setData(m.transferFormat,r)}}),d(function(){return f(!1)}),p};t.default=d},function(e,t,r){"use strict";var n=r(455);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},function(e,t,r){e.exports=r(458)()},function(e,t,r){"use strict";var n=r(459);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=r(461),i=r(462),o=r(184),a=r(125);e.exports=r(464)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(42)("unscopables"),i=Array.prototype;null==i[n]&&r(73)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(185);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(273),i=r(105),o=r(86),a=r(73),s=r(184),c=r(465),l=r(280),u=r(471),d=r(42)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,f,m,g,v){c(r,t,f);var y,b,x,w=function(e){if(!h&&e in M)return M[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},E=t+" Iterator",A="values"==m,_=!1,M=e.prototype,S=M[d]||M["@@iterator"]||m&&M[m],T=S||w(m),C=m?A?w("entries"):T:void 0,O="Array"==t&&M.entries||S;if(O&&(x=u(O.call(new e)))!==Object.prototype&&x.next&&(l(x,E,!0),n||"function"==typeof x[d]||a(x,d,p)),A&&S&&"values"!==S.name&&(_=!0,T=function(){return S.call(this)}),n&&!v||!h&&!_&&M[d]||a(M,d,T),s[t]=T,s[E]=p,m)if(y={values:A?T:w("values"),keys:g?T:w("keys"),entries:C},v)for(b in y)b in M||o(M,b,y[b]);else i(i.P+i.F*(h||_),t,y);return y}},function(e,t,r){"use strict";var n=r(466),i=r(183),o=r(280),a={};r(73)(a,r(42)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(51),i=r(467),o=r(189),a=r(188)("IE_PROTO"),s=function(){},c=function(){var e,t=r(275)("iframe"),n=o.length;for(t.style.display="none",r(470).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[o[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(84),i=r(51),o=r(278);e.exports=r(52)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},function(e,t,r){var n=r(125),i=r(187),o=r(469);e.exports=function(e){return function(t,r,a){var s,c=n(t),l=i(c.length),u=o(a,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(126),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(50).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(106),i=r(190),o=r(188)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var n=r(281),i=r(498),o=r(503),a=r(285),s=r(504),c=r(193),l=200;e.exports=function(e,t,r){var u=-1,d=i,h=e.length,p=!0,f=[],m=f;if(r)p=!1,d=o;else if(h>=l){var g=t?null:s(e);if(g)return c(g);p=!1,d=a,m=new n}else m=t?[]:f;e:for(;++u<h;){var v=e[u],y=t?t(v):v;if(v=r||0!==v?v:0,p&&y==y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),f.push(v)}else d(m,y,r)||(m!==f&&m.push(y),f.push(v))}return f}},function(e,t,r){var n=r(474),i=r(128),o=r(192);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},function(e,t,r){var n=r(475),i=r(482),o=r(483),a=r(484),s=r(485);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(127);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t,r){var n=r(282),i=r(479),o=r(44),a=r(284),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?h:s).test(a(e))}},function(e,t,r){var n=r(88),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n,i=r(480),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},function(e,t,r){var n=r(43)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(127),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(127),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(127),i="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(129),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():i.call(t,r,1),--this.size,0))}},function(e,t,r){var n=r(129);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(129);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(129);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(131);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(131);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(131);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(131);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t){var r="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,r),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(499);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},function(e,t,r){var n=r(500),i=r(501),o=r(502);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,i,r)}},function(e,t){e.exports=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},function(e,t){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},function(e,t,r){var n=r(286),i=r(505),o=r(193),a=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(51),i=r(186),o=r(42)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n=r(126),i=r(104);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){var n=r(185),i=r(42)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){"use strict";var n=r(194);r(105)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){"use strict";var n=r(51),i=r(190),o=r(187),a=r(126),s=r(289),c=r(290),l=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(291)("replace",2,function(e,t,r,f){return[function(n,i){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},function(e,t){var i=f(r,e,this,t);if(i.done)return i.value;var d=n(e),h=String(this),p="function"==typeof t;p||(t=String(t));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var b=c(d,h);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(d.lastIndex=s(h,o(d.lastIndex),v))}for(var x,w="",E=0,A=0;A<y.length;A++){b=y[A];for(var _=String(b[0]),M=l(u(a(b.index),h.length),0),S=[],T=1;T<b.length;T++)S.push(void 0===(x=b[T])?x:String(x));var C=b.groups;if(p){var O=[_].concat(S,M,h);void 0!==C&&O.push(C);var L=String(t.apply(void 0,O))}else L=m(_,h,M,S,C,t);M>=E&&(w+=h.slice(E,M)+L,E=M+_.length)}return w+h.slice(E)}];function m(e,t,n,o,a,s){var c=n+e.length,l=o.length,u=p;return void 0!==a&&(a=i(a),u=h),r.call(s,u,function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return r;if(u>l){var h=d(u/10);return 0===h?r:h<=l?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):r}s=o[u-1]}return void 0===s?"":s})}})},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=r(105),i=r(186),o=r(190),a=r(53),s=[].sort,c=[1,2,3];n(n.P+n.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!r(513)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,r){"use strict";var n=r(53);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){var n=r(196),i=r(520),o=r(197),a=r(521),s=r(528),c=r(531),l=r(532),u=r(533),d=r(535),h=r(300),p=r(302),f=r(135),m=r(539),g=r(540),v=r(545),y=r(47),b=r(199),x=r(547),w=r(44),E=r(549),A=r(108),_=1,M=2,S=4,T="[object Arguments]",C="[object Function]",O="[object GeneratorFunction]",L="[object Object]",R={};R[T]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[L]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[C]=R["[object WeakMap]"]=!1,e.exports=function e(t,r,P,k,j,D){var I,N=r&_,z=r&M,B=r&S;if(P&&(I=j?P(t,k,j,D):P(t)),void 0!==I)return I;if(!w(t))return t;var F=y(t);if(F){if(I=m(t),!N)return l(t,I)}else{var U=f(t),H=U==C||U==O;if(b(t))return c(t,N);if(U==L||U==T||H&&!j){if(I=z||H?{}:v(t),!N)return z?d(t,s(I,t)):u(t,a(I,t))}else{if(!R[U])return j?t:{};I=g(t,U,N)}}D||(D=new n);var G=D.get(t);if(G)return G;if(D.set(t,I),E(t))return t.forEach(function(n){I.add(e(n,r,P,n,t,D))}),I;if(x(t))return t.forEach(function(n,i){I.set(i,e(n,r,P,i,t,D))}),I;var V=B?z?p:h:z?keysIn:A,W=F?void 0:V(t);return i(W||t,function(n,i){W&&(n=t[i=n]),o(I,i,e(n,r,P,i,t,D))}),I}},function(e,t,r){var n=r(128);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(128),i=r(192),o=r(191),a=200;e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(107),i=r(108);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(87),i=r(60),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(87),i=r(200),o=r(60),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},function(e,t,r){var n=r(202),i=r(527),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t,r){var n=r(296)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(107),i=r(297);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(44),i=r(202),o=r(530),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){(function(e){var n=r(43),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(90)(e))},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(107),i=r(203);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},function(e,t,r){var n=r(107),i=r(299);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(74)(r(43),"DataView");e.exports=n},function(e,t,r){var n=r(74)(r(43),"Promise");e.exports=n},function(e,t,r){var n=r(74)(r(43),"WeakMap");e.exports=n},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,r){var n=r(206),i=r(541),o=r(542),a=r(543),s=r(544),c="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",A="[object Uint8Array]",_="[object Uint8ClampedArray]",M="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,r){var T=e.constructor;switch(t){case g:return n(e);case c:case l:return new T(+e);case v:return i(e,r);case y:case b:case x:case w:case E:case A:case _:case M:case S:return s(e,r);case u:return new T;case d:case f:return new T(e);case h:return o(e);case p:return new T;case m:return a(e)}}},function(e,t,r){var n=r(206);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,r){var n=r(88),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,r){var n=r(206);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(546),i=r(205),o=r(202);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},function(e,t,r){var n=r(44),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},function(e,t,r){var n=r(548),i=r(134),o=r(201),a=o&&o.isMap,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(135),i=r(60),o="[object Map]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(550),i=r(134),o=r(201),a=o&&o.isSet,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(135),i=r(60),o="[object Set]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(91),i=r(557),o=r(558),a=r(92);e.exports=function(e,t){return t=n(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},function(e,t,r){var n=r(553),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)}),t});e.exports=a},function(e,t,r){var n=r(554),i=500;e.exports=function(e){var t=n(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}},function(e,t,r){var n=r(191),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t,r){var n=r(556);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(88),i=r(195),o=r(47),a=r(110),s=1/0,c=n?n.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,r){var n=r(136),i=r(559);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},function(e,t){e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}},function(e,t,r){var n=r(561);e.exports=function(e){return n(e)?void 0:e}},function(e,t,r){var n=r(87),i=r(205),o=r(60),a="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,u=c.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!o(e)||n(e)!=a)return!1;var t=i(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}},function(e,t,r){var n=r(305);e.exports=function(e){return null!=e&&e.length?n(e,1):[]}},function(e,t,r){var n=r(88),i=r(198),o=r(47),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(566),i=r(293),o=r(137),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var r=800,n=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=n-(a-o);if(o=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){r(52)&&"g"!=/./g.flags&&r(84).f(RegExp.prototype,"flags",{configurable:!0,get:r(132)})},function(e,t,r){e.exports=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,r=[],l={},u=0,d=e.multigraph?function(e,t,r){var n=c(e,t),i=l.hasOwnProperty(n);if(i||M(e,t)){i||(l[n]=0);var o="@"+ ++l[n];n=c(e+o,t+o)}return new s(e,t,r,n)}:function(e,t,r){var n=c(e,t);return new s(e,t,r,n)},h=[],p=S,f=S,m=S,g=S,v={addNode:w,addLink:function(e,t,n){m();var i=E(e)||w(e),o=E(t)||w(t),s=d(e,t,n);r.push(s),a(i,s),e!==t&&a(o,s);return p(s,"add"),g(),s},removeLink:_,removeNode:A,getNode:E,getNodesCount:function(){return t.size},getLinksCount:function(){return r.length},getLinks:function(e){var t=E(e);return t?t.links:null},forEachNode:O,forEachLinkedNode:function(e,r,n){var i=E(e);if(i&&i.links&&"function"==typeof r)return n?function(e,r,n){for(var i=0;i<e.length;++i){var o=e[i];if(o.fromId===r&&n(t.get(o.toId),o))return!0}}(i.links,e,r):function(e,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=o.fromId===r?o.toId:o.fromId;if(n(t.get(a),o))return!0}}(i.links,e,r)},forEachLink:function(e){var t,n;if("function"==typeof e)for(t=0,n=r.length;t<n;++t)e(r[t])},beginUpdate:m,endUpdate:g,clear:function(){m(),O(function(e){A(e.id)}),g()},hasLink:M,hasNode:E,getLink:M};return n(v),y=v.on,v.on=function(){return v.beginUpdate=m=T,v.endUpdate=g=C,p=b,f=x,v.on=y,y.apply(v,arguments)},v;var y;function b(e,t){h.push({link:e,changeType:t})}function x(e,t){h.push({node:e,changeType:t})}function w(e,r){if(void 0===e)throw new Error("Invalid node identifier");m();var n=E(e);return n?(n.data=r,f(n,"update")):(n=new o(e,r),f(n,"add")),t.set(e,n),g(),n}function E(e){return t.get(e)}function A(e){var r=E(e);if(!r)return!1;m();var n=r.links;if(n){r.links=null;for(var i=0;i<n.length;++i)_(n[i])}return t.delete(e),f(r,"remove"),g(),!0}function _(e){if(!e)return!1;var t=i(e,r);if(t<0)return!1;m(),r.splice(t,1);var n=E(e.fromId),o=E(e.toId);return n&&(t=i(e,n.links))>=0&&n.links.splice(t,1),o&&(t=i(e,o.links))>=0&&o.links.splice(t,1),p(e,"remove"),g(),!0}function M(e,t){var r,n=E(e);if(!n||!n.links)return null;for(r=0;r<n.links.length;++r){var i=n.links[r];if(i.fromId===e&&i.toId===t)return i}return null}function S(){}function T(){u+=1}function C(){0===(u-=1)&&h.length>0&&(v.fire("changed",h),h.length=0)}function O(e){if("function"!=typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var r=t.values(),n=r.next();!n.done;){if(e(n.value))return!0;n=r.next()}}};var n=r(570);function i(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var r,n=t.length;for(r=0;r<n;r+=1)if(t[r]===e)return r;return-1}function o(e,t){this.id=e,this.links=null,this.data=t}function a(e,t){e.links?e.links.push(t):e.links=[t]}function s(e,t,r,n){this.fromId=e,this.toId=t,this.data=r,this.id=n}function c(e,t){return e.toString()+"👉 "+t.toString()}},function(e,t){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(r,n,i){if("function"!=typeof n)throw new Error("callback is expected to be a function");var o=t[r];return o||(o=t[r]=[]),o.push({callback:n,ctx:i}),e},off:function(r,n){var i=void 0===r;if(i)return t=Object.create(null),e;if(t[r]){var o="function"!=typeof n;if(o)delete t[r];else for(var a=t[r],s=0;s<a.length;++s)a[s].callback===n&&a.splice(s,1)}return e},fire:function(r){var n,i=t[r];if(!i)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,n)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},function(e,t,r){e.exports.degree=r(572),e.exports.betweenness=r(573),e.exports.closeness=r(574),e.exports.eccentricity=r(575)},function(e,t){function r(e,t){var r=0;if(!e)return r;for(var n=0;n<e.length;n+=1)r+=e[n].toId===t?1:0;return r}function n(e,t){var r=0;if(!e)return r;for(var n=0;n<e.length;n+=1)r+=e[n].fromId===t?1:0;return r}function i(e){return e?e.length:0}e.exports=function(e,t){var o,a=Object.create(null);if("both"===(t=(t||"both").toLowerCase())||"inout"===t)o=i;else if("in"===t)o=r;else{if("out"!==t)throw new Error("Expected centrality degree kind is: in, out or both");o=n}return e.forEachNode(function(t){var r=e.getLinks(t.id);a[t.id]=o(r,t.id)}),a}},function(e,t){e.exports=function(e,t){var r,n=[],i=[],o=Object.create(null),a=Object.create(null),s=Object.create(null),c=Object.create(null),l=Object.create(null);e.forEachNode(function(e){l[e.id]=0}),e.forEachNode(function(d){(function(r){for(e.forEachNode(function(e){var t=e.id;o[t]=[],a[t]=-1,s[t]=0}),a[r]=0,s[r]=1,n.push(r);n.length;){var c=n.shift();i.push(c),e.forEachLinkedNode(c,l,t)}function l(e){var t;t=e.id,-1===a[t]&&(a[t]=a[c]+1,n.push(t)),a[t]===a[c]+1&&(s[t]+=s[c],o[t].push(c))}})(r=d.id),function(){for(e.forEachNode(u);i.length;){for(var t=i.pop(),n=(1+c[t])/s[t],a=o[t],d=0;d<a.length;++d){var h=a[d];c[h]+=s[h]*n}t!==r&&(l[t]+=c[t])}}()}),t||Object.keys(l).forEach(function(e){l[e]/=2});return l;function u(e){c[e.id]=0}}},function(e,t){e.exports=function(e,t){var r,n=[],i=Object.create(null),o=Object.create(null);return e.forEachNode(function(e){o[e.id]=0}),e.forEachNode(function(a){var s,c,l;(function(r){for(e.forEachNode(function(e){var t=e.id;i[t]=-1}),i[r]=0,n.push(r);n.length;){var o=n.shift();e.forEachLinkedNode(o,a,t)}function a(e){var t=e.id;-1===i[t]&&(i[t]=i[o]+1,n.push(t))}})(r=a.id),s=Object.keys(i).map(function(e){return i[e]}).filter(function(e){return-1!==e}),c=s.length,l=s.reduce(function(e,t){return e+t}),o[r]=l>0?(c-1)/l:0}),o}},function(e,t){e.exports=function(e,t){var r,n=[],i=Object.create(null),o=Object.create(null);return e.forEachNode(function(e){o[e.id]=0}),e.forEachNode(function(a){var s;(function(r){for(e.forEachNode(function(e){var t=e.id;i[t]=-1}),i[r]=0,n.push(r);n.length;){var o=n.shift();e.forEachLinkedNode(o,a,t)}function a(e){var t=e.id;-1===i[t]&&(i[t]=i[o]+1,n.push(t))}})(r=a.id),s=0,Object.keys(i).forEach(function(e){var t=i[e];s<t&&(s=t)}),o[r]=s}),o}},function(e,t,r){var n=r(308).randomIterator,i=r(308).random;e.exports=function(e,t){var r,o={step:function(){s=0,r.forEach(h),a=s/u.length},getClass:d,getChangeRate:function(){return a},forEachCluster:function(e){p().forEach(function(t,r){e({class:r,nodes:t})})},createClusterMap:p},a=1,s=0,c=i(42),l=new Map,u=[];return e.forEachNode(function(e){l.set(e.id,u.length),u.push(e.id)}),r=n(u,c),o;function d(e){return l.get(e)}function h(r){var n=function(r){var n=new Map,i=0,o=-1;if(e.forEachLinkedNode(r,function(e,a){if(u=a.toId===r,"in"===t?u:"out"!==t||!u){var s=l.get(e.id),c=n.get(s)||0;(c+=1)>i&&(i=c,o=s),n.set(s,c)}var u}),-1===o)return l.get(r);return o}(r),i=l.get(r);n!==i&&(l.set(r,n),s+=1)}function p(){for(var e=new Map,t=0;t<u.length;++t){var r=u[t],n=d(r),i=e.get(n);i?i.push(r):e.set(n,[r])}return e}}},function(e,t){e.exports=function(e,t,n){"number"!=typeof n&&(n=.005);"number"!=typeof t&&(t=.85);var i=e.getNodesCount(),o=function(e){var t=0,n=0,i=e.getNodesCount(),o=e.getLinksCount(),a=1/i,s=new Float64Array(i*r),c=new Float64Array(o),l=new Array(i),u=Object.create(null);return e.forEachNode(function(e){var n=t*r;s[n]=a,s[n+1]=a,s[n+2]=0,s[n+3]=0,s[n+4]=-1,u[e.id]=t,l[t]=e.id,t+=1}),e.forEachNode(function(t){var i=u[t.id]*r,o=0,a=0,l=n;e.forEachLinkedNode(t.id,function(e,i){i.fromId===t.id&&(a+=1),i.toId===t.id&&(o+=1,c[n++]=u[e.id]*r)}),s[i+2]=a,s[i+3]=o,l!==n&&(s[i+4]=l)}),{nodes:s,edges:c,numberToId:l}}(e),a=o.nodes,s=o.edges;return function(e,t,n,i,o){var a,s,c=!1,l=0,u=0;do{u=0;for(var d=0;d<n;++d){a=0;var h=e[3+(s=d*r)];if(0===h)e[s]=0;else{for(var p=e[s+4],f=p;f<p+h;++f){var m=t[f];a+=e[m+1]/e[m+2]}e[s]=i*a,u+=e[s]}}for(u=(1-u)/n,l=0,d=0;d<n;++d)a=e[s=d*r]+u,l+=Math.abs(a-e[s+1]),e[s+1]=a;c=l<o}while(!c)}(a,s,i,t,n),function(e,t){for(var n=Object.create(null),i=e.length/r,o=0;o<i;++o){var a=o*r;n[t[o]]=e[a+1]}return n}(a,o.numberToId)};var r=5},function(e,t,r){var n=r(579);function i(e){return 1}function o(e,t){this.fromId=e,this.toId=t}e.exports=function(e,t){var r=[];t=t||i;var a=new Map,s=[];e.forEachNode(function(e){a.set(e.id,new n(e.id))}),e.forEachLink(function(e){s.push(e)}),s.sort(function(e,r){return t(e)-t(r)});for(var c=0;c<s.length;++c){var l=s[c].fromId,u=s[c].toId,d=a.get(l),h=a.get(u);d.find()!==h.find()&&(r.push(new o(l,u)),d.union(h))}return r}},function(e,t){function r(e){this.payload=e,this.parent=this,this.rank=0}e.exports=r,r.prototype.find=function(){var e=this.parent;e!==this&&(this.parent=e.find());return this.parent},r.prototype.union=function(e){var t=this.find(),r=e.find();if(r===t)return;t.rank<r.rank?t.parent=r:t.rank>r.rank?r.parent=t:(r.parent=t,t.rank+=1)}},function(e,t,r){e.exports={aStar:r(581),aGreedy:r(582),nba:r(583)}},function(e,t,r){e.exports=function(e,t){var r=(t=t||{}).oriented,o=t.heuristic;o||(o=a.heuristic);var l=t.distance;l||(l=a.distance);var u=i();return{find:function(t,i){var d=e.getNode(t);if(!d)throw new Error("fromId is not defined in this graph: "+t);var h=e.getNode(i);if(!h)throw new Error("toId is not defined in this graph: "+i);u.reset();var p,f=new Map,m=new n({compare:a.compareFScore,setNodeId:a.setHeapIndex}),g=u.createNewState(d);f.set(t,g),g.fScore=o(d,h),g.distanceToSource=0,m.push(g),g.open=1;for(;m.length>0;){if(p=m.pop(),v=h,p.node===v)return c(p);p.closed=!0,e.forEachLinkedNode(p.node.id,y,r)}var v;return s;function y(e,t){var r=f.get(e.id);if(r||(r=u.createNewState(e),f.set(e.id,r)),!r.closed){0===r.open&&(m.push(r),r.open=1);var n=p.distanceToSource+l(e,p.node,t);n>=r.distanceToSource||(r.parent=p,r.distanceToSource=n,r.fScore=n+o(r.node,h),m.updateItem(r.heapIndex))}}}}};var n=r(208),i=r(309),o=r(209),a=r(210),s=a.NO_PATH;function c(e){for(var t=[e.node],r=e.parent;r;)t.push(r.node),r=r.parent;return t}e.exports.l2=o.l2,e.exports.l1=o.l1},function(e,t,r){e.exports=function(e,t){var r=(t=t||{}).oriented,o=t.heuristic;o||(o=a.heuristic);var u=t.distance;u||(u=a.distance);var d=i();return{find:function(t,i){var h=e.getNode(t);if(!h)throw new Error("fromId is not defined in this graph: "+t);var p=e.getNode(i);if(!p)throw new Error("toId is not defined in this graph: "+i);if(h===p)return[h];d.reset();var f=r?function(e,t){if(_===s){if(t.fromId===M.node.id)return T(e,t,M)}else if(_===c&&t.toId===M.node.id)return T(e,t,M)}:function(e,t){return T(e,t,M)},m=new Map,g=new n({compare:a.compareFScore,setNodeId:a.setHeapIndex}),v=new n({compare:a.compareFScore,setNodeId:a.setHeapIndex}),y=d.createNewState(h);m.set(t,y),y.fScore=o(h,p),y.distanceToSource=0,g.push(y),y.open=s;var b=d.createNewState(p);b.fScore=o(p,h),b.distanceToSource=0,v.push(b),b.open=c;var x,w,E=Number.POSITIVE_INFINITY,A=g,_=s;for(;g.length>0&&v.length>0;){g.length<v.length?(_=s,A=g):(_=c,A=v);var M=A.pop();if(M.closed=!0,!(M.distanceToSource>E)&&(e.forEachLinkedNode(M.node.id,f),x&&w))return S(x,w)}return l;function S(e,t){for(var r=[],n=e;n;)r.push(n.node),n=n.parent;for(var i=t;i;)r.unshift(i.node),i=i.parent;return r}function T(e,t,r){var n=m.get(e.id);if(n||(n=d.createNewState(e),m.set(e.id,n)),!n.closed)if(function(e){var t=e.open;if(t&&t!==_)return!0;return!1}(n)){var i=n.distanceToSource+r.distanceToSource;i<E&&(x=n,w=r,E=i)}else{var a=r.distanceToSource+u(n.node,r.node,t);if(!(a>=n.distanceToSource)){var c=_===s?p:h,l=a+o(n.node,c);l>=E||(n.fScore=l,0===n.open&&(A.push(n),A.updateItem(n.heapIndex),n.open=_),n.parent=r,n.distanceToSource=a)}}}}}};var n=r(208),i=r(309),o=r(209),a=r(210),s=1,c=2,l=a.NO_PATH;e.exports.l2=o.l2,e.exports.l1=o.l1},function(e,t,r){e.exports=function(e,t){var r=(t=t||{}).oriented,i=t.quitFast,c=t.heuristic;c||(c=o.heuristic);var l=t.distance;l||(l=o.distance);var u=a();return{find:function(t,a){var d=e.getNode(t);if(!d)throw new Error("fromId is not defined in this graph: "+t);var h=e.getNode(a);if(!h)throw new Error("toId is not defined in this graph: "+a);u.reset();var p,f=r?function(e,t){if(t.fromId===A.node.id)return T(e,t)}:T,m=r?function(e,t){if(t.toId===A.node.id)return C(e,t)}:C,g=new Map,v=new n({compare:o.compareF1Score,setNodeId:o.setH1}),y=new n({compare:o.compareF2Score,setNodeId:o.setH2}),b=Number.POSITIVE_INFINITY,x=u.createNewState(d);g.set(t,x),x.g1=0;var w=c(d,h);x.f1=w,v.push(x);var E=u.createNewState(h);g.set(a,E),E.g2=0;var A,_=w;E.f2=_,y.push(E);for(;y.length&&v.length&&(v.length<y.length?M():S(),!i||!p););return function(e){if(!e)return s;var t=[e.node],r=e.p1;for(;r;)t.push(r.node),r=r.p1;var n=e.p2;for(;n;)t.unshift(n.node),n=n.p2;return t}(p);function M(){(A=v.pop()).closed||(A.closed=!0,A.f1<b&&A.g1+_-c(d,A.node)<b&&e.forEachLinkedNode(A.node.id,f),v.length>0&&(w=v.peek().f1))}function S(){(A=y.pop()).closed||(A.closed=!0,A.f2<b&&A.g2+w-c(A.node,h)<b&&e.forEachLinkedNode(A.node.id,m),y.length>0&&(_=y.peek().f2))}function T(e,t){var r=g.get(e.id);if(r||(r=u.createNewState(e),g.set(e.id,r)),!r.closed){var n=A.g1+l(A.node,e,t);n<r.g1&&(r.g1=n,r.f1=n+c(r.node,h),r.p1=A,r.h1<0?v.push(r):v.updateItem(r.h1));var i=r.g1+r.g2;i<b&&(b=i,p=r)}}function C(e,t){var r=g.get(e.id);if(r||(r=u.createNewState(e),g.set(e.id,r)),!r.closed){var n=A.g2+l(A.node,e,t);n<r.g2&&(r.g2=n,r.f2=n+c(d,r.node),r.p2=A,r.h2<0?y.push(r):y.updateItem(r.h2));var i=r.g1+r.g2;i<b&&(b=i,p=r)}}}}};var n=r(208),i=r(209),o=r(210),a=r(584),s=o.NO_PATH;e.exports.l2=i.l2,e.exports.l1=i.l1},function(e,t){function r(e){this.node=e,this.p1=null,this.p2=null,this.closed=!1,this.g1=Number.POSITIVE_INFINITY,this.g2=Number.POSITIVE_INFINITY,this.f1=Number.POSITIVE_INFINITY,this.f2=Number.POSITIVE_INFINITY,this.h1=-1,this.h2=-1}e.exports=function(){var e=0,t=[];return{createNewState:function(n){var i=t[e];i?(i.node=n,i.p1=null,i.p2=null,i.closed=!1,i.g1=Number.POSITIVE_INFINITY,i.g2=Number.POSITIVE_INFINITY,i.f1=Number.POSITIVE_INFINITY,i.f2=Number.POSITIVE_INFINITY,i.h1=-1,i.h2=-1):(i=new r(n),t[e]=i);return e++,i},reset:function(){e=0}}}},function(e,t,r){var n=r(50),i=r(586),o=r(84).f,a=r(590).f,s=r(288),c=r(132),l=n.RegExp,u=l,d=l.prototype,h=/a/g,p=/a/g,f=new l(h)!==h;if(r(52)&&(!f||r(53)(function(){return p[r(42)("match")]=!1,l(h)!=h||l(p)==p||"/a/i"!=l(h,"i")}))){l=function(e,t){var r=this instanceof l,n=s(e),o=void 0===t;return!r&&n&&e.constructor===l&&o?e:i(f?new u(n&&!o?e.source:e,t):u((n=e instanceof l)?e.source:e,n&&o?c.call(e):t),r?this:d,l)};for(var m=function(e){e in l||o(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},g=a(u),v=0;g.length>v;)m(g[v++]);d.constructor=l,l.prototype=d,r(86)(n,"RegExp",l)}r(591)("RegExp")},function(e,t,r){var n=r(85),i=r(587).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){var n=r(85),i=r(51),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(277)(Function.call,r(588).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){var n=r(589),i=r(183),o=r(125),a=r(276),s=r(106),c=r(274),l=Object.getOwnPropertyDescriptor;t.f=r(52)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(279),i=r(189).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){"use strict";var n=r(50),i=r(84),o=r(52),a=r(42)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(593),i=r(310);e.exports=function(e,t){return n(e,t,function(t,r){return i(e,r)})}},function(e,t,r){var n=r(136),i=r(594),o=r(91);e.exports=function(e,t,r){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],u=n(e,l);r(u,l)&&i(c,o(l,e),u)}return c}},function(e,t,r){var n=r(197),i=r(91),o=r(133),a=r(44),s=r(92);e.exports=function(e,t,r,c){if(!a(e))return e;for(var l=-1,u=(t=i(t,e)).length,d=u-1,h=e;null!=h&&++l<u;){var p=s(t[l]),f=r;if(l!=d){var m=h[p];void 0===(f=c?c(m,p,h):void 0)&&(f=a(m)?m:o(t[l+1])?[]:{})}n(h,p,f),h=h[p]}return e}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(91),i=r(198),o=r(47),a=r(133),s=r(200),c=r(92);e.exports=function(e,t,r){for(var l=-1,u=(t=n(t,e)).length,d=!1;++l<u;){var h=c(t[l]);if(!(d=null!=e&&r(e,h)))break;e=e[h]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){var n=r(139),i=r(111),o=r(628),a=r(629),s=r(78);e.exports=function(e,t,r){t=i(t,e);var c=null==(e=a(e,t))?e:e[s(o(t))];return null==c?void 0:n(c,e,r)}},function(e,t,r){var n=r(75),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(606),i=500;e.exports=function(e){var t=n(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}},function(e,t,r){var n=r(212),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t,r){var n=r(608),i=r(141),o=r(213);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},function(e,t,r){var n=r(609),i=r(614),o=r(615),a=r(616),s=r(617);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(140);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t,r){var n=r(66),i=r(611),o=r(48),a=r(313),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?h:s).test(a(e))}},function(e,t,r){var n,i=r(612),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},function(e,t,r){var n=r(35)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(140),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(140),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(140),i="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(142),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():i.call(t,r,1),--this.size,0))}},function(e,t,r){var n=r(142);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(142);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(142);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(144);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(144);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(144);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(144);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,r){var n=r(145),i=r(215);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},function(e,t,r){var n=r(631),i=r(315),o=r(93),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,r){"use strict";var n=r(633);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){var n=r(62),i=r(46),o=r(63);e.exports=function(e){return function(t,r,a){var s=Object(t);if(!i(t)){var c=n(r,3);t=o(t),r=function(e){return c(s[e],e,s)}}var l=e(t,r,a);return l>-1?s[c?t[l]:l]:void 0}}},function(e,t,r){var n=r(636),i=r(654),o=r(330);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(217),i=r(218),o=1,a=2;e.exports=function(e,t,r,s){var c=r.length,l=c,u=!s;if(null==e)return!l;for(e=Object(e);c--;){var d=r[c];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<l;){var h=(d=r[c])[0],p=e[h],f=d[1];if(u&&d[2]){if(void 0===p&&!(h in e))return!1}else{var m=new n;if(s)var g=s(p,f,h,e,t,m);if(!(void 0===g?i(f,p,o|a,s,m):g))return!1}}return!0}},function(e,t,r){var n=r(141);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(141),i=r(213),o=r(212),a=200;e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(217),i=r(317),o=r(645),a=r(646),s=r(64),c=r(23),l=r(150),u=r(221),d=1,h="[object Arguments]",p="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,g,v,y){var b=c(e),x=c(t),w=b?p:s(e),E=x?p:s(t),A=(w=w==h?f:w)==f,_=(E=E==h?f:E)==f,M=w==E;if(M&&l(e)){if(!l(t))return!1;b=!0,A=!1}if(M&&!A)return y||(y=new n),b||u(e)?i(e,t,r,g,v,y):o(e,t,w,r,g,v,y);if(!(r&d)){var S=A&&m.call(e,"__wrapped__"),T=_&&m.call(t,"__wrapped__");if(S||T){var C=S?e.value():e,O=T?t.value():t;return y||(y=new n),v(C,O,r,g,y)}}return!!M&&(y||(y=new n),a(e,t,r,g,v,y))}},function(e,t){var r="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,r),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(75),i=r(319),o=r(143),a=r(317),s=r(320),c=r(148),l=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",E=n?n.prototype:void 0,A=E?E.valueOf:void 0;e.exports=function(e,t,r,n,E,_,M){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!_(new i(e),new i(t)));case d:case h:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case f:var S=s;case v:var T=n&l;if(S||(S=c),e.size!=t.size&&!T)return!1;var C=M.get(e);if(C)return C==t;n|=u,M.set(e,t);var O=a(S(e),S(t),n,E,_,M);return M.delete(e),O;case b:if(A)return A.call(e)==A.call(t)}return!1}},function(e,t,r){var n=r(321),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,s,c){var l=r&i,u=n(e),d=u.length;if(d!=n(t).length&&!l)return!1;for(var h=d;h--;){var p=u[h];if(!(l?p in t:o.call(t,p)))return!1}var f=c.get(e);if(f&&c.get(t))return f==t;var m=!0;c.set(e,t),c.set(t,e);for(var g=l;++h<d;){var v=e[p=u[h]],y=t[p];if(a)var b=l?a(y,v,p,t,e,c):a(v,y,p,e,t,c);if(!(void 0===b?v===y||s(v,y,r,a,c):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(m=!1)}return c.delete(e),c.delete(t),m}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(45),i=r(30),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(45),i=r(222),o=r(30),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},function(e,t,r){var n=r(326)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(76)(r(35),"DataView");e.exports=n},function(e,t,r){var n=r(76)(r(35),"Promise");e.exports=n},function(e,t,r){var n=r(329),i=r(63);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},function(e,t,r){var n=r(218),i=r(27),o=r(331),a=r(211),s=r(329),c=r(330),l=r(78),u=1,d=2;e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,u|d)}}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(333),i=r(658),o=r(211),a=r(78);e.exports=function(e){return o(e)?n(a(e)):i(e)}},function(e,t,r){var n=r(145);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,r){var n=r(96);e.exports=function(e,t){var r;return n(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}},function(e,t,r){var n=r(661),i=r(63);e.exports=function(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(662)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}},function(e,t,r){var n=r(46);e.exports=function(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var o=r.length,a=t?o:-1,s=Object(r);(t?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(327),i=r(163),o=r(148),a=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=a},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){var n=r(77);e.exports=function(e,t){return n(t,function(t){return e[t]})}},function(e,t,r){var n=r(93);e.exports=function(e){return"function"==typeof e?e:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(673);r(674);var i=r(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){a(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return c(e,[{key:"addHandlers",value:function(t){for(var r=this.handlers.slice(0),n=t.length,i=0;i<n;i+=1)r.push(t[i]);return new e(r)}},{key:"dispatchEvent",value:function(e,t){var r=this.handlers.length-1;if(t){for(var n=r;n>=0;n-=1)this.handlers[n].called||(this.handlers[n].called=!0,this.handlers[n](e));for(var i=r;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[r])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var r=[],n=this.handlers.length,i=0;i<n;i+=1){var o=this.handlers[i];-1===t.indexOf(o)&&r.push(o)}return new e(r)}}]),e}();function f(e){var t=new Map;return e.forEach(function(e,r){t.set(r,e)}),t}function m(e){return Array.isArray(e)?e:[e]}var g=function(e){return null!==e&&"object"===o(e)&&e.hasOwnProperty("current")};function v(e){return"document"===e?document:"window"===e?window:g(e)?e.current||document:e||document}var y=function(){function e(t,r){a(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=r,this.poolName=t}return c(e,[{key:"addHandlers",value:function(t,r){var n=f(this.handlerSets);if(n.has(t)){var i=n.get(t);n.set(t,i.addHandlers(r))}else n.set(t,new p(r));return new e(this.poolName,n)}},{key:"dispatchEvent",value:function(e,t){var r=this.handlerSets.get(e),n="default"===this.poolName;r&&r.dispatchEvent(t,n)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,r){var n=f(this.handlerSets);if(!n.has(t))return new e(this.poolName,n);var i=n.get(t).removeHandlers(r);return i.hasHandlers()?n.set(t,i):n.delete(t),new e(this.poolName,n)}}]),e}();l(y,"createByType",function(e,t,r){var n=new Map;return n.set(t,new p(r)),new y(e,n)});var b=function(){function e(t){var r=this;a(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",function(e){return function(t){r.pools.forEach(function(r){r.dispatchEvent(e,t)})}}),this.target=t}return c(e,[{key:"addHandlers",value:function(e,t,r){if(this.pools.has(e)){var n=this.pools.get(e);this.pools.set(e,n.addHandlers(t,r))}else this.pools.set(e,y.createByType(e,t,r));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,r){if(this.pools.has(e)){var n=this.pools.get(e).removeHandlers(t,r);n.hasHandlers()?this.pools.set(e,n):this.pools.delete(e);var i=!1;this.pools.forEach(function(e){return i=i||e.hasHandlers(t)}),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),x=new(function(){function e(){var t=this;a(this,e),l(this,"targets",new Map),l(this,"getTarget",function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=v(e);if(t.targets.has(n))return t.targets.get(n);if(!r)return null;var i=new b(n);return t.targets.set(n,i),i}),l(this,"removeTarget",function(e){t.targets.delete(v(e))})}return c(e,[{key:"sub",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.canUseDOM){var i=r.target,o=void 0===i?document:i,a=r.pool,s=void 0===a?"default":a;this.getTarget(o).addHandlers(s,e,m(t))}}},{key:"unsub",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.canUseDOM){var i=r.target,o=void 0===i?document:i,a=r.pool,s=void 0===a?"default":a,c=this.getTarget(o,!1);c&&(c.removeHandlers(s,e,m(t)),c.hasHandlers()||this.removeTarget(o))}}}]),e}()),w=function(e){function t(){return a(this,t),h(this,d(t).apply(this,arguments))}return u(t,i.PureComponent),c(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,r=e.on,n=e.pool,i=e.target;x.sub(t,r,{pool:n,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,r=e.on,n=e.pool,i=e.target;x.unsub(t,r,{pool:n,target:i})}},{key:"render",value:function(){return null}}]),t}();l(w,"defaultProps",{pool:"default",target:"document"}),w.propTypes={},t.instance=x,t.default=w},function(e,t,r){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){e.exports=r(675)()},function(e,t,r){"use strict";var n=r(676);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var r=Math.max,n=Math.min;e.exports=function(e,t,i){return e>=n(t,i)&&e<r(t,i)}},function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},function(e,t,r){"use strict";var n=r(680);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";
/** @license React v16.8.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case g:case m:case o:return t}}}function y(e){return v(e)===h}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||v(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===c},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===f}},function(e,t,r){var n=r(683),i=r(214),o=r(95),a=r(61);e.exports=function(e,t,r){return e=a(e),r=null==r?0:n(o(r),0,e.length),t=i(t),e.slice(r,r+t.length)==t}},function(e,t){e.exports=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,r){var n=r(96);e.exports=function(e,t){var r=[];return n(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}},function(e,t,r){var n=r(77),i=r(686),o=r(113),a=r(687),s=o(function(e){var t=n(e,a);return t.length&&t[0]===e[0]?i(t):[]});e.exports=s},function(e,t,r){var n=r(146),i=r(155),o=r(224),a=r(77),s=r(94),c=r(147),l=Math.min;e.exports=function(e,t,r){for(var u=r?o:i,d=e[0].length,h=e.length,p=h,f=Array(h),m=1/0,g=[];p--;){var v=e[p];p&&t&&(v=a(v,s(t))),m=l(v.length,m),f[p]=!r&&(t||d>=120&&v.length>=120)?new n(p&&v):void 0}v=e[0];var y=-1,b=f[0];e:for(;++y<d&&g.length<m;){var x=v[y],w=t?t(x):x;if(x=r||0!==x?x:0,!(b?c(b,w):u(g,w,r))){for(p=h;--p;){var E=f[p];if(!(E?c(E,w):u(e[p],w,r)))continue e}b&&b.push(w),g.push(x)}}return g}},function(e,t,r){var n=r(156);e.exports=function(e){return n(e)?e:[]}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&r.call(e,t)}},function(e,t,r){e.exports=r(100)},function(e,t,r){var n=r(96),i=r(46);e.exports=function(e,t){var r=-1,o=i(e)?Array(e.length):[];return n(e,function(e,n,i){o[++r]=t(e,n,i)}),o}},function(e,t,r){var n=r(44),i=r(692),o=r(693),a="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,r){var l,u,d,h,p,f,m=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var r=l,n=u;return l=u=void 0,m=t,h=e.apply(n,r)}function x(e){var r=e-f;return void 0===f||r>=t||r<0||v&&e-m>=d}function w(){var e=i();if(x(e))return E(e);p=setTimeout(w,function(e){var r=t-(e-f);return v?c(r,d-(e-m)):r}(e))}function E(e){return p=void 0,y&&l?b(e):(l=u=void 0,h)}function A(){var e=i(),r=x(e);if(l=arguments,u=this,f=e,r){if(void 0===p)return function(e){return m=e,p=setTimeout(w,t),g?b(e):h}(f);if(v)return p=setTimeout(w,t),b(f)}return void 0===p&&(p=setTimeout(w,t)),h}return t=o(t)||0,n(r)&&(g=!!r.leading,d=(v="maxWait"in r)?s(o(r.maxWait)||0,t):d,y="trailing"in r?!!r.trailing:y),A.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=f=u=p=void 0},A.flush=function(){return void 0===p?h:E(i())},A}},function(e,t,r){var n=r(43);e.exports=function(){return n.Date.now()}},function(e,t,r){var n=r(44),i=r(110),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):s.test(e)?o:+e}},function(e,t,r){var n=r(695),i=r(154),o=r(223);e.exports=function(e){return function(t,r,a){return a&&"number"!=typeof a&&i(t,r,a)&&(r=a=void 0),t=o(t),void 0===r?(r=t,t=0):r=o(r),a=void 0===a?t<r?1:-1:o(a),n(t,r,a,e)}}},function(e,t){var r=Math.ceil,n=Math.max;e.exports=function(e,t,i,o){for(var a=-1,s=n(r((t-e)/(i||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=i;return c}},function(e,t,r){var n=r(341),i=r(166),o=r(699),a=RegExp("['’]","g");e.exports=function(e){return function(t){return n(o(i(t).replace(a,"")),e,"")}}},function(e,t,r){var n=r(698)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,r){var n=r(700),i=r(701),o=r(61),a=r(702);e.exports=function(e,t,r){return e=o(e),void 0===(t=r?void 0:t)?i(e)?a(e):n(e):e.match(t)||[]}},function(e,t){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(r)||[]}},function(e,t){var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return r.test(e)}},function(e,t){var r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+r+"]",i="\\d+",o="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",s="[^\\ud800-\\udfff"+r+i+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+a+"|"+s+")",h="(?:"+u+"|"+s+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",f="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,l].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),m="(?:"+[o,c,l].join("|")+")"+f,g=RegExp([u+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[n,u,"$"].join("|")+")",h+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[n,u+d,"$"].join("|")+")",u+"?"+d+"+(?:['’](?:d|ll|m|re|s|t|ve))?",u+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,m].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},function(e,t,r){var n=r(704)("toUpperCase");e.exports=n},function(e,t,r){var n=r(342),i=r(158),o=r(227),a=r(61);e.exports=function(e){return function(t){t=a(t);var r=i(t)?o(t):void 0,s=r?r[0]:t.charAt(0),c=r?n(r,1).join(""):t.slice(1);return s[e]()+c}}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),u="(?:"+[o+n+"?",n,a,s,r].join("|")+")",d=RegExp(i+"(?="+i+")|"+u+l,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,r){var n=r(10);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},function(e,t,r){var n=r(96);e.exports=function(e,t){var r=!0;return n(e,function(e,n,i){return r=!!t(e,n,i)}),r}},function(e,t){e.exports=function(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}},function(e,t,r){var n=r(712),i=r(331);e.exports=function(e,t){return n(e,t,function(t,r){return i(e,r)})}},function(e,t,r){var n=r(145),i=r(343),o=r(111);e.exports=function(e,t,r){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],u=n(e,l);r(u,l)&&i(c,o(l,e),u)}return c}},function(e,t,r){var n=r(159);e.exports=function(e){return null!=e&&e.length?n(e,1):[]}},function(e,t,r){var n=r(75),i=r(149),o=r(23),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,r){var n=r(716),i=r(158),o=r(717);e.exports=function(e){return i(e)?o(e):n(e)}},function(e,t,r){var n=r(333)("length");e.exports=n},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),u="(?:"+[o+n+"?",n,a,s,r].join("|")+")",d=RegExp(i+"(?="+i+")|"+u+l,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},function(e,t,r){var n=r(195),i=r(719),o=r(733),a=r(739),s=r(134),c=r(740),l=r(137);e.exports=function(e,t,r){var u=-1;t=n(t.length?t:[l],s(i));var d=o(e,function(e,r,i){return{criteria:n(t,function(t){return t(e)}),index:++u,value:e}});return a(d,function(e,t){return c(e,t,r)})}},function(e,t,r){var n=r(720),i=r(728),o=r(137),a=r(47),s=r(730);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}},function(e,t,r){var n=r(721),i=r(727),o=r(348);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(196),i=r(345),o=1,a=2;e.exports=function(e,t,r,s){var c=r.length,l=c,u=!s;if(null==e)return!l;for(e=Object(e);c--;){var d=r[c];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<l;){var h=(d=r[c])[0],p=e[h],f=d[1];if(u&&d[2]){if(void 0===p&&!(h in e))return!1}else{var m=new n;if(s)var g=s(p,f,h,e,t,m);if(!(void 0===g?i(f,p,o|a,s,m):g))return!1}}return!0}},function(e,t,r){var n=r(196),i=r(346),o=r(724),a=r(726),s=r(135),c=r(47),l=r(199),u=r(295),d=1,h="[object Arguments]",p="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,g,v,y){var b=c(e),x=c(t),w=b?p:s(e),E=x?p:s(t),A=(w=w==h?f:w)==f,_=(E=E==h?f:E)==f,M=w==E;if(M&&l(e)){if(!l(t))return!1;b=!0,A=!1}if(M&&!A)return y||(y=new n),b||u(e)?i(e,t,r,g,v,y):o(e,t,w,r,g,v,y);if(!(r&d)){var S=A&&m.call(e,"__wrapped__"),T=_&&m.call(t,"__wrapped__");if(S||T){var C=S?e.value():e,O=T?t.value():t;return y||(y=new n),v(C,O,r,g,y)}}return!!M&&(y||(y=new n),a(e,t,r,g,v,y))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){var n=r(88),i=r(303),o=r(130),a=r(346),s=r(725),c=r(193),l=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",E=n?n.prototype:void 0,A=E?E.valueOf:void 0;e.exports=function(e,t,r,n,E,_,M){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!_(new i(e),new i(t)));case d:case h:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case f:var S=s;case v:var T=n&l;if(S||(S=c),e.size!=t.size&&!T)return!1;var C=M.get(e);if(C)return C==t;n|=u,M.set(e,t);var O=a(S(e),S(t),n,E,_,M);return M.delete(e),O;case b:if(A)return A.call(e)==A.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},function(e,t,r){var n=r(300),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,s,c){var l=r&i,u=n(e),d=u.length;if(d!=n(t).length&&!l)return!1;for(var h=d;h--;){var p=u[h];if(!(l?p in t:o.call(t,p)))return!1}var f=c.get(e);if(f&&c.get(t))return f==t;var m=!0;c.set(e,t),c.set(t,e);for(var g=l;++h<d;){var v=e[p=u[h]],y=t[p];if(a)var b=l?a(y,v,p,t,e,c):a(v,y,p,e,t,c);if(!(void 0===b?v===y||s(v,y,r,a,c):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(m=!1)}return c.delete(e),c.delete(t),m}},function(e,t,r){var n=r(347),i=r(108);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},function(e,t,r){var n=r(345),i=r(729),o=r(310),a=r(207),s=r(347),c=r(348),l=r(92),u=1,d=2;e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,u|d)}}},function(e,t,r){var n=r(136);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){var n=r(731),i=r(732),o=r(207),a=r(92);e.exports=function(e){return o(e)?n(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){var n=r(136);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,r){var n=r(734),i=r(109);e.exports=function(e,t){var r=-1,o=i(e)?Array(e.length):[];return n(e,function(e,n,i){o[++r]=t(e,n,i)}),o}},function(e,t,r){var n=r(735),i=r(738)(n);e.exports=i},function(e,t,r){var n=r(736),i=r(108);e.exports=function(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(737)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}},function(e,t,r){var n=r(109);e.exports=function(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var o=r.length,a=t?o:-1,s=Object(r);(t?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},function(e,t){e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},function(e,t,r){var n=r(741);e.exports=function(e,t,r){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,c=r.length;++i<s;){var l=n(o[i],a[i]);if(l)return i>=c?l:l*("desc"==r[i]?-1:1)}return e.index-t.index}},function(e,t,r){var n=r(110);e.exports=function(e,t){if(e!==t){var r=void 0!==e,i=null===e,o=e==e,a=n(e),s=void 0!==t,c=null===t,l=t==t,u=n(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||i&&s&&l||!r&&l||!o)return 1;if(!i&&!a&&!u&&e<t||u&&r&&o&&!i&&!a||c&&r&&o||!s&&o||!l)return-1}return 0}},function(e,t,r){var n=r(137),i=r(306),o=r(307);e.exports=function(e,t){return o(i(e,t,n),e+"")}},function(e,t,r){var n=r(130),i=r(109),o=r(133),a=r(44);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},function(e){e.exports={nodes:[{id:1,name:"Confirmed Cases"},{name:"PRIVATE DINNER FUNCTION AT SAFRA JURONG",id:2},{case:95,name:"Female, 64",gp:9,id:3,age:64,gender:"FEMALE",confirmed:"2020-02-27",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:97,name:"RI student, male, 12",recovered:"1",gp:9,id:4,age:12,gender:"MALE",confirmed:"2020-02-28",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:108,name:"Female, 68",recovered:"1",gp:9,id:5,age:68,gender:"FEMALE",confirmed:"2020-03-02",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:113,name:"Female, 62",recovered:"1",gp:9,id:6,age:62,gender:"FEMALE",confirmed:"2020-03-04",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:115,name:"Male, 62",gp:9,id:7,age:62,gender:"MALE",confirmed:"2020-03-05",discharged:"",hospital:"National University Hospital"},{case:116,name:"Female, 62",gp:9,id:8,age:62,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:117,name:"Female, 50",gp:9,id:9,age:50,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:118,name:"Female, 52",gp:9,id:10,age:52,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"National University Hospital"},{case:119,name:"Female, 33",gp:9,id:11,age:33,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"Alexandra Hospital"},{case:121,name:"Female, 62",gp:9,id:12,age:62,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:122,name:"Female, 54",gp:9,id:13,age:54,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:123,name:"Female, 64",gp:9,id:14,age:64,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"Sengkang General Hospital"},{case:126,name:"Female, 65",gp:9,id:15,age:65,gender:"FEMALE",confirmed:"2020-03-05",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:128,name:"Female, 64",gp:9,id:16,age:64,gender:"FEMALE",confirmed:"2020-03-06",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:129,name:"Male, 70",gp:9,id:17,age:70,gender:"MALE",confirmed:"2020-03-06",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:130,name:"Female, 68",gp:9,id:18,age:68,gender:"FEMALE",confirmed:"2020-03-06",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:131,name:"Male, 66",gp:9,id:19,age:66,gender:"MALE",confirmed:"2020-03-06",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:132,name:"Male, 66",gp:9,id:20,age:66,gender:"MALE",confirmed:"2020-03-06",discharged:"",hospital:"National University Hospital"},{case:134,name:"Indonesian national, female, 62",gp:9,id:21,age:62,gender:"FEMALE",confirmed:"2020-03-06",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:135,name:"Female, 56",gp:9,id:22,age:56,gender:"FEMALE",confirmed:"2020-03-06",discharged:"",hospital:"Singapore General Hospital"},{case:138,name:"Male, 60",gp:9,id:23,age:60,gender:"MALE",confirmed:"2020-03-06",discharged:"2020-03-09",hospital:"National Centre for Infectious Diseases"},{case:140,name:"Male, 71",gp:9,id:24,age:71,gender:"MALE",confirmed:"2020-03-07",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:141,name:"Female, 62",gp:9,id:25,age:62,gender:"FEMALE",confirmed:"2020-03-07",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:143,name:"Male, 26",gp:9,id:26,age:26,gender:"MALE",confirmed:"2020-03-07",discharged:"",hospital:"National University Hospital"},{case:163,name:"Male, 28",gp:9,id:27,age:28,gender:"MALE",confirmed:"2020-03-09",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:164,name:"Female, 27",gp:9,id:28,age:27,gender:"FEMALE",confirmed:"2020-03-10",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:145,name:"Home hairdresser, female, 58",gp:9,id:29,age:58,gender:"FEMALE",confirmed:"2020-03-08",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:146,name:"Female, 67",gp:9,id:30,age:67,gender:"FEMALE",confirmed:"2020-03-08",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:147,name:"Female, 64",gp:9,id:31,age:64,gender:"FEMALE",confirmed:"2020-03-08",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:149,name:"Female, 67",recovered:"1",gp:9,id:32,age:67,gender:"FEMALE",confirmed:"2020-03-08",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:150,name:"Male, 62",gp:9,id:33,age:62,gender:"MALE",confirmed:"2020-03-08",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:151,name:"Singapore PR, female, 53",gp:9,id:34,age:53,gender:"FEMALE",confirmed:"2020-03-08",discharged:"2020-03-08",hospital:"National Centre for Infectious Diseases"},{case:156,name:"Malaysian national, female, 47",gp:9,id:35,age:47,gender:"FEMALE",confirmed:"2020-03-09",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:157,name:"Singapore PR, female, 50",gp:9,id:36,age:50,gender:"FEMALE",confirmed:"2020-03-09",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:158,name:"Singapore PR, female, 54",gp:9,id:37,age:54,gender:"FEMALE",confirmed:"2020-03-09",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:159,name:"Female, 53",gp:9,id:38,age:53,gender:"FEMALE",confirmed:"2020-03-09",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:160,name:"Male, 59",gp:9,id:39,age:59,gender:"MALE",confirmed:"2020-03-09",discharged:"",hospital:"KK Women’s and Children’s Hospital"},{case:161,name:"Male, 5",gp:9,id:40,age:5,gender:"MALE",confirmed:"2020-03-09",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:162,name:"Male, 73",gp:9,id:41,age:73,gender:"MALE",confirmed:"2020-03-09",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:165,name:"Singapore PR, female, 57",gp:9,id:42,age:57,gender:"FEMALE",confirmed:"2020-03-10",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:167,name:"Female, 55",gp:9,id:43,age:55,gender:"FEMALE",confirmed:"2020-03-10",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:175,name:"Female, 67",gp:9,id:44,age:67,gender:"FEMALE",confirmed:"2020-03-11",discharged:"",hospital:"National Centre for Infectious Diseases"},{name:"THE LIFE CHURCH AND MISSIONS SINGAPORE",id:45},{case:9,name:"Chinese national, female, 56",gp:2,recovered:"1",id:46,age:56,gender:"FEMALE",confirmed:"2020-01-29",discharged:"2020-02-23",hospital:"National Centre for Infectious Diseases"},{case:10,name:"Chinese national, male, 56",gp:2,recovered:"1",id:47,age:56,gender:"MALE",confirmed:"2020-01-29",discharged:"2020-02-09",hospital:"National Centre for Infectious Diseases"},{case:32,name:"Male, 53",recovered:"1",gp:2,id:48,age:53,gender:"MALE",confirmed:"2020-02-06",discharged:"2020-02-19",hospital:"National Centre for Infectious Diseases"},{case:34,name:"Female, 39",recovered:"1",gp:2,id:49,age:39,gender:"FEMALE",confirmed:"2020-02-07",discharged:"2020-02-12",hospital:"National Centre for Infectious Diseases"},{case:39,name:"Female, 52",recovered:"1",gp:2,id:50,age:52,gender:"FEMALE",confirmed:"2020-02-08",discharged:"2020-02-16",hospital:"National Centre for Infectious Diseases"},{case:84,name:"Male, 54",recovered:"1",gp:2,id:51,age:54,gender:"MALE",confirmed:"2020-02-19",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:91,name:"Female, 75",gp:2,id:52,age:75,gender:"FEMALE",confirmed:"2020-02-22",discharged:"2020-02-25",hospital:"National Centre for Infectious Diseases"},{name:"CNY FAMILY GATHERINGAT MEI HWAN DRIVE",gp:2,id:53},{case:67,name:"Male, 28",recovered:"1",gp:2,id:54,age:28,gender:"MALE",confirmed:"2020-02-14",discharged:"2020-03-02",hospital:"National Centre for Infectious Diseases"},{name:"GRACE ASSEMBLY OFGOD CHURCH",gp:2,id:55},{case:49,name:"Male, 34",recovered:"1",gp:2,id:56,age:34,gender:"MALE",confirmed:"2020-02-11",discharged:"2020-02-26",hospital:"National University Hospital"},{case:50,name:"Male, 46",recovered:"1",gp:2,id:57,age:46,gender:"MALE",confirmed:"2020-02-12",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:52,name:"Male, 48",recovered:"1",gp:2,id:58,age:48,gender:"MALE",confirmed:"2020-02-12",discharged:"2020-02-28",hospital:"Tan Tock Seng Hospital"},{case:54,name:"NUS professor, male, 54",gp:2,id:59,age:54,gender:"MALE",confirmed:"2020-02-13",discharged:"2020-03-01",hospital:"National Centre for Infectious Diseases"},{case:55,name:"Female, 55",recovered:"1",gp:2,id:60,age:55,gender:"FEMALE",confirmed:"2020-02-13",discharged:"2020-02-19",hospital:"National Centre for Infectious Diseases"},{case:58,name:"Male, 26",recovered:"1",gp:2,id:61,age:26,gender:"MALE",confirmed:"2020-02-13",discharged:"2020-02-25",hospital:"National Centre for Infectious Diseases"},{case:59,name:"Male, 55",recovered:"1",gp:2,id:62,age:55,gender:"MALE",confirmed:"2020-02-13",discharged:"2020-02-26",hospital:"National Centre for Infectious Diseases"},{case:61,name:"Female, 51",gp:2,recovered:"1",id:63,age:51,gender:"FEMALE",confirmed:"2020-02-13",discharged:"2020-03-04",hospital:"National University Hospital"},{case:62,name:"Male, 57",gp:2,recovered:"1",id:64,age:57,gender:"MALE",confirmed:"2020-02-13",discharged:"2020-02-25",hospital:"Singapore General Hospital"},{case:63,name:"Female, 44",recovered:"1",gp:2,id:65,age:44,gender:"FEMALE",confirmed:"2020-02-14",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:64,name:"Female, 54",recovered:"1",gp:2,id:66,age:54,gender:"FEMALE",confirmed:"2020-02-14",discharged:"2020-02-23",hospital:"National University Hospital"},{case:68,name:"Female, 56",recovered:"1",gp:2,id:67,age:56,gender:"FEMALE",confirmed:"2020-02-14",discharged:"2020-02-29",hospital:"National Centre for Infectious Diseases"},{case:74,name:"SAF serviceman, 43",recovered:"1",gp:2,id:68,age:43,gender:"SAF SERVICEMAN",confirmed:"2020-02-15",discharged:"2020-03-07",hospital:"Alexandra Hospital"},{case:75,name:"Male, 29",recovered:"1",gp:2,id:69,age:29,gender:"MALE",confirmed:"2020-02-16",discharged:"2020-02-29",hospital:"National Centre for Infectious Diseases"},{case:79,name:"Female, 57",recovered:"1",gp:2,id:70,age:57,gender:"FEMALE",confirmed:"2020-02-17",discharged:"2020-02-28",hospital:"National Centre for Infectious Diseases"},{case:82,name:"Male, 50",recovered:"1",gp:2,id:71,age:50,gender:"MALE",confirmed:"2020-02-18",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:69,name:"Female, 79",recovered:"1",gp:2,id:72,age:79,gender:"FEMALE",confirmed:"2020-02-14",discharged:"2020-03-02",hospital:"National Centre for Infectious Diseases"},{case:71,name:"Female, 27",recovered:"1",gp:2,id:73,age:27,gender:"FEMALE",confirmed:"2020-02-15",discharged:"2020-03-05",hospital:"National Centre for Infectious Diseases"},{case:72,name:"Male, 25",recovered:"1",gp:2,id:74,age:25,gender:"MALE",confirmed:"2020-02-15",discharged:"2020-02-27",hospital:"National Centre for Infectious Diseases"},{case:81,name:"Female, 38",recovered:"1",gp:2,id:75,age:38,gender:"FEMALE",confirmed:"2020-02-18",discharged:"2020-02-25",hospital:"National Centre for Infectious Diseases"},{case:85,name:"Female, 35",recovered:"1",gp:2,id:76,age:35,gender:"FEMALE",confirmed:"2020-02-20",discharged:"2020-03-07",hospital:"Khoo Teck Puat Hospital"},{case:89,name:"Female, 30",recovered:"1",gp:2,id:77,age:30,gender:"FEMALE",confirmed:"2020-02-22",discharged:"2020-02-28",hospital:"National Centre for Infectious Diseases"},{case:92,name:"Female, 58",recovered:"1",gp:2,id:78,age:58,gender:"FEMALE",confirmed:"2020-02-26",discharged:"2020-03-11",hospital:"Sengkang General Hospital"},{case:139,name:"Male, 26",recovered:"1",gp:2,id:79,age:26,gender:"MALE",confirmed:"2020-03-07",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:152,name:"Male, 51",gp:2,recovered:"1",id:80,age:51,gender:"MALE",confirmed:"2020-03-08",discharged:"",hospital:"Singapore General Hospital"},{name:"SELETAR AEROSPACE HEIGHTS CONSTRUCTION SITE",id:81},{case:43,name:"Bangladeshi male, 39",gp:4,id:82,age:39,gender:"BANGLADESHI MALE",confirmed:"2020-02-08",discharged:"2020-03-07",hospital:"Sengkang General Hospital"},{case:48,name:"Bangladeshi male, 39",recovered:"1",gp:4,id:83,age:39,gender:"BANGLADESHI MALE",confirmed:"2020-02-11",discharged:"2020-02-17",hospital:"National Centre for Infectious Diseases"},{case:53,name:"Bangladeshi male, 37",recovered:"1",gp:4,id:84,age:37,gender:"BANGLADESHI MALE",confirmed:"2020-02-12",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:57,name:"Bangladeshi male, 30",recovered:"1",gp:4,id:85,age:30,gender:"BANGLADESHI MALE",confirmed:"2020-02-13",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:70,name:"Bangladeshi male, 26",recovered:"1",gp:4,id:86,age:26,gender:"BANGLADESHI MALE",confirmed:"2020-02-15",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{name:"YONG THAI HANG MEDICAL PRODUCTS SHOP",id:87},{case:20,name:"Female, 28",recovered:"1",gp:3,id:88,age:28,gender:"FEMALE",confirmed:"2020-02-04",discharged:"2020-02-29",hospital:"National Centre for Infectious Diseases"},{case:22,name:"Indonesian maid, female, 44",recovered:"1",gp:3,id:89,age:44,gender:"FEMALE",confirmed:"2020-02-03",discharged:"2020-02-09",hospital:"National Centre for Infectious Diseases"},{case:28,name:"Husband, private-hire driver, 45",recovered:"1",gp:3,id:90,age:45,gender:"PRIVATE-HIRE DRIVER",confirmed:"2020-02-05",discharged:"2020-02-22",hospital:"National Centre for Infectious Diseases"},{case:29,name:"Baby son, 6 months",recovered:"1",gp:3,id:91,age:null,gender:"BABY SON",confirmed:"2020-02-05",discharged:"2020-02-12",hospital:"National Centre for Infectious Diseases"},{case:21,name:"Female, 48",recovered:"1",gp:3,id:92,age:48,gender:"FEMALE",confirmed:"2020-02-04",discharged:"2020-02-18",hospital:" Singapore General Hospital"},{case:25,name:"Tour guide, female, 32",gp:3,recovered:"1",id:93,age:32,gender:"FEMALE",confirmed:"2020-02-04",discharged:"2020-02-12",hospital:"National Centre for Infectious Diseases"},{case:26,name:"Husband, 40",gp:3,recovered:"1",id:94,age:40,gender:"HUSBAND",confirmed:"2020-02-04",discharged:"2020-02-09",hospital:"National Centre for Infectious Diseases"},{case:35,name:"Female, 40",gp:3,recovered:"1",id:95,age:40,gender:"FEMALE",confirmed:"2020-02-07",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:41,name:"Male, 36",gp:3,recovered:"1",id:96,age:36,gender:"MALE",confirmed:"2020-02-08",discharged:"",hospital:"National Centre for Infectious Diseases"},{name:"GRAND HYATT SINGAPORE",id:97},{case:31,name:"Male, 27",gp:5,recovered:"1",id:98,age:27,gender:"MALE",confirmed:"2020-02-06",discharged:"2020-02-17",hospital:"Changi General Hospital"},{case:37,name:"Female, 38",gp:5,recovered:"1",id:99,age:38,gender:"FEMALE",confirmed:"2020-02-07",discharged:"2020-03-02",hospital:"National Centre for Infectious Diseases"},{case:40,name:"Male, 51",gp:5,recovered:"1",id:100,age:51,gender:"MALE",confirmed:"2020-02-08",discharged:"2020-02-12",hospital:"National Centre for Infectious Diseases"},{name:"WIZLEARN TECHNOLOGIES",id:101},{case:94,name:"Male, 38",recovered:"1",gp:8,id:102,age:38,gender:"MALE",confirmed:"2020-02-26",discharged:"",hospital:"Singapore General Hospital"},{case:104,name:"Female, 37",gp:8,id:103,age:37,gender:"FEMALE",confirmed:"2020-03-01",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:102,name:"Male, 61",gp:8,id:104,age:61,gender:"MALE",confirmed:"2020-02-29",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:103,name:"Filipino maid, female, 41",gp:8,id:105,age:41,gender:"FEMALE",confirmed:"2020-03-01",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:109,name:"Filipino maid, female, 34",gp:8,id:106,age:34,gender:"FEMALE",confirmed:"2020-03-02",discharged:"",hospital:"Singapore General Hospital"},{case:105,name:"Myanmar maid, female, 25",gp:8,id:107,age:25,gender:"FEMALE",confirmed:"2020-03-01",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:96,name:"Male, 44",gp:8,id:108,age:44,gender:"MALE",confirmed:"2020-02-27",discharged:"2020-03-07",hospital:"KK Women’s and Children’s Hospital"},{case:98,name:"Female, 44",gp:8,id:109,age:44,gender:"FEMALE",confirmed:"2020-02-28",discharged:"2020-03-05",hospital:"National Centre for Infectious Diseases"},{case:99,name:"Male, 24",recovered:"1",gp:8,id:110,age:24,gender:"MALE",confirmed:"2020-02-29",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:106,name:"Male, 49",gp:8,id:111,age:49,gender:"MALE",confirmed:"2020-03-01",discharged:"2020-03-11",hospital:"National Centre for Infectious Diseases"},{case:107,name:"Japanese national, male, 54",recovered:"1",gp:8,id:112,age:54,gender:"MALE",confirmed:"2020-03-01",discharged:"2020-03-06",hospital:"National Centre for Infectious Diseases"},{case:111,name:"Male, 33",recovered:"1",gp:8,id:113,age:33,gender:"MALE",confirmed:"2020-03-03",discharged:"",hospital:"National University Hospital"},{case:100,name:"Male, 27",gp:8,id:114,age:27,gender:"MALE",confirmed:"2020-02-29",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:101,name:"Malaysian national, male, 20",gp:8,id:115,age:20,gender:"MALE",confirmed:"2020-02-29",discharged:"",hospital:"Ng Teng Fong General Hospital"},{name:"OTHER LOCALLY TRANSMITTED CASES",id:116},{case:30,name:"Male, 41",recovered:"1",gp:6,id:117,age:41,gender:"MALE",confirmed:"2020-02-06",discharged:"2020-02-14",hospital:"National Centre for Infectious Diseases"},{case:33,name:"VJC teacher, female, 42",recovered:"1",gp:6,id:118,age:42,gender:"FEMALE",confirmed:"2020-02-06",discharged:"2020-02-19",hospital:"Sengkang General Hospital"},{case:36,name:"Taxi driver, male, 64",gp:6,id:119,age:64,gender:"MALE",confirmed:"2020-02-07",discharged:"2020-02-11",hospital:"National Centre for Infectious Diseases"},{case:38,name:"PHV driver, male, 53",recovered:"1",gp:6,id:120,age:53,gender:"MALE",confirmed:"2020-02-08",discharged:"2020-02-18",hospital:"National Centre for Infectious Diseases"},{case:42,name:"Male, 71",gp:6,id:121,age:71,gender:"MALE",confirmed:"2020-02-08",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:76,name:"Family member, female, 71",recovered:"1",gp:6,id:122,age:71,gender:"FEMALE",confirmed:"2020-02-16",discharged:"2020-02-18",hospital:"KK Women’s and Children’s Hospital"},{case:44,name:"Works at RWS, male, 54",recovered:"1",gp:6,id:123,age:54,gender:"MALE",confirmed:"2020-02-08",discharged:"2020-02-19",hospital:"Khoo Teck Puat Hospital"},{case:45,name:"CERTIS CISCO officer, male, 37",recovered:"1",gp:6,id:124,age:37,gender:"MALE",confirmed:"2020-02-10",discharged:"2020-02-14",hospital:"KK Women’s and Children’s Hospital"},{case:47,recovered:"1",name:"Works at RWS Casino, male, 35",gp:6,id:125,age:35,gender:"MALE",confirmed:"2020-02-10",discharged:"2020-03-07",hospital:"National Centre for Infectious Diseases"},{case:51,name:"DBS employee, male, 62",recovered:"1",gp:6,id:126,age:62,gender:"MALE",confirmed:"2020-02-12",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:56,name:"Family member, male, 30",recovered:"1",gp:6,id:127,age:30,gender:"MALE",confirmed:"2020-02-13",discharged:"2020-02-26",hospital:"National Centre for Infectious Diseases"},{case:66,name:"Family member, female, 61",recovered:"1",gp:6,id:128,age:61,gender:"FEMALE",confirmed:"2020-02-14",discharged:"2020-02-20",hospital:"National Centre for Infectious Diseases"},{case:78,name:"Male, 35",recovered:"1",gp:6,id:129,age:35,gender:"MALE",confirmed:"2020-02-17",discharged:"2020-02-27",hospital:"National Centre for Infectious Diseases"},{case:60,name:"Works at private hospital, male, 61",recovered:"1",gp:6,id:130,age:61,gender:"MALE",confirmed:"2020-02-13",discharged:"2020-03-01",hospital:"National Centre for Infectious Diseases"},{case:73,name:"Chinese national, male, 40",recovered:"1",gp:6,id:131,age:40,gender:"MALE",confirmed:"2020-02-15",discharged:"2020-02-26",hospital:"National Centre for Infectious Diseases"},{case:80,name:"Family member, Malaysian national, female, 35",recovered:"1",gp:6,id:132,age:35,gender:"FEMALE",confirmed:"2020-02-18",discharged:"2020-02-27",hospital:"National University Hospital"},{case:65,name:"Taxi driver, male, 50",recovered:"1",gp:6,id:133,age:50,gender:"MALE",confirmed:"2020-02-14",discharged:"2020-02-17",hospital:"National Centre for Infectious Diseases"},{case:83,name:"Female, 57",gp:6,id:134,age:57,gender:"FEMALE",confirmed:"2020-02-19",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:87,name:"SIT student, male, 24",recovered:"1",gp:6,id:135,age:24,gender:"MALE",confirmed:"2020-02-21",discharged:"2020-02-24",hospital:"National Centre for Infectious Diseases"},{case:86,name:"Chinese national, male, 36",recovered:"1",gp:6,id:136,age:36,gender:"MALE",confirmed:"2020-02-20",discharged:"2020-03-07",hospital:"Ng Teng Fong General Hospital"},{case:90,name:"Male, 41",recovered:"1",gp:6,id:137,age:41,gender:"MALE",confirmed:"2020-02-23",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:93,name:"Male, 47",recovered:"1",gp:6,id:138,age:47,gender:"MALE",confirmed:"2020-02-26",discharged:"2020-03-07",hospital:"Ng Teng Fong General Hospital"},{case:110,name:"Male, 70",gp:6,id:139,age:70,gender:"MALE",confirmed:"2020-03-03",discharged:"2020-03-07",hospital:"National Centre for Infectious Diseases"},{case:127,name:"Male, 77",gp:6,id:140,age:77,gender:"MALE",confirmed:"2020-03-05",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:112,name:"Male, 43",gp:6,id:141,age:43,gender:"MALE",confirmed:"2020-03-04",discharged:"2020-03-09",hospital:"National Centre for Infectious Diseases"},{case:120,name:"Singtel employee, male, 55",gp:6,id:142,age:55,gender:"MALE",confirmed:"2020-03-05",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:136,name:"Male, 40",gp:6,id:143,age:40,gender:"MALE",confirmed:"2020-03-06",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:142,name:"Cleaner at NTU, male, 69",gp:6,id:144,age:69,gender:"MALE",confirmed:"2020-03-07",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:169,name:"Male, 47",gp:6,id:145,age:47,gender:"MALE",confirmed:"2020-03-10",discharged:"",hospital:"Khoo Teck Puat Hospital"},{case:173,name:"Filipino national, female, 42",gp:6,id:146,age:42,gender:"FEMALE",confirmed:"2020-03-11",discharged:"",hospital:"National Centre for Infectious Diseases"},{name:"IMPORTED CASES(NOT LINKED TO  CLUSTERS)",id:147},{case:2,name:"Chinese national, male, 66",recovered:"1",gp:7,id:148,age:66,gender:"MALE",confirmed:"2020-01-24",discharged:"2020-02-07",hospital:"National Centre for Infectious Diseases"},{case:3,name:"Chinese national, female, 53",recovered:"1",gp:7,id:149,age:53,gender:"FEMALE",confirmed:"2020-01-24",discharged:"2020-02-21",hospital:"Singapore General Hospital"},{case:4,name:"Chinese national, male, 37",recovered:"1",gp:7,id:150,age:37,gender:"MALE",confirmed:"2020-01-25",discharged:"2020-02-12",hospital:"Sengkang General Hospital"},{case:5,recovered:"1",name:"Chinese national, male, 36",gp:7,id:151,age:36,gender:"MALE",confirmed:"2020-01-27",discharged:"2020-02-18",hospital:"National Centre for Infectious Diseases"},{case:6,name:"Chinese national, female, 56",recovered:"1",gp:7,id:152,age:56,gender:"FEMALE",confirmed:"2020-01-27",discharged:"2020-02-20",hospital:"Changi General Hospital"},{case:7,name:"Chinese national, male, 56",recovered:"1",gp:7,id:153,age:56,gender:"MALE",confirmed:"2020-01-27",discharged:"2020-02-04",hospital:"National Centre for Infectious Diseases"},{case:8,name:"Chinese national, male, 35",recovered:"1",gp:7,id:154,age:35,gender:"MALE",confirmed:"2020-01-29",discharged:"2020-02-18",hospital:"National Centre for Infectious Diseases"},{case:11,name:"Chinese national, male, 56",recovered:"1",gp:7,id:155,age:56,gender:"MALE",confirmed:"2020-01-29",discharged:"2020-02-10",hospital:"National Centre for Infectious Diseases"},{case:12,name:"Chinese national, female, 31",recovered:"1",gp:7,id:156,age:31,gender:"FEMALE",confirmed:"2020-01-29",discharged:"2020-02-12",hospital:"National Centre for Infectious Diseases"},{case:13,name:"Chinese national, female, 37",recovered:"1",gp:7,id:157,age:37,gender:"FEMALE",confirmed:"2020-01-30",discharged:"2020-02-09",hospital:"National Centre for Infectious Diseases"},{case:14,name:"Chinese national, female, 73",gp:7,recovered:"1",id:158,age:73,gender:"FEMALE",confirmed:"2020-01-30",discharged:"2020-02-17",hospital:"National Centre for Infectious Diseases"},{case:15,name:"Chinese national, male, 31",recovered:"1",gp:7,id:159,age:31,gender:"MALE",confirmed:"2020-01-31",discharged:"2020-02-16",hospital:"National Centre for Infectious Diseases"},{case:16,name:"Singaporean, female, 47",recovered:"1",gp:7,id:160,age:47,gender:"FEMALE",confirmed:"2020-01-31",discharged:"2020-02-20",hospital:"Singapore General Hospital"},{case:17,name:"Chinese national, male, 38",recovered:"1",gp:7,id:161,age:38,gender:"MALE",confirmed:"2020-01-31",discharged:"2020-02-11",hospital:"National Centre for Infectious Diseases"},{case:18,name:"Singaporean, female, 47",recovered:"1",gp:7,id:162,age:47,gender:"FEMALE",confirmed:"2020-02-01",discharged:"2020-02-27",hospital:"National Centre for Infectious Diseases"},{case:19,name:"Chinese national, female, 31",recovered:"1",gp:7,id:163,age:31,gender:"FEMALE",confirmed:"2020-02-03",discharged:"2020-02-22",hospital:" Singapore General Hospital"},{case:23,name:"Singaporean, male, 41",recovered:"1",gp:7,id:164,age:41,gender:"MALE",confirmed:"2020-02-03",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:24,name:"Singaporean, male, 17",recovered:"1",gp:7,id:165,age:17,gender:"MALE",confirmed:"2020-02-04",discharged:"2020-02-15",hospital:"National Centre for Infectious Diseases"},{case:27,name:"Chinese national, female, 42",recovered:"1",gp:7,id:166,age:42,gender:"FEMALE",confirmed:"2020-02-05",discharged:"2020-02-21",hospital:"National Centre for Infectious Diseases"},{case:46,recovered:"1",name:"Singaporean, female toddler, 2",gp:7,id:167,age:2,gender:"FEMALE TODDLER",confirmed:"2020-02-10",discharged:"2020-02-24",hospital:"National Centre for Infectious Diseases"},{case:77,name:"Singaporean, male toddler, 1",recovered:"1",gp:7,id:168,age:1,gender:"MALE TODDLER",confirmed:"2020-02-16",discharged:"2020-02-25",hospital:"National Centre for Infectious Diseases"},{case:88,name:"Singaporean, male, 32",recovered:"1",gp:7,id:169,age:32,gender:"MALE",confirmed:"2020-02-21",discharged:"2020-03-02",hospital:"National Centre for Infectious Diseases"},{case:114,name:"French national, male, 42",gp:7,id:170,age:42,gender:"MALE",confirmed:"2020-03-04",discharged:"",hospital:"National University Hospital"},{case:124,name:"SIA cabin crew, male, 47",gp:7,id:171,age:47,gender:"MALE",confirmed:"2020-03-06",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:125,name:"Singapore PR, female, 37",gp:7,id:172,age:37,gender:"FEMALE",confirmed:"2020-03-06",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:133,name:"Singapore PR, female, 37",gp:7,id:173,age:37,gender:"FEMALE",confirmed:"2020-03-06",discharged:"",hospital:"National University Hospital"},{case:144,name:"Singapore PR, male, 42",gp:7,id:174,age:42,gender:"MALE",confirmed:"2020-03-07",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:137,name:"Italian national, male, 36",gp:7,id:175,age:36,gender:"MALE",confirmed:"2020-03-06",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:148,name:"Indonesian national, male, 64",gp:7,id:176,age:64,gender:"MALE",confirmed:"2020-03-08",discharged:"2020-03-11",hospital:"National Centre for Infectious Diseases"},{case:153,name:"Indonesian national, male, 65",gp:7,id:177,age:65,gender:"MALE",confirmed:"2020-03-08",discharged:"",hospital:"Singapore General Hospital"},{case:154,name:"Singaporean, female, 65",gp:7,id:178,age:65,gender:"FEMALE",confirmed:"2020-03-09",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:155,name:"British national, male, 52",gp:7,id:179,age:52,gender:"MALE",confirmed:"2020-03-09",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:166,name:"RSAF serviceman, male, 30",gp:7,id:180,age:30,gender:"MALE",confirmed:"2020-03-10",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:170,name:"RSAF serviceman, male, 40",gp:7,id:181,age:40,gender:"MALE",confirmed:"2020-03-10",discharged:"",hospital:"Singapore General Hospital"},{case:171,name:"Indonesian national, female, 56",gp:7,id:182,age:56,gender:"FEMALE",confirmed:"2020-03-11",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:172,name:"Singaporean, male, 27",gp:7,id:183,age:27,gender:"MALE",confirmed:"2020-03-11",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:174,name:"RSAF serviceman, male, 31",gp:7,id:184,age:31,gender:"MALE",confirmed:"2020-03-11",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:176,name:"RSAF serviceman, male, 44",gp:7,id:185,age:44,gender:"MALE",confirmed:"2020-03-11",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:177,name:"British national, female, 37",gp:7,id:186,age:37,gender:"FEMALE",confirmed:"2020-03-11",discharged:"",hospital:"National Centre for Infectious Diseases"},{case:178,name:"Singaporean, male, 26",gp:7,id:187,age:26,gender:"MALE",confirmed:"2020-03-11",discharged:"",hospital:"Ng Teng Fong General Hospital"},{case:178,name:"Filipino national, male, 37",gp:7,id:188,age:37,gender:"MALE"},{case:168,name:"NTFGH nurse, Filipino national, female, 35",gp:7,id:189,age:35,gender:"FEMALE",confirmed:"2020-03-10",discharged:"",hospital:"Sengkang Hospital"}],links:[{id:1,source:1,target:2},{id:2,source:2,target:3},{id:3,source:2,target:4},{id:4,source:2,target:5},{id:5,source:2,target:6},{id:6,source:2,target:7},{id:7,source:2,target:8},{id:8,source:2,target:9},{id:9,source:2,target:10},{id:10,source:2,target:11},{id:11,source:2,target:12},{id:12,source:2,target:13},{id:13,source:2,target:14},{id:14,source:2,target:15},{id:15,source:2,target:16},{id:16,source:2,target:17},{id:17,source:2,target:18},{id:18,source:2,target:19},{id:19,source:2,target:20},{id:20,source:2,target:21},{id:21,source:2,target:22},{id:22,source:2,target:23},{id:23,source:2,target:24},{id:24,source:2,target:25},{id:25,source:2,target:26},{id:26,source:26,target:27},{id:27,source:26,target:28},{id:28,source:2,target:29},{id:29,source:2,target:30},{id:30,source:2,target:31},{id:31,source:2,target:32},{id:32,source:2,target:33},{id:33,source:2,target:34},{id:34,source:2,target:35},{id:35,source:2,target:36},{id:36,source:2,target:37},{id:37,source:2,target:38},{id:38,source:2,target:39},{id:39,source:2,target:40},{id:40,source:2,target:41},{id:41,source:2,target:42},{id:42,source:2,target:43},{id:43,source:2,target:44},{id:44,source:1,target:45},{id:45,source:45,target:46},{id:46,source:45,target:47},{id:47,source:47,target:48},{id:48,source:47,target:49},{id:49,source:47,target:50},{id:50,source:47,target:51},{id:51,source:47,target:52},{id:52,source:52,target:53},{id:53,source:53,target:54},{id:54,source:54,target:55},{id:55,source:55,target:56},{id:56,source:55,target:57},{id:57,source:55,target:58},{id:58,source:55,target:59},{id:59,source:55,target:60},{id:60,source:55,target:61},{id:61,source:55,target:62},{id:62,source:55,target:63},{id:63,source:55,target:64},{id:64,source:55,target:65},{id:65,source:55,target:66},{id:66,source:55,target:67},{id:67,source:55,target:68},{id:68,source:55,target:69},{id:69,source:55,target:70},{id:70,source:55,target:71},{id:71,source:53,target:72},{id:72,source:53,target:73},{id:73,source:53,target:74},{id:74,source:53,target:75},{id:75,source:53,target:76},{id:76,source:53,target:77},{id:77,source:47,target:78},{id:78,source:47,target:79},{id:79,source:47,target:80},{id:80,source:1,target:81},{id:81,source:81,target:82},{id:82,source:81,target:83},{id:83,source:81,target:84},{id:84,source:81,target:85},{id:85,source:81,target:86},{id:86,source:1,target:87},{id:87,source:87,target:88},{id:88,source:88,target:89},{id:89,source:88,target:90},{id:90,source:88,target:91},{id:91,source:87,target:92},{id:92,source:87,target:93},{id:93,source:93,target:94},{id:94,source:87,target:95},{id:95,source:87,target:96},{id:96,source:1,target:97},{id:97,source:97,target:98},{id:98,source:97,target:99},{id:99,source:97,target:100},{id:100,source:1,target:101},{id:101,source:101,target:102},{id:102,source:102,target:103},{id:103,source:103,target:104},{id:104,source:104,target:105},{id:105,source:104,target:106},{id:106,source:103,target:107},{id:107,source:101,target:108},{id:108,source:101,target:109},{id:109,source:101,target:110},{id:110,source:101,target:111},{id:111,source:101,target:112},{id:112,source:101,target:113},{id:113,source:101,target:114},{id:114,source:101,target:115},{id:115,source:1,target:116},{id:116,source:116,target:117},{id:117,source:116,target:118},{id:118,source:116,target:119},{id:119,source:116,target:120},{id:120,source:116,target:121},{id:121,source:121,target:122},{id:122,source:116,target:123},{id:123,source:116,target:124},{id:124,source:116,target:125},{id:125,source:116,target:126},{id:126,source:126,target:127},{id:127,source:126,target:128},{id:128,source:126,target:129},{id:129,source:116,target:130},{id:130,source:130,target:131},{id:131,source:131,target:132},{id:132,source:116,target:133},{id:133,source:116,target:134},{id:134,source:134,target:135},{id:135,source:116,target:136},{id:136,source:116,target:137},{id:137,source:116,target:138},{id:138,source:116,target:139},{id:139,source:139,target:140},{id:140,source:116,target:141},{id:141,source:116,target:142},{id:142,source:116,target:143},{id:143,source:116,target:144},{id:144,source:116,target:145},{id:145,source:116,target:146},{id:146,source:1,target:147},{id:147,source:147,target:148},{id:148,source:147,target:149},{id:149,source:147,target:150},{id:150,source:147,target:151},{id:151,source:147,target:152},{id:152,source:147,target:153},{id:153,source:147,target:154},{id:154,source:147,target:155},{id:155,source:147,target:156},{id:156,source:147,target:157},{id:157,source:147,target:158},{id:158,source:147,target:159},{id:159,source:147,target:160},{id:160,source:147,target:161},{id:161,source:147,target:162},{id:162,source:147,target:163},{id:163,source:147,target:164},{id:164,source:147,target:165},{id:165,source:147,target:166},{id:166,source:147,target:167},{id:167,source:147,target:168},{id:168,source:147,target:169},{id:169,source:147,target:170},{id:170,source:147,target:171},{id:171,source:147,target:172},{id:172,source:147,target:173},{id:173,source:173,target:174},{id:174,source:147,target:175},{id:175,source:147,target:176},{id:176,source:147,target:177},{id:177,source:147,target:178},{id:178,source:147,target:179},{id:179,source:147,target:180},{id:180,source:147,target:181},{id:181,source:147,target:182},{id:182,source:147,target:183},{id:183,source:147,target:184},{id:184,source:147,target:185},{id:185,source:147,target:186},{id:186,source:147,target:187},{id:187,source:147,target:188},{id:188,source:188,target:189}]}},function(e){e.exports={nodes:[{name:"Myriel",group:1,id:0},{name:"Napoleon",group:1,id:1},{name:"Mlle.Baptistine",group:1,id:2},{name:"Mme.Magloire",group:1,id:3},{name:"CountessdeLo",group:1,id:4},{name:"Geborand",group:1,id:5},{name:"Champtercier",group:1,id:6},{name:"Cravatte",group:1,id:7},{name:"Count",group:1,id:8},{name:"OldMan",group:1,id:9},{name:"Labarre",group:2,id:10},{name:"Valjean",group:2,id:11},{name:"Marguerite",group:3,id:12},{name:"Mme.deR",group:2,id:13},{name:"Isabeau",group:2,id:14},{name:"Gervais",group:2,id:15},{name:"Tholomyes",group:3,id:16},{name:"Listolier",group:3,id:17},{name:"Fameuil",group:3,id:18},{name:"Blacheville",group:3,id:19},{name:"Favourite",group:3,id:20},{name:"Dahlia",group:3,id:21},{name:"Zephine",group:3,id:22},{name:"Fantine",group:3,id:23},{name:"Mme.Thenardier",group:4,id:24},{name:"Thenardier",group:4,id:25},{name:"Cosette",group:5,id:26},{name:"Javert",group:4,id:27},{name:"Fauchelevent",group:0,id:28},{name:"Bamatabois",group:2,id:29},{name:"Perpetue",group:3,id:30},{name:"Simplice",group:2,id:31},{name:"Scaufflaire",group:2,id:32},{name:"Woman1",group:2,id:33},{name:"Judge",group:2,id:34},{name:"Champmathieu",group:2,id:35},{name:"Brevet",group:2,id:36},{name:"Chenildieu",group:2,id:37},{name:"Cochepaille",group:2,id:38},{name:"Pontmercy",group:4,id:39},{name:"Boulatruelle",group:6,id:40},{name:"Eponine",group:4,id:41},{name:"Anzelma",group:4,id:42},{name:"Woman2",group:5,id:43},{name:"MotherInnocent",group:0,id:44},{name:"Gribier",group:0,id:45},{name:"Jondrette",group:7,id:46},{name:"Mme.Burgon",group:7,id:47},{name:"Gavroche",group:8,id:48},{name:"Gillenormand",group:5,id:49},{name:"Magnon",group:5,id:50},{name:"Mlle.Gillenormand",group:5,id:51},{name:"Mme.Pontmercy",group:5,id:52},{name:"Mlle.Vaubois",group:5,id:53},{name:"Lt.Gillenormand",group:5,id:54},{name:"Marius",group:8,id:55},{name:"BaronessT",group:5,id:56},{name:"Mabeuf",group:8,id:57},{name:"Enjolras",group:8,id:58},{name:"Combeferre",group:8,id:59},{name:"Prouvaire",group:8,id:60},{name:"Feuilly",group:8,id:61},{name:"Courfeyrac",group:8,id:62},{name:"Bahorel",group:8,id:63},{name:"Bossuet",group:8,id:64},{name:"Joly",group:8,id:65},{name:"Grantaire",group:8,id:66},{name:"MotherPlutarch",group:9,id:67},{name:"Gueulemer",group:4,id:68},{name:"Babet",group:4,id:69},{name:"Claquesous",group:4,id:70},{name:"Montparnasse",group:4,id:71},{name:"Toussaint",group:5,id:72},{name:"Child1",group:10,id:73},{name:"Child2",group:10,id:74},{name:"Brujon",group:4,id:75},{name:"Mme.Hucheloup",group:8,id:76}],links:[{source:1,target:0,value:1,id:0},{source:2,target:0,value:8,id:1},{source:3,target:0,value:10,id:2},{source:3,target:2,value:6,id:3},{source:4,target:0,value:1,id:4},{source:5,target:0,value:1,id:5},{source:6,target:0,value:1,id:6},{source:7,target:0,value:1,id:7},{source:8,target:0,value:2,id:8},{source:9,target:0,value:1,id:9},{source:11,target:10,value:1,id:10},{source:11,target:3,value:3,id:11},{source:11,target:2,value:3,id:12},{source:11,target:0,value:5,id:13},{source:12,target:11,value:1,id:14},{source:13,target:11,value:1,id:15},{source:14,target:11,value:1,id:16},{source:15,target:11,value:1,id:17},{source:17,target:16,value:4,id:18},{source:18,target:16,value:4,id:19},{source:18,target:17,value:4,id:20},{source:19,target:16,value:4,id:21},{source:19,target:17,value:4,id:22},{source:19,target:18,value:4,id:23},{source:20,target:16,value:3,id:24},{source:20,target:17,value:3,id:25},{source:20,target:18,value:3,id:26},{source:20,target:19,value:4,id:27},{source:21,target:16,value:3,id:28},{source:21,target:17,value:3,id:29},{source:21,target:18,value:3,id:30},{source:21,target:19,value:3,id:31},{source:21,target:20,value:5,id:32},{source:22,target:16,value:3,id:33},{source:22,target:17,value:3,id:34},{source:22,target:18,value:3,id:35},{source:22,target:19,value:3,id:36},{source:22,target:20,value:4,id:37},{source:22,target:21,value:4,id:38},{source:23,target:16,value:3,id:39},{source:23,target:17,value:3,id:40},{source:23,target:18,value:3,id:41},{source:23,target:19,value:3,id:42},{source:23,target:20,value:4,id:43},{source:23,target:21,value:4,id:44},{source:23,target:22,value:4,id:45},{source:23,target:12,value:2,id:46},{source:23,target:11,value:9,id:47},{source:24,target:23,value:2,id:48},{source:24,target:11,value:7,id:49},{source:25,target:24,value:13,id:50},{source:25,target:23,value:1,id:51},{source:25,target:11,value:12,id:52},{source:26,target:24,value:4,id:53},{source:26,target:11,value:31,id:54},{source:26,target:16,value:1,id:55},{source:26,target:25,value:1,id:56},{source:27,target:11,value:17,id:57},{source:27,target:23,value:5,id:58},{source:27,target:25,value:5,id:59},{source:27,target:24,value:1,id:60},{source:27,target:26,value:1,id:61},{source:28,target:11,value:8,id:62},{source:28,target:27,value:1,id:63},{source:29,target:23,value:1,id:64},{source:29,target:27,value:1,id:65},{source:29,target:11,value:2,id:66},{source:30,target:23,value:1,id:67},{source:31,target:30,value:2,id:68},{source:31,target:11,value:3,id:69},{source:31,target:23,value:2,id:70},{source:31,target:27,value:1,id:71},{source:32,target:11,value:1,id:72},{source:33,target:11,value:2,id:73},{source:33,target:27,value:1,id:74},{source:34,target:11,value:3,id:75},{source:34,target:29,value:2,id:76},{source:35,target:11,value:3,id:77},{source:35,target:34,value:3,id:78},{source:35,target:29,value:2,id:79},{source:36,target:34,value:2,id:80},{source:36,target:35,value:2,id:81},{source:36,target:11,value:2,id:82},{source:36,target:29,value:1,id:83},{source:37,target:34,value:2,id:84},{source:37,target:35,value:2,id:85},{source:37,target:36,value:2,id:86},{source:37,target:11,value:2,id:87},{source:37,target:29,value:1,id:88},{source:38,target:34,value:2,id:89},{source:38,target:35,value:2,id:90},{source:38,target:36,value:2,id:91},{source:38,target:37,value:2,id:92},{source:38,target:11,value:2,id:93},{source:38,target:29,value:1,id:94},{source:39,target:25,value:1,id:95},{source:40,target:25,value:1,id:96},{source:41,target:24,value:2,id:97},{source:41,target:25,value:3,id:98},{source:42,target:41,value:2,id:99},{source:42,target:25,value:2,id:100},{source:42,target:24,value:1,id:101},{source:43,target:11,value:3,id:102},{source:43,target:26,value:1,id:103},{source:43,target:27,value:1,id:104},{source:44,target:28,value:3,id:105},{source:44,target:11,value:1,id:106},{source:45,target:28,value:2,id:107},{source:47,target:46,value:1,id:108},{source:48,target:47,value:2,id:109},{source:48,target:25,value:1,id:110},{source:48,target:27,value:1,id:111},{source:48,target:11,value:1,id:112},{source:49,target:26,value:3,id:113},{source:49,target:11,value:2,id:114},{source:50,target:49,value:1,id:115},{source:50,target:24,value:1,id:116},{source:51,target:49,value:9,id:117},{source:51,target:26,value:2,id:118},{source:51,target:11,value:2,id:119},{source:52,target:51,value:1,id:120},{source:52,target:39,value:1,id:121},{source:53,target:51,value:1,id:122},{source:54,target:51,value:2,id:123},{source:54,target:49,value:1,id:124},{source:54,target:26,value:1,id:125},{source:55,target:51,value:6,id:126},{source:55,target:49,value:12,id:127},{source:55,target:39,value:1,id:128},{source:55,target:54,value:1,id:129},{source:55,target:26,value:21,id:130},{source:55,target:11,value:19,id:131},{source:55,target:16,value:1,id:132},{source:55,target:25,value:2,id:133},{source:55,target:41,value:5,id:134},{source:55,target:48,value:4,id:135},{source:56,target:49,value:1,id:136},{source:56,target:55,value:1,id:137},{source:57,target:55,value:1,id:138},{source:57,target:41,value:1,id:139},{source:57,target:48,value:1,id:140},{source:58,target:55,value:7,id:141},{source:58,target:48,value:7,id:142},{source:58,target:27,value:6,id:143},{source:58,target:57,value:1,id:144},{source:58,target:11,value:4,id:145},{source:59,target:58,value:15,id:146},{source:59,target:55,value:5,id:147},{source:59,target:48,value:6,id:148},{source:59,target:57,value:2,id:149},{source:60,target:48,value:1,id:150},{source:60,target:58,value:4,id:151},{source:60,target:59,value:2,id:152},{source:61,target:48,value:2,id:153},{source:61,target:58,value:6,id:154},{source:61,target:60,value:2,id:155},{source:61,target:59,value:5,id:156},{source:61,target:57,value:1,id:157},{source:61,target:55,value:1,id:158},{source:62,target:55,value:9,id:159},{source:62,target:58,value:17,id:160},{source:62,target:59,value:13,id:161},{source:62,target:48,value:7,id:162},{source:62,target:57,value:2,id:163},{source:62,target:41,value:1,id:164},{source:62,target:61,value:6,id:165},{source:62,target:60,value:3,id:166},{source:63,target:59,value:5,id:167},{source:63,target:48,value:5,id:168},{source:63,target:62,value:6,id:169},{source:63,target:57,value:2,id:170},{source:63,target:58,value:4,id:171},{source:63,target:61,value:3,id:172},{source:63,target:60,value:2,id:173},{source:63,target:55,value:1,id:174},{source:64,target:55,value:5,id:175},{source:64,target:62,value:12,id:176},{source:64,target:48,value:5,id:177},{source:64,target:63,value:4,id:178},{source:64,target:58,value:10,id:179},{source:64,target:61,value:6,id:180},{source:64,target:60,value:2,id:181},{source:64,target:59,value:9,id:182},{source:64,target:57,value:1,id:183},{source:64,target:11,value:1,id:184},{source:65,target:63,value:5,id:185},{source:65,target:64,value:7,id:186},{source:65,target:48,value:3,id:187},{source:65,target:62,value:5,id:188},{source:65,target:58,value:5,id:189},{source:65,target:61,value:5,id:190},{source:65,target:60,value:2,id:191},{source:65,target:59,value:5,id:192},{source:65,target:57,value:1,id:193},{source:65,target:55,value:2,id:194},{source:66,target:64,value:3,id:195},{source:66,target:58,value:3,id:196},{source:66,target:59,value:1,id:197},{source:66,target:62,value:2,id:198},{source:66,target:65,value:2,id:199},{source:66,target:48,value:1,id:200},{source:66,target:63,value:1,id:201},{source:66,target:61,value:1,id:202},{source:66,target:60,value:1,id:203},{source:67,target:57,value:3,id:204},{source:68,target:25,value:5,id:205},{source:68,target:11,value:1,id:206},{source:68,target:24,value:1,id:207},{source:68,target:27,value:1,id:208},{source:68,target:48,value:1,id:209},{source:68,target:41,value:1,id:210},{source:69,target:25,value:6,id:211},{source:69,target:68,value:6,id:212},{source:69,target:11,value:1,id:213},{source:69,target:24,value:1,id:214},{source:69,target:27,value:2,id:215},{source:69,target:48,value:1,id:216},{source:69,target:41,value:1,id:217},{source:70,target:25,value:4,id:218},{source:70,target:69,value:4,id:219},{source:70,target:68,value:4,id:220},{source:70,target:11,value:1,id:221},{source:70,target:24,value:1,id:222},{source:70,target:27,value:1,id:223},{source:70,target:41,value:1,id:224},{source:70,target:58,value:1,id:225},{source:71,target:27,value:1,id:226},{source:71,target:69,value:2,id:227},{source:71,target:68,value:2,id:228},{source:71,target:70,value:2,id:229},{source:71,target:11,value:1,id:230},{source:71,target:48,value:1,id:231},{source:71,target:41,value:1,id:232},{source:71,target:25,value:1,id:233},{source:72,target:26,value:2,id:234},{source:72,target:27,value:1,id:235},{source:72,target:11,value:1,id:236},{source:73,target:48,value:2,id:237},{source:74,target:48,value:2,id:238},{source:74,target:73,value:3,id:239},{source:75,target:69,value:3,id:240},{source:75,target:68,value:3,id:241},{source:75,target:25,value:3,id:242},{source:75,target:48,value:1,id:243},{source:75,target:41,value:1,id:244},{source:75,target:70,value:1,id:245},{source:75,target:71,value:1,id:246},{source:76,target:64,value:1,id:247},{source:76,target:65,value:1,id:248},{source:76,target:66,value:1,id:249},{source:76,target:63,value:1,id:250},{source:76,target:62,value:1,id:251},{source:76,target:48,value:1,id:252},{source:76,target:58,value:1,id:253}]}},function(e){e.exports={nodes:[{id:1,name:"man"},{id:2,name:"agreeable"},{id:3,name:"old"},{id:4,name:"person"},{id:5,name:"short"},{id:6,name:"anything"},{id:7,name:"arm"},{id:8,name:"round"},{id:9,name:"first"},{id:10,name:"aunt"},{id:11,name:"bad"},{id:12,name:"air"},{id:13,name:"boy"},{id:14,name:"black"},{id:15,name:"beautiful"},{id:16,name:"face"},{id:17,name:"letter"},{id:18,name:"little"},{id:19,name:"young"},{id:20,name:"best"},{id:21,name:"course"},{id:22,name:"friend"},{id:23,name:"love"},{id:24,name:"part"},{id:25,name:"room"},{id:26,name:"thing"},{id:27,name:"time"},{id:28,name:"way"},{id:29,name:"better"},{id:30,name:"heart"},{id:31,name:"mind"},{id:32,name:"place"},{id:33,name:"right"},{id:34,name:"state"},{id:35,name:"woman"},{id:36,name:"word"},{id:37,name:"door"},{id:38,name:"eye"},{id:39,name:"bright"},{id:40,name:"evening"},{id:41,name:"morning"},{id:42,name:"certain"},{id:43,name:"day"},{id:44,name:"other"},{id:45,name:"child"},{id:46,name:"happy"},{id:47,name:"common"},{id:48,name:"dark"},{id:49,name:"kind"},{id:50,name:"night"},{id:51,name:"dear"},{id:52,name:"good"},{id:53,name:"home"},{id:54,name:"mother"},{id:55,name:"pretty"},{id:56,name:"open"},{id:57,name:"early"},{id:58,name:"fire"},{id:59,name:"full"},{id:60,name:"great"},{id:61,name:"master"},{id:62,name:"moment"},{id:63,name:"work"},{id:64,name:"general"},{id:65,name:"fancy"},{id:66,name:"voice"},{id:67,name:"head"},{id:68,name:"hope"},{id:69,name:"long"},{id:70,name:"greater"},{id:71,name:"hand"},{id:72,name:"hard"},{id:73,name:"red"},{id:74,name:"life"},{id:75,name:"glad"},{id:76,name:"large"},{id:77,name:"new"},{id:78,name:"white"},{id:79,name:"late"},{id:80,name:"whole"},{id:81,name:"light"},{id:82,name:"manner"},{id:83,name:"bed"},{id:84,name:"house"},{id:85,name:"low"},{id:86,name:"money"},{id:87,name:"ready"},{id:88,name:"small"},{id:89,name:"strange"},{id:90,name:"thought"},{id:91,name:"lost"},{id:92,name:"alone"},{id:93,name:"nothing"},{id:94,name:"miserable"},{id:95,name:"natural"},{id:96,name:"half"},{id:97,name:"wrong"},{id:98,name:"name"},{id:99,name:"pleasant"},{id:100,name:"possible"},{id:101,name:"side"},{id:102,name:"perfect"},{id:103,name:"poor"},{id:104,name:"quiet"},{id:105,name:"same"},{id:106,name:"strong"},{id:107,name:"something"},{id:108,name:"true"},{id:109,name:"usual"},{id:110,name:"family"},{id:111,name:"world"},{id:112,name:"year"}],links:[{id:1,source:1,target:2},{id:2,source:1,target:3},{id:3,source:1,target:9},{id:4,source:1,target:14},{id:5,source:1,target:18},{id:6,source:1,target:19},{id:7,source:1,target:20},{id:8,source:1,target:29},{id:9,source:1,target:42},{id:10,source:1,target:46},{id:11,source:1,target:47},{id:12,source:1,target:52},{id:13,source:1,target:92},{id:14,source:1,target:103},{id:15,source:2,target:3},{id:16,source:2,target:4},{id:17,source:3,target:4},{id:18,source:3,target:9},{id:19,source:3,target:12},{id:20,source:3,target:14},{id:21,source:3,target:18},{id:22,source:3,target:22},{id:23,source:3,target:23},{id:24,source:3,target:24},{id:25,source:3,target:25},{id:26,source:3,target:26},{id:27,source:3,target:27},{id:28,source:3,target:28},{id:29,source:3,target:32},{id:30,source:3,target:35},{id:31,source:3,target:37},{id:32,source:3,target:42},{id:33,source:3,target:43},{id:34,source:3,target:46},{id:35,source:3,target:51},{id:36,source:3,target:52},{id:37,source:3,target:55},{id:38,source:3,target:67},{id:39,source:3,target:74},{id:40,source:3,target:84},{id:41,source:3,target:94},{id:42,source:3,target:98},{id:43,source:3,target:99},{id:44,source:3,target:103},{id:45,source:3,target:105},{id:46,source:3,target:106},{id:47,source:3,target:112},{id:48,source:4,target:9},{id:49,source:4,target:11},{id:50,source:4,target:19},{id:51,source:4,target:42},{id:52,source:4,target:44},{id:53,source:4,target:52},{id:54,source:4,target:86},{id:55,source:5,target:6},{id:56,source:5,target:7},{id:57,source:5,target:18},{id:58,source:5,target:28},{id:59,source:5,target:33},{id:60,source:5,target:40},{id:61,source:5,target:44},{id:62,source:6,target:90},{id:63,source:7,target:8},{id:64,source:7,target:33},{id:65,source:7,target:52},{id:66,source:7,target:53},{id:67,source:7,target:56},{id:68,source:8,target:16},{id:69,source:8,target:18},{id:70,source:8,target:22},{id:71,source:8,target:38},{id:72,source:8,target:39},{id:73,source:8,target:52},{id:74,source:8,target:71},{id:75,source:8,target:76},{id:76,source:8,target:88},{id:77,source:8,target:107},{id:78,source:9,target:10},{id:79,source:9,target:13},{id:80,source:9,target:18},{id:81,source:9,target:25},{id:82,source:9,target:26},{id:83,source:9,target:27},{id:84,source:9,target:40},{id:85,source:9,target:41},{id:86,source:9,target:43},{id:87,source:9,target:60},{id:88,source:9,target:61},{id:89,source:9,target:62},{id:90,source:9,target:63},{id:91,source:9,target:90},{id:92,source:11,target:12},{id:93,source:11,target:13},{id:94,source:11,target:51},{id:95,source:12,target:41},{id:96,source:12,target:64},{id:97,source:12,target:70},{id:98,source:12,target:99},{id:99,source:12,target:105},{id:100,source:13,target:18},{id:101,source:13,target:19},{id:102,source:13,target:44},{id:103,source:13,target:51},{id:104,source:13,target:88},{id:105,source:13,target:89},{id:106,source:13,target:103},{id:107,source:13,target:105},{id:108,source:14,target:15},{id:109,source:14,target:17},{id:110,source:14,target:18},{id:111,source:14,target:26},{id:112,source:14,target:37},{id:113,source:14,target:38},{id:114,source:14,target:60},{id:115,source:14,target:69},{id:116,source:14,target:72},{id:117,source:14,target:106},{id:118,source:15,target:16},{id:119,source:15,target:17},{id:120,source:15,target:18},{id:121,source:15,target:19},{id:122,source:15,target:103},{id:123,source:16,target:18},{id:124,source:16,target:33},{id:125,source:16,target:39},{id:126,source:16,target:44},{id:127,source:16,target:49},{id:128,source:16,target:76},{id:129,source:16,target:77},{id:130,source:16,target:80},{id:131,source:16,target:89},{id:132,source:16,target:105},{id:133,source:17,target:69},{id:134,source:18,target:22},{id:135,source:18,target:23},{id:136,source:18,target:25},{id:137,source:18,target:26},{id:138,source:18,target:27},{id:139,source:18,target:28},{id:140,source:18,target:29},{id:141,source:18,target:32},{id:142,source:18,target:33},{id:143,source:18,target:35},{id:144,source:18,target:36},{id:145,source:18,target:37},{id:146,source:18,target:38},{id:147,source:18,target:39},{id:148,source:18,target:44},{id:149,source:18,target:45},{id:150,source:18,target:51},{id:151,source:18,target:52},{id:152,source:18,target:53},{id:153,source:18,target:55},{id:154,source:18,target:66},{id:155,source:18,target:67},{id:156,source:18,target:68},{id:157,source:18,target:71},{id:158,source:18,target:73},{id:159,source:18,target:78},{id:160,source:18,target:81},{id:161,source:18,target:83},{id:162,source:18,target:84},{id:163,source:18,target:85},{id:164,source:18,target:86},{id:165,source:18,target:87},{id:166,source:18,target:88},{id:167,source:18,target:89},{id:168,source:18,target:90},{id:169,source:18,target:94},{id:170,source:18,target:99},{id:171,source:18,target:103},{id:172,source:18,target:104},{id:173,source:18,target:105},{id:174,source:19,target:22},{id:175,source:19,target:30},{id:176,source:19,target:35},{id:177,source:19,target:44},{id:178,source:19,target:45},{id:179,source:19,target:51},{id:180,source:19,target:52},{id:181,source:19,target:54},{id:182,source:19,target:55},{id:183,source:19,target:61},{id:184,source:20,target:21},{id:185,source:20,target:22},{id:186,source:20,target:23},{id:187,source:20,target:24},{id:188,source:20,target:25},{id:189,source:20,target:26},{id:190,source:20,target:27},{id:191,source:20,target:28},{id:192,source:21,target:44},{id:193,source:21,target:80},{id:194,source:21,target:95},{id:195,source:21,target:109},{id:196,source:22,target:29},{id:197,source:22,target:44},{id:198,source:22,target:49},{id:199,source:22,target:51},{id:200,source:22,target:52},{id:201,source:23,target:46},{id:202,source:23,target:95},{id:203,source:24,target:44},{id:204,source:24,target:48},{id:205,source:24,target:52},{id:206,source:24,target:60},{id:207,source:24,target:70},{id:208,source:24,target:106},{id:209,source:25,target:37},{id:210,source:25,target:44},{id:211,source:25,target:48},{id:212,source:25,target:50},{id:213,source:25,target:69},{id:214,source:25,target:76},{id:215,source:25,target:77},{id:216,source:25,target:88},{id:217,source:25,target:104},{id:218,source:25,target:105},{id:219,source:25,target:109},{id:220,source:26,target:31},{id:221,source:26,target:42},{id:222,source:26,target:47},{id:223,source:26,target:49},{id:224,source:26,target:52},{id:225,source:26,target:60},{id:226,source:26,target:78},{id:227,source:26,target:89},{id:228,source:26,target:105},{id:229,source:27,target:44},{id:230,source:27,target:52},{id:231,source:27,target:57},{id:232,source:27,target:69},{id:233,source:27,target:80},{id:234,source:27,target:81},{id:235,source:27,target:105},{id:236,source:28,target:44},{id:237,source:28,target:53},{id:238,source:28,target:55},{id:239,source:28,target:64},{id:240,source:28,target:69},{id:241,source:28,target:77},{id:242,source:28,target:80},{id:243,source:28,target:81},{id:244,source:28,target:88},{id:245,source:28,target:97},{id:246,source:28,target:104},{id:247,source:29,target:30},{id:248,source:29,target:31},{id:249,source:29,target:32},{id:250,source:29,target:33},{id:251,source:29,target:34},{id:252,source:29,target:35},{id:253,source:29,target:36},{id:254,source:29,target:45},{id:255,source:29,target:90},{id:256,source:29,target:93},{id:257,source:30,target:59},{id:258,source:30,target:75},{id:259,source:30,target:80},{id:260,source:31,target:52},{id:261,source:31,target:80},{id:262,source:31,target:85},{id:263,source:31,target:93},{id:264,source:32,target:33},{id:265,source:32,target:42},{id:266,source:32,target:44},{id:267,source:32,target:52},{id:268,source:32,target:80},{id:269,source:32,target:87},{id:270,source:32,target:104},{id:271,source:32,target:105},{id:272,source:32,target:109},{id:273,source:33,target:52},{id:274,source:33,target:53},{id:275,source:33,target:71},{id:276,source:33,target:101},{id:277,source:34,target:77},{id:278,source:34,target:85},{id:279,source:34,target:105},{id:280,source:34,target:108},{id:281,source:35,target:52},{id:282,source:35,target:55},{id:283,source:35,target:108},{id:284,source:36,target:49},{id:285,source:36,target:52},{id:286,source:36,target:72},{id:287,source:36,target:105},{id:288,source:37,target:44},{id:289,source:37,target:56},{id:290,source:37,target:88},{id:291,source:38,target:39},{id:292,source:38,target:48},{id:293,source:38,target:58},{id:294,source:38,target:59},{id:295,source:38,target:60},{id:296,source:38,target:73},{id:297,source:38,target:104},{id:298,source:39,target:40},{id:299,source:39,target:41},{id:300,source:39,target:42},{id:301,source:39,target:52},{id:302,source:39,target:105},{id:303,source:40,target:44},{id:304,source:40,target:104},{id:305,source:41,target:57},{id:306,source:42,target:43},{id:307,source:42,target:44},{id:308,source:43,target:52},{id:309,source:43,target:57},{id:310,source:43,target:80},{id:311,source:43,target:91},{id:312,source:44,target:45},{id:313,source:44,target:49},{id:314,source:44,target:60},{id:315,source:44,target:64},{id:316,source:44,target:67},{id:317,source:44,target:71},{id:318,source:44,target:81},{id:319,source:44,target:82},{id:320,source:44,target:84},{id:321,source:44,target:99},{id:322,source:44,target:100},{id:323,source:44,target:101},{id:324,source:45,target:46},{id:325,source:45,target:51},{id:326,source:45,target:103},{id:327,source:46,target:53},{id:328,source:46,target:74},{id:329,source:47,target:105},{id:330,source:48,target:49},{id:331,source:48,target:50},{id:332,source:49,target:51},{id:333,source:49,target:77},{id:334,source:49,target:89},{id:335,source:49,target:105},{id:336,source:50,target:52},{id:337,source:50,target:60},{id:338,source:50,target:69},{id:339,source:51,target:52},{id:340,source:51,target:53},{id:341,source:51,target:54},{id:342,source:51,target:55},{id:343,source:51,target:79},{id:344,source:51,target:103},{id:345,source:51,target:105},{id:346,source:52,target:55},{id:347,source:52,target:58},{id:348,source:52,target:60},{id:349,source:52,target:67},{id:350,source:52,target:68},{id:351,source:52,target:69},{id:352,source:52,target:102},{id:353,source:52,target:107},{id:354,source:53,target:57},{id:355,source:54,target:55},{id:356,source:54,target:74},{id:357,source:54,target:90},{id:358,source:54,target:103},{id:359,source:55,target:69},{id:360,source:55,target:71},{id:361,source:55,target:73},{id:362,source:55,target:76},{id:363,source:55,target:79},{id:364,source:56,target:71},{id:365,source:58,target:76},{id:366,source:60,target:66},{id:367,source:60,target:71},{id:368,source:60,target:72},{id:369,source:60,target:73},{id:370,source:60,target:105},{id:371,source:61,target:72},{id:372,source:61,target:77},{id:373,source:61,target:102},{id:374,source:62,target:105},{id:375,source:63,target:72},{id:376,source:64,target:65},{id:377,source:64,target:66},{id:378,source:66,target:85},{id:379,source:66,target:88},{id:380,source:66,target:104},{id:381,source:67,target:73},{id:382,source:67,target:76},{id:383,source:67,target:103},{id:384,source:68,target:77},{id:385,source:68,target:88},{id:386,source:69,target:71},{id:387,source:69,target:74},{id:388,source:69,target:76},{id:389,source:69,target:85},{id:390,source:71,target:76},{id:391,source:71,target:88},{id:392,source:71,target:103},{id:393,source:71,target:106},{id:394,source:72,target:74},{id:395,source:73,target:81},{id:396,source:73,target:106},{id:397,source:74,target:77},{id:398,source:74,target:104},{id:399,source:76,target:77},{id:400,source:76,target:78},{id:401,source:77,target:81},{id:402,source:77,target:93},{id:403,source:77,target:107},{id:404,source:79,target:80},{id:405,source:80,target:82},{id:406,source:80,target:84},{id:407,source:80,target:110},{id:408,source:80,target:111},{id:409,source:81,target:82},{id:410,source:81,target:107},{id:411,source:82,target:95},{id:412,source:82,target:99},{id:413,source:82,target:105},{id:414,source:84,target:88},{id:415,source:85,target:105},{id:416,source:89,target:107},{id:417,source:90,target:93},{id:418,source:90,target:100},{id:419,source:93,target:96},{id:420,source:93,target:97},{id:421,source:97,target:107},{id:422,source:101,target:111},{id:423,source:104,target:105},{id:424,source:105,target:106},{id:425,source:106,target:109}]}},function(e){e.exports={nodes:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11},{id:12},{id:13},{id:14},{id:15},{id:16},{id:17},{id:18},{id:19},{id:20},{id:21},{id:22},{id:23},{id:24},{id:25},{id:26},{id:27},{id:28},{id:29},{id:30},{id:31},{id:32},{id:33},{id:34},{id:35},{id:36},{id:37},{id:38},{id:39},{id:40},{id:41},{id:42},{id:43},{id:44},{id:45},{id:46},{id:47},{id:48},{id:49},{id:50},{id:51},{id:52},{id:53},{id:54},{id:55},{id:56},{id:57},{id:58},{id:59},{id:60},{id:61},{id:62},{id:63},{id:64},{id:65},{id:66},{id:67},{id:68},{id:69},{id:70},{id:71},{id:72},{id:73},{id:74},{id:75},{id:76},{id:77},{id:78},{id:79},{id:80},{id:81},{id:82},{id:83},{id:84},{id:85},{id:86},{id:87},{id:88},{id:89},{id:90},{id:91},{id:92},{id:93},{id:94},{id:95},{id:96},{id:97},{id:98},{id:99},{id:100},{id:101},{id:102},{id:103},{id:104},{id:105},{id:106},{id:107},{id:108},{id:109},{id:110},{id:111},{id:112},{id:113},{id:114},{id:115},{id:116},{id:117},{id:118},{id:119},{id:120},{id:121},{id:122},{id:123},{id:124},{id:125},{id:126},{id:127},{id:128},{id:129},{id:130},{id:131},{id:132},{id:133},{id:134},{id:135},{id:136},{id:137},{id:138},{id:139},{id:140},{id:141},{id:142},{id:143},{id:144},{id:145},{id:146},{id:147},{id:148},{id:149},{id:150},{id:151},{id:152},{id:153},{id:154},{id:155},{id:156},{id:157},{id:158},{id:159},{id:160},{id:161},{id:162},{id:163},{id:164},{id:165},{id:166},{id:167},{id:168},{id:169},{id:170},{id:171},{id:172},{id:173},{id:174},{id:175},{id:176},{id:177},{id:178},{id:179},{id:180},{id:181},{id:182},{id:183},{id:184},{id:185},{id:186},{id:187},{id:188},{id:189},{id:190},{id:191},{id:192},{id:193},{id:194},{id:195},{id:196},{id:197},{id:198},{id:199},{id:200},{id:201},{id:202},{id:203},{id:204},{id:205},{id:206},{id:207},{id:208},{id:209},{id:210},{id:211},{id:212},{id:213},{id:214},{id:215},{id:216},{id:217},{id:218},{id:219},{id:220},{id:221},{id:222},{id:223},{id:224},{id:225},{id:226},{id:227},{id:228},{id:229},{id:230},{id:231},{id:232},{id:233},{id:234},{id:235},{id:236},{id:237},{id:238},{id:239},{id:240},{id:241},{id:242},{id:243},{id:244},{id:245},{id:246},{id:247},{id:248},{id:249},{id:250},{id:251},{id:252},{id:253},{id:254},{id:255},{id:256},{id:257},{id:258},{id:259},{id:260},{id:261},{id:262},{id:263},{id:264},{id:265},{id:266},{id:267},{id:268},{id:269},{id:270},{id:271},{id:272},{id:273},{id:274},{id:275},{id:276},{id:277},{id:278},{id:279},{id:280},{id:281},{id:282},{id:283},{id:284},{id:285},{id:286},{id:287},{id:288},{id:289},{id:290},{id:291},{id:292},{id:293},{id:294},{id:295},{id:296},{id:297},{id:298},{id:299},{id:300},{id:301},{id:302},{id:303},{id:304},{id:305},{id:306},{id:307},{id:308},{id:309},{id:310},{id:311},{id:312},{id:313},{id:314},{id:315},{id:316},{id:317},{id:318},{id:319},{id:320},{id:321},{id:322},{id:323},{id:324},{id:325},{id:326},{id:327},{id:328},{id:329},{id:330},{id:331},{id:332},{id:333},{id:334},{id:335},{id:336},{id:337},{id:338},{id:339},{id:340},{id:341},{id:342},{id:343},{id:344},{id:345},{id:346},{id:347},{id:348},{id:349},{id:350},{id:351},{id:352},{id:353},{id:354},{id:355},{id:356},{id:357},{id:358},{id:359},{id:360},{id:361},{id:362},{id:363},{id:364},{id:365},{id:366},{id:367},{id:368},{id:369},{id:370},{id:371},{id:372},{id:373},{id:374},{id:375},{id:376},{id:377},{id:378},{id:379},{id:380},{id:381},{id:382},{id:383},{id:384},{id:385},{id:386},{id:387},{id:388},{id:389},{id:390},{id:391},{id:392},{id:393},{id:394},{id:395},{id:396},{id:397},{id:398},{id:399},{id:400},{id:401},{id:402},{id:403},{id:404},{id:405},{id:406},{id:407},{id:408},{id:409},{id:410},{id:411},{id:412},{id:413},{id:414},{id:415},{id:416},{id:417},{id:418},{id:419},{id:420},{id:421},{id:422},{id:423},{id:424},{id:425},{id:426},{id:427},{id:428},{id:429},{id:430},{id:431},{id:432},{id:433},{id:434},{id:435},{id:436},{id:437},{id:438},{id:439},{id:440},{id:441},{id:442},{id:443},{id:444},{id:445},{id:446},{id:447},{id:448},{id:449},{id:450},{id:451},{id:452},{id:453},{id:454},{id:455},{id:456},{id:457},{id:458},{id:459},{id:460},{id:461},{id:462},{id:463},{id:464},{id:465},{id:466},{id:467},{id:468},{id:469},{id:470},{id:471},{id:472},{id:473},{id:474},{id:475},{id:476},{id:477},{id:478},{id:479},{id:480},{id:481},{id:482},{id:483},{id:484},{id:485},{id:486},{id:487},{id:488},{id:489},{id:490},{id:491},{id:492},{id:493},{id:494},{id:495},{id:496},{id:497},{id:498},{id:499},{id:500},{id:501},{id:502},{id:503},{id:504},{id:505},{id:506},{id:507},{id:508},{id:509},{id:510},{id:511},{id:512},{id:513},{id:514},{id:515},{id:516},{id:517},{id:518},{id:519},{id:520},{id:521},{id:522},{id:523},{id:524},{id:525},{id:526},{id:527},{id:528},{id:529},{id:530},{id:531},{id:532},{id:533},{id:534},{id:535},{id:536},{id:537},{id:538},{id:539},{id:540},{id:541},{id:542},{id:543},{id:544},{id:545},{id:546},{id:547},{id:548},{id:549},{id:550},{id:551},{id:552},{id:553},{id:554},{id:555},{id:556},{id:557},{id:558},{id:559},{id:560},{id:561},{id:562},{id:563},{id:564},{id:565},{id:566},{id:567},{id:568},{id:569},{id:570},{id:571},{id:572},{id:573},{id:574},{id:575},{id:576},{id:577},{id:578},{id:579},{id:580},{id:581},{id:582},{id:583},{id:584},{id:585},{id:586},{id:587},{id:588},{id:589},{id:590},{id:591},{id:592},{id:593},{id:594},{id:595},{id:596},{id:597},{id:598},{id:599},{id:600},{id:601},{id:602},{id:603},{id:604},{id:605},{id:606},{id:607},{id:608},{id:609},{id:610},{id:611},{id:612},{id:613},{id:614},{id:615},{id:616},{id:617},{id:618},{id:619},{id:620},{id:621},{id:622},{id:623},{id:624},{id:625},{id:626},{id:627},{id:628},{id:629},{id:630},{id:631},{id:632},{id:633},{id:634},{id:635},{id:636},{id:637},{id:638},{id:639},{id:640},{id:641},{id:642},{id:643},{id:644},{id:645},{id:646},{id:647},{id:648},{id:649},{id:650},{id:651},{id:652},{id:653},{id:654},{id:655},{id:656},{id:657},{id:658},{id:659},{id:660},{id:661},{id:662},{id:663},{id:664},{id:665},{id:666},{id:667},{id:668},{id:669},{id:670},{id:671},{id:672},{id:673},{id:674},{id:675},{id:676},{id:677},{id:678},{id:679},{id:680},{id:681},{id:682},{id:683},{id:684},{id:685},{id:686},{id:687},{id:688},{id:689},{id:690},{id:691},{id:692},{id:693},{id:694},{id:695},{id:696},{id:697},{id:698},{id:699},{id:700},{id:701},{id:702},{id:703},{id:704},{id:705},{id:706},{id:707},{id:708},{id:709},{id:710},{id:711},{id:712},{id:713},{id:714},{id:715},{id:716},{id:717},{id:718},{id:719},{id:720},{id:721},{id:722},{id:723},{id:724},{id:725},{id:726},{id:727},{id:728},{id:729},{id:730},{id:731},{id:732},{id:733},{id:734},{id:735},{id:736},{id:737},{id:738},{id:739},{id:740},{id:741},{id:742},{id:743},{id:744},{id:745},{id:746},{id:747},{id:748},{id:749},{id:750},{id:751},{id:752},{id:753},{id:754},{id:755},{id:756},{id:757},{id:758},{id:759},{id:760},{id:761},{id:762},{id:763},{id:764},{id:765},{id:766},{id:767},{id:768},{id:769},{id:770},{id:771},{id:772},{id:773},{id:774},{id:775},{id:776},{id:777},{id:778},{id:779},{id:780},{id:781},{id:782},{id:783},{id:784},{id:785},{id:786},{id:787},{id:788},{id:789},{id:790},{id:791},{id:792},{id:793},{id:794},{id:795},{id:796},{id:797},{id:798},{id:799},{id:800},{id:801},{id:802},{id:803},{id:804},{id:805},{id:806},{id:807},{id:808},{id:809},{id:810},{id:811},{id:812},{id:813},{id:814},{id:815},{id:816},{id:817},{id:818},{id:819},{id:820},{id:821},{id:822},{id:823},{id:824},{id:825},{id:826},{id:827},{id:828},{id:829},{id:830},{id:831},{id:832},{id:833},{id:834},{id:835},{id:836},{id:837},{id:838},{id:839},{id:840},{id:841},{id:842},{id:843},{id:844},{id:845},{id:846},{id:847},{id:848},{id:849},{id:850},{id:851},{id:852},{id:853},{id:854},{id:855},{id:856},{id:857},{id:858},{id:859},{id:860},{id:861},{id:862},{id:863},{id:864},{id:865},{id:866},{id:867},{id:868},{id:869},{id:870},{id:871},{id:872},{id:873},{id:874},{id:875},{id:876},{id:877},{id:878},{id:879},{id:880},{id:881},{id:882},{id:883},{id:884},{id:885},{id:886},{id:887},{id:888},{id:889},{id:890},{id:891},{id:892},{id:893},{id:894},{id:895},{id:896},{id:897},{id:898},{id:899},{id:900},{id:901},{id:902},{id:903},{id:904},{id:905},{id:906},{id:907},{id:908},{id:909},{id:910},{id:911},{id:912},{id:913},{id:914},{id:915},{id:916},{id:917},{id:918},{id:919},{id:920},{id:921},{id:922},{id:923},{id:924},{id:925},{id:926},{id:927},{id:928},{id:929},{id:930},{id:931},{id:932},{id:933},{id:934},{id:935},{id:936},{id:937},{id:938},{id:939},{id:940},{id:941},{id:942},{id:943},{id:944},{id:945},{id:946},{id:947},{id:948},{id:949},{id:950},{id:951},{id:952},{id:953},{id:954},{id:955},{id:956},{id:957},{id:958},{id:959},{id:960},{id:961},{id:962},{id:963},{id:964},{id:965},{id:966},{id:967},{id:968},{id:969},{id:970},{id:971},{id:972},{id:973},{id:974},{id:975},{id:976},{id:977},{id:978},{id:979},{id:980},{id:981},{id:982},{id:983},{id:984},{id:985},{id:986},{id:987},{id:988},{id:989},{id:990},{id:991},{id:992},{id:993},{id:994},{id:995},{id:996},{id:997},{id:998},{id:999},{id:1e3},{id:1001},{id:1002},{id:1003},{id:1004},{id:1005},{id:1006},{id:1007},{id:1008},{id:1009},{id:1010},{id:1011},{id:1012},{id:1013},{id:1014},{id:1015},{id:1016},{id:1017},{id:1018},{id:1019},{id:1020},{id:1021},{id:1022},{id:1023},{id:1024},{id:1025},{id:1026},{id:1027},{id:1028},{id:1029},{id:1030},{id:1031},{id:1032},{id:1033},{id:1034},{id:1035},{id:1036},{id:1037},{id:1038},{id:1039},{id:1040},{id:1041},{id:1042},{id:1043},{id:1044},{id:1045},{id:1046},{id:1047},{id:1048},{id:1049},{id:1050},{id:1051},{id:1052},{id:1053},{id:1054},{id:1055},{id:1056},{id:1057},{id:1058},{id:1059},{id:1060},{id:1061},{id:1062},{id:1063},{id:1064},{id:1065},{id:1066},{id:1067},{id:1068},{id:1069},{id:1070},{id:1071},{id:1072},{id:1073},{id:1074},{id:1075},{id:1076},{id:1077},{id:1078},{id:1079},{id:1080},{id:1081},{id:1082},{id:1083},{id:1084},{id:1085},{id:1086},{id:1087},{id:1088},{id:1089},{id:1090},{id:1091},{id:1092},{id:1093},{id:1094},{id:1095},{id:1096},{id:1097},{id:1098},{id:1099},{id:1100},{id:1101},{id:1102},{id:1103},{id:1104},{id:1105},{id:1106},{id:1107},{id:1108},{id:1109},{id:1110},{id:1111},{id:1112},{id:1113},{id:1114},{id:1115},{id:1116},{id:1117},{id:1118},{id:1119},{id:1120},{id:1121},{id:1122},{id:1123},{id:1124},{id:1125},{id:1126},{id:1127},{id:1128},{id:1129},{id:1130},{id:1131},{id:1132},{id:1133},{id:1134},{id:1135},{id:1136},{id:1137},{id:1138},{id:1139},{id:1140},{id:1141},{id:1142},{id:1143},{id:1144},{id:1145},{id:1146},{id:1147},{id:1148},{id:1149},{id:1150},{id:1151},{id:1152},{id:1153},{id:1154},{id:1155},{id:1156},{id:1157},{id:1158},{id:1159},{id:1160},{id:1161},{id:1162},{id:1163},{id:1164},{id:1165},{id:1166},{id:1167},{id:1168},{id:1169},{id:1170},{id:1171},{id:1172},{id:1173},{id:1174},{id:1175},{id:1176},{id:1177},{id:1178},{id:1179},{id:1180},{id:1181},{id:1182},{id:1183},{id:1184},{id:1185},{id:1186},{id:1187},{id:1188},{id:1189},{id:1190},{id:1191},{id:1192},{id:1193},{id:1194},{id:1195},{id:1196},{id:1197},{id:1198},{id:1199},{id:1200},{id:1201},{id:1202},{id:1203},{id:1204},{id:1205},{id:1206},{id:1207},{id:1208},{id:1209},{id:1210},{id:1211},{id:1212},{id:1213},{id:1214},{id:1215},{id:1216},{id:1217},{id:1218},{id:1219},{id:1220},{id:1221},{id:1222},{id:1223},{id:1224},{id:1225},{id:1226},{id:1227},{id:1228},{id:1229},{id:1230},{id:1231},{id:1232},{id:1233},{id:1234},{id:1235},{id:1236},{id:1237},{id:1238},{id:1239},{id:1240},{id:1241},{id:1242},{id:1243},{id:1244},{id:1245},{id:1246},{id:1247},{id:1248},{id:1249},{id:1250},{id:1251},{id:1252},{id:1253},{id:1254},{id:1255},{id:1256},{id:1257},{id:1258},{id:1259},{id:1260},{id:1261},{id:1262},{id:1263},{id:1264},{id:1265},{id:1266},{id:1267},{id:1268},{id:1269},{id:1270},{id:1271},{id:1272},{id:1273},{id:1274},{id:1275},{id:1276},{id:1277},{id:1278},{id:1279},{id:1280},{id:1281},{id:1282},{id:1283},{id:1284},{id:1285},{id:1286},{id:1287},{id:1288},{id:1289},{id:1290},{id:1291},{id:1292},{id:1293},{id:1294},{id:1295},{id:1296},{id:1297},{id:1298},{id:1299},{id:1300},{id:1301},{id:1302},{id:1303},{id:1304},{id:1305},{id:1306},{id:1307},{id:1308},{id:1309},{id:1310},{id:1311},{id:1312},{id:1313},{id:1314},{id:1315},{id:1316},{id:1317},{id:1318},{id:1319},{id:1320},{id:1321},{id:1322},{id:1323},{id:1324},{id:1325},{id:1326},{id:1327},{id:1328},{id:1329},{id:1330},{id:1331},{id:1332},{id:1333},{id:1334},{id:1335},{id:1336},{id:1337},{id:1338},{id:1339},{id:1340},{id:1341},{id:1342},{id:1343},{id:1344},{id:1345},{id:1346},{id:1347},{id:1348},{id:1349},{id:1350},{id:1351},{id:1352},{id:1353},{id:1354},{id:1355},{id:1356},{id:1357},{id:1358},{id:1359},{id:1360},{id:1361},{id:1362},{id:1363},{id:1364},{id:1365},{id:1366},{id:1367},{id:1368},{id:1369},{id:1370},{id:1371},{id:1372},{id:1373},{id:1374},{id:1375},{id:1376},{id:1377},{id:1378},{id:1379},{id:1380},{id:1381},{id:1382},{id:1383},{id:1384},{id:1385},{id:1386},{id:1387},{id:1388},{id:1389},{id:1390},{id:1391},{id:1392},{id:1393},{id:1394},{id:1395},{id:1396},{id:1397},{id:1398},{id:1399},{id:1400},{id:1401},{id:1402},{id:1403},{id:1404},{id:1405},{id:1406},{id:1407},{id:1408},{id:1409},{id:1410},{id:1411},{id:1412},{id:1413},{id:1414},{id:1415},{id:1416},{id:1417},{id:1418},{id:1419},{id:1420},{id:1421},{id:1422},{id:1423},{id:1424},{id:1425},{id:1426},{id:1427},{id:1428},{id:1429},{id:1430},{id:1431},{id:1432},{id:1433},{id:1434},{id:1435},{id:1436},{id:1437},{id:1438},{id:1439},{id:1440},{id:1441},{id:1442},{id:1443},{id:1444},{id:1445},{id:1446},{id:1447},{id:1448},{id:1449},{id:1450},{id:1451},{id:1452},{id:1453},{id:1454},{id:1455},{id:1456},{id:1457},{id:1458},{id:1459},{id:1460},{id:1461},{id:1462},{id:1463},{id:1464},{id:1465},{id:1466},{id:1467}],links:[{id:1,source:1,target:2},{id:2,source:3,target:2},{id:3,source:4,target:2},{id:4,source:5,target:2},{id:5,source:6,target:2},{id:6,source:7,target:2},{id:7,source:8,target:2},{id:8,source:9,target:10},{id:9,source:11,target:10},{id:10,source:12,target:10},{id:11,source:13,target:10},{id:12,source:14,target:10},{id:13,source:15,target:10},{id:14,source:16,target:10},{id:15,source:17,target:10},{id:16,source:18,target:10},{id:17,source:19,target:10},{id:18,source:20,target:21},{id:19,source:22,target:21},{id:20,source:23,target:21},{id:21,source:24,target:21},{id:22,source:25,target:21},{id:23,source:26,target:21},{id:24,source:27,target:21},{id:25,source:28,target:21},{id:26,source:29,target:21},{id:27,source:30,target:21},{id:28,source:31,target:32},{id:29,source:33,target:32},{id:30,source:34,target:32},{id:31,source:35,target:32},{id:32,source:36,target:32},{id:33,source:37,target:32},{id:34,source:38,target:32},{id:35,source:39,target:32},{id:36,source:40,target:32},{id:37,source:41,target:32},{id:38,source:42,target:43},{id:39,source:44,target:43},{id:40,source:45,target:43},{id:41,source:46,target:43},{id:42,source:47,target:43},{id:43,source:48,target:43},{id:44,source:49,target:43},{id:45,source:50,target:43},{id:46,source:51,target:43},{id:47,source:52,target:43},{id:48,source:53,target:54},{id:49,source:55,target:54},{id:50,source:56,target:54},{id:51,source:57,target:54},{id:52,source:58,target:54},{id:53,source:59,target:54},{id:54,source:60,target:61},{id:55,source:62,target:63},{id:56,source:64,target:61},{id:57,source:65,target:61},{id:58,source:66,target:67},{id:59,source:68,target:69},{id:60,source:70,target:71},{id:61,source:72,target:73},{id:62,source:74,target:75},{id:63,source:76,target:77},{id:64,source:78,target:73},{id:65,source:79,target:73},{id:66,source:80,target:81},{id:67,source:82,target:83},{id:68,source:84,target:85},{id:69,source:86,target:87},{id:70,source:88,target:87},{id:71,source:89,target:73},{id:72,source:90,target:81},{id:73,source:91,target:73},{id:74,source:92,target:93},{id:75,source:94,target:95},{id:76,source:96,target:97},{id:77,source:98,target:99},{id:78,source:100,target:101},{id:79,source:102,target:103},{id:80,source:104,target:105},{id:81,source:106,target:107},{id:82,source:108,target:109},{id:83,source:110,target:109},{id:84,source:111,target:112},{id:85,source:113,target:114},{id:86,source:115,target:116},{id:87,source:117,target:118},{id:88,source:119,target:120},{id:89,source:121,target:122},{id:90,source:123,target:124},{id:91,source:125,target:126},{id:92,source:127,target:128},{id:93,source:129,target:85},{id:94,source:130,target:109},{id:95,source:131,target:132},{id:96,source:133,target:124},{id:97,source:134,target:135},{id:98,source:136,target:109},{id:99,source:137,target:138},{id:100,source:139,target:140},{id:101,source:141,target:142},{id:102,source:143,target:144},{id:103,source:145,target:146},{id:104,source:147,target:54},{id:105,source:148,target:149},{id:106,source:150,target:151},{id:107,source:152,target:54},{id:108,source:153,target:146},{id:109,source:154,target:155},{id:110,source:156,target:54},{id:111,source:157,target:73},{id:112,source:158,target:159},{id:113,source:160,target:161},{id:114,source:162,target:163},{id:115,source:164,target:114},{id:116,source:165,target:166},{id:117,source:167,target:114},{id:118,source:168,target:169},{id:119,source:170,target:169},{id:120,source:171,target:172},{id:121,source:173,target:109},{id:122,source:174,target:175},{id:123,source:176,target:175},{id:124,source:177,target:99},{id:125,source:178,target:179},{id:126,source:180,target:181},{id:127,source:182,target:183},{id:128,source:184,target:75},{id:129,source:185,target:146},{id:130,source:186,target:54},{id:131,source:187,target:73},{id:132,source:188,target:73},{id:133,source:189,target:109},{id:134,source:190,target:191},{id:135,source:192,target:191},{id:136,source:193,target:191},{id:137,source:194,target:191},{id:138,source:195,target:191},{id:139,source:196,target:191},{id:140,source:197,target:191},{id:141,source:198,target:191},{id:142,source:199,target:191},{id:143,source:200,target:191},{id:144,source:201,target:202},{id:145,source:203,target:202},{id:146,source:204,target:202},{id:147,source:205,target:202},{id:148,source:206,target:202},{id:149,source:207,target:202},{id:150,source:208,target:202},{id:151,source:209,target:202},{id:152,source:210,target:202},{id:153,source:211,target:202},{id:154,source:212,target:213},{id:155,source:214,target:213},{id:156,source:215,target:213},{id:157,source:216,target:213},{id:158,source:217,target:213},{id:159,source:218,target:213},{id:160,source:219,target:213},{id:161,source:220,target:213},{id:162,source:221,target:213},{id:163,source:222,target:213},{id:164,source:223,target:224},{id:165,source:225,target:224},{id:166,source:226,target:224},{id:167,source:227,target:224},{id:168,source:228,target:224},{id:169,source:229,target:224},{id:170,source:230,target:224},{id:171,source:231,target:224},{id:172,source:232,target:224},{id:173,source:233,target:224},{id:174,source:234,target:235},{id:175,source:236,target:235},{id:176,source:237,target:235},{id:177,source:238,target:235},{id:178,source:239,target:235},{id:179,source:240,target:235},{id:180,source:241,target:235},{id:181,source:242,target:235},{id:182,source:243,target:235},{id:183,source:244,target:235},{id:184,source:245,target:246},{id:185,source:247,target:246},{id:186,source:248,target:246},{id:187,source:249,target:246},{id:188,source:250,target:246},{id:189,source:251,target:246},{id:190,source:252,target:246},{id:191,source:253,target:246},{id:192,source:254,target:246},{id:193,source:255,target:246},{id:194,source:256,target:257},{id:195,source:258,target:257},{id:196,source:259,target:257},{id:197,source:260,target:257},{id:198,source:261,target:257},{id:199,source:262,target:257},{id:200,source:263,target:257},{id:201,source:264,target:257},{id:202,source:181,target:257},{id:203,source:265,target:257},{id:204,source:266,target:267},{id:205,source:268,target:267},{id:206,source:269,target:267},{id:207,source:270,target:267},{id:208,source:271,target:267},{id:209,source:272,target:267},{id:210,source:273,target:267},{id:211,source:274,target:267},{id:212,source:275,target:267},{id:213,source:276,target:267},{id:214,source:277,target:278},{id:215,source:279,target:278},{id:216,source:280,target:278},{id:217,source:281,target:278},{id:218,source:282,target:278},{id:219,source:283,target:278},{id:220,source:284,target:278},{id:221,source:285,target:278},{id:222,source:286,target:278},{id:223,source:287,target:278},{id:224,source:288,target:289},{id:225,source:290,target:289},{id:226,source:291,target:289},{id:227,source:292,target:289},{id:228,source:293,target:289},{id:229,source:294,target:289},{id:230,source:295,target:289},{id:231,source:296,target:289},{id:232,source:297,target:289},{id:233,source:298,target:289},{id:234,source:299,target:300},{id:235,source:301,target:300},{id:236,source:302,target:300},{id:237,source:303,target:300},{id:238,source:304,target:300},{id:239,source:305,target:300},{id:240,source:306,target:300},{id:241,source:307,target:300},{id:242,source:142,target:300},{id:243,source:308,target:300},{id:244,source:63,target:309},{id:245,source:310,target:309},{id:246,source:69,target:309},{id:247,source:311,target:309},{id:248,source:101,target:309},{id:249,source:312,target:309},{id:250,source:138,target:309},{id:251,source:140,target:309},{id:252,source:313,target:309},{id:253,source:314,target:309},{id:254,source:87,target:315},{id:255,source:146,target:315},{id:256,source:316,target:317},{id:257,source:318,target:319},{id:258,source:320,target:315},{id:259,source:321,target:315},{id:260,source:322,target:315},{id:261,source:323,target:315},{id:262,source:324,target:319},{id:263,source:325,target:315},{id:264,source:93,target:315},{id:265,source:105,target:315},{id:266,source:326,target:315},{id:267,source:116,target:327},{id:268,source:95,target:328},{id:269,source:329,target:327},{id:270,source:97,target:327},{id:271,source:330,target:327},{id:272,source:331,target:327},{id:273,source:332,target:327},{id:274,source:333,target:327},{id:275,source:334,target:327},{id:276,source:335,target:327},{id:277,source:336,target:327},{id:278,source:120,target:337},{id:279,source:338,target:337},{id:280,source:339,target:337},{id:281,source:340,target:337},{id:282,source:341,target:337},{id:283,source:342,target:337},{id:284,source:343,target:337},{id:285,source:344,target:337},{id:286,source:345,target:337},{id:287,source:346,target:337},{id:288,source:347,target:348},{id:289,source:349,target:348},{id:290,source:350,target:348},{id:291,source:351,target:348},{id:292,source:352,target:348},{id:293,source:353,target:348},{id:294,source:354,target:348},{id:295,source:355,target:348},{id:296,source:356,target:348},{id:297,source:357,target:348},{id:298,source:358,target:359},{id:299,source:360,target:359},{id:300,source:361,target:359},{id:301,source:362,target:359},{id:302,source:363,target:359},{id:303,source:364,target:359},{id:304,source:365,target:359},{id:305,source:366,target:359},{id:306,source:367,target:359},{id:307,source:368,target:359},{id:308,source:369,target:370},{id:309,source:371,target:370},{id:310,source:372,target:370},{id:311,source:373,target:370},{id:312,source:374,target:370},{id:313,source:375,target:370},{id:314,source:376,target:370},{id:315,source:377,target:370},{id:316,source:378,target:370},{id:317,source:379,target:370},{id:318,source:380,target:381},{id:319,source:382,target:381},{id:320,source:383,target:381},{id:321,source:384,target:381},{id:322,source:385,target:381},{id:323,source:386,target:381},{id:324,source:387,target:381},{id:325,source:388,target:381},{id:326,source:389,target:381},{id:327,source:390,target:381},{id:328,source:391,target:392},{id:329,source:393,target:392},{id:330,source:394,target:392},{id:331,source:395,target:392},{id:332,source:396,target:392},{id:333,source:397,target:392},{id:334,source:398,target:392},{id:335,source:399,target:392},{id:336,source:400,target:392},{id:337,source:401,target:392},{id:338,source:402,target:403},{id:339,source:404,target:403},{id:340,source:405,target:403},{id:341,source:406,target:403},{id:342,source:407,target:403},{id:343,source:408,target:403},{id:344,source:409,target:403},{id:345,source:410,target:403},{id:346,source:411,target:403},{id:347,source:412,target:403},{id:348,source:413,target:414},{id:349,source:415,target:414},{id:350,source:416,target:414},{id:351,source:417,target:414},{id:352,source:418,target:414},{id:353,source:419,target:414},{id:354,source:420,target:414},{id:355,source:421,target:414},{id:356,source:422,target:414},{id:357,source:423,target:414},{id:358,source:424,target:425},{id:359,source:426,target:425},{id:360,source:427,target:425},{id:361,source:428,target:425},{id:362,source:429,target:425},{id:363,source:430,target:425},{id:364,source:431,target:425},{id:365,source:432,target:425},{id:366,source:433,target:425},{id:367,source:434,target:425},{id:368,source:435,target:436},{id:369,source:437,target:436},{id:370,source:438,target:436},{id:371,source:439,target:436},{id:372,source:440,target:436},{id:373,source:441,target:436},{id:374,source:442,target:436},{id:375,source:443,target:436},{id:376,source:444,target:436},{id:377,source:445,target:436},{id:378,source:446,target:447},{id:379,source:448,target:447},{id:380,source:449,target:447},{id:381,source:450,target:447},{id:382,source:451,target:447},{id:383,source:452,target:447},{id:384,source:453,target:447},{id:385,source:454,target:447},{id:386,source:455,target:447},{id:387,source:456,target:447},{id:388,source:457,target:458},{id:389,source:459,target:458},{id:390,source:460,target:458},{id:391,source:461,target:458},{id:392,source:462,target:458},{id:393,source:463,target:458},{id:394,source:464,target:458},{id:395,source:465,target:458},{id:396,source:466,target:458},{id:397,source:467,target:458},{id:398,source:468,target:469},{id:399,source:470,target:469},{id:400,source:471,target:469},{id:401,source:472,target:469},{id:402,source:473,target:469},{id:403,source:474,target:469},{id:404,source:475,target:469},{id:405,source:61,target:469},{id:406,source:67,target:469},{id:407,source:476,target:469},{id:408,source:477,target:478},{id:409,source:479,target:478},{id:410,source:71,target:478},{id:411,source:480,target:478},{id:412,source:481,target:478},{id:413,source:482,target:478},{id:414,source:483,target:478},{id:415,source:484,target:478},{id:416,source:485,target:478},{id:417,source:486,target:478},{id:418,source:487,target:488},{id:419,source:489,target:488},{id:420,source:490,target:488},{id:421,source:491,target:488},{id:422,source:492,target:488},{id:423,source:493,target:488},{id:424,source:494,target:488},{id:425,source:495,target:488},{id:426,source:496,target:488},{id:427,source:497,target:488},{id:428,source:498,target:499},{id:429,source:500,target:499},{id:430,source:501,target:499},{id:431,source:502,target:499},{id:432,source:114,target:499},{id:433,source:124,target:499},{id:434,source:126,target:499},{id:435,source:503,target:499},{id:436,source:99,target:499},{id:437,source:504,target:499},{id:438,source:505,target:506},{id:439,source:507,target:506},{id:440,source:508,target:506},{id:441,source:107,target:506},{id:442,source:509,target:506},{id:443,source:510,target:506},{id:444,source:511,target:506},{id:445,source:512,target:506},{id:446,source:513,target:506},{id:447,source:112,target:506},{id:448,source:514,target:515},{id:449,source:516,target:515},{id:450,source:118,target:515},{id:451,source:128,target:515},{id:452,source:517,target:515},{id:453,source:122,target:515},{id:454,source:132,target:515},{id:455,source:518,target:515},{id:456,source:519,target:515},{id:457,source:520,target:515},{id:458,source:521,target:522},{id:459,source:523,target:522},{id:460,source:524,target:522},{id:461,source:525,target:522},{id:462,source:526,target:522},{id:463,source:527,target:522},{id:464,source:135,target:522},{id:465,source:528,target:522},{id:466,source:529,target:522},{id:467,source:530,target:522},{id:468,source:531,target:532},{id:469,source:533,target:532},{id:470,source:534,target:532},{id:471,source:535,target:532},{id:472,source:83,target:532},{id:473,source:103,target:532},{id:474,source:536,target:532},{id:475,source:537,target:532},{id:476,source:538,target:532},{id:477,source:539,target:532},{id:478,source:540,target:541},{id:479,source:542,target:541},{id:480,source:543,target:541},{id:481,source:544,target:541},{id:482,source:545,target:541},{id:483,source:546,target:541},{id:484,source:547,target:541},{id:485,source:548,target:541},{id:486,source:549,target:541},{id:487,source:550,target:541},{id:488,source:551,target:552},{id:489,source:553,target:552},{id:490,source:554,target:552},{id:491,source:555,target:552},{id:492,source:556,target:552},{id:493,source:557,target:552},{id:494,source:558,target:552},{id:495,source:559,target:552},{id:496,source:560,target:552},{id:497,source:561,target:552},{id:498,source:562,target:563},{id:499,source:564,target:563},{id:500,source:565,target:566},{id:501,source:567,target:568},{id:502,source:569,target:563},{id:503,source:570,target:563},{id:504,source:571,target:572},{id:505,source:573,target:563},{id:506,source:574,target:563},{id:507,source:575,target:563},{id:508,source:576,target:563},{id:509,source:577,target:563},{id:510,source:578,target:563},{id:511,source:579,target:580},{id:512,source:581,target:580},{id:513,source:582,target:580},{id:514,source:583,target:580},{id:515,source:584,target:580},{id:516,source:585,target:580},{id:517,source:586,target:580},{id:518,source:587,target:580},{id:519,source:588,target:580},{id:520,source:589,target:590},{id:521,source:591,target:592},{id:522,source:593,target:594},{id:523,source:595,target:594},{id:524,source:596,target:594},{id:525,source:597,target:594},{id:526,source:598,target:580},{id:527,source:599,target:590},{id:528,source:600,target:594},{id:529,source:601,target:594},{id:530,source:602,target:594},{id:531,source:603,target:594},{id:532,source:604,target:605},{id:533,source:606,target:605},{id:534,source:607,target:594},{id:535,source:608,target:609},{id:536,source:610,target:609},{id:537,source:611,target:609},{id:538,source:612,target:594},{id:539,source:613,target:605},{id:540,source:614,target:609},{id:541,source:615,target:609},{id:542,source:616,target:609},{id:543,source:617,target:609},{id:544,source:618,target:609},{id:545,source:619,target:609},{id:546,source:620,target:609},{id:547,source:621,target:622},{id:548,source:623,target:622},{id:549,source:624,target:622},{id:550,source:625,target:622},{id:551,source:626,target:622},{id:552,source:627,target:622},{id:553,source:628,target:622},{id:554,source:629,target:622},{id:555,source:630,target:622},{id:556,source:631,target:622},{id:557,source:632,target:633},{id:558,source:634,target:633},{id:559,source:635,target:633},{id:560,source:636,target:633},{id:561,source:637,target:633},{id:562,source:638,target:633},{id:563,source:639,target:633},{id:564,source:640,target:633},{id:565,source:641,target:633},{id:566,source:642,target:633},{id:567,source:643,target:644},{id:568,source:645,target:644},{id:569,source:646,target:644},{id:570,source:647,target:644},{id:571,source:648,target:644},{id:572,source:649,target:644},{id:573,source:650,target:644},{id:574,source:651,target:644},{id:575,source:652,target:644},{id:576,source:653,target:644},{id:577,source:654,target:317},{id:578,source:655,target:317},{id:579,source:656,target:317},{id:580,source:657,target:317},{id:581,source:658,target:317},{id:582,source:659,target:317},{id:583,source:660,target:661},{id:584,source:662,target:317},{id:585,source:663,target:317},{id:586,source:664,target:317},{id:587,source:665,target:319},{id:588,source:666,target:319},{id:589,source:667,target:319},{id:590,source:668,target:319},{id:591,source:669,target:319},{id:592,source:670,target:319},{id:593,source:671,target:319},{id:594,source:672,target:319},{id:595,source:673,target:674},{id:596,source:675,target:674},{id:597,source:676,target:674},{id:598,source:677,target:674},{id:599,source:678,target:674},{id:600,source:679,target:674},{id:601,source:680,target:674},{id:602,source:681,target:674},{id:603,source:682,target:674},{id:604,source:683,target:674},{id:605,source:684,target:685},{id:606,source:686,target:685},{id:607,source:687,target:685},{id:608,source:688,target:685},{id:609,source:689,target:685},{id:610,source:690,target:685},{id:611,source:691,target:685},{id:612,source:692,target:685},{id:613,source:693,target:685},{id:614,source:694,target:685},{id:615,source:695,target:696},{id:616,source:697,target:696},{id:617,source:698,target:696},{id:618,source:699,target:696},{id:619,source:700,target:696},{id:620,source:701,target:696},{id:621,source:702,target:696},{id:622,source:703,target:696},{id:623,source:704,target:696},{id:624,source:705,target:696},{id:625,source:706,target:707},{id:626,source:708,target:707},{id:627,source:709,target:707},{id:628,source:710,target:707},{id:629,source:711,target:707},{id:630,source:712,target:707},{id:631,source:713,target:707},{id:632,source:714,target:707},{id:633,source:715,target:707},{id:634,source:716,target:707},{id:635,source:717,target:718},{id:636,source:719,target:718},{id:637,source:720,target:718},{id:638,source:721,target:718},{id:639,source:722,target:718},{id:640,source:723,target:718},{id:641,source:724,target:718},{id:642,source:725,target:718},{id:643,source:144,target:718},{id:644,source:726,target:718},{id:645,source:727,target:728},{id:646,source:729,target:728},{id:647,source:730,target:728},{id:648,source:731,target:728},{id:649,source:732,target:728},{id:650,source:733,target:728},{id:651,source:734,target:728},{id:652,source:735,target:728},{id:653,source:736,target:728},{id:654,source:737,target:728},{id:655,source:738,target:739},{id:656,source:740,target:739},{id:657,source:741,target:739},{id:658,source:742,target:739},{id:659,source:743,target:739},{id:660,source:744,target:739},{id:661,source:745,target:739},{id:662,source:149,target:739},{id:663,source:746,target:739},{id:664,source:747,target:739},{id:665,source:748,target:749},{id:666,source:750,target:749},{id:667,source:751,target:749},{id:668,source:752,target:749},{id:669,source:753,target:749},{id:670,source:754,target:749},{id:671,source:755,target:749},{id:672,source:756,target:749},{id:673,source:757,target:749},{id:674,source:758,target:749},{id:675,source:151,target:759},{id:676,source:159,target:759},{id:677,source:760,target:759},{id:678,source:761,target:759},{id:679,source:762,target:759},{id:680,source:763,target:759},{id:681,source:764,target:759},{id:682,source:765,target:759},{id:683,source:766,target:759},{id:684,source:767,target:759},{id:685,source:768,target:590},{id:686,source:769,target:590},{id:687,source:770,target:590},{id:688,source:771,target:590},{id:689,source:772,target:590},{id:690,source:773,target:590},{id:691,source:161,target:605},{id:692,source:774,target:605},{id:693,source:166,target:590},{id:694,source:775,target:605},{id:695,source:776,target:592},{id:696,source:777,target:592},{id:697,source:778,target:590},{id:698,source:779,target:592},{id:699,source:780,target:592},{id:700,source:781,target:592},{id:701,source:782,target:592},{id:702,source:169,target:783},{id:703,source:172,target:784},{id:704,source:785,target:783},{id:705,source:786,target:787},{id:706,source:788,target:789},{id:707,source:790,target:783},{id:708,source:791,target:783},{id:709,source:792,target:783},{id:710,source:793,target:783},{id:711,source:794,target:783},{id:712,source:795,target:783},{id:713,source:796,target:605},{id:714,source:797,target:798},{id:715,source:799,target:783},{id:716,source:800,target:801},{id:717,source:802,target:801},{id:718,source:803,target:801},{id:719,source:804,target:783},{id:720,source:805,target:605},{id:721,source:806,target:801},{id:722,source:807,target:801},{id:723,source:808,target:801},{id:724,source:809,target:801},{id:725,source:810,target:801},{id:726,source:811,target:801},{id:727,source:812,target:801},{id:728,source:813,target:814},{id:729,source:815,target:798},{id:730,source:816,target:817},{id:731,source:818,target:814},{id:732,source:819,target:814},{id:733,source:820,target:814},{id:734,source:821,target:814},{id:735,source:822,target:814},{id:736,source:823,target:817},{id:737,source:824,target:814},{id:738,source:825,target:814},{id:739,source:826,target:814},{id:740,source:827,target:814},{id:741,source:828,target:829},{id:742,source:830,target:831},{id:743,source:832,target:829},{id:744,source:833,target:829},{id:745,source:834,target:829},{id:746,source:835,target:829},{id:747,source:179,target:836},{id:748,source:837,target:838},{id:749,source:839,target:829},{id:750,source:840,target:817},{id:751,source:75,target:829},{id:752,source:841,target:829},{id:753,source:842,target:829},{id:754,source:843,target:829},{id:755,source:844,target:845},{id:756,source:846,target:845},{id:757,source:847,target:845},{id:758,source:848,target:845},{id:759,source:849,target:845},{id:760,source:850,target:845},{id:761,source:851,target:845},{id:762,source:852,target:845},{id:763,source:853,target:845},{id:764,source:854,target:845},{id:765,source:855,target:856},{id:766,source:857,target:856},{id:767,source:858,target:856},{id:768,source:859,target:856},{id:769,source:860,target:856},{id:770,source:861,target:856},{id:771,source:862,target:856},{id:772,source:863,target:856},{id:773,source:864,target:856},{id:774,source:865,target:856},{id:775,source:866,target:85},{id:776,source:867,target:868},{id:777,source:869,target:870},{id:778,source:871,target:872},{id:779,source:873,target:868},{id:780,source:874,target:868},{id:781,source:875,target:868},{id:782,source:876,target:868},{id:783,source:877,target:868},{id:784,source:878,target:868},{id:785,source:879,target:868},{id:786,source:880,target:868},{id:787,source:881,target:868},{id:788,source:882,target:883},{id:789,source:884,target:817},{id:790,source:885,target:817},{id:791,source:886,target:883},{id:792,source:887,target:883},{id:793,source:888,target:883},{id:794,source:889,target:817},{id:795,source:890,target:883},{id:796,source:891,target:883},{id:797,source:892,target:883},{id:798,source:893,target:883},{id:799,source:894,target:661},{id:800,source:895,target:817},{id:801,source:896,target:817},{id:802,source:897,target:898},{id:803,source:899,target:900},{id:804,source:901,target:883},{id:805,source:183,target:817},{id:806,source:902,target:903},{id:807,source:904,target:903},{id:808,source:905,target:906},{id:809,source:907,target:906},{id:810,source:908,target:592},{id:811,source:909,target:592},{id:812,source:910,target:911},{id:813,source:912,target:883},{id:814,source:913,target:906},{id:815,source:914,target:906},{id:816,source:915,target:592},{id:817,source:916,target:906},{id:818,source:917,target:918},{id:819,source:919,target:906},{id:820,source:920,target:817},{id:821,source:921,target:922},{id:822,source:923,target:906},{id:823,source:924,target:900},{id:824,source:925,target:926},{id:825,source:927,target:906},{id:826,source:928,target:922},{id:827,source:929,target:906},{id:828,source:930,target:906},{id:829,source:903,target:931},{id:830,source:932,target:931},{id:831,source:933,target:931},{id:832,source:934,target:931},{id:833,source:935,target:931},{id:834,source:936,target:931},{id:835,source:937,target:931},{id:836,source:938,target:931},{id:837,source:939,target:931},{id:838,source:940,target:931},{id:839,source:941,target:942},{id:840,source:943,target:942},{id:841,source:944,target:942},{id:842,source:945,target:942},{id:843,source:946,target:942},{id:844,source:947,target:922},{id:845,source:948,target:922},{id:846,source:949,target:942},{id:847,source:950,target:922},{id:848,source:951,target:942},{id:849,source:952,target:953},{id:850,source:926,target:953},{id:851,source:954,target:942},{id:852,source:955,target:942},{id:853,source:956,target:942},{id:854,source:957,target:953},{id:855,source:958,target:953},{id:856,source:959,target:953},{id:857,source:960,target:953},{id:858,source:961,target:953},{id:859,source:962,target:963},{id:860,source:964,target:963},{id:861,source:965,target:963},{id:862,source:966,target:963},{id:863,source:967,target:963},{id:864,source:968,target:963},{id:865,source:969,target:963},{id:866,source:970,target:963},{id:867,source:971,target:963},{id:868,source:972,target:963},{id:869,source:973,target:974},{id:870,source:975,target:974},{id:871,source:976,target:974},{id:872,source:977,target:974},{id:873,source:978,target:974},{id:874,source:979,target:974},{id:875,source:980,target:974},{id:876,source:981,target:974},{id:877,source:982,target:974},{id:878,source:983,target:974},{id:879,source:984,target:985},{id:880,source:986,target:985},{id:881,source:987,target:985},{id:882,source:988,target:985},{id:883,source:989,target:985},{id:884,source:155,target:985},{id:885,source:990,target:985},{id:886,source:991,target:985},{id:887,source:992,target:985},{id:888,source:993,target:985},{id:889,source:994,target:995},{id:890,source:996,target:995},{id:891,source:997,target:995},{id:892,source:998,target:995},{id:893,source:999,target:995},{id:894,source:1e3,target:995},{id:895,source:1001,target:995},{id:896,source:1002,target:995},{id:897,source:1003,target:995},{id:898,source:1004,target:995},{id:899,source:1005,target:1006},{id:900,source:1007,target:1006},{id:901,source:870,target:1006},{id:902,source:1008,target:1006},{id:903,source:1009,target:1006},{id:904,source:1010,target:1006},{id:905,source:1011,target:1006},{id:906,source:1012,target:1006},{id:907,source:1013,target:1006},{id:908,source:1014,target:1006},{id:909,source:831,target:1015},{id:910,source:1016,target:1015},{id:911,source:1017,target:1015},{id:912,source:1018,target:1015},{id:913,source:1019,target:1015},{id:914,source:1020,target:1015},{id:915,source:1021,target:1015},{id:916,source:1022,target:1015},{id:917,source:1023,target:1015},{id:918,source:1024,target:1015},{id:919,source:1025,target:1026},{id:920,source:1027,target:1026},{id:921,source:1028,target:1026},{id:922,source:1029,target:1026},{id:923,source:175,target:1026},{id:924,source:1030,target:1026},{id:925,source:1031,target:1026},{id:926,source:1032,target:1026},{id:927,source:1033,target:1026},{id:928,source:1034,target:1026},{id:929,source:1035,target:1036},{id:930,source:1037,target:1036},{id:931,source:1038,target:1036},{id:932,source:1039,target:1036},{id:933,source:77,target:1036},{id:934,source:85,target:1036},{id:935,source:1040,target:1036},{id:936,source:1041,target:1036},{id:937,source:1042,target:1036},{id:938,source:1043,target:1036},{id:939,source:1044,target:1045},{id:940,source:1046,target:1045},{id:941,source:1047,target:1045},{id:942,source:1048,target:1045},{id:943,source:1049,target:1045},{id:944,source:1050,target:1045},{id:945,source:1051,target:1045},{id:946,source:1052,target:1045},{id:947,source:1053,target:1045},{id:948,source:1054,target:1045},{id:949,source:1055,target:1056},{id:950,source:1057,target:1056},{id:951,source:1058,target:1056},{id:952,source:1059,target:1056},{id:953,source:1060,target:1056},{id:954,source:1061,target:1056},{id:955,source:1062,target:1056},{id:956,source:1063,target:1056},{id:957,source:1064,target:1056},{id:958,source:1065,target:1056},{id:959,source:1066,target:1067},{id:960,source:1068,target:1067},{id:961,source:1069,target:1067},{id:962,source:1070,target:953},{id:963,source:1071,target:953},{id:964,source:1072,target:953},{id:965,source:1073,target:1074},{id:966,source:1075,target:1076},{id:967,source:1077,target:922},{id:968,source:1078,target:922},{id:969,source:1079,target:1067},{id:970,source:1080,target:1067},{id:971,source:1081,target:1067},{id:972,source:1082,target:922},{id:973,source:1083,target:1067},{id:974,source:1084,target:1085},{id:975,source:1086,target:1067},{id:976,source:1087,target:1085},{id:977,source:1088,target:1089},{id:978,source:1085,target:1090},{id:979,source:1090,target:1091},{id:980,source:1092,target:1093},{id:981,source:1094,target:1095},{id:982,source:1096,target:1067},{id:983,source:1097,target:552},{id:984,source:1098,target:661},{id:985,source:1099,target:1100},{id:986,source:1101,target:1102},{id:987,source:1103,target:1104},{id:988,source:1105,target:1100},{id:989,source:1106,target:1100},{id:990,source:1107,target:1100},{id:991,source:81,target:1100},{id:992,source:1108,target:1100},{id:993,source:1109,target:1100},{id:994,source:1110,target:1100},{id:995,source:1111,target:1100},{id:996,source:1112,target:1113},{id:997,source:1114,target:1113},{id:998,source:1115,target:1113},{id:999,source:1116,target:1113},{id:1e3,source:1117,target:1113},{id:1001,source:1118,target:1113},{id:1002,source:1119,target:1113},{id:1003,source:1120,target:1113},{id:1004,source:1121,target:1113},{id:1005,source:1122,target:1113},{id:1006,source:1123,target:328},{id:1007,source:1124,target:328},{id:1008,source:1125,target:328},{id:1009,source:1126,target:328},{id:1010,source:1127,target:328},{id:1011,source:1128,target:328},{id:1012,source:1129,target:328},{id:1013,source:1130,target:328},{id:1014,source:1131,target:328},{id:1015,source:1132,target:922},{id:1016,source:1133,target:1134},{id:1017,source:1135,target:1134},{id:1018,source:1136,target:1134},{id:1019,source:1137,target:1138},{id:1020,source:1139,target:605},{id:1021,source:1140,target:922},{id:1022,source:1141,target:605},{id:1023,source:1142,target:1134},{id:1024,source:1143,target:1138},{id:1025,source:1144,target:1138},{id:1026,source:1145,target:1138},{id:1027,source:838,target:1138},{id:1028,source:661,target:1138},{id:1029,source:2,target:1138},{id:1030,source:10,target:1138},{id:1031,source:21,target:1138},{id:1032,source:32,target:1138},{id:1033,source:43,target:1146},{id:1034,source:54,target:1146},{id:1035,source:73,target:1146},{id:1036,source:109,target:1146},{id:1037,source:191,target:1146},{id:1038,source:202,target:1146},{id:1039,source:213,target:1146},{id:1040,source:224,target:1146},{id:1041,source:235,target:1146},{id:1042,source:246,target:1146},{id:1043,source:257,target:1147},{id:1044,source:267,target:1147},{id:1045,source:278,target:1147},{id:1046,source:289,target:1147},{id:1047,source:300,target:1147},{id:1048,source:309,target:1134},{id:1049,source:315,target:1134},{id:1050,source:327,target:1134},{id:1051,source:337,target:1134},{id:1052,source:348,target:1148},{id:1053,source:359,target:1148},{id:1054,source:370,target:1147},{id:1055,source:381,target:1134},{id:1056,source:392,target:1147},{id:1057,source:403,target:1134},{id:1058,source:414,target:1147},{id:1059,source:425,target:1148},{id:1060,source:436,target:1148},{id:1061,source:447,target:1148},{id:1062,source:458,target:1148},{id:1063,source:469,target:1148},{id:1064,source:478,target:1148},{id:1065,source:488,target:1149},{id:1066,source:499,target:1147},{id:1067,source:506,target:1148},{id:1068,source:515,target:1147},{id:1069,source:522,target:1148},{id:1070,source:532,target:1150},{id:1071,source:541,target:1149},{id:1072,source:552,target:1151},{id:1073,source:563,target:1150},{id:1074,source:580,target:1150},{id:1075,source:594,target:1150},{id:1076,source:609,target:1152},{id:1077,source:622,target:1152},{id:1078,source:633,target:1150},{id:1079,source:644,target:1150},{id:1080,source:317,target:1150},{id:1081,source:319,target:1150},{id:1082,source:674,target:1150},{id:1083,source:685,target:1150},{id:1084,source:696,target:1153},{id:1085,source:707,target:1153},{id:1086,source:718,target:1153},{id:1087,source:728,target:1153},{id:1088,source:739,target:1153},{id:1089,source:749,target:1153},{id:1090,source:759,target:1153},{id:1091,source:590,target:1153},{id:1092,source:592,target:1153},{id:1093,source:783,target:1153},{id:1094,source:801,target:1154},{id:1095,source:814,target:1154},{id:1096,source:829,target:1154},{id:1097,source:845,target:1154},{id:1098,source:856,target:1154},{id:1099,source:868,target:1154},{id:1100,source:883,target:1154},{id:1101,source:906,target:1154},{id:1102,source:931,target:1154},{id:1103,source:942,target:1154},{id:1104,source:953,target:1155},{id:1105,source:963,target:1155},{id:1106,source:974,target:1155},{id:1107,source:985,target:1155},{id:1108,source:995,target:1155},{id:1109,source:1006,target:1155},{id:1110,source:1015,target:1155},{id:1111,source:1026,target:1155},{id:1112,source:1036,target:1155},{id:1113,source:1045,target:1155},{id:1114,source:1056,target:1156},{id:1115,source:1067,target:1156},{id:1116,source:1100,target:1156},{id:1117,source:1113,target:1156},{id:1118,source:328,target:1156},{id:1119,source:605,target:1156},{id:1120,source:1138,target:1156},{id:1121,source:1146,target:1156},{id:1122,source:1147,target:1156},{id:1123,source:1150,target:1156},{id:1124,source:1153,target:1157},{id:1125,source:1154,target:1157},{id:1126,source:1155,target:1157},{id:1127,source:1156,target:1157},{id:1128,source:1157,target:1158},{id:1129,source:1158,target:1159},{id:1130,source:1160,target:1161},{id:1131,source:1162,target:1163},{id:1132,source:1164,target:1165},{id:1133,source:1166,target:922},{id:1134,source:1159,target:1167},{id:1135,source:1168,target:1169},{id:1136,source:1170,target:1171},{id:1137,source:1172,target:1173},{id:1138,source:1174,target:918},{id:1139,source:1175,target:1176},{id:1140,source:1177,target:1178},{id:1141,source:1179,target:1180},{id:1142,source:1181,target:1182},{id:1143,source:1183,target:1184},{id:1144,source:1161,target:1185},{id:1145,source:1186,target:1187},{id:1146,source:1188,target:1189},{id:1147,source:1190,target:1191},{id:1148,source:1192,target:1193},{id:1149,source:1194,target:1195},{id:1150,source:1196,target:1197},{id:1151,source:1198,target:1199},{id:1152,source:1200,target:1201},{id:1153,source:1202,target:1203},{id:1154,source:1163,target:1204},{id:1155,source:1205,target:1206},{id:1156,source:1207,target:1208},{id:1157,source:1209,target:1210},{id:1158,source:1211,target:1212},{id:1159,source:1213,target:1214},{id:1160,source:1215,target:1216},{id:1161,source:1217,target:1218},{id:1162,source:1219,target:1220},{id:1163,source:1221,target:1222},{id:1164,source:1223,target:1224},{id:1165,source:1225,target:1226},{id:1166,source:1165,target:1227},{id:1167,source:1228,target:1229},{id:1168,source:1230,target:1231},{id:1169,source:1232,target:1233},{id:1170,source:1234,target:1235},{id:1171,source:1236,target:1237},{id:1172,source:1238,target:1239},{id:1173,source:1240,target:1241},{id:1174,source:1242,target:1243},{id:1175,source:1244,target:1245},{id:1176,source:798,target:1246},{id:1177,source:817,target:1247},{id:1178,source:922,target:1248},{id:1179,source:1134,target:1249},{id:1180,source:1148,target:1250},{id:1181,source:1149,target:1251},{id:1182,source:1252,target:1253},{id:1183,source:1254,target:1255},{id:1184,source:1256,target:1257},{id:1185,source:1258,target:1259},{id:1186,source:1260,target:1261},{id:1187,source:1262,target:1263},{id:1188,source:1264,target:1265},{id:1189,source:1266,target:1267},{id:1190,source:1167,target:1268},{id:1191,source:1269,target:1270},{id:1192,source:1271,target:1272},{id:1193,source:1273,target:1274},{id:1194,source:1275,target:1276},{id:1195,source:1277,target:1278},{id:1196,source:1279,target:1280},{id:1197,source:1281,target:1282},{id:1198,source:1283,target:1284},{id:1199,source:1285,target:1286},{id:1200,source:1169,target:1287},{id:1201,source:1288,target:1289},{id:1202,source:1290,target:1291},{id:1203,source:900,target:1292},{id:1204,source:1293,target:1294},{id:1205,source:1295,target:1296},{id:1206,source:1297,target:1298},{id:1207,source:1299,target:1300},{id:1208,source:1301,target:1302},{id:1209,source:1303,target:1304},{id:1210,source:1171,target:1305},{id:1211,source:1306,target:1307},{id:1212,source:1308,target:1309},{id:1213,source:1310,target:1311},{id:1214,source:1312,target:1313},{id:1215,source:1314,target:1315},{id:1216,source:1316,target:1317},{id:1217,source:1318,target:1319},{id:1218,source:1320,target:1321},{id:1219,source:1322,target:1323},{id:1220,source:1173,target:1324},{id:1221,source:1325,target:1326},{id:1222,source:1327,target:1328},{id:1223,source:1329,target:1330},{id:1224,source:1331,target:1332},{id:1225,source:1333,target:1334},{id:1226,source:1335,target:1336},{id:1227,source:1337,target:1338},{id:1228,source:1339,target:1340},{id:1229,source:1341,target:1342},{id:1230,source:918,target:1343},{id:1231,source:1344,target:1345},{id:1232,source:1346,target:1347},{id:1233,source:1348,target:1349},{id:1234,source:1089,target:1350},{id:1235,source:1351,target:1352},{id:1236,source:1353,target:1354},{id:1237,source:1355,target:1356},{id:1238,source:1357,target:1358},{id:1239,source:1359,target:1360},{id:1240,source:1176,target:1361},{id:1241,source:1362,target:1363},{id:1242,source:1364,target:1365},{id:1243,source:1366,target:1367},{id:1244,source:1368,target:1369},{id:1245,source:1370,target:1371},{id:1246,source:1372,target:1373},{id:1247,source:1374,target:1375},{id:1248,source:1376,target:1377},{id:1249,source:1378,target:1379},{id:1250,source:1178,target:1380},{id:1251,source:1381,target:1382},{id:1252,source:1383,target:1384},{id:1253,source:1195,target:1385},{id:1254,source:1197,target:1386},{id:1255,source:1387,target:1388},{id:1256,source:1389,target:1390},{id:1257,source:1369,target:1391},{id:1258,source:1377,target:1392},{id:1259,source:1393,target:1394},{id:1260,source:1395,target:1396},{id:1261,source:1397,target:1398},{id:1262,source:1399,target:1400},{id:1263,source:1401,target:1402},{id:1264,source:1403,target:1404},{id:1265,source:1405,target:1406},{id:1266,source:1407,target:1408},{id:1267,source:1199,target:1409},{id:1268,source:1410,target:1411},{id:1269,source:1412,target:1413},{id:1270,source:1414,target:1415},{id:1271,source:1416,target:1417},{id:1272,source:1418,target:1419},{id:1273,source:1420,target:1421},{id:1274,source:1422,target:1423},{id:1275,source:1424,target:1425},{id:1276,source:1426,target:1427},{id:1277,source:1201,target:1428},{id:1278,source:1429,target:1430},{id:1279,source:1431,target:1432},{id:1280,source:1433,target:1434},{id:1281,source:1435,target:1436},{id:1282,source:1437,target:1438},{id:1283,source:1439,target:1440},{id:1284,source:163,target:1441},{id:1285,source:1442,target:1443},{id:1286,source:1444,target:1445},{id:1287,source:1203,target:1446},{id:1288,source:1447,target:1448},{id:1289,source:1449,target:1450},{id:1290,source:1451,target:1452},{id:1291,source:1453,target:1454},{id:1292,source:1455,target:1456},{id:1293,source:1457,target:1458},{id:1294,source:1459,target:1460},{id:1295,source:1461,target:1462},{id:1296,source:1463,target:1464},{id:1297,source:1204,target:1465},{id:1298,source:1466,target:1467}]}},function(e){e.exports={nodes:[{id:"d3",path:"d3",leaf:"d3",module:null,size:20,level:0},{id:"d3/d3-array",path:"d3/d3-array",leaf:"d3-array",module:"d3-array",size:20,level:1},{id:"d3/d3-array/threshold",path:"d3/d3-array/threshold",leaf:"threshold",module:"d3-array",size:20,level:2},{id:"d3/d3-axis",path:"d3/d3-axis",leaf:"d3-axis",module:"d3-axis",size:20,level:1},{id:"d3/d3-brush",path:"d3/d3-brush",leaf:"d3-brush",module:"d3-brush",size:20,level:1},{id:"d3/d3-chord",path:"d3/d3-chord",leaf:"d3-chord",module:"d3-chord",size:20,level:1},{id:"d3/d3-collection",path:"d3/d3-collection",leaf:"d3-collection",module:"d3-collection",size:20,level:1},{id:"d3/d3-color",path:"d3/d3-color",leaf:"d3-color",module:"d3-color",size:20,level:1},{id:"d3/d3-dispatch",path:"d3/d3-dispatch",leaf:"d3-dispatch",module:"d3-dispatch",size:20,level:1},{id:"d3/d3-drag",path:"d3/d3-drag",leaf:"d3-drag",module:"d3-drag",size:20,level:1},{id:"d3/d3-dsv",path:"d3/d3-dsv",leaf:"d3-dsv",module:"d3-dsv",size:20,level:1},{id:"d3/d3-ease",path:"d3/d3-ease",leaf:"d3-ease",module:"d3-ease",size:20,level:1},{id:"d3/d3-force",path:"d3/d3-force",leaf:"d3-force",module:"d3-force",size:20,level:1},{id:"d3/d3-format",path:"d3/d3-format",leaf:"d3-format",module:"d3-format",size:20,level:1},{id:"d3/d3-geo",path:"d3/d3-geo",leaf:"d3-geo",module:"d3-geo",size:20,level:1},{id:"d3/d3-geo/clip",path:"d3/d3-geo/clip",leaf:"clip",module:"d3-geo",size:20,level:2},{id:"d3/d3-geo/path",path:"d3/d3-geo/path",leaf:"path",module:"d3-geo",size:20,level:2},{id:"d3/d3-geo/projection",path:"d3/d3-geo/projection",leaf:"projection",module:"d3-geo",size:20,level:2},{id:"d3/d3-hierarchy",path:"d3/d3-hierarchy",leaf:"d3-hierarchy",module:"d3-hierarchy",size:20,level:1},{id:"d3/d3-hierarchy/hierarchy",path:"d3/d3-hierarchy/hierarchy",leaf:"hierarchy",module:"d3-hierarchy",size:20,level:2},{id:"d3/d3-hierarchy/pack",path:"d3/d3-hierarchy/pack",leaf:"pack",module:"d3-hierarchy",size:20,level:2},{id:"d3/d3-hierarchy/treemap",path:"d3/d3-hierarchy/treemap",leaf:"treemap",module:"d3-hierarchy",size:20,level:2},{id:"d3/d3-interpolate",path:"d3/d3-interpolate",leaf:"d3-interpolate",module:"d3-interpolate",size:20,level:1},{id:"d3/d3-interpolate/transform",path:"d3/d3-interpolate/transform",leaf:"transform",module:"d3-interpolate",size:20,level:2},{id:"d3/d3-path",path:"d3/d3-path",leaf:"d3-path",module:"d3-path",size:20,level:1},{id:"d3/d3-polygon",path:"d3/d3-polygon",leaf:"d3-polygon",module:"d3-polygon",size:20,level:1},{id:"d3/d3-quadtree",path:"d3/d3-quadtree",leaf:"d3-quadtree",module:"d3-quadtree",size:20,level:1},{id:"d3/d3-queue",path:"d3/d3-queue",leaf:"d3-queue",module:"d3-queue",size:20,level:1},{id:"d3/d3-random",path:"d3/d3-random",leaf:"d3-random",module:"d3-random",size:20,level:1},{id:"d3/d3-request",path:"d3/d3-request",leaf:"d3-request",module:"d3-request",size:20,level:1},{id:"d3/d3-scale",path:"d3/d3-scale",leaf:"d3-scale",module:"d3-scale",size:20,level:1},{id:"d3/d3-selection",path:"d3/d3-selection",leaf:"d3-selection",module:"d3-selection",size:20,level:1},{id:"d3/d3-selection/selection",path:"d3/d3-selection/selection",leaf:"selection",module:"d3-selection",size:20,level:2},{id:"d3/d3-shape",path:"d3/d3-shape",leaf:"d3-shape",module:"d3-shape",size:20,level:1},{id:"d3/d3-shape/curve",path:"d3/d3-shape/curve",leaf:"curve",module:"d3-shape",size:20,level:2},{id:"d3/d3-shape/offset",path:"d3/d3-shape/offset",leaf:"offset",module:"d3-shape",size:20,level:2},{id:"d3/d3-shape/order",path:"d3/d3-shape/order",leaf:"order",module:"d3-shape",size:20,level:2},{id:"d3/d3-shape/symbol",path:"d3/d3-shape/symbol",leaf:"symbol",module:"d3-shape",size:20,level:2},{id:"d3/d3-time-format",path:"d3/d3-time-format",leaf:"d3-time-format",module:"d3-time-format",size:20,level:1},{id:"d3/d3-time",path:"d3/d3-time",leaf:"d3-time",module:"d3-time",size:20,level:1},{id:"d3/d3-timer",path:"d3/d3-timer",leaf:"d3-timer",module:"d3-timer",size:20,level:1},{id:"d3/d3-transition",path:"d3/d3-transition",leaf:"d3-transition",module:"d3-transition",size:20,level:1},{id:"d3/d3-transition/selection",path:"d3/d3-transition/selection",leaf:"selection",module:"d3-transition",size:20,level:2},{id:"d3/d3-transition/transition",path:"d3/d3-transition/transition",leaf:"transition",module:"d3-transition",size:20,level:2},{id:"d3/d3-voronoi",path:"d3/d3-voronoi",leaf:"d3-voronoi",module:"d3-voronoi",size:20,level:1},{id:"d3/d3-zoom",path:"d3/d3-zoom",leaf:"d3-zoom",module:"d3-zoom",size:20,level:1},{id:"d3/d3-array/array.js",path:"d3/d3-array/array.js",leaf:"array.js",module:"d3-array",size:90,level:2},{id:"d3/d3-array/ascending.js",path:"d3/d3-array/ascending.js",leaf:"ascending.js",module:"d3-array",size:86,level:2},{id:"d3/d3-array/bisect.js",path:"d3/d3-array/bisect.js",leaf:"bisect.js",module:"d3-array",size:238,level:2},{id:"d3/d3-array/bisector.js",path:"d3/d3-array/bisector.js",leaf:"bisector.js",module:"d3-array",size:786,level:2},{id:"d3/d3-array/constant.js",path:"d3/d3-array/constant.js",leaf:"constant.js",module:"d3-array",size:72,level:2},{id:"d3/d3-array/descending.js",path:"d3/d3-array/descending.js",leaf:"descending.js",module:"d3-array",size:86,level:2},{id:"d3/d3-array/deviation.js",path:"d3/d3-array/deviation.js",leaf:"deviation.js",module:"d3-array",size:135,level:2},{id:"d3/d3-array/extent.js",path:"d3/d3-array/extent.js",leaf:"extent.js",module:"d3-array",size:553,level:2},{id:"d3/d3-array/histogram.js",path:"d3/d3-array/histogram.js",leaf:"histogram.js",module:"d3-array",size:1876,level:2},{id:"d3/d3-array/identity.js",path:"d3/d3-array/identity.js",leaf:"identity.js",module:"d3-array",size:43,level:2},{id:"d3/d3-array/max.js",path:"d3/d3-array/max.js",leaf:"max.js",module:"d3-array",size:451,level:2},{id:"d3/d3-array/mean.js",path:"d3/d3-array/mean.js",leaf:"mean.js",module:"d3-array",size:362,level:2},{id:"d3/d3-array/median.js",path:"d3/d3-array/median.js",leaf:"median.js",module:"d3-array",size:452,level:2},{id:"d3/d3-array/merge.js",path:"d3/d3-array/merge.js",leaf:"merge.js",module:"d3-array",size:339,level:2},{id:"d3/d3-array/min.js",path:"d3/d3-array/min.js",leaf:"min.js",module:"d3-array",size:451,level:2},{id:"d3/d3-array/number.js",path:"d3/d3-array/number.js",leaf:"number.js",module:"d3-array",size:63,level:2},{id:"d3/d3-array/pairs.js",path:"d3/d3-array/pairs.js",leaf:"pairs.js",module:"d3-array",size:182,level:2},{id:"d3/d3-array/permute.js",path:"d3/d3-array/permute.js",leaf:"permute.js",module:"d3-array",size:161,level:2},{id:"d3/d3-array/quantile.js",path:"d3/d3-array/quantile.js",leaf:"quantile.js",module:"d3-array",size:416,level:2},{id:"d3/d3-array/range.js",path:"d3/d3-array/range.js",leaf:"range.js",module:"d3-array",size:344,level:2},{id:"d3/d3-array/scan.js",path:"d3/d3-array/scan.js",leaf:"scan.js",module:"d3-array",size:357,level:2},{id:"d3/d3-array/shuffle.js",path:"d3/d3-array/shuffle.js",leaf:"shuffle.js",module:"d3-array",size:285,level:2},{id:"d3/d3-array/sum.js",path:"d3/d3-array/sum.js",leaf:"sum.js",module:"d3-array",size:295,level:2},{id:"d3/d3-array/threshold/freedmanDiaconis.js",path:"d3/d3-array/threshold/freedmanDiaconis.js",leaf:"freedmanDiaconis.js",module:"d3-array",size:361,level:3},{id:"d3/d3-array/threshold/scott.js",path:"d3/d3-array/threshold/scott.js",leaf:"scott.js",module:"d3-array",size:180,level:3},{id:"d3/d3-array/threshold/sturges.js",path:"d3/d3-array/threshold/sturges.js",leaf:"sturges.js",module:"d3-array",size:96,level:3},{id:"d3/d3-array/ticks.js",path:"d3/d3-array/ticks.js",leaf:"ticks.js",module:"d3-array",size:672,level:2},{id:"d3/d3-array/transpose.js",path:"d3/d3-array/transpose.js",leaf:"transpose.js",module:"d3-array",size:356,level:2},{id:"d3/d3-array/variance.js",path:"d3/d3-array/variance.js",leaf:"variance.js",module:"d3-array",size:540,level:2},{id:"d3/d3-array/zip.js",path:"d3/d3-array/zip.js",leaf:"zip.js",module:"d3-array",size:99,level:2},{id:"d3/d3-axis/array.js",path:"d3/d3-axis/array.js",leaf:"array.js",module:"d3-axis",size:42,level:2},{id:"d3/d3-axis/axis.js",path:"d3/d3-axis/axis.js",leaf:"axis.js",module:"d3-axis",size:5239,level:2},{id:"d3/d3-axis/identity.js",path:"d3/d3-axis/identity.js",leaf:"identity.js",module:"d3-axis",size:43,level:2},{id:"d3/d3-brush/brush.js",path:"d3/d3-brush/brush.js",leaf:"brush.js",module:"d3-brush",size:15778,level:2},{id:"d3/d3-brush/constant.js",path:"d3/d3-brush/constant.js",leaf:"constant.js",module:"d3-brush",size:72,level:2},{id:"d3/d3-brush/event.js",path:"d3/d3-brush/event.js",leaf:"event.js",module:"d3-brush",size:127,level:2},{id:"d3/d3-brush/noevent.js",path:"d3/d3-brush/noevent.js",leaf:"noevent.js",module:"d3-brush",size:202,level:2},{id:"d3/d3-chord/array.js",path:"d3/d3-chord/array.js",leaf:"array.js",module:"d3-chord",size:42,level:2},{id:"d3/d3-chord/chord.js",path:"d3/d3-chord/chord.js",leaf:"chord.js",module:"d3-chord",size:3178,level:2},{id:"d3/d3-chord/constant.js",path:"d3/d3-chord/constant.js",leaf:"constant.js",module:"d3-chord",size:72,level:2},{id:"d3/d3-chord/math.js",path:"d3/d3-chord/math.js",leaf:"math.js",module:"d3-chord",size:159,level:2},{id:"d3/d3-chord/ribbon.js",path:"d3/d3-chord/ribbon.js",leaf:"ribbon.js",module:"d3-chord",size:2340,level:2},{id:"d3/d3-collection/entries.js",path:"d3/d3-collection/entries.js",leaf:"entries.js",module:"d3-collection",size:137,level:2},{id:"d3/d3-collection/keys.js",path:"d3/d3-collection/keys.js",leaf:"keys.js",module:"d3-collection",size:104,level:2},{id:"d3/d3-collection/map.js",path:"d3/d3-collection/map.js",leaf:"map.js",module:"d3-collection",size:1988,level:2},{id:"d3/d3-collection/nest.js",path:"d3/d3-collection/nest.js",leaf:"nest.js",module:"d3-collection",size:2021,level:2},{id:"d3/d3-collection/set.js",path:"d3/d3-collection/set.js",leaf:"set.js",module:"d3-collection",size:800,level:2},{id:"d3/d3-collection/values.js",path:"d3/d3-collection/values.js",leaf:"values.js",module:"d3-collection",size:115,level:2},{id:"d3/d3-color/color.js",path:"d3/d3-color/color.js",leaf:"color.js",module:"d3-color",size:9276,level:2},{id:"d3/d3-color/cubehelix.js",path:"d3/d3-color/cubehelix.js",leaf:"cubehelix.js",module:"d3-color",size:1855,level:2},{id:"d3/d3-color/define.js",path:"d3/d3-color/define.js",leaf:"define.js",module:"d3-color",size:340,level:2},{id:"d3/d3-color/lab.js",path:"d3/d3-color/lab.js",leaf:"lab.js",module:"d3-color",size:3167,level:2},{id:"d3/d3-color/math.js",path:"d3/d3-color/math.js",leaf:"math.js",module:"d3-color",size:72,level:2},{id:"d3/d3-dispatch/dispatch.js",path:"d3/d3-dispatch/dispatch.js",leaf:"dispatch.js",module:"d3-dispatch",size:2729,level:2},{id:"d3/d3-drag/constant.js",path:"d3/d3-drag/constant.js",leaf:"constant.js",module:"d3-drag",size:72,level:2},{id:"d3/d3-drag/drag.js",path:"d3/d3-drag/drag.js",leaf:"drag.js",module:"d3-drag",size:4297,level:2},{id:"d3/d3-drag/event.js",path:"d3/d3-drag/event.js",leaf:"event.js",module:"d3-drag",size:430,level:2},{id:"d3/d3-drag/nodrag.js",path:"d3/d3-drag/nodrag.js",leaf:"nodrag.js",module:"d3-drag",size:857,level:2},{id:"d3/d3-drag/noevent.js",path:"d3/d3-drag/noevent.js",leaf:"noevent.js",module:"d3-drag",size:202,level:2},{id:"d3/d3-dsv/csv.js",path:"d3/d3-dsv/csv.js",leaf:"csv.js",module:"d3-dsv",size:199,level:2},{id:"d3/d3-dsv/dsv.js",path:"d3/d3-dsv/dsv.js",leaf:"dsv.js",module:"d3-dsv",size:3582,level:2},{id:"d3/d3-dsv/tsv.js",path:"d3/d3-dsv/tsv.js",leaf:"tsv.js",module:"d3-dsv",size:200,level:2},{id:"d3/d3-ease/back.js",path:"d3/d3-ease/back.js",leaf:"back.js",module:"d3-ease",size:653,level:2},{id:"d3/d3-ease/bounce.js",path:"d3/d3-ease/bounce.js",leaf:"bounce.js",module:"d3-ease",size:521,level:2},{id:"d3/d3-ease/circle.js",path:"d3/d3-ease/circle.js",leaf:"circle.js",module:"d3-ease",size:261,level:2},{id:"d3/d3-ease/cubic.js",path:"d3/d3-ease/cubic.js",leaf:"cubic.js",module:"d3-ease",size:210,level:2},{id:"d3/d3-ease/elastic.js",path:"d3/d3-ease/elastic.js",leaf:"elastic.js",module:"d3-ease",size:1309,level:2},{id:"d3/d3-ease/exp.js",path:"d3/d3-ease/exp.js",leaf:"exp.js",module:"d3-ease",size:251,level:2},{id:"d3/d3-ease/linear.js",path:"d3/d3-ease/linear.js",leaf:"linear.js",module:"d3-ease",size:43,level:2},{id:"d3/d3-ease/poly.js",path:"d3/d3-ease/poly.js",leaf:"poly.js",module:"d3-ease",size:596,level:2},{id:"d3/d3-ease/quad.js",path:"d3/d3-ease/quad.js",leaf:"quad.js",module:"d3-ease",size:192,level:2},{id:"d3/d3-ease/sin.js",path:"d3/d3-ease/sin.js",leaf:"sin.js",module:"d3-ease",size:236,level:2},{id:"d3/d3-force/center.js",path:"d3/d3-force/center.js",leaf:"center.js",module:"d3-force",size:654,level:2},{id:"d3/d3-force/collide.js",path:"d3/d3-force/collide.js",leaf:"collide.js",module:"d3-force",size:2447,level:2},{id:"d3/d3-force/constant.js",path:"d3/d3-force/constant.js",leaf:"constant.js",module:"d3-force",size:72,level:2},{id:"d3/d3-force/jiggle.js",path:"d3/d3-force/jiggle.js",leaf:"jiggle.js",module:"d3-force",size:69,level:2},{id:"d3/d3-force/link.js",path:"d3/d3-force/link.js",leaf:"link.js",module:"d3-force",size:3213,level:2},{id:"d3/d3-force/manyBody.js",path:"d3/d3-force/manyBody.js",leaf:"manyBody.js",module:"d3-force",size:3181,level:2},{id:"d3/d3-force/simulation.js",path:"d3/d3-force/simulation.js",leaf:"simulation.js",module:"d3-force",size:3444,level:2},{id:"d3/d3-force/x.js",path:"d3/d3-force/x.js",leaf:"x.js",module:"d3-force",size:1030,level:2},{id:"d3/d3-force/y.js",path:"d3/d3-force/y.js",leaf:"y.js",module:"d3-force",size:1030,level:2},{id:"d3/d3-format/defaultLocale.js",path:"d3/d3-format/defaultLocale.js",leaf:"defaultLocale.js",module:"d3-format",size:361,level:2},{id:"d3/d3-format/exponent.js",path:"d3/d3-format/exponent.js",leaf:"exponent.js",module:"d3-format",size:134,level:2},{id:"d3/d3-format/formatDecimal.js",path:"d3/d3-format/formatDecimal.js",leaf:"formatDecimal.js",module:"d3-format",size:656,level:2},{id:"d3/d3-format/formatDefault.js",path:"d3/d3-format/formatDefault.js",leaf:"formatDefault.js",module:"d3-format",size:368,level:2},{id:"d3/d3-format/formatGroup.js",path:"d3/d3-format/formatGroup.js",leaf:"formatGroup.js",module:"d3-format",size:475,level:2},{id:"d3/d3-format/formatPrefixAuto.js",path:"d3/d3-format/formatPrefixAuto.js",leaf:"formatPrefixAuto.js",module:"d3-format",size:611,level:2},{id:"d3/d3-format/formatRounded.js",path:"d3/d3-format/formatRounded.js",leaf:"formatRounded.js",module:"d3-format",size:458,level:2},{id:"d3/d3-format/formatSpecifier.js",path:"d3/d3-format/formatSpecifier.js",leaf:"formatSpecifier.js",module:"d3-format",size:1589,level:2},{id:"d3/d3-format/formatTypes.js",path:"d3/d3-format/formatTypes.js",leaf:"formatTypes.js",module:"d3-format",size:846,level:2},{id:"d3/d3-format/locale.js",path:"d3/d3-format/locale.js",leaf:"locale.js",module:"d3-format",size:5247,level:2},{id:"d3/d3-format/precisionFixed.js",path:"d3/d3-format/precisionFixed.js",leaf:"precisionFixed.js",module:"d3-format",size:119,level:2},{id:"d3/d3-format/precisionPrefix.js",path:"d3/d3-format/precisionPrefix.js",leaf:"precisionPrefix.js",module:"d3-format",size:190,level:2},{id:"d3/d3-format/precisionRound.js",path:"d3/d3-format/precisionRound.js",leaf:"precisionRound.js",module:"d3-format",size:186,level:2},{id:"d3/d3-geo/adder.js",path:"d3/d3-geo/adder.js",leaf:"adder.js",module:"d3-geo",size:906,level:2},{id:"d3/d3-geo/area.js",path:"d3/d3-geo/area.js",leaf:"area.js",module:"d3-geo",size:1958,level:2},{id:"d3/d3-geo/bounds.js",path:"d3/d3-geo/bounds.js",leaf:"bounds.js",module:"d3-geo",size:5361,level:2},{id:"d3/d3-geo/cartesian.js",path:"d3/d3-geo/cartesian.js",leaf:"cartesian.js",module:"d3-geo",size:929,level:2},{id:"d3/d3-geo/centroid.js",path:"d3/d3-geo/centroid.js",leaf:"centroid.js",module:"d3-geo",size:3816,level:2},{id:"d3/d3-geo/circle.js",path:"d3/d3-geo/circle.js",leaf:"circle.js",module:"d3-geo",size:2373,level:2},{id:"d3/d3-geo/clip/antimeridian.js",path:"d3/d3-geo/clip/antimeridian.js",leaf:"antimeridian.js",module:"d3-geo",size:2897,level:3},{id:"d3/d3-geo/clip/buffer.js",path:"d3/d3-geo/clip/buffer.js",leaf:"buffer.js",module:"d3-geo",size:470,level:3},{id:"d3/d3-geo/clip/circle.js",path:"d3/d3-geo/clip/circle.js",leaf:"circle.js",module:"d3-geo",size:5956,level:3},{id:"d3/d3-geo/clip/extent.js",path:"d3/d3-geo/clip/extent.js",leaf:"extent.js",module:"d3-geo",size:5527,level:3},{id:"d3/d3-geo/clip/index.js",path:"d3/d3-geo/clip/index.js",leaf:"index.js",module:"d3-geo",size:3813,level:3},{id:"d3/d3-geo/clip/line.js",path:"d3/d3-geo/clip/line.js",leaf:"line.js",module:"d3-geo",size:1099,level:3},{id:"d3/d3-geo/clip/polygon.js",path:"d3/d3-geo/clip/polygon.js",leaf:"polygon.js",module:"d3-geo",size:2802,level:3},{id:"d3/d3-geo/compose.js",path:"d3/d3-geo/compose.js",leaf:"compose.js",module:"d3-geo",size:250,level:2},{id:"d3/d3-geo/constant.js",path:"d3/d3-geo/constant.js",leaf:"constant.js",module:"d3-geo",size:72,level:2},{id:"d3/d3-geo/distance.js",path:"d3/d3-geo/distance.js",leaf:"distance.js",module:"d3-geo",size:229,level:2},{id:"d3/d3-geo/graticule.js",path:"d3/d3-geo/graticule.js",leaf:"graticule.js",module:"d3-geo",size:3034,level:2},{id:"d3/d3-geo/identity.js",path:"d3/d3-geo/identity.js",leaf:"identity.js",module:"d3-geo",size:43,level:2},{id:"d3/d3-geo/interpolate.js",path:"d3/d3-geo/interpolate.js",leaf:"interpolate.js",module:"d3-geo",size:911,level:2},{id:"d3/d3-geo/length.js",path:"d3/d3-geo/length.js",leaf:"length.js",module:"d3-geo",size:1309,level:2},{id:"d3/d3-geo/math.js",path:"d3/d3-geo/math.js",leaf:"math.js",module:"d3-geo",size:880,level:2},{id:"d3/d3-geo/noop.js",path:"d3/d3-geo/noop.js",leaf:"noop.js",module:"d3-geo",size:34,level:2},{id:"d3/d3-geo/path/area.js",path:"d3/d3-geo/path/area.js",leaf:"area.js",module:"d3-geo",size:945,level:3},{id:"d3/d3-geo/path/bounds.js",path:"d3/d3-geo/path/bounds.js",leaf:"bounds.js",module:"d3-geo",size:485,level:3},{id:"d3/d3-geo/path/centroid.js",path:"d3/d3-geo/path/centroid.js",leaf:"centroid.js",module:"d3-geo",size:2033,level:3},{id:"d3/d3-geo/path/context.js",path:"d3/d3-geo/path/context.js",leaf:"context.js",module:"d3-geo",size:914,level:3},{id:"d3/d3-geo/path/index.js",path:"d3/d3-geo/path/index.js",leaf:"index.js",module:"d3-geo",size:1690,level:3},{id:"d3/d3-geo/path/string.js",path:"d3/d3-geo/path/string.js",leaf:"string.js",module:"d3-geo",size:1149,level:3},{id:"d3/d3-geo/pointEqual.js",path:"d3/d3-geo/pointEqual.js",leaf:"pointEqual.js",module:"d3-geo",size:139,level:2},{id:"d3/d3-geo/polygonContains.js",path:"d3/d3-geo/polygonContains.js",leaf:"polygonContains.js",module:"d3-geo",size:2491,level:2},{id:"d3/d3-geo/projection/albers.js",path:"d3/d3-geo/projection/albers.js",leaf:"albers.js",module:"d3-geo",size:235,level:3},{id:"d3/d3-geo/projection/albersUsa.js",path:"d3/d3-geo/projection/albersUsa.js",leaf:"albersUsa.js",module:"d3-geo",size:3986,level:3},{id:"d3/d3-geo/projection/azimuthal.js",path:"d3/d3-geo/projection/azimuthal.js",leaf:"azimuthal.js",module:"d3-geo",size:502,level:3},{id:"d3/d3-geo/projection/azimuthalEqualArea.js",path:"d3/d3-geo/projection/azimuthalEqualArea.js",leaf:"azimuthalEqualArea.js",module:"d3-geo",size:447,level:3},{id:"d3/d3-geo/projection/azimuthalEquidistant.js",path:"d3/d3-geo/projection/azimuthalEquidistant.js",leaf:"azimuthalEquidistant.js",module:"d3-geo",size:443,level:3},{id:"d3/d3-geo/projection/conic.js",path:"d3/d3-geo/projection/conic.js",leaf:"conic.js",module:"d3-geo",size:402,level:3},{id:"d3/d3-geo/projection/conicConformal.js",path:"d3/d3-geo/projection/conicConformal.js",leaf:"conicConformal.js",module:"d3-geo",size:1017,level:3},{id:"d3/d3-geo/projection/conicEqualArea.js",path:"d3/d3-geo/projection/conicEqualArea.js",leaf:"conicEqualArea.js",module:"d3-geo",size:871,level:3},{id:"d3/d3-geo/projection/conicEquidistant.js",path:"d3/d3-geo/projection/conicEquidistant.js",leaf:"conicEquidistant.js",module:"d3-geo",size:771,level:3},{id:"d3/d3-geo/projection/cylindricalEqualArea.js",path:"d3/d3-geo/projection/cylindricalEqualArea.js",leaf:"cylindricalEqualArea.js",module:"d3-geo",size:314,level:3},{id:"d3/d3-geo/projection/equirectangular.js",path:"d3/d3-geo/projection/equirectangular.js",leaf:"equirectangular.js",module:"d3-geo",size:253,level:3},{id:"d3/d3-geo/projection/fit.js",path:"d3/d3-geo/projection/fit.js",leaf:"fit.js",module:"d3-geo",size:910,level:3},{id:"d3/d3-geo/projection/gnomonic.js",path:"d3/d3-geo/projection/gnomonic.js",leaf:"gnomonic.js",module:"d3-geo",size:387,level:3},{id:"d3/d3-geo/projection/identity.js",path:"d3/d3-geo/projection/identity.js",leaf:"identity.js",module:"d3-geo",size:1922,level:3},{id:"d3/d3-geo/projection/index.js",path:"d3/d3-geo/projection/index.js",leaf:"index.js",module:"d3-geo",size:3752,level:3},{id:"d3/d3-geo/projection/mercator.js",path:"d3/d3-geo/projection/mercator.js",leaf:"mercator.js",module:"d3-geo",size:1119,level:3},{id:"d3/d3-geo/projection/orthographic.js",path:"d3/d3-geo/projection/orthographic.js",leaf:"orthographic.js",module:"d3-geo",size:376,level:3},{id:"d3/d3-geo/projection/resample.js",path:"d3/d3-geo/projection/resample.js",leaf:"resample.js",module:"d3-geo",size:3275,level:3},{id:"d3/d3-geo/projection/stereographic.js",path:"d3/d3-geo/projection/stereographic.js",leaf:"stereographic.js",module:"d3-geo",size:436,level:3},{id:"d3/d3-geo/projection/transverseMercator.js",path:"d3/d3-geo/projection/transverseMercator.js",leaf:"transverseMercator.js",module:"d3-geo",size:762,level:3},{id:"d3/d3-geo/rotation.js",path:"d3/d3-geo/rotation.js",leaf:"rotation.js",module:"d3-geo",size:2509,level:2},{id:"d3/d3-geo/stream.js",path:"d3/d3-geo/stream.js",leaf:"stream.js",module:"d3-geo",size:2305,level:2},{id:"d3/d3-geo/transform.js",path:"d3/d3-geo/transform.js",leaf:"transform.js",module:"d3-geo",size:701,level:2},{id:"d3/d3-hierarchy/accessors.js",path:"d3/d3-hierarchy/accessors.js",leaf:"accessors.js",module:"d3-hierarchy",size:166,level:2},{id:"d3/d3-hierarchy/cluster.js",path:"d3/d3-hierarchy/cluster.js",leaf:"cluster.js",module:"d3-hierarchy",size:2093,level:2},{id:"d3/d3-hierarchy/constant.js",path:"d3/d3-hierarchy/constant.js",leaf:"constant.js",module:"d3-hierarchy",size:120,level:2},{id:"d3/d3-hierarchy/hierarchy/ancestors.js",path:"d3/d3-hierarchy/hierarchy/ancestors.js",leaf:"ancestors.js",module:"d3-hierarchy",size:138,level:3},{id:"d3/d3-hierarchy/hierarchy/descendants.js",path:"d3/d3-hierarchy/hierarchy/descendants.js",leaf:"descendants.js",module:"d3-hierarchy",size:121,level:3},{id:"d3/d3-hierarchy/hierarchy/each.js",path:"d3/d3-hierarchy/hierarchy/each.js",leaf:"each.js",module:"d3-hierarchy",size:381,level:3},{id:"d3/d3-hierarchy/hierarchy/eachAfter.js",path:"d3/d3-hierarchy/hierarchy/eachAfter.js",leaf:"eachAfter.js",module:"d3-hierarchy",size:353,level:3},{id:"d3/d3-hierarchy/hierarchy/eachBefore.js",path:"d3/d3-hierarchy/hierarchy/eachBefore.js",leaf:"eachBefore.js",module:"d3-hierarchy",size:282,level:3},{id:"d3/d3-hierarchy/hierarchy/index.js",path:"d3/d3-hierarchy/hierarchy/index.js",leaf:"index.js",module:"d3-hierarchy",size:1819,level:3},{id:"d3/d3-hierarchy/hierarchy/leaves.js",path:"d3/d3-hierarchy/hierarchy/leaves.js",leaf:"leaves.js",module:"d3-hierarchy",size:164,level:3},{id:"d3/d3-hierarchy/hierarchy/links.js",path:"d3/d3-hierarchy/hierarchy/links.js",leaf:"links.js",module:"d3-hierarchy",size:246,level:3},{id:"d3/d3-hierarchy/hierarchy/path.js",path:"d3/d3-hierarchy/hierarchy/path.js",leaf:"path.js",module:"d3-hierarchy",size:606,level:3},{id:"d3/d3-hierarchy/hierarchy/sort.js",path:"d3/d3-hierarchy/hierarchy/sort.js",leaf:"sort.js",module:"d3-hierarchy",size:151,level:3},{id:"d3/d3-hierarchy/hierarchy/sum.js",path:"d3/d3-hierarchy/hierarchy/sum.js",leaf:"sum.js",module:"d3-hierarchy",size:264,level:3},{id:"d3/d3-hierarchy/pack/enclose.js",path:"d3/d3-hierarchy/pack/enclose.js",leaf:"enclose.js",module:"d3-hierarchy",size:2452,level:3},{id:"d3/d3-hierarchy/pack/index.js",path:"d3/d3-hierarchy/pack/index.js",leaf:"index.js",module:"d3-hierarchy",size:1917,level:3},{id:"d3/d3-hierarchy/pack/shuffle.js",path:"d3/d3-hierarchy/pack/shuffle.js",leaf:"shuffle.js",module:"d3-hierarchy",size:389,level:3},{id:"d3/d3-hierarchy/pack/siblings.js",path:"d3/d3-hierarchy/pack/siblings.js",leaf:"siblings.js",module:"d3-hierarchy",size:3497,level:3},{id:"d3/d3-hierarchy/partition.js",path:"d3/d3-hierarchy/partition.js",leaf:"partition.js",module:"d3-hierarchy",size:1266,level:2},{id:"d3/d3-hierarchy/stratify.js",path:"d3/d3-hierarchy/stratify.js",leaf:"stratify.js",module:"d3-hierarchy",size:1934,level:2},{id:"d3/d3-hierarchy/tree.js",path:"d3/d3-hierarchy/tree.js",leaf:"tree.js",module:"d3-hierarchy",size:7060,level:2},{id:"d3/d3-hierarchy/treemap/binary.js",path:"d3/d3-hierarchy/treemap/binary.js",leaf:"binary.js",module:"d3-hierarchy",size:1184,level:3},{id:"d3/d3-hierarchy/treemap/dice.js",path:"d3/d3-hierarchy/treemap/dice.js",leaf:"dice.js",module:"d3-hierarchy",size:309,level:3},{id:"d3/d3-hierarchy/treemap/index.js",path:"d3/d3-hierarchy/treemap/index.js",leaf:"index.js",module:"d3-hierarchy",size:2810,level:3},{id:"d3/d3-hierarchy/treemap/resquarify.js",path:"d3/d3-hierarchy/treemap/resquarify.js",leaf:"resquarify.js",module:"d3-hierarchy",size:1029,level:3},{id:"d3/d3-hierarchy/treemap/round.js",path:"d3/d3-hierarchy/treemap/round.js",leaf:"round.js",module:"d3-hierarchy",size:166,level:3},{id:"d3/d3-hierarchy/treemap/slice.js",path:"d3/d3-hierarchy/treemap/slice.js",leaf:"slice.js",module:"d3-hierarchy",size:309,level:3},{id:"d3/d3-hierarchy/treemap/sliceDice.js",path:"d3/d3-hierarchy/treemap/sliceDice.js",leaf:"sliceDice.js",module:"d3-hierarchy",size:170,level:3},{id:"d3/d3-hierarchy/treemap/squarify.js",path:"d3/d3-hierarchy/treemap/squarify.js",leaf:"squarify.js",module:"d3-hierarchy",size:1868,level:3},{id:"d3/d3-interpolate/array.js",path:"d3/d3-interpolate/array.js",leaf:"array.js",module:"d3-interpolate",size:372,level:2},{id:"d3/d3-interpolate/basis.js",path:"d3/d3-interpolate/basis.js",leaf:"basis.js",module:"d3-interpolate",size:600,level:2},{id:"d3/d3-interpolate/basisClosed.js",path:"d3/d3-interpolate/basisClosed.js",leaf:"basisClosed.js",module:"d3-interpolate",size:360,level:2},{id:"d3/d3-interpolate/color.js",path:"d3/d3-interpolate/color.js",leaf:"color.js",module:"d3-interpolate",size:697,level:2},{id:"d3/d3-interpolate/constant.js",path:"d3/d3-interpolate/constant.js",leaf:"constant.js",module:"d3-interpolate",size:72,level:2},{id:"d3/d3-interpolate/cubehelix.js",path:"d3/d3-interpolate/cubehelix.js",leaf:"cubehelix.js",module:"d3-interpolate",size:760,level:2},{id:"d3/d3-interpolate/date.js",path:"d3/d3-interpolate/date.js",leaf:"date.js",module:"d3-interpolate",size:134,level:2},{id:"d3/d3-interpolate/hcl.js",path:"d3/d3-interpolate/hcl.js",leaf:"hcl.js",module:"d3-interpolate",size:547,level:2},{id:"d3/d3-interpolate/hsl.js",path:"d3/d3-interpolate/hsl.js",leaf:"hsl.js",module:"d3-interpolate",size:547,level:2},{id:"d3/d3-interpolate/lab.js",path:"d3/d3-interpolate/lab.js",leaf:"lab.js",module:"d3-interpolate",size:447,level:2},{id:"d3/d3-interpolate/number.js",path:"d3/d3-interpolate/number.js",leaf:"number.js",module:"d3-interpolate",size:100,level:2},{id:"d3/d3-interpolate/object.js",path:"d3/d3-interpolate/object.js",leaf:"object.js",module:"d3-interpolate",size:390,level:2},{id:"d3/d3-interpolate/quantize.js",path:"d3/d3-interpolate/quantize.js",leaf:"quantize.js",module:"d3-interpolate",size:163,level:2},{id:"d3/d3-interpolate/rgb.js",path:"d3/d3-interpolate/rgb.js",leaf:"rgb.js",module:"d3-interpolate",size:1277,level:2},{id:"d3/d3-interpolate/round.js",path:"d3/d3-interpolate/round.js",leaf:"round.js",module:"d3-interpolate",size:112,level:2},{id:"d3/d3-interpolate/string.js",path:"d3/d3-interpolate/string.js",leaf:"string.js",module:"d3-interpolate",size:1758,level:2},{id:"d3/d3-interpolate/transform/decompose.js",path:"d3/d3-interpolate/transform/decompose.js",leaf:"decompose.js",module:"d3-interpolate",size:672,level:3},{id:"d3/d3-interpolate/transform/index.js",path:"d3/d3-interpolate/transform/index.js",leaf:"index.js",module:"d3-interpolate",size:2064,level:3},{id:"d3/d3-interpolate/transform/parse.js",path:"d3/d3-interpolate/transform/parse.js",leaf:"parse.js",module:"d3-interpolate",size:980,level:3},{id:"d3/d3-interpolate/value.js",path:"d3/d3-interpolate/value.js",leaf:"value.js",module:"d3-interpolate",size:598,level:2},{id:"d3/d3-interpolate/zoom.js",path:"d3/d3-interpolate/zoom.js",leaf:"zoom.js",module:"d3-interpolate",size:1387,level:2},{id:"d3/d3-path/path.js",path:"d3/d3-path/path.js",leaf:"path.js",module:"d3-path",size:4089,level:2},{id:"d3/d3-polygon/area.js",path:"d3/d3-polygon/area.js",leaf:"area.js",module:"d3-polygon",size:243,level:2},{id:"d3/d3-polygon/centroid.js",path:"d3/d3-polygon/centroid.js",leaf:"centroid.js",module:"d3-polygon",size:346,level:2},{id:"d3/d3-polygon/contains.js",path:"d3/d3-polygon/contains.js",leaf:"contains.js",module:"d3-polygon",size:411,level:2},{id:"d3/d3-polygon/cross.js",path:"d3/d3-polygon/cross.js",leaf:"cross.js",module:"d3-polygon",size:402,level:2},{id:"d3/d3-polygon/hull.js",path:"d3/d3-polygon/hull.js",leaf:"hull.js",module:"d3-polygon",size:1710,level:2},{id:"d3/d3-polygon/length.js",path:"d3/d3-polygon/length.js",leaf:"length.js",module:"d3-polygon",size:375,level:2},{id:"d3/d3-quadtree/add.js",path:"d3/d3-quadtree/add.js",leaf:"add.js",module:"d3-quadtree",size:2441,level:2},{id:"d3/d3-quadtree/cover.js",path:"d3/d3-quadtree/cover.js",leaf:"cover.js",module:"d3-quadtree",size:1667,level:2},{id:"d3/d3-quadtree/data.js",path:"d3/d3-quadtree/data.js",leaf:"data.js",module:"d3-quadtree",size:170,level:2},{id:"d3/d3-quadtree/extent.js",path:"d3/d3-quadtree/extent.js",leaf:"extent.js",module:"d3-quadtree",size:206,level:2},{id:"d3/d3-quadtree/find.js",path:"d3/d3-quadtree/find.js",leaf:"find.js",module:"d3-quadtree",size:1696,level:2},{id:"d3/d3-quadtree/quad.js",path:"d3/d3-quadtree/quad.js",leaf:"quad.js",module:"d3-quadtree",size:134,level:2},{id:"d3/d3-quadtree/quadtree.js",path:"d3/d3-quadtree/quadtree.js",leaf:"quadtree.js",module:"d3-quadtree",size:2077,level:2},{id:"d3/d3-quadtree/remove.js",path:"d3/d3-quadtree/remove.js",leaf:"remove.js",module:"d3-quadtree",size:1898,level:2},{id:"d3/d3-quadtree/root.js",path:"d3/d3-quadtree/root.js",leaf:"root.js",module:"d3-quadtree",size:51,level:2},{id:"d3/d3-quadtree/size.js",path:"d3/d3-quadtree/size.js",leaf:"size.js",module:"d3-quadtree",size:155,level:2},{id:"d3/d3-quadtree/visit.js",path:"d3/d3-quadtree/visit.js",leaf:"visit.js",module:"d3-quadtree",size:695,level:2},{id:"d3/d3-quadtree/visitAfter.js",path:"d3/d3-quadtree/visitAfter.js",leaf:"visitAfter.js",module:"d3-quadtree",size:773,level:2},{id:"d3/d3-quadtree/x.js",path:"d3/d3-quadtree/x.js",leaf:"x.js",module:"d3-quadtree",size:138,level:2},{id:"d3/d3-quadtree/y.js",path:"d3/d3-quadtree/y.js",leaf:"y.js",module:"d3-quadtree",size:138,level:2},{id:"d3/d3-queue/array.js",path:"d3/d3-queue/array.js",leaf:"array.js",module:"d3-queue",size:29,level:2},{id:"d3/d3-queue/queue.js",path:"d3/d3-queue/queue.js",leaf:"queue.js",module:"d3-queue",size:2870,level:2},{id:"d3/d3-random/bates.js",path:"d3/d3-random/bates.js",leaf:"bates.js",module:"d3-random",size:168,level:2},{id:"d3/d3-random/exponential.js",path:"d3/d3-random/exponential.js",leaf:"exponential.js",module:"d3-random",size:113,level:2},{id:"d3/d3-random/irwinHall.js",path:"d3/d3-random/irwinHall.js",leaf:"irwinHall.js",module:"d3-random",size:137,level:2},{id:"d3/d3-random/logNormal.js",path:"d3/d3-random/logNormal.js",leaf:"logNormal.js",module:"d3-random",size:178,level:2},{id:"d3/d3-random/normal.js",path:"d3/d3-random/normal.js",leaf:"normal.js",module:"d3-random",size:503,level:2},{id:"d3/d3-random/uniform.js",path:"d3/d3-random/uniform.js",leaf:"uniform.js",module:"d3-random",size:236,level:2},{id:"d3/d3-request/csv.js",path:"d3/d3-request/csv.js",leaf:"csv.js",module:"d3-request",size:101,level:2},{id:"d3/d3-request/dsv.js",path:"d3/d3-request/dsv.js",leaf:"dsv.js",module:"d3-request",size:517,level:2},{id:"d3/d3-request/html.js",path:"d3/d3-request/html.js",leaf:"html.js",module:"d3-request",size:157,level:2},{id:"d3/d3-request/json.js",path:"d3/d3-request/json.js",leaf:"json.js",module:"d3-request",size:127,level:2},{id:"d3/d3-request/request.js",path:"d3/d3-request/request.js",leaf:"request.js",module:"d3-request",size:4593,level:2},{id:"d3/d3-request/text.js",path:"d3/d3-request/text.js",leaf:"text.js",module:"d3-request",size:109,level:2},{id:"d3/d3-request/tsv.js",path:"d3/d3-request/tsv.js",leaf:"tsv.js",module:"d3-request",size:118,level:2},{id:"d3/d3-request/type.js",path:"d3/d3-request/type.js",leaf:"type.js",module:"d3-request",size:370,level:2},{id:"d3/d3-request/xml.js",path:"d3/d3-request/xml.js",leaf:"xml.js",module:"d3-request",size:174,level:2},{id:"d3/d3-scale/array.js",path:"d3/d3-scale/array.js",leaf:"array.js",module:"d3-scale",size:90,level:2},{id:"d3/d3-scale/band.js",path:"d3/d3-scale/band.js",leaf:"band.js",module:"d3-scale",size:2637,level:2},{id:"d3/d3-scale/category10.js",path:"d3/d3-scale/category10.js",leaf:"category10.js",module:"d3-scale",size:119,level:2},{id:"d3/d3-scale/category20.js",path:"d3/d3-scale/category20.js",leaf:"category20.js",module:"d3-scale",size:179,level:2},{id:"d3/d3-scale/category20b.js",path:"d3/d3-scale/category20b.js",leaf:"category20b.js",module:"d3-scale",size:179,level:2},{id:"d3/d3-scale/category20c.js",path:"d3/d3-scale/category20c.js",leaf:"category20c.js",module:"d3-scale",size:179,level:2},{id:"d3/d3-scale/colors.js",path:"d3/d3-scale/colors.js",leaf:"colors.js",module:"d3-scale",size:101,level:2},{id:"d3/d3-scale/constant.js",path:"d3/d3-scale/constant.js",leaf:"constant.js",module:"d3-scale",size:72,level:2},{id:"d3/d3-scale/continuous.js",path:"d3/d3-scale/continuous.js",leaf:"continuous.js",module:"d3-scale",size:3328,level:2},{id:"d3/d3-scale/cubehelix.js",path:"d3/d3-scale/cubehelix.js",leaf:"cubehelix.js",module:"d3-scale",size:188,level:2},{id:"d3/d3-scale/identity.js",path:"d3/d3-scale/identity.js",leaf:"identity.js",module:"d3-scale",size:463,level:2},{id:"d3/d3-scale/linear.js",path:"d3/d3-scale/linear.js",leaf:"linear.js",module:"d3-scale",size:1206,level:2},{id:"d3/d3-scale/log.js",path:"d3/d3-scale/log.js",leaf:"log.js",module:"d3-scale",size:3273,level:2},{id:"d3/d3-scale/nice.js",path:"d3/d3-scale/nice.js",leaf:"nice.js",module:"d3-scale",size:340,level:2},{id:"d3/d3-scale/number.js",path:"d3/d3-scale/number.js",leaf:"number.js",module:"d3-scale",size:44,level:2},{id:"d3/d3-scale/ordinal.js",path:"d3/d3-scale/ordinal.js",leaf:"ordinal.js",module:"d3-scale",size:1116,level:2},{id:"d3/d3-scale/pow.js",path:"d3/d3-scale/pow.js",leaf:"pow.js",module:"d3-scale",size:1e3,level:2},{id:"d3/d3-scale/quantile.js",path:"d3/d3-scale/quantile.js",leaf:"quantile.js",module:"d3-scale",size:1280,level:2},{id:"d3/d3-scale/quantize.js",path:"d3/d3-scale/quantize.js",leaf:"quantize.js",module:"d3-scale",size:1066,level:2},{id:"d3/d3-scale/rainbow.js",path:"d3/d3-scale/rainbow.js",leaf:"rainbow.js",module:"d3-scale",size:536,level:2},{id:"d3/d3-scale/sequential.js",path:"d3/d3-scale/sequential.js",leaf:"sequential.js",module:"d3-scale",size:717,level:2},{id:"d3/d3-scale/threshold.js",path:"d3/d3-scale/threshold.js",leaf:"threshold.js",module:"d3-scale",size:802,level:2},{id:"d3/d3-scale/tickFormat.js",path:"d3/d3-scale/tickFormat.js",leaf:"tickFormat.js",module:"d3-scale",size:1203,level:2},{id:"d3/d3-scale/time.js",path:"d3/d3-scale/time.js",leaf:"time.js",module:"d3-scale",size:4565,level:2},{id:"d3/d3-scale/utcTime.js",path:"d3/d3-scale/utcTime.js",leaf:"utcTime.js",module:"d3-scale",size:379,level:2},{id:"d3/d3-scale/viridis.js",path:"d3/d3-scale/viridis.js",leaf:"viridis.js",module:"d3-scale",size:6471,level:2},{id:"d3/d3-selection/constant.js",path:"d3/d3-selection/constant.js",leaf:"constant.js",module:"d3-selection",size:72,level:2},{id:"d3/d3-selection/creator.js",path:"d3/d3-selection/creator.js",leaf:"creator.js",module:"d3-selection",size:662,level:2},{id:"d3/d3-selection/local.js",path:"d3/d3-selection/local.js",leaf:"local.js",module:"d3-selection",size:536,level:2},{id:"d3/d3-selection/matcher.js",path:"d3/d3-selection/matcher.js",leaf:"matcher.js",module:"d3-selection",size:533,level:2},{id:"d3/d3-selection/mouse.js",path:"d3/d3-selection/mouse.js",leaf:"mouse.js",module:"d3-selection",size:224,level:2},{id:"d3/d3-selection/namespace.js",path:"d3/d3-selection/namespace.js",leaf:"namespace.js",module:"d3-selection",size:303,level:2},{id:"d3/d3-selection/namespaces.js",path:"d3/d3-selection/namespaces.js",leaf:"namespaces.js",module:"d3-selection",size:254,level:2},{id:"d3/d3-selection/point.js",path:"d3/d3-selection/point.js",leaf:"point.js",module:"d3-selection",size:448,level:2},{id:"d3/d3-selection/select.js",path:"d3/d3-selection/select.js",leaf:"select.js",module:"d3-selection",size:259,level:2},{id:"d3/d3-selection/selectAll.js",path:"d3/d3-selection/selectAll.js",leaf:"selectAll.js",module:"d3-selection",size:282,level:2},{id:"d3/d3-selection/selection/append.js",path:"d3/d3-selection/selection/append.js",leaf:"append.js",module:"d3-selection",size:235,level:3},{id:"d3/d3-selection/selection/attr.js",path:"d3/d3-selection/selection/attr.js",leaf:"attr.js",module:"d3-selection",size:1460,level:3},{id:"d3/d3-selection/selection/call.js",path:"d3/d3-selection/selection/call.js",leaf:"call.js",module:"d3-selection",size:134,level:3},{id:"d3/d3-selection/selection/classed.js",path:"d3/d3-selection/selection/classed.js",leaf:"classed.js",module:"d3-selection",size:1740,level:3},{id:"d3/d3-selection/selection/data.js",path:"d3/d3-selection/selection/data.js",leaf:"data.js",module:"d3-selection",size:3597,level:3},{id:"d3/d3-selection/selection/datum.js",path:"d3/d3-selection/selection/datum.js",leaf:"datum.js",module:"d3-selection",size:132,level:3},{id:"d3/d3-selection/selection/dispatch.js",path:"d3/d3-selection/selection/dispatch.js",leaf:"dispatch.js",module:"d3-selection",size:869,level:3},{id:"d3/d3-selection/selection/each.js",path:"d3/d3-selection/selection/each.js",leaf:"each.js",module:"d3-selection",size:289,level:3},{id:"d3/d3-selection/selection/empty.js",path:"d3/d3-selection/selection/empty.js",leaf:"empty.js",module:"d3-selection",size:53,level:3},{id:"d3/d3-selection/selection/enter.js",path:"d3/d3-selection/selection/enter.js",leaf:"enter.js",module:"d3-selection",size:792,level:3},{id:"d3/d3-selection/selection/exit.js",path:"d3/d3-selection/selection/exit.js",leaf:"exit.js",module:"d3-selection",size:176,level:3},{id:"d3/d3-selection/selection/filter.js",path:"d3/d3-selection/selection/filter.js",leaf:"filter.js",module:"d3-selection",size:546,level:3},{id:"d3/d3-selection/selection/html.js",path:"d3/d3-selection/selection/html.js",leaf:"html.js",module:"d3-selection",size:520,level:3},{id:"d3/d3-selection/selection/index.js",path:"d3/d3-selection/selection/index.js",leaf:"index.js",module:"d3-selection",size:2216,level:3},{id:"d3/d3-selection/selection/insert.js",path:"d3/d3-selection/selection/insert.js",leaf:"insert.js",module:"d3-selection",size:468,level:3},{id:"d3/d3-selection/selection/lower.js",path:"d3/d3-selection/selection/lower.js",leaf:"lower.js",module:"d3-selection",size:171,level:3},{id:"d3/d3-selection/selection/merge.js",path:"d3/d3-selection/selection/merge.js",leaf:"merge.js",module:"d3-selection",size:575,level:3},{id:"d3/d3-selection/selection/node.js",path:"d3/d3-selection/selection/node.js",leaf:"node.js",module:"d3-selection",size:258,level:3},{id:"d3/d3-selection/selection/nodes.js",path:"d3/d3-selection/selection/nodes.js",leaf:"nodes.js",module:"d3-selection",size:140,level:3},{id:"d3/d3-selection/selection/on.js",path:"d3/d3-selection/selection/on.js",leaf:"on.js",module:"d3-selection",size:3119,level:3},{id:"d3/d3-selection/selection/order.js",path:"d3/d3-selection/selection/order.js",leaf:"order.js",module:"d3-selection",size:367,level:3},{id:"d3/d3-selection/selection/property.js",path:"d3/d3-selection/selection/property.js",leaf:"property.js",module:"d3-selection",size:617,level:3},{id:"d3/d3-selection/selection/raise.js",path:"d3/d3-selection/selection/raise.js",leaf:"raise.js",module:"d3-selection",size:138,level:3},{id:"d3/d3-selection/selection/remove.js",path:"d3/d3-selection/selection/remove.js",leaf:"remove.js",module:"d3-selection",size:153,level:3},{id:"d3/d3-selection/selection/select.js",path:"d3/d3-selection/selection/select.js",leaf:"select.js",module:"d3-selection",size:653,level:3},{id:"d3/d3-selection/selection/selectAll.js",path:"d3/d3-selection/selection/selectAll.js",leaf:"selectAll.js",module:"d3-selection",size:550,level:3},{id:"d3/d3-selection/selection/size.js",path:"d3/d3-selection/selection/size.js",leaf:"size.js",module:"d3-selection",size:98,level:3},{id:"d3/d3-selection/selection/sort.js",path:"d3/d3-selection/selection/sort.js",leaf:"sort.js",module:"d3-selection",size:681,level:3},{id:"d3/d3-selection/selection/sparse.js",path:"d3/d3-selection/selection/sparse.js",leaf:"sparse.js",module:"d3-selection",size:71,level:3},{id:"d3/d3-selection/selection/style.js",path:"d3/d3-selection/selection/style.js",leaf:"style.js",module:"d3-selection",size:889,level:3},{id:"d3/d3-selection/selection/text.js",path:"d3/d3-selection/selection/text.js",leaf:"text.js",module:"d3-selection",size:528,level:3},{id:"d3/d3-selection/selector.js",path:"d3/d3-selection/selector.js",leaf:"selector.js",module:"d3-selection",size:152,level:2},{id:"d3/d3-selection/selectorAll.js",path:"d3/d3-selection/selectorAll.js",leaf:"selectorAll.js",module:"d3-selection",size:171,level:2},{id:"d3/d3-selection/sourceEvent.js",path:"d3/d3-selection/sourceEvent.js",leaf:"sourceEvent.js",module:"d3-selection",size:175,level:2},{id:"d3/d3-selection/touch.js",path:"d3/d3-selection/touch.js",leaf:"touch.js",module:"d3-selection",size:407,level:2},{id:"d3/d3-selection/touches.js",path:"d3/d3-selection/touches.js",leaf:"touches.js",module:"d3-selection",size:323,level:2},{id:"d3/d3-selection/window.js",path:"d3/d3-selection/window.js",leaf:"window.js",module:"d3-selection",size:218,level:2},{id:"d3/d3-shape/arc.js",path:"d3/d3-shape/arc.js",leaf:"arc.js",module:"d3-shape",size:8831,level:2},{id:"d3/d3-shape/area.js",path:"d3/d3-shape/area.js",leaf:"area.js",module:"d3-shape",size:2917,level:2},{id:"d3/d3-shape/array.js",path:"d3/d3-shape/array.js",leaf:"array.js",module:"d3-shape",size:42,level:2},{id:"d3/d3-shape/constant.js",path:"d3/d3-shape/constant.js",leaf:"constant.js",module:"d3-shape",size:81,level:2},{id:"d3/d3-shape/curve/basis.js",path:"d3/d3-shape/curve/basis.js",leaf:"basis.js",module:"d3-shape",size:1436,level:3},{id:"d3/d3-shape/curve/basisClosed.js",path:"d3/d3-shape/curve/basisClosed.js",leaf:"basisClosed.js",module:"d3-shape",size:1530,level:3},{id:"d3/d3-shape/curve/basisOpen.js",path:"d3/d3-shape/curve/basisOpen.js",leaf:"basisOpen.js",module:"d3-shape",size:1069,level:3},{id:"d3/d3-shape/curve/bundle.js",path:"d3/d3-shape/curve/bundle.js",leaf:"bundle.js",module:"d3-shape",size:1081,level:3},{id:"d3/d3-shape/curve/cardinal.js",path:"d3/d3-shape/curve/cardinal.js",leaf:"cardinal.js",module:"d3-shape",size:1633,level:3},{id:"d3/d3-shape/curve/cardinalClosed.js",path:"d3/d3-shape/curve/cardinalClosed.js",leaf:"cardinalClosed.js",module:"d3-shape",size:1605,level:3},{id:"d3/d3-shape/curve/cardinalOpen.js",path:"d3/d3-shape/curve/cardinalOpen.js",leaf:"cardinalOpen.js",module:"d3-shape",size:1288,level:3},{id:"d3/d3-shape/curve/catmullRom.js",path:"d3/d3-shape/curve/catmullRom.js",leaf:"catmullRom.js",module:"d3-shape",size:2637,level:3},{id:"d3/d3-shape/curve/catmullRomClosed.js",path:"d3/d3-shape/curve/catmullRomClosed.js",leaf:"catmullRomClosed.js",module:"d3-shape",size:2083,level:3},{id:"d3/d3-shape/curve/catmullRomOpen.js",path:"d3/d3-shape/curve/catmullRomOpen.js",leaf:"catmullRomOpen.js",module:"d3-shape",size:1760,level:3},{id:"d3/d3-shape/curve/linear.js",path:"d3/d3-shape/curve/linear.js",leaf:"linear.js",module:"d3-shape",size:738,level:3},{id:"d3/d3-shape/curve/linearClosed.js",path:"d3/d3-shape/curve/linearClosed.js",leaf:"linearClosed.js",module:"d3-shape",size:514,level:3},{id:"d3/d3-shape/curve/monotone.js",path:"d3/d3-shape/curve/monotone.js",leaf:"monotone.js",module:"d3-shape",size:3203,level:3},{id:"d3/d3-shape/curve/natural.js",path:"d3/d3-shape/curve/natural.js",leaf:"natural.js",module:"d3-shape",size:1761,level:3},{id:"d3/d3-shape/curve/radial.js",path:"d3/d3-shape/curve/radial.js",leaf:"radial.js",module:"d3-shape",size:655,level:3},{id:"d3/d3-shape/curve/step.js",path:"d3/d3-shape/curve/step.js",leaf:"step.js",module:"d3-shape",size:1367,level:3},{id:"d3/d3-shape/descending.js",path:"d3/d3-shape/descending.js",leaf:"descending.js",module:"d3-shape",size:86,level:2},{id:"d3/d3-shape/identity.js",path:"d3/d3-shape/identity.js",leaf:"identity.js",module:"d3-shape",size:43,level:2},{id:"d3/d3-shape/line.js",path:"d3/d3-shape/line.js",leaf:"line.js",module:"d3-shape",size:1516,level:2},{id:"d3/d3-shape/math.js",path:"d3/d3-shape/math.js",leaf:"math.js",module:"d3-shape",size:106,level:2},{id:"d3/d3-shape/noop.js",path:"d3/d3-shape/noop.js",leaf:"noop.js",module:"d3-shape",size:29,level:2},{id:"d3/d3-shape/offset/expand.js",path:"d3/d3-shape/offset/expand.js",leaf:"expand.js",module:"d3-shape",size:319,level:3},{id:"d3/d3-shape/offset/none.js",path:"d3/d3-shape/offset/none.js",leaf:"none.js",module:"d3-shape",size:310,level:3},{id:"d3/d3-shape/offset/silhouette.js",path:"d3/d3-shape/offset/silhouette.js",leaf:"silhouette.js",module:"d3-shape",size:314,level:3},{id:"d3/d3-shape/offset/wiggle.js",path:"d3/d3-shape/offset/wiggle.js",leaf:"wiggle.js",module:"d3-shape",size:740,level:3},{id:"d3/d3-shape/order/ascending.js",path:"d3/d3-shape/order/ascending.js",leaf:"ascending.js",module:"d3-shape",size:305,level:3},{id:"d3/d3-shape/order/descending.js",path:"d3/d3-shape/order/descending.js",leaf:"descending.js",module:"d3-shape",size:112,level:3},{id:"d3/d3-shape/order/insideOut.js",path:"d3/d3-shape/order/insideOut.js",leaf:"insideOut.js",module:"d3-shape",size:545,level:3},{id:"d3/d3-shape/order/none.js",path:"d3/d3-shape/order/none.js",leaf:"none.js",module:"d3-shape",size:120,level:3},{id:"d3/d3-shape/order/reverse.js",path:"d3/d3-shape/order/reverse.js",leaf:"reverse.js",module:"d3-shape",size:97,level:3},{id:"d3/d3-shape/pie.js",path:"d3/d3-shape/pie.js",leaf:"pie.js",module:"d3-shape",size:2336,level:2},{id:"d3/d3-shape/point.js",path:"d3/d3-shape/point.js",leaf:"point.js",module:"d3-shape",size:81,level:2},{id:"d3/d3-shape/radialArea.js",path:"d3/d3-shape/radialArea.js",leaf:"radialArea.js",module:"d3-shape",size:934,level:2},{id:"d3/d3-shape/radialLine.js",path:"d3/d3-shape/radialLine.js",leaf:"radialLine.js",module:"d3-shape",size:396,level:2},{id:"d3/d3-shape/stack.js",path:"d3/d3-shape/stack.js",leaf:"stack.js",module:"d3-shape",size:1432,level:2},{id:"d3/d3-shape/symbol/circle.js",path:"d3/d3-shape/symbol/circle.js",leaf:"circle.js",module:"d3-shape",size:186,level:3},{id:"d3/d3-shape/symbol/cross.js",path:"d3/d3-shape/symbol/cross.js",leaf:"cross.js",module:"d3-shape",size:476,level:3},{id:"d3/d3-shape/symbol/diamond.js",path:"d3/d3-shape/symbol/diamond.js",leaf:"diamond.js",module:"d3-shape",size:307,level:3},{id:"d3/d3-shape/symbol/square.js",path:"d3/d3-shape/symbol/square.js",leaf:"square.js",module:"d3-shape",size:137,level:3},{id:"d3/d3-shape/symbol/star.js",path:"d3/d3-shape/symbol/star.js",leaf:"star.js",module:"d3-shape",size:609,level:3},{id:"d3/d3-shape/symbol/triangle.js",path:"d3/d3-shape/symbol/triangle.js",leaf:"triangle.js",module:"d3-shape",size:255,level:3},{id:"d3/d3-shape/symbol/wye.js",path:"d3/d3-shape/symbol/wye.js",leaf:"wye.js",module:"d3-shape",size:733,level:3},{id:"d3/d3-shape/symbol.js",path:"d3/d3-shape/symbol.js",leaf:"symbol.js",module:"d3-shape",size:1160,level:2},{id:"d3/d3-time-format/defaultLocale.js",path:"d3/d3-time-format/defaultLocale.js",leaf:"defaultLocale.js",module:"d3-time-format",size:867,level:2},{id:"d3/d3-time-format/isoFormat.js",path:"d3/d3-time-format/isoFormat.js",leaf:"isoFormat.js",module:"d3-time-format",size:284,level:2},{id:"d3/d3-time-format/isoParse.js",path:"d3/d3-time-format/isoParse.js",leaf:"isoParse.js",module:"d3-time-format",size:319,level:2},{id:"d3/d3-time-format/locale.js",path:"d3/d3-time-format/locale.js",leaf:"locale.js",module:"d3-time-format",size:13876,level:2},{id:"d3/d3-time/day.js",path:"d3/d3-time/day.js",leaf:"day.js",module:"d3-time",size:462,level:2},{id:"d3/d3-time/duration.js",path:"d3/d3-time/duration.js",leaf:"duration.js",module:"d3-time",size:164,level:2},{id:"d3/d3-time/hour.js",path:"d3/d3-time/hour.js",leaf:"hour.js",module:"d3-time",size:569,level:2},{id:"d3/d3-time/interval.js",path:"d3/d3-time/interval.js",leaf:"interval.js",module:"d3-time",size:1845,level:2},{id:"d3/d3-time/millisecond.js",path:"d3/d3-time/millisecond.js",leaf:"millisecond.js",module:"d3-time",size:668,level:2},{id:"d3/d3-time/minute.js",path:"d3/d3-time/minute.js",leaf:"minute.js",module:"d3-time",size:437,level:2},{id:"d3/d3-time/month.js",path:"d3/d3-time/month.js",leaf:"month.js",module:"d3-time",size:414,level:2},{id:"d3/d3-time/second.js",path:"d3/d3-time/second.js",leaf:"second.js",module:"d3-time",size:440,level:2},{id:"d3/d3-time/utcDay.js",path:"d3/d3-time/utcDay.js",leaf:"utcDay.js",module:"d3-time",size:397,level:2},{id:"d3/d3-time/utcHour.js",path:"d3/d3-time/utcHour.js",leaf:"utcHour.js",module:"d3-time",size:399,level:2},{id:"d3/d3-time/utcMinute.js",path:"d3/d3-time/utcMinute.js",leaf:"utcMinute.js",module:"d3-time",size:412,level:2},{id:"d3/d3-time/utcMonth.js",path:"d3/d3-time/utcMonth.js",leaf:"utcMonth.js",module:"d3-time",size:453,level:2},{id:"d3/d3-time/utcWeek.js",path:"d3/d3-time/utcWeek.js",leaf:"utcWeek.js",module:"d3-time",size:979,level:2},{id:"d3/d3-time/utcYear.js",path:"d3/d3-time/utcYear.js",leaf:"utcYear.js",module:"d3-time",size:808,level:2},{id:"d3/d3-time/week.js",path:"d3/d3-time/week.js",leaf:"week.js",module:"d3-time",size:963,level:2},{id:"d3/d3-time/year.js",path:"d3/d3-time/year.js",leaf:"year.js",module:"d3-time",size:754,level:2},{id:"d3/d3-timer/interval.js",path:"d3/d3-timer/interval.js",leaf:"interval.js",module:"d3-timer",size:400,level:2},{id:"d3/d3-timer/timeout.js",path:"d3/d3-timer/timeout.js",leaf:"timeout.js",module:"d3-timer",size:250,level:2},{id:"d3/d3-timer/timer.js",path:"d3/d3-timer/timer.js",leaf:"timer.js",module:"d3-timer",size:2771,level:2},{id:"d3/d3-transition/active.js",path:"d3/d3-transition/active.js",leaf:"active.js",module:"d3-transition",size:484,level:2},{id:"d3/d3-transition/interrupt.js",path:"d3/d3-transition/interrupt.js",leaf:"interrupt.js",module:"d3-transition",size:665,level:2},{id:"d3/d3-transition/selection/index.js",path:"d3/d3-transition/selection/index.js",leaf:"index.js",module:"d3-transition",size:245,level:3},{id:"d3/d3-transition/selection/interrupt.js",path:"d3/d3-transition/selection/interrupt.js",leaf:"interrupt.js",module:"d3-transition",size:138,level:3},{id:"d3/d3-transition/selection/transition.js",path:"d3/d3-transition/selection/transition.js",leaf:"transition.js",module:"d3-transition",size:1090,level:3},{id:"d3/d3-transition/transition/attr.js",path:"d3/d3-transition/transition/attr.js",leaf:"attr.js",module:"d3-transition",size:2473,level:3},{id:"d3/d3-transition/transition/attrTween.js",path:"d3/d3-transition/transition/attrTween.js",leaf:"attrTween.js",module:"d3-transition",size:904,level:3},{id:"d3/d3-transition/transition/delay.js",path:"d3/d3-transition/transition/delay.js",leaf:"delay.js",module:"d3-transition",size:510,level:3},{id:"d3/d3-transition/transition/duration.js",path:"d3/d3-transition/transition/duration.js",leaf:"duration.js",module:"d3-transition",size:528,level:3},{id:"d3/d3-transition/transition/ease.js",path:"d3/d3-transition/transition/ease.js",leaf:"ease.js",module:"d3-transition",size:348,level:3},{id:"d3/d3-transition/transition/filter.js",path:"d3/d3-transition/transition/filter.js",leaf:"filter.js",module:"d3-transition",size:574,level:3},{id:"d3/d3-transition/transition/index.js",path:"d3/d3-transition/transition/index.js",leaf:"index.js",module:"d3-transition",size:1892,level:3},{id:"d3/d3-transition/transition/interpolate.js",path:"d3/d3-transition/transition/interpolate.js",leaf:"interpolate.js",module:"d3-transition",size:340,level:3},{id:"d3/d3-transition/transition/merge.js",path:"d3/d3-transition/transition/merge.js",leaf:"merge.js",module:"d3-transition",size:653,level:3},{id:"d3/d3-transition/transition/on.js",path:"d3/d3-transition/transition/on.js",leaf:"on.js",module:"d3-transition",size:853,level:3},{id:"d3/d3-transition/transition/remove.js",path:"d3/d3-transition/transition/remove.js",leaf:"remove.js",module:"d3-transition",size:284,level:3},{id:"d3/d3-transition/transition/schedule.js",path:"d3/d3-transition/transition/schedule.js",leaf:"schedule.js",module:"d3-transition",size:4792,level:3},{id:"d3/d3-transition/transition/select.js",path:"d3/d3-transition/transition/select.js",leaf:"select.js",module:"d3-transition",size:826,level:3},{id:"d3/d3-transition/transition/selectAll.js",path:"d3/d3-transition/transition/selectAll.js",leaf:"selectAll.js",module:"d3-transition",size:883,level:3},{id:"d3/d3-transition/transition/selection.js",path:"d3/d3-transition/transition/selection.js",leaf:"selection.js",module:"d3-transition",size:174,level:3},{id:"d3/d3-transition/transition/style.js",path:"d3/d3-transition/transition/style.js",leaf:"style.js",module:"d3-transition",size:2119,level:3},{id:"d3/d3-transition/transition/styleTween.js",path:"d3/d3-transition/transition/styleTween.js",leaf:"styleTween.js",module:"d3-transition",size:607,level:3},{id:"d3/d3-transition/transition/text.js",path:"d3/d3-transition/transition/text.js",leaf:"text.js",module:"d3-transition",size:473,level:3},{id:"d3/d3-transition/transition/transition.js",path:"d3/d3-transition/transition/transition.js",leaf:"transition.js",module:"d3-transition",size:691,level:3},{id:"d3/d3-transition/transition/tween.js",path:"d3/d3-transition/transition/tween.js",leaf:"tween.js",module:"d3-transition",size:2026,level:3},{id:"d3/d3-voronoi/Beach.js",path:"d3/d3-voronoi/Beach.js",leaf:"Beach.js",module:"d3-voronoi",size:4381,level:2},{id:"d3/d3-voronoi/Cell.js",path:"d3/d3-voronoi/Cell.js",leaf:"Cell.js",module:"d3-voronoi",size:4087,level:2},{id:"d3/d3-voronoi/Circle.js",path:"d3/d3-voronoi/Circle.js",leaf:"Circle.js",module:"d3-voronoi",size:1632,level:2},{id:"d3/d3-voronoi/constant.js",path:"d3/d3-voronoi/constant.js",leaf:"constant.js",module:"d3-voronoi",size:72,level:2},{id:"d3/d3-voronoi/Diagram.js",path:"d3/d3-voronoi/Diagram.js",leaf:"Diagram.js",module:"d3-voronoi",size:3415,level:2},{id:"d3/d3-voronoi/Edge.js",path:"d3/d3-voronoi/Edge.js",leaf:"Edge.js",module:"d3-voronoi",size:3634,level:2},{id:"d3/d3-voronoi/point.js",path:"d3/d3-voronoi/point.js",leaf:"point.js",module:"d3-voronoi",size:81,level:2},{id:"d3/d3-voronoi/RedBlackTree.js",path:"d3/d3-voronoi/RedBlackTree.js",leaf:"RedBlackTree.js",module:"d3-voronoi",size:5302,level:2},{id:"d3/d3-voronoi/voronoi.js",path:"d3/d3-voronoi/voronoi.js",leaf:"voronoi.js",module:"d3-voronoi",size:1420,level:2},{id:"d3/d3-zoom/constant.js",path:"d3/d3-zoom/constant.js",leaf:"constant.js",module:"d3-zoom",size:72,level:2},{id:"d3/d3-zoom/event.js",path:"d3/d3-zoom/event.js",leaf:"event.js",module:"d3-zoom",size:137,level:2},{id:"d3/d3-zoom/noevent.js",path:"d3/d3-zoom/noevent.js",leaf:"noevent.js",module:"d3-zoom",size:202,level:2},{id:"d3/d3-zoom/transform.js",path:"d3/d3-zoom/transform.js",leaf:"transform.js",module:"d3-zoom",size:1336,level:2},{id:"d3/d3-zoom/zoom.js",path:"d3/d3-zoom/zoom.js",leaf:"zoom.js",module:"d3-zoom",size:12133,level:2}],links:[{id:1,source:"d3",target:"d3/d3-array"},{id:2,source:"d3/d3-array",target:"d3/d3-array/threshold"},{id:3,source:"d3",target:"d3/d3-axis"},{id:4,source:"d3",target:"d3/d3-brush"},{id:5,source:"d3",target:"d3/d3-chord"},{id:6,source:"d3",target:"d3/d3-collection"},{id:7,source:"d3",target:"d3/d3-color"},{id:8,source:"d3",target:"d3/d3-dispatch"},{id:9,source:"d3",target:"d3/d3-drag"},{id:10,source:"d3",target:"d3/d3-dsv"},{id:11,source:"d3",target:"d3/d3-ease"},{id:12,source:"d3",target:"d3/d3-force"},{id:13,source:"d3",target:"d3/d3-format"},{id:14,source:"d3",target:"d3/d3-geo"},{id:15,source:"d3/d3-geo",target:"d3/d3-geo/clip"},{id:16,source:"d3/d3-geo",target:"d3/d3-geo/path"},{id:17,source:"d3/d3-geo",target:"d3/d3-geo/projection"},{id:18,source:"d3",target:"d3/d3-hierarchy"},{id:19,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/hierarchy"},{id:20,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/pack"},{id:21,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/treemap"},{id:22,source:"d3",target:"d3/d3-interpolate"},{id:23,source:"d3/d3-interpolate",target:"d3/d3-interpolate/transform"},{id:24,source:"d3",target:"d3/d3-path"},{id:25,source:"d3",target:"d3/d3-polygon"},{id:26,source:"d3",target:"d3/d3-quadtree"},{id:27,source:"d3",target:"d3/d3-queue"},{id:28,source:"d3",target:"d3/d3-random"},{id:29,source:"d3",target:"d3/d3-request"},{id:30,source:"d3",target:"d3/d3-scale"},{id:31,source:"d3",target:"d3/d3-selection"},{id:32,source:"d3/d3-selection",target:"d3/d3-selection/selection"},{id:33,source:"d3",target:"d3/d3-shape"},{id:34,source:"d3/d3-shape",target:"d3/d3-shape/curve"},{id:35,source:"d3/d3-shape",target:"d3/d3-shape/offset"},{id:36,source:"d3/d3-shape",target:"d3/d3-shape/order"},{id:37,source:"d3/d3-shape",target:"d3/d3-shape/symbol"},{id:38,source:"d3",target:"d3/d3-time-format"},{id:39,source:"d3",target:"d3/d3-time"},{id:40,source:"d3",target:"d3/d3-timer"},{id:41,source:"d3",target:"d3/d3-transition"},{id:42,source:"d3/d3-transition",target:"d3/d3-transition/selection"},{id:43,source:"d3/d3-transition",target:"d3/d3-transition/transition"},{id:44,source:"d3",target:"d3/d3-voronoi"},{id:45,source:"d3",target:"d3/d3-zoom"},{id:46,source:"d3/d3-array",target:"d3/d3-array/array.js"},{id:47,source:"d3/d3-array",target:"d3/d3-array/ascending.js"},{id:48,source:"d3/d3-array",target:"d3/d3-array/bisect.js"},{id:49,source:"d3/d3-array",target:"d3/d3-array/bisector.js"},{id:50,source:"d3/d3-array",target:"d3/d3-array/constant.js"},{id:51,source:"d3/d3-array",target:"d3/d3-array/descending.js"},{id:52,source:"d3/d3-array",target:"d3/d3-array/deviation.js"},{id:53,source:"d3/d3-array",target:"d3/d3-array/extent.js"},{id:54,source:"d3/d3-array",target:"d3/d3-array/histogram.js"},{id:55,source:"d3/d3-array",target:"d3/d3-array/identity.js"},{id:56,source:"d3/d3-array",target:"d3/d3-array/max.js"},{id:57,source:"d3/d3-array",target:"d3/d3-array/mean.js"},{id:58,source:"d3/d3-array",target:"d3/d3-array/median.js"},{id:59,source:"d3/d3-array",target:"d3/d3-array/merge.js"},{id:60,source:"d3/d3-array",target:"d3/d3-array/min.js"},{id:61,source:"d3/d3-array",target:"d3/d3-array/number.js"},{id:62,source:"d3/d3-array",target:"d3/d3-array/pairs.js"},{id:63,source:"d3/d3-array",target:"d3/d3-array/permute.js"},{id:64,source:"d3/d3-array",target:"d3/d3-array/quantile.js"},{id:65,source:"d3/d3-array",target:"d3/d3-array/range.js"},{id:66,source:"d3/d3-array",target:"d3/d3-array/scan.js"},{id:67,source:"d3/d3-array",target:"d3/d3-array/shuffle.js"},{id:68,source:"d3/d3-array",target:"d3/d3-array/sum.js"},{id:69,source:"d3/d3-array/threshold",target:"d3/d3-array/threshold/freedmanDiaconis.js"},{id:70,source:"d3/d3-array/threshold",target:"d3/d3-array/threshold/scott.js"},{id:71,source:"d3/d3-array/threshold",target:"d3/d3-array/threshold/sturges.js"},{id:72,source:"d3/d3-array",target:"d3/d3-array/ticks.js"},{id:73,source:"d3/d3-array",target:"d3/d3-array/transpose.js"},{id:74,source:"d3/d3-array",target:"d3/d3-array/variance.js"},{id:75,source:"d3/d3-array",target:"d3/d3-array/zip.js"},{id:76,source:"d3/d3-axis",target:"d3/d3-axis/array.js"},{id:77,source:"d3/d3-axis",target:"d3/d3-axis/axis.js"},{id:78,source:"d3/d3-axis",target:"d3/d3-axis/identity.js"},{id:79,source:"d3/d3-brush",target:"d3/d3-brush/brush.js"},{id:80,source:"d3/d3-brush",target:"d3/d3-brush/constant.js"},{id:81,source:"d3/d3-brush",target:"d3/d3-brush/event.js"},{id:82,source:"d3/d3-brush",target:"d3/d3-brush/noevent.js"},{id:83,source:"d3/d3-chord",target:"d3/d3-chord/array.js"},{id:84,source:"d3/d3-chord",target:"d3/d3-chord/chord.js"},{id:85,source:"d3/d3-chord",target:"d3/d3-chord/constant.js"},{id:86,source:"d3/d3-chord",target:"d3/d3-chord/math.js"},{id:87,source:"d3/d3-chord",target:"d3/d3-chord/ribbon.js"},{id:88,source:"d3/d3-collection",target:"d3/d3-collection/entries.js"},{id:89,source:"d3/d3-collection",target:"d3/d3-collection/keys.js"},{id:90,source:"d3/d3-collection",target:"d3/d3-collection/map.js"},{id:91,source:"d3/d3-collection",target:"d3/d3-collection/nest.js"},{id:92,source:"d3/d3-collection",target:"d3/d3-collection/set.js"},{id:93,source:"d3/d3-collection",target:"d3/d3-collection/values.js"},{id:94,source:"d3/d3-color",target:"d3/d3-color/color.js"},{id:95,source:"d3/d3-color",target:"d3/d3-color/cubehelix.js"},{id:96,source:"d3/d3-color",target:"d3/d3-color/define.js"},{id:97,source:"d3/d3-color",target:"d3/d3-color/lab.js"},{id:98,source:"d3/d3-color",target:"d3/d3-color/math.js"},{id:99,source:"d3/d3-dispatch",target:"d3/d3-dispatch/dispatch.js"},{id:100,source:"d3/d3-drag",target:"d3/d3-drag/constant.js"},{id:101,source:"d3/d3-drag",target:"d3/d3-drag/drag.js"},{id:102,source:"d3/d3-drag",target:"d3/d3-drag/event.js"},{id:103,source:"d3/d3-drag",target:"d3/d3-drag/nodrag.js"},{id:104,source:"d3/d3-drag",target:"d3/d3-drag/noevent.js"},{id:105,source:"d3/d3-dsv",target:"d3/d3-dsv/csv.js"},{id:106,source:"d3/d3-dsv",target:"d3/d3-dsv/dsv.js"},{id:107,source:"d3/d3-dsv",target:"d3/d3-dsv/tsv.js"},{id:108,source:"d3/d3-ease",target:"d3/d3-ease/back.js"},{id:109,source:"d3/d3-ease",target:"d3/d3-ease/bounce.js"},{id:110,source:"d3/d3-ease",target:"d3/d3-ease/circle.js"},{id:111,source:"d3/d3-ease",target:"d3/d3-ease/cubic.js"},{id:112,source:"d3/d3-ease",target:"d3/d3-ease/elastic.js"},{id:113,source:"d3/d3-ease",target:"d3/d3-ease/exp.js"},{id:114,source:"d3/d3-ease",target:"d3/d3-ease/linear.js"},{id:115,source:"d3/d3-ease",target:"d3/d3-ease/poly.js"},{id:116,source:"d3/d3-ease",target:"d3/d3-ease/quad.js"},{id:117,source:"d3/d3-ease",target:"d3/d3-ease/sin.js"},{id:118,source:"d3/d3-force",target:"d3/d3-force/center.js"},{id:119,source:"d3/d3-force",target:"d3/d3-force/collide.js"},{id:120,source:"d3/d3-force",target:"d3/d3-force/constant.js"},{id:121,source:"d3/d3-force",target:"d3/d3-force/jiggle.js"},{id:122,source:"d3/d3-force",target:"d3/d3-force/link.js"},{id:123,source:"d3/d3-force",target:"d3/d3-force/manyBody.js"},{id:124,source:"d3/d3-force",target:"d3/d3-force/simulation.js"},{id:125,source:"d3/d3-force",target:"d3/d3-force/x.js"},{id:126,source:"d3/d3-force",target:"d3/d3-force/y.js"},{id:127,source:"d3/d3-format",target:"d3/d3-format/defaultLocale.js"},{id:128,source:"d3/d3-format",target:"d3/d3-format/exponent.js"},{id:129,source:"d3/d3-format",target:"d3/d3-format/formatDecimal.js"},{id:130,source:"d3/d3-format",target:"d3/d3-format/formatDefault.js"},{id:131,source:"d3/d3-format",target:"d3/d3-format/formatGroup.js"},{id:132,source:"d3/d3-format",target:"d3/d3-format/formatPrefixAuto.js"},{id:133,source:"d3/d3-format",target:"d3/d3-format/formatRounded.js"},{id:134,source:"d3/d3-format",target:"d3/d3-format/formatSpecifier.js"},{id:135,source:"d3/d3-format",target:"d3/d3-format/formatTypes.js"},{id:136,source:"d3/d3-format",target:"d3/d3-format/locale.js"},{id:137,source:"d3/d3-format",target:"d3/d3-format/precisionFixed.js"},{id:138,source:"d3/d3-format",target:"d3/d3-format/precisionPrefix.js"},{id:139,source:"d3/d3-format",target:"d3/d3-format/precisionRound.js"},{id:140,source:"d3/d3-geo",target:"d3/d3-geo/adder.js"},{id:141,source:"d3/d3-geo",target:"d3/d3-geo/area.js"},{id:142,source:"d3/d3-geo",target:"d3/d3-geo/bounds.js"},{id:143,source:"d3/d3-geo",target:"d3/d3-geo/cartesian.js"},{id:144,source:"d3/d3-geo",target:"d3/d3-geo/centroid.js"},{id:145,source:"d3/d3-geo",target:"d3/d3-geo/circle.js"},{id:146,source:"d3/d3-geo/clip",target:"d3/d3-geo/clip/antimeridian.js"},{id:147,source:"d3/d3-geo/clip",target:"d3/d3-geo/clip/buffer.js"},{id:148,source:"d3/d3-geo/clip",target:"d3/d3-geo/clip/circle.js"},{id:149,source:"d3/d3-geo/clip",target:"d3/d3-geo/clip/extent.js"},{id:150,source:"d3/d3-geo/clip",target:"d3/d3-geo/clip/index.js"},{id:151,source:"d3/d3-geo/clip",target:"d3/d3-geo/clip/line.js"},{id:152,source:"d3/d3-geo/clip",target:"d3/d3-geo/clip/polygon.js"},{id:153,source:"d3/d3-geo",target:"d3/d3-geo/compose.js"},{id:154,source:"d3/d3-geo",target:"d3/d3-geo/constant.js"},{id:155,source:"d3/d3-geo",target:"d3/d3-geo/distance.js"},{id:156,source:"d3/d3-geo",target:"d3/d3-geo/graticule.js"},{id:157,source:"d3/d3-geo",target:"d3/d3-geo/identity.js"},{id:158,source:"d3/d3-geo",target:"d3/d3-geo/interpolate.js"},{id:159,source:"d3/d3-geo",target:"d3/d3-geo/length.js"},{id:160,source:"d3/d3-geo",target:"d3/d3-geo/math.js"},{id:161,source:"d3/d3-geo",target:"d3/d3-geo/noop.js"},{id:162,source:"d3/d3-geo/path",target:"d3/d3-geo/path/area.js"},{id:163,source:"d3/d3-geo/path",target:"d3/d3-geo/path/bounds.js"},{id:164,source:"d3/d3-geo/path",target:"d3/d3-geo/path/centroid.js"},{id:165,source:"d3/d3-geo/path",target:"d3/d3-geo/path/context.js"},{id:166,source:"d3/d3-geo/path",target:"d3/d3-geo/path/index.js"},{id:167,source:"d3/d3-geo/path",target:"d3/d3-geo/path/string.js"},{id:168,source:"d3/d3-geo",target:"d3/d3-geo/pointEqual.js"},{id:169,source:"d3/d3-geo",target:"d3/d3-geo/polygonContains.js"},{id:170,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/albers.js"},{id:171,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/albersUsa.js"},{id:172,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/azimuthal.js"},{id:173,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/azimuthalEqualArea.js"},{id:174,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/azimuthalEquidistant.js"},{id:175,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/conic.js"},{id:176,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/conicConformal.js"},{id:177,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/conicEqualArea.js"},{id:178,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/conicEquidistant.js"},{id:179,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/cylindricalEqualArea.js"},{id:180,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/equirectangular.js"},{id:181,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/fit.js"},{id:182,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/gnomonic.js"},{id:183,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/identity.js"},{id:184,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/index.js"},{id:185,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/mercator.js"},{id:186,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/orthographic.js"},{id:187,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/resample.js"},{id:188,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/stereographic.js"},{id:189,source:"d3/d3-geo/projection",target:"d3/d3-geo/projection/transverseMercator.js"},{id:190,source:"d3/d3-geo",target:"d3/d3-geo/rotation.js"},{id:191,source:"d3/d3-geo",target:"d3/d3-geo/stream.js"},{id:192,source:"d3/d3-geo",target:"d3/d3-geo/transform.js"},{id:193,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/accessors.js"},{id:194,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/cluster.js"},{id:195,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/constant.js"},{id:196,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/ancestors.js"},{id:197,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/descendants.js"},{id:198,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/each.js"},{id:199,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/eachAfter.js"},{id:200,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/eachBefore.js"},{id:201,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/index.js"},{id:202,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/leaves.js"},{id:203,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/links.js"},{id:204,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/path.js"},{id:205,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/sort.js"},{id:206,source:"d3/d3-hierarchy/hierarchy",target:"d3/d3-hierarchy/hierarchy/sum.js"},{id:207,source:"d3/d3-hierarchy/pack",target:"d3/d3-hierarchy/pack/enclose.js"},{id:208,source:"d3/d3-hierarchy/pack",target:"d3/d3-hierarchy/pack/index.js"},{id:209,source:"d3/d3-hierarchy/pack",target:"d3/d3-hierarchy/pack/shuffle.js"},{id:210,source:"d3/d3-hierarchy/pack",target:"d3/d3-hierarchy/pack/siblings.js"},{id:211,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/partition.js"},{id:212,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/stratify.js"},{id:213,source:"d3/d3-hierarchy",target:"d3/d3-hierarchy/tree.js"},{id:214,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/binary.js"},{id:215,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/dice.js"},{id:216,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/index.js"},{id:217,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/resquarify.js"},{id:218,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/round.js"},{id:219,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/slice.js"},{id:220,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/sliceDice.js"},{id:221,source:"d3/d3-hierarchy/treemap",target:"d3/d3-hierarchy/treemap/squarify.js"},{id:222,source:"d3/d3-interpolate",target:"d3/d3-interpolate/array.js"},{id:223,source:"d3/d3-interpolate",target:"d3/d3-interpolate/basis.js"},{id:224,source:"d3/d3-interpolate",target:"d3/d3-interpolate/basisClosed.js"},{id:225,source:"d3/d3-interpolate",target:"d3/d3-interpolate/color.js"},{id:226,source:"d3/d3-interpolate",target:"d3/d3-interpolate/constant.js"},{id:227,source:"d3/d3-interpolate",target:"d3/d3-interpolate/cubehelix.js"},{id:228,source:"d3/d3-interpolate",target:"d3/d3-interpolate/date.js"},{id:229,source:"d3/d3-interpolate",target:"d3/d3-interpolate/hcl.js"},{id:230,source:"d3/d3-interpolate",target:"d3/d3-interpolate/hsl.js"},{id:231,source:"d3/d3-interpolate",target:"d3/d3-interpolate/lab.js"},{id:232,source:"d3/d3-interpolate",target:"d3/d3-interpolate/number.js"},{id:233,source:"d3/d3-interpolate",target:"d3/d3-interpolate/object.js"},{id:234,source:"d3/d3-interpolate",target:"d3/d3-interpolate/quantize.js"},{id:235,source:"d3/d3-interpolate",target:"d3/d3-interpolate/rgb.js"},{id:236,source:"d3/d3-interpolate",target:"d3/d3-interpolate/round.js"},{id:237,source:"d3/d3-interpolate",target:"d3/d3-interpolate/string.js"},{id:238,source:"d3/d3-interpolate/transform",target:"d3/d3-interpolate/transform/decompose.js"},{id:239,source:"d3/d3-interpolate/transform",target:"d3/d3-interpolate/transform/index.js"},{id:240,source:"d3/d3-interpolate/transform",target:"d3/d3-interpolate/transform/parse.js"},{id:241,source:"d3/d3-interpolate",target:"d3/d3-interpolate/value.js"},{id:242,source:"d3/d3-interpolate",target:"d3/d3-interpolate/zoom.js"},{id:243,source:"d3/d3-path",target:"d3/d3-path/path.js"},{id:244,source:"d3/d3-polygon",target:"d3/d3-polygon/area.js"},{id:245,source:"d3/d3-polygon",target:"d3/d3-polygon/centroid.js"},{id:246,source:"d3/d3-polygon",target:"d3/d3-polygon/contains.js"},{id:247,source:"d3/d3-polygon",target:"d3/d3-polygon/cross.js"},{id:248,source:"d3/d3-polygon",target:"d3/d3-polygon/hull.js"},{id:249,source:"d3/d3-polygon",target:"d3/d3-polygon/length.js"},{id:250,source:"d3/d3-quadtree",target:"d3/d3-quadtree/add.js"},{id:251,source:"d3/d3-quadtree",target:"d3/d3-quadtree/cover.js"},{id:252,source:"d3/d3-quadtree",target:"d3/d3-quadtree/data.js"},{id:253,source:"d3/d3-quadtree",target:"d3/d3-quadtree/extent.js"},{id:254,source:"d3/d3-quadtree",target:"d3/d3-quadtree/find.js"},{id:255,source:"d3/d3-quadtree",target:"d3/d3-quadtree/quad.js"},{id:256,source:"d3/d3-quadtree",target:"d3/d3-quadtree/quadtree.js"},{id:257,source:"d3/d3-quadtree",target:"d3/d3-quadtree/remove.js"},{id:258,source:"d3/d3-quadtree",target:"d3/d3-quadtree/root.js"},{id:259,source:"d3/d3-quadtree",target:"d3/d3-quadtree/size.js"},{id:260,source:"d3/d3-quadtree",target:"d3/d3-quadtree/visit.js"},{id:261,source:"d3/d3-quadtree",target:"d3/d3-quadtree/visitAfter.js"},{id:262,source:"d3/d3-quadtree",target:"d3/d3-quadtree/x.js"},{id:263,source:"d3/d3-quadtree",target:"d3/d3-quadtree/y.js"},{id:264,source:"d3/d3-queue",target:"d3/d3-queue/array.js"},{id:265,source:"d3/d3-queue",target:"d3/d3-queue/queue.js"},{id:266,source:"d3/d3-random",target:"d3/d3-random/bates.js"},{id:267,source:"d3/d3-random",target:"d3/d3-random/exponential.js"},{id:268,source:"d3/d3-random",target:"d3/d3-random/irwinHall.js"},{id:269,source:"d3/d3-random",target:"d3/d3-random/logNormal.js"},{id:270,source:"d3/d3-random",target:"d3/d3-random/normal.js"},{id:271,source:"d3/d3-random",target:"d3/d3-random/uniform.js"},{id:272,source:"d3/d3-request",target:"d3/d3-request/csv.js"},{id:273,source:"d3/d3-request",target:"d3/d3-request/dsv.js"},{id:274,source:"d3/d3-request",target:"d3/d3-request/html.js"},{id:275,source:"d3/d3-request",target:"d3/d3-request/json.js"},{id:276,source:"d3/d3-request",target:"d3/d3-request/request.js"},{id:277,source:"d3/d3-request",target:"d3/d3-request/text.js"},{id:278,source:"d3/d3-request",target:"d3/d3-request/tsv.js"},{id:279,source:"d3/d3-request",target:"d3/d3-request/type.js"},{id:280,source:"d3/d3-request",target:"d3/d3-request/xml.js"},{id:281,source:"d3/d3-scale",target:"d3/d3-scale/array.js"},{id:282,source:"d3/d3-scale",target:"d3/d3-scale/band.js"},{id:283,source:"d3/d3-scale",target:"d3/d3-scale/category10.js"},{id:284,source:"d3/d3-scale",target:"d3/d3-scale/category20.js"},{id:285,source:"d3/d3-scale",target:"d3/d3-scale/category20b.js"},{id:286,source:"d3/d3-scale",target:"d3/d3-scale/category20c.js"},{id:287,source:"d3/d3-scale",target:"d3/d3-scale/colors.js"},{id:288,source:"d3/d3-scale",target:"d3/d3-scale/constant.js"},{id:289,source:"d3/d3-scale",target:"d3/d3-scale/continuous.js"},{id:290,source:"d3/d3-scale",target:"d3/d3-scale/cubehelix.js"},{id:291,source:"d3/d3-scale",target:"d3/d3-scale/identity.js"},{id:292,source:"d3/d3-scale",target:"d3/d3-scale/linear.js"},{id:293,source:"d3/d3-scale",target:"d3/d3-scale/log.js"},{id:294,source:"d3/d3-scale",target:"d3/d3-scale/nice.js"},{id:295,source:"d3/d3-scale",target:"d3/d3-scale/number.js"},{id:296,source:"d3/d3-scale",target:"d3/d3-scale/ordinal.js"},{id:297,source:"d3/d3-scale",target:"d3/d3-scale/pow.js"},{id:298,source:"d3/d3-scale",target:"d3/d3-scale/quantile.js"},{id:299,source:"d3/d3-scale",target:"d3/d3-scale/quantize.js"},{id:300,source:"d3/d3-scale",target:"d3/d3-scale/rainbow.js"},{id:301,source:"d3/d3-scale",target:"d3/d3-scale/sequential.js"},{id:302,source:"d3/d3-scale",target:"d3/d3-scale/threshold.js"},{id:303,source:"d3/d3-scale",target:"d3/d3-scale/tickFormat.js"},{id:304,source:"d3/d3-scale",target:"d3/d3-scale/time.js"},{id:305,source:"d3/d3-scale",target:"d3/d3-scale/utcTime.js"},{id:306,source:"d3/d3-scale",target:"d3/d3-scale/viridis.js"},{id:307,source:"d3/d3-selection",target:"d3/d3-selection/constant.js"},{id:308,source:"d3/d3-selection",target:"d3/d3-selection/creator.js"},{id:309,source:"d3/d3-selection",target:"d3/d3-selection/local.js"},{id:310,source:"d3/d3-selection",target:"d3/d3-selection/matcher.js"},{id:311,source:"d3/d3-selection",target:"d3/d3-selection/mouse.js"},{id:312,source:"d3/d3-selection",target:"d3/d3-selection/namespace.js"},{id:313,source:"d3/d3-selection",target:"d3/d3-selection/namespaces.js"},{id:314,source:"d3/d3-selection",target:"d3/d3-selection/point.js"},{id:315,source:"d3/d3-selection",target:"d3/d3-selection/select.js"},{id:316,source:"d3/d3-selection",target:"d3/d3-selection/selectAll.js"},{id:317,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/append.js"},{id:318,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/attr.js"},{id:319,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/call.js"},{id:320,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/classed.js"},{id:321,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/data.js"},{id:322,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/datum.js"},{id:323,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/dispatch.js"},{id:324,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/each.js"},{id:325,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/empty.js"},{id:326,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/enter.js"},{id:327,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/exit.js"},{id:328,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/filter.js"},{id:329,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/html.js"},{id:330,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/index.js"},{id:331,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/insert.js"},{id:332,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/lower.js"},{id:333,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/merge.js"},{id:334,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/node.js"},{id:335,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/nodes.js"},{id:336,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/on.js"},{id:337,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/order.js"},{id:338,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/property.js"},{id:339,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/raise.js"},{id:340,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/remove.js"},{id:341,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/select.js"},{id:342,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/selectAll.js"},{id:343,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/size.js"},{id:344,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/sort.js"},{id:345,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/sparse.js"},{id:346,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/style.js"},{id:347,source:"d3/d3-selection/selection",target:"d3/d3-selection/selection/text.js"},{id:348,source:"d3/d3-selection",target:"d3/d3-selection/selector.js"},{id:349,source:"d3/d3-selection",target:"d3/d3-selection/selectorAll.js"},{id:350,source:"d3/d3-selection",target:"d3/d3-selection/sourceEvent.js"},{id:351,source:"d3/d3-selection",target:"d3/d3-selection/touch.js"},{id:352,source:"d3/d3-selection",target:"d3/d3-selection/touches.js"},{id:353,source:"d3/d3-selection",target:"d3/d3-selection/window.js"},{id:354,source:"d3/d3-shape",target:"d3/d3-shape/arc.js"},{id:355,source:"d3/d3-shape",target:"d3/d3-shape/area.js"},{id:356,source:"d3/d3-shape",target:"d3/d3-shape/array.js"},{id:357,source:"d3/d3-shape",target:"d3/d3-shape/constant.js"},{id:358,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/basis.js"},{id:359,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/basisClosed.js"},{id:360,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/basisOpen.js"},{id:361,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/bundle.js"},{id:362,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/cardinal.js"},{id:363,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/cardinalClosed.js"},{id:364,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/cardinalOpen.js"},{id:365,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/catmullRom.js"},{id:366,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/catmullRomClosed.js"},{id:367,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/catmullRomOpen.js"},{id:368,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/linear.js"},{id:369,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/linearClosed.js"},{id:370,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/monotone.js"},{id:371,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/natural.js"},{id:372,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/radial.js"},{id:373,source:"d3/d3-shape/curve",target:"d3/d3-shape/curve/step.js"},{id:374,source:"d3/d3-shape",target:"d3/d3-shape/descending.js"},{id:375,source:"d3/d3-shape",target:"d3/d3-shape/identity.js"},{id:376,source:"d3/d3-shape",target:"d3/d3-shape/line.js"},{id:377,source:"d3/d3-shape",target:"d3/d3-shape/math.js"},{id:378,source:"d3/d3-shape",target:"d3/d3-shape/noop.js"},{id:379,source:"d3/d3-shape/offset",target:"d3/d3-shape/offset/expand.js"},{id:380,source:"d3/d3-shape/offset",target:"d3/d3-shape/offset/none.js"},{id:381,source:"d3/d3-shape/offset",target:"d3/d3-shape/offset/silhouette.js"},{id:382,source:"d3/d3-shape/offset",target:"d3/d3-shape/offset/wiggle.js"},{id:383,source:"d3/d3-shape/order",target:"d3/d3-shape/order/ascending.js"},{id:384,source:"d3/d3-shape/order",target:"d3/d3-shape/order/descending.js"},{id:385,source:"d3/d3-shape/order",target:"d3/d3-shape/order/insideOut.js"},{id:386,source:"d3/d3-shape/order",target:"d3/d3-shape/order/none.js"},{id:387,source:"d3/d3-shape/order",target:"d3/d3-shape/order/reverse.js"},{id:388,source:"d3/d3-shape",target:"d3/d3-shape/pie.js"},{id:389,source:"d3/d3-shape",target:"d3/d3-shape/point.js"},{id:390,source:"d3/d3-shape",target:"d3/d3-shape/radialArea.js"},{id:391,source:"d3/d3-shape",target:"d3/d3-shape/radialLine.js"},{id:392,source:"d3/d3-shape",target:"d3/d3-shape/stack.js"},{id:393,source:"d3/d3-shape/symbol",target:"d3/d3-shape/symbol/circle.js"},{id:394,source:"d3/d3-shape/symbol",target:"d3/d3-shape/symbol/cross.js"},{id:395,source:"d3/d3-shape/symbol",target:"d3/d3-shape/symbol/diamond.js"},{id:396,source:"d3/d3-shape/symbol",target:"d3/d3-shape/symbol/square.js"},{id:397,source:"d3/d3-shape/symbol",target:"d3/d3-shape/symbol/star.js"},{id:398,source:"d3/d3-shape/symbol",target:"d3/d3-shape/symbol/triangle.js"},{id:399,source:"d3/d3-shape/symbol",target:"d3/d3-shape/symbol/wye.js"},{id:400,source:"d3/d3-shape",target:"d3/d3-shape/symbol.js"},{id:401,source:"d3/d3-time-format",target:"d3/d3-time-format/defaultLocale.js"},{id:402,source:"d3/d3-time-format",target:"d3/d3-time-format/isoFormat.js"},{id:403,source:"d3/d3-time-format",target:"d3/d3-time-format/isoParse.js"},{id:404,source:"d3/d3-time-format",target:"d3/d3-time-format/locale.js"},{id:405,source:"d3/d3-time",target:"d3/d3-time/day.js"},{id:406,source:"d3/d3-time",target:"d3/d3-time/duration.js"},{id:407,source:"d3/d3-time",target:"d3/d3-time/hour.js"},{id:408,source:"d3/d3-time",target:"d3/d3-time/interval.js"},{id:409,source:"d3/d3-time",target:"d3/d3-time/millisecond.js"},{id:410,source:"d3/d3-time",target:"d3/d3-time/minute.js"},{id:411,source:"d3/d3-time",target:"d3/d3-time/month.js"},{id:412,source:"d3/d3-time",target:"d3/d3-time/second.js"},{id:413,source:"d3/d3-time",target:"d3/d3-time/utcDay.js"},{id:414,source:"d3/d3-time",target:"d3/d3-time/utcHour.js"},{id:415,source:"d3/d3-time",target:"d3/d3-time/utcMinute.js"},{id:416,source:"d3/d3-time",target:"d3/d3-time/utcMonth.js"},{id:417,source:"d3/d3-time",target:"d3/d3-time/utcWeek.js"},{id:418,source:"d3/d3-time",target:"d3/d3-time/utcYear.js"},{id:419,source:"d3/d3-time",target:"d3/d3-time/week.js"},{id:420,source:"d3/d3-time",target:"d3/d3-time/year.js"},{id:421,source:"d3/d3-timer",target:"d3/d3-timer/interval.js"},{id:422,source:"d3/d3-timer",target:"d3/d3-timer/timeout.js"},{id:423,source:"d3/d3-timer",target:"d3/d3-timer/timer.js"},{id:424,source:"d3/d3-transition",target:"d3/d3-transition/active.js"},{id:425,source:"d3/d3-transition",target:"d3/d3-transition/interrupt.js"},{id:426,source:"d3/d3-transition/selection",target:"d3/d3-transition/selection/index.js"},{id:427,source:"d3/d3-transition/selection",target:"d3/d3-transition/selection/interrupt.js"},{id:428,source:"d3/d3-transition/selection",target:"d3/d3-transition/selection/transition.js"},{id:429,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/attr.js"},{id:430,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/attrTween.js"},{id:431,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/delay.js"},{id:432,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/duration.js"},{id:433,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/ease.js"},{id:434,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/filter.js"},{id:435,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/index.js"},{id:436,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/interpolate.js"},{id:437,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/merge.js"},{id:438,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/on.js"},{id:439,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/remove.js"},{id:440,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/schedule.js"},{id:441,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/select.js"},{id:442,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/selectAll.js"},{id:443,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/selection.js"},{id:444,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/style.js"},{id:445,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/styleTween.js"},{id:446,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/text.js"},{id:447,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/transition.js"},{id:448,source:"d3/d3-transition/transition",target:"d3/d3-transition/transition/tween.js"},{id:449,source:"d3/d3-voronoi",target:"d3/d3-voronoi/Beach.js"},{id:450,source:"d3/d3-voronoi",target:"d3/d3-voronoi/Cell.js"},{id:451,source:"d3/d3-voronoi",target:"d3/d3-voronoi/Circle.js"},{id:452,source:"d3/d3-voronoi",target:"d3/d3-voronoi/constant.js"},{id:453,source:"d3/d3-voronoi",target:"d3/d3-voronoi/Diagram.js"},{id:454,source:"d3/d3-voronoi",target:"d3/d3-voronoi/Edge.js"},{id:455,source:"d3/d3-voronoi",target:"d3/d3-voronoi/point.js"},{id:456,source:"d3/d3-voronoi",target:"d3/d3-voronoi/RedBlackTree.js"},{id:457,source:"d3/d3-voronoi",target:"d3/d3-voronoi/voronoi.js"},{id:458,source:"d3/d3-zoom",target:"d3/d3-zoom/constant.js"},{id:459,source:"d3/d3-zoom",target:"d3/d3-zoom/event.js"},{id:460,source:"d3/d3-zoom",target:"d3/d3-zoom/noevent.js"},{id:461,source:"d3/d3-zoom",target:"d3/d3-zoom/transform.js"},{id:462,source:"d3/d3-zoom",target:"d3/d3-zoom/zoom.js"}]}},function(e,t,r){var n=r(750),i=r(54),o=Array.prototype.push;function a(e,t){return 2==t?function(t,r){return e(t,r)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function c(e,t){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var i=n[0]=t.apply(void 0,n);return e.apply(void 0,n),i}}}e.exports=function e(t,r,l,u){var d="function"==typeof r,h=r===Object(r);if(h&&(u=l,l=r,r=void 0),null==l)throw new TypeError;u||(u={});var p={cap:!("cap"in u)||u.cap,curry:!("curry"in u)||u.curry,fixed:!("fixed"in u)||u.fixed,immutable:!("immutable"in u)||u.immutable,rearg:!("rearg"in u)||u.rearg},f=d?l:i,m="curry"in u&&u.curry,g="fixed"in u&&u.fixed,v="rearg"in u&&u.rearg,y=d?l.runInContext():void 0,b=d?l:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},x=b.ary,w=b.assign,E=b.clone,A=b.curry,_=b.forEach,M=b.isArray,S=b.isError,T=b.isFunction,C=b.isWeakMap,O=b.keys,L=b.rearg,R=b.toInteger,P=b.toPath,k=O(n.aryMethod),j={castArray:function(e){return function(){var t=arguments[0];return M(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],r=arguments[1],n=e(t,r),i=n.length;return p.cap&&"number"==typeof r?(r=r>2?r-2:1,i&&i<=r?n:a(n,r)):n}},mixin:function(e){return function(t){var r=this;if(!T(r))return e(r,Object(t));var n=[];return _(O(t),function(e){T(t[e])&&n.push([e,r.prototype[e]])}),e(r,Object(t)),_(n,function(e){var t=e[1];T(t)?r.prototype[e[0]]=t:delete r.prototype[e[0]]}),r}},nthArg:function(e){return function(t){var r=t<0?1:R(t)+1;return A(e(t),r)}},rearg:function(e){return function(t,r){var n=r?r.length:0;return A(e(t,r),n)}},runInContext:function(r){return function(n){return e(t,r(n),u)}}};function D(e,t){if(p.cap){var r=n.iterateeRearg[e];if(r)return function(e,t){return F(e,function(e){var r=t.length;return function(e,t){return 2==t?function(t,r){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(L(a(e,r),t),r)})}(t,r);var i=!d&&n.iterateeAry[e];if(i)return function(e,t){return F(e,function(e){return"function"==typeof e?a(e,t):e})}(t,i)}return t}function I(e,t,r){if(p.fixed&&(g||!n.skipFixed[e])){var i=n.methodSpread[e],a=i&&i.start;return void 0===a?x(t,r):function(e,t){return function(){for(var r=arguments.length,n=r-1,i=Array(r);r--;)i[r]=arguments[r];var a=i[t],s=i.slice(0,t);return a&&o.apply(s,a),t!=n&&o.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function N(e,t,r){return p.rearg&&r>1&&(v||!n.skipRearg[e])?L(t,n.methodRearg[e]||n.aryRearg[r]):t}function z(e,t){for(var r=-1,n=(t=P(t)).length,i=n-1,o=E(Object(e)),a=o;null!=a&&++r<n;){var s=t[r],c=a[s];null==c||T(c)||S(c)||C(c)||(a[s]=E(r==i?c:Object(c))),a=a[s]}return o}function B(t,r){var i=n.aliasToReal[t]||t,o=n.remap[i]||i,a=u;return function(t){var n=d?y:b,s=d?y[o]:r,c=w(w({},a),t);return e(n,i,s,c)}}function F(e,t){return function(){var r=arguments.length;if(!r)return e();for(var n=Array(r);r--;)n[r]=arguments[r];var i=p.rearg?0:r-1;return n[i]=t(n[i]),e.apply(void 0,n)}}function U(e,t,r){var i,o=n.aliasToReal[e]||e,a=t,l=j[o];return l?a=l(t):p.immutable&&(n.mutate.array[o]?a=c(t,s):n.mutate.object[o]?a=c(t,function(e){return function(t){return e({},t)}}(t)):n.mutate.set[o]&&(a=c(t,z))),_(k,function(e){return _(n.aryMethod[e],function(t){if(o==t){var r=n.methodSpread[o],s=r&&r.afterRearg;return i=s?I(o,N(o,a,e),e):N(o,I(o,a,e),e),i=D(o,i),c=i,l=e,i=m||p.curry&&l>1?A(c,l):c,!1}var c,l}),!i}),i||(i=a),i==t&&(i=m?A(i,1):function(){return t.apply(this,arguments)}),i.convert=B(o,t),i.placeholder=t.placeholder=r,i}if(!h)return U(r,l,f);var H=l,G=[];return _(k,function(e){_(n.aryMethod[e],function(e){var t=H[n.remap[e]||e];t&&G.push([e,U(e,t,H)])})}),_(O(H),function(e){var t=H[e];if("function"==typeof t){for(var r=G.length;r--;)if(G[r][0]==e)return;t.convert=B(e,t),G.push([e,t])}}),_(G,function(e){H[e[0]]=e[1]}),H.convert=function(e){return H.runInContext.convert(e)(void 0)},H.placeholder=H,_(O(H),function(e){_(n.realToAlias[e]||[],function(t){H[t]=H[e]})}),H}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,r=t.aliasToReal,n={};for(var i in r){var o=r[i];e.call(n,o)?n[o].push(i):n[o]=[i]}return n}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,r){e.exports={ary:r(752),assign:r(360),clone:r(765),curry:r(784),forEach:r(157),isArray:r(23),isError:r(785),isFunction:r(66),isWeakMap:r(786),iteratee:r(787),keys:r(152),rearg:r(788),toInteger:r(95),toPath:r(789)}},function(e,t,r){var n=r(230),i=128;e.exports=function(e,t,r){return t=r?void 0:t,t=e&&null==t?e.length:t,n(e,i,void 0,void 0,void 0,void 0,t)}},function(e,t,r){var n=r(160),i=r(35),o=1;e.exports=function(e,t,r){var a=t&o,s=n(e);return function t(){return(this&&this!==i&&this instanceof t?s:e).apply(a?r:this,arguments)}}},function(e,t,r){var n=r(139),i=r(160),o=r(351),a=r(354),s=r(359),c=r(235),l=r(35);e.exports=function(e,t,r){var u=i(e);return function i(){for(var d=arguments.length,h=Array(d),p=d,f=s(i);p--;)h[p]=arguments[p];var m=d<3&&h[0]!==f&&h[d-1]!==f?[]:c(h,f);return(d-=m.length)<r?a(e,t,o,i.placeholder,void 0,h,m,void 0,void 0,r-d):n(this&&this!==l&&this instanceof i?u:e,this,h)}}},function(e,t){e.exports=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}},function(e,t){e.exports={}},function(e,t,r){var n=r(231),i=r(234),o=r(232),a=r(23),s=r(30),c=r(758),l=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!a(e)&&!(e instanceof n)){if(e instanceof i)return e;if(l.call(e,"__wrapped__"))return c(e)}return new i(e)}u.prototype=o.prototype,u.prototype.constructor=u,e.exports=u},function(e,t,r){var n=r(231),i=r(234),o=r(115);e.exports=function(e){if(e instanceof n)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var r=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var t=e.match(r);return t?t[1].split(n):[]}},function(e,t){var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,r){var n=r(157),i=r(155),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(o,function(r){var n="_."+r[0];t&r[1]&&!i(e,n)&&e.push(n)}),e.sort()}},function(e,t,r){var n=r(115),i=r(114),o=Math.min;e.exports=function(e,t){for(var r=e.length,a=o(t.length,r),s=n(e);a--;){var c=t[a];e[a]=i(c,r)?s[c]:void 0}return e}},function(e,t,r){var n=r(139),i=r(160),o=r(35),a=1;e.exports=function(e,t,r,s){var c=t&a,l=i(e);return function t(){for(var i=-1,a=arguments.length,u=-1,d=s.length,h=Array(d+a),p=this&&this!==o&&this instanceof t?l:e;++u<d;)h[u]=s[u];for(;a--;)h[u++]=arguments[++i];return n(p,c?r:this,h)}}},function(e,t,r){var n=r(352),i=r(353),o=r(235),a="__lodash_placeholder__",s=1,c=2,l=4,u=8,d=128,h=256,p=Math.min;e.exports=function(e,t){var r=e[1],f=t[1],m=r|f,g=m<(s|c|d),v=f==d&&r==u||f==d&&r==h&&e[7].length<=t[8]||f==(d|h)&&t[7].length<=t[8]&&r==u;if(!g&&!v)return e;f&s&&(e[2]=t[2],m|=r&s?0:l);var y=t[3];if(y){var b=e[3];e[3]=b?n(b,y,t[4]):y,e[4]=b?o(e[3],a):t[4]}return(y=t[5])&&(b=e[5],e[5]=b?i(b,y,t[6]):y,e[6]=b?o(e[5],a):t[6]),(y=t[7])&&(e[7]=y),f&d&&(e[8]=null==e[8]?t[8]:p(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}},function(e,t,r){var n=r(361),i=4;e.exports=function(e){return n(e,i)}},function(e,t,r){var n=r(162),i=r(362);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(48),i=r(153),o=r(768),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){(function(e){var n=r(35),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(90)(e))},function(e,t,r){var n=r(162),i=r(220);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(162),i=r(363);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(322),i=r(363),o=r(362);e.exports=function(e){return n(e,o,i)}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,r){var n=r(236),i=r(775),o=r(776),a=r(777),s=r(778),c="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",A="[object Uint8Array]",_="[object Uint8ClampedArray]",M="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,r){var T=e.constructor;switch(t){case g:return n(e);case c:case l:return new T(+e);case v:return i(e,r);case y:case b:case x:case w:case E:case A:case _:case M:case S:return s(e,r);case u:return new T;case d:case f:return new T(e);case h:return o(e);case p:return new T;case m:return a(e)}}},function(e,t,r){var n=r(236);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,r){var n=r(75),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,r){var n=r(236);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(161),i=r(225),o=r(153);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},function(e,t,r){var n=r(781),i=r(94),o=r(151),a=o&&o.isMap,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(64),i=r(30),o="[object Map]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(783),i=r(94),o=r(151),a=o&&o.isSet,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(64),i=r(30),o="[object Set]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(230),i=8;function o(e,t,r){var a=n(e,i,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return a.placeholder=o.placeholder,a}o.placeholder={},e.exports=o},function(e,t,r){var n=r(45),i=r(30),o=r(243),a="[object DOMException]",s="[object Error]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==s||t==a||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t,r){var n=r(64),i=r(30),o="[object WeakMap]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(361),i=r(62),o=1;e.exports=function(e){return i("function"==typeof e?e:n(e,o))}},function(e,t,r){var n=r(230),i=r(229),o=i(function(e,t){return n(e,256,void 0,void 0,void 0,t)});e.exports=o},function(e,t,r){var n=r(77),i=r(115),o=r(23),a=r(112),s=r(312),c=r(78),l=r(61);e.exports=function(e){return o(e)?n(e,c):a(e)?[e]:i(s(l(e)))}},function(e,t,r){var n=r(214),i=r(342),o=r(158),a=r(154),s=r(791),c=r(227),l=r(61),u=4294967295;e.exports=function(e,t,r){return r&&"number"!=typeof r&&a(e,t,r)&&(t=r=void 0),(r=void 0===r?u:r>>>0)?(e=l(e))&&("string"==typeof t||null!=t&&!s(t))&&!(t=n(t))&&o(e)?i(c(e),0,r):e.split(t,r):[]}},function(e,t,r){var n=r(792),i=r(94),o=r(151),a=o&&o.isRegExp,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(45),i=r(30),o="[object RegExp]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(159),i=r(22);e.exports=function(e,t){return n(i(e,t),1)}},function(e,t,r){var n=r(75),i=r(115),o=r(64),a=r(46),s=r(117),c=r(795),l=r(320),u=r(148),d=r(227),h=r(339),p="[object Map]",f="[object Set]",m=n?n.iterator:void 0;e.exports=function(e){if(!e)return[];if(a(e))return s(e)?d(e):i(e);if(m&&e[m])return c(e[m]());var t=o(e);return(t==p?l:t==f?u:h)(e)}},function(e,t){e.exports=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}},function(e,t,r){var n=r(797)();e.exports=n},function(e,t,r){var n=r(234),i=r(229),o=r(233),a=r(356),s=r(23),c=r(355),l="Expected a function",u=8,d=32,h=128,p=256;e.exports=function(e){return i(function(t){var r=t.length,i=r,f=n.prototype.thru;for(e&&t.reverse();i--;){var m=t[i];if("function"!=typeof m)throw new TypeError(l);if(f&&!g&&"wrapper"==a(m))var g=new n([],!0)}for(i=g?i:r;++i<r;){m=t[i];var v=a(m),y="wrapper"==v?o(m):void 0;g=y&&c(y[0])&&y[1]==(h|u|d|p)&&!y[4].length&&1==y[9]?g[a(y[0])].apply(g,y[3]):1==m.length&&c(m)?g[v]():g.thru(m)}return function(){var e=arguments,n=e[0];if(g&&1==e.length&&s(n))return g.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}})}},function(t,r,n){(function(r){var n;t.exports=function e(t,r,i){function o(s,c){if(!r[s]){if(!t[s]){var l="function"==typeof n&&n;if(!c&&l)return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};t[s][0].call(d.exports,function(e){var r=t[s][1][e];return o(r||e)},d,d.exports,e,t,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,r){var n=Object.prototype.toString;t.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===n.call(e.buffer)||Array.isArray(e)}},{}],2:[function(e,t,r){t.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},{}],3:[function(e,t,r){"use strict";r.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){for(var t,r=l(e),n=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),c=0,u=a>0?n-4:n,d=0;d<u;d+=4)t=i[e.charCodeAt(d)]<<18|i[e.charCodeAt(d+1)]<<12|i[e.charCodeAt(d+2)]<<6|i[e.charCodeAt(d+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===a&&(t=i[e.charCodeAt(d)]<<2|i[e.charCodeAt(d+1)]>>4,s[c++]=255&t),1===a&&(t=i[e.charCodeAt(d)]<<10|i[e.charCodeAt(d+1)]<<4|i[e.charCodeAt(d+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],4:[function(e,t,r){"use strict";t.exports={createLink:function(e,t){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");for(var i in n.href=e,n.rel="stylesheet",t)if(t.hasOwnProperty(i)){var o=t[i];n.setAttribute("data-"+i,o)}r.appendChild(n)},createStyle:function(e,t){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");for(var i in n.type="text/css",t)if(t.hasOwnProperty(i)){var o=t[i];n.setAttribute("data-"+i,o)}n.sheet?(n.innerHTML=e,n.sheet.cssText=e,r.appendChild(n)):n.styleSheet?(r.appendChild(n),n.styleSheet.cssText=e):(n.appendChild(document.createTextNode(e)),r.appendChild(n))}}},{}],5:[function(e,t,r){var n=e("buffer").Buffer;t.exports=function(e,t){if(n.isBuffer(e)&&n.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}}},{buffer:6}],6:[function(e,t,n){(function(t,r){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
"use strict";var i=e("base64-js"),o=e("ieee754"),a=e("isarray");function s(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=r.prototype:(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),r.TYPED_ARRAY_SUPPORT?(e=t).__proto__=r.prototype:e=h(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(t,n),o=(e=c(e,i)).write(t,n);return o!==i&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(r.isBuffer(t)){var n=0|p(t.length);return 0===(e=c(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?c(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=c(e,t<0?0:0|p(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var r=t.length<0?0:0|p(t.length);e=c(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return B(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:v(e,t,n,i,o);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var d=!0,h=0;h<c;h++)if(l(e,o+h)!==l(t,h)){d=!1;break}if(d)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function b(e,t,r,n){return U(B(t,e.length-r),e,r,n)}function x(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return x(e,t,r,n)}function E(e,t,r,n){return U(F(t),e,r,n)}function A(e,t,r,n){return U(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=r)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}n.Buffer=r,n.SlowBuffer=function(e){return+e!=e&&(e=0),r.alloc(+e)},n.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=s(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,r){return l(null,e,t,r)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?c(e,t):void 0!==r?"string"==typeof n?c(e,t).fill(r,n):c(e,t).fill(r):c(e,t)}(null,e,t,r)},r.allocUnsafe=function(e){return d(null,e)},r.allocUnsafeSlow=function(e){return d(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=r.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},r.byteLength=f,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,i,o){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=n-t,c=Math.min(a,s),l=this.slice(i,o),u=e.slice(t,n),d=0;d<c;++d)if(l[d]!==u[d]){a=l[d],s=u[d];break}return a<s?-1:s<a?1:0},r.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},r.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},r.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},r.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",a=t;a<r;++a)o+=(n=e[a])<16?"0"+n.toString(16):n.toString(16);return o}function L(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,i,o,a){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function k(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(e,t,r,n,i){return i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,i){return i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}r.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),r.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=r.prototype;else{var o=t-e;n=new r(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},r.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},r.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},r.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},r.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},r.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},r.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},r.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},r.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},r.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},r.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},r.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},r.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o,a=i-n;if(this===e&&n<t&&t<i)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!r.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},r.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=r.isBuffer(e)?e:B(new r(e,i).toString()),c=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%c]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"base64-js":3,buffer:6,ieee754:29,isarray:35}],7:[function(e,t,r){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var r,n;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=r.preventDefault,r.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},{}],8:[function(e,t,r){function n(){var e;try{e=r.storage.debug}catch(e){}return e}(r=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" "),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var n=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))}),e.splice(i,0,r),e},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=n,r.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(n())},{"./debug":9}],9:[function(e,t,r){(r=t.exports=function(e){function t(){}function i(){var e=i;null==e.useColors&&(e.useColors=r.useColors()),null==e.color&&e.useColors&&(e.color=r.colors[n++%r.colors.length]);var t=Array.prototype.slice.call(arguments);t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&(t=["%o"].concat(t));var o=0;t[0]=t[0].replace(/%([a-z%])/g,function(n,i){if("%%"===n)return n;o++;var a=r.formatters[i];if("function"==typeof a){var s=t[o];n=a.call(e,s),t.splice(o,1),o--}return n}),"function"==typeof r.formatArgs&&(t=r.formatArgs.apply(e,t));var a=i.log||r.log||console.log.bind(console);a.apply(e,t)}t.enabled=!1,i.enabled=!0;var o=r.enabled(e)?i:t;return o.namespace=e,o}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,i=0;i<n;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.names=[],r.skips=[],r.formatters={};var n=0},{}],10:[function(e,t,r){"use strict";var n=e("is-obj"),i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e,t,r){var o=t[r];if(null!=o){if(i.call(e,r)&&(void 0===e[r]||null===e[r]))throw new TypeError("Cannot convert undefined or null to object ("+r+")");i.call(e,r)&&n(o)?e[r]=s(Object(e[r]),t[r]):e[r]=o}}function s(e,t){if(e===t)return e;for(var r in t=Object(t))i.call(t,r)&&a(e,t,r);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),s=0;s<n.length;s++)o.call(t,n[s])&&a(e,t,n[s]);return e}t.exports=function(e){e=function(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}(e);for(var t=1;t<arguments.length;t++)s(e,arguments[t]);return e}},{"is-obj":34}],11:[function(e,t,r){"use strict";var n=e("object-keys"),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,r,n){var i;t in e&&("function"!=typeof(i=n)||"[object Function]"!==o.call(i)||!n())||(c?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},u=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],r[o[s]])};u.supportsDescriptors=!!c,t.exports=u},{"object-keys":41}],12:[function(t,r,n){
/*! (C) WebReflection Mit Style License */
!function(t,r,n,i){"use strict";function o(e,t){for(var r=0,n=e.length;r<n;r++)m(e[r],t)}function a(e){return function(t){re(t)&&(m(t,e),o(t.querySelectorAll(B),e))}}function s(e){var t=oe.call(e,"is"),r=e.nodeName.toUpperCase(),n=U.call(N,t?j+t.toUpperCase():k+r);return t&&-1<n&&!c(r,t)?-1:n}function c(e,t){return-1<B.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,r=e.attrChange,n=e.attrName,i=e.target;me&&(!i||i===t)&&t.attributeChangedCallback&&"style"!==n&&e.prevValue!==e.newValue&&t.attributeChangedCallback(n,r===e[T]?null:e.prevValue,r===e[O]?null:e.newValue)}function u(e){var t=a(e);return function(e){g.push(t,e.target)}}function d(e){fe&&(fe=!1,e.currentTarget.removeEventListener(R,d)),o((e.target||r).querySelectorAll(B),e.detail===M?M:_),te&&function(){for(var e,t=0,r=ne.length;t<r;t++)e=ne[t],F.contains(e)||(r--,ne.splice(t--,1),m(e,M))}()}function h(e,t){var r=this;ae.call(r,e,t),v.call(r,{target:r})}function p(e,t){J(e,t),x?x.observe(e,le):(pe&&(e.setAttribute=h,e[A]=b(e),e.addEventListener(P,v)),e.addEventListener(L,l)),e.createdCallback&&me&&(e.created=!0,e.createdCallback(),e.created=!1)}function f(e){throw new Error("A "+e+" type is already registered")}function m(e,t){var r,n=s(e);-1<n&&(w(e,z[n]),n=0,t!==_||e[_]?t===M&&!e[M]&&(e[_]=!1,e[M]=!0,n=1):(e[M]=!1,e[_]=!0,n=1,te&&U.call(ne,e)<0&&ne.push(e)),n&&(r=e[t+"Callback"])&&r.call(e))}if(!(i in r)){var g,v,y,b,x,w,E,A="__"+i+(1e5*Math.random()>>0),_="attached",M="detached",S="extends",T="ADDITION",C="MODIFICATION",O="REMOVAL",L="DOMAttrModified",R="DOMContentLoaded",P="DOMSubtreeModified",k="<",j="=",D=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,I=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],N=[],z=[],B="",F=r.documentElement,U=N.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},H=n.prototype,G=H.hasOwnProperty,V=H.isPrototypeOf,W=n.defineProperty,q=n.getOwnPropertyDescriptor,X=n.getOwnPropertyNames,Y=n.getPrototypeOf,K=n.setPrototypeOf,Q=!!n.__proto__,Z=n.create||function e(t){return t?(e.prototype=t,new e):this},J=K||(Q?function(e,t){return e.__proto__=t,e}:X&&q?function(){function e(e,t){for(var r,n=X(t),i=0,o=n.length;i<o;i++)r=n[i],G.call(e,r)||W(e,r,q(t,r))}return function(t,r){do{e(t,r)}while((r=Y(r))&&!V.call(r,t));return t}}():function(e,t){for(var r in t)e[r]=t[r];return e}),$=t.MutationObserver||t.WebKitMutationObserver,ee=(t.HTMLElement||t.Element||t.Node).prototype,te=!V.call(ee,F),re=te?function(e){return 1===e.nodeType}:function(e){return V.call(ee,e)},ne=te&&[],ie=ee.cloneNode,oe=ee.getAttribute,ae=ee.setAttribute,se=ee.removeAttribute,ce=r.createElement,le=$&&{attributes:!0,characterData:!0,attributeOldValue:!0},ue=$||function(e){pe=!1,F.removeEventListener(L,ue)},de=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},he=!1,pe=!0,fe=!0,me=!0;K||Q?(w=function(e,t){V.call(t,e)||p(e,t)},E=p):E=w=function(e,t){e[A]||(e[A]=n(!0),p(e,t))},te?(pe=!1,function(){var t=q(ee,"addEventListener"),r=t.value,n=function(e){var t=new CustomEvent(L,{bubbles:!0});t.attrName=e,t.prevValue=oe.call(this,e),t.newValue=null,t[O]=t.attrChange=2,se.call(this,e),this.dispatchEvent(t)},i=function(t,r){var n=this.hasAttribute(t),i=n&&oe.call(this,t);e=new CustomEvent(L,{bubbles:!0}),ae.call(this,t,r),e.attrName=t,e.prevValue=n?i:null,e.newValue=r,n?e[C]=e.attrChange=1:e[T]=e.attrChange=0,this.dispatchEvent(e)},o=function(e){var t,r=e.currentTarget,n=r[A],i=e.propertyName;n.hasOwnProperty(i)&&(n=n[i],(t=new CustomEvent(L,{bubbles:!0})).attrName=n.name,t.prevValue=n.value||null,t.newValue=n.value=r[i]||null,null==t.prevValue?t[T]=t.attrChange=0:t[C]=t.attrChange=1,r.dispatchEvent(t))};t.value=function(e,t,a){e===L&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[A]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,r.call(this,"propertychange",o)),r.call(this,e,t,a)},W(ee,"addEventListener",t)}()):$||(F.addEventListener(L,ue),F.setAttribute(A,1),F.removeAttribute(A),pe&&(v=function(e){var t,r,n,i=this;if(i===e.target){for(n in t=i[A],i[A]=r=b(i),r){if(!(n in t))return y(0,i,n,t[n],r[n],T);if(r[n]!==t[n])return y(1,i,n,t[n],r[n],C)}for(n in t)if(!(n in r))return y(2,i,n,t[n],r[n],O)}},y=function(e,t,r,n,i,o){var a={attrChange:e,currentTarget:t,attrName:r,prevValue:n,newValue:i};a[o]=e,l(a)},b=function(e){for(var t,r,n={},i=e.attributes,o=0,a=i.length;o<a;o++)t=i[o],"setAttribute"!==(r=t.name)&&(n[r]=t.value);return n})),r[i]=function(e,t){if(n=e.toUpperCase(),he||(he=!0,$?(x=function(e,t){function r(e,t){for(var r=0,n=e.length;r<n;t(e[r++]));}return new $(function(n){for(var i,o,a,s=0,c=n.length;s<c;s++)"childList"===(i=n[s]).type?(r(i.addedNodes,e),r(i.removedNodes,t)):(o=i.target,me&&o.attributeChangedCallback&&"style"!==i.attributeName&&(a=oe.call(o,i.attributeName))!==i.oldValue&&o.attributeChangedCallback(i.attributeName,i.oldValue,a))})}(a(_),a(M))).observe(r,{childList:!0,subtree:!0}):(g=[],de(function e(){for(;g.length;)g.shift().call(null,g.shift());de(e)}),r.addEventListener("DOMNodeInserted",u(_)),r.addEventListener("DOMNodeRemoved",u(M))),r.addEventListener(R,d),r.addEventListener("readystatechange",d),r.createElement=function(e,t){var n=ce.apply(r,arguments),i=""+e,o=U.call(N,(t?j:k)+(t||i).toUpperCase()),a=-1<o;return t&&(n.setAttribute("is",t=t.toLowerCase()),a&&(a=c(i.toUpperCase(),t))),me=!r.createElement.innerHTMLHelper,a&&E(n,z[o]),n},ee.cloneNode=function(e){var t=ie.call(this,!!e),r=s(t);return-1<r&&E(t,z[r]),e&&function(e){for(var t,r=0,n=e.length;r<n;r++)t=e[r],E(t,z[s(t)])}(t.querySelectorAll(B)),t}),-2<U.call(N,j+n)+U.call(N,k+n)&&f(e),!D.test(n)||-1<U.call(I,n))throw new Error("The type "+e+" is invalid");var n,i,l=function(){return p?r.createElement(m,n):r.createElement(m)},h=t||H,p=G.call(h,S),m=p?t[S].toUpperCase():n;return p&&-1<U.call(N,k+m)&&f(m),i=N.push((p?j:k)+n)-1,B=B.concat(B.length?",":"",p?m+'[is="'+e.toLowerCase()+'"]':m),l.prototype=z[i]=G.call(h,"prototype")?h.prototype:Z(ee),o(r.querySelectorAll(B),_),l}}}(window,document,Object,"registerElement")},{}],13:[function(e,t,r){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],14:[function(e,t,r){"use strict";var n=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=Object.getPrototypeOf||function(e){return e.__proto__},a=void 0,s="undefined"==typeof Uint8Array?void 0:o(Uint8Array),c={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?o([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":a&&i&&Symbol.asyncIterator?a[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?o(o([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&i?o((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&i?o((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?o(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:void 0,"$ %SymbolPrototype%":i?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":n,"$ %TypedArray%":s,"$ %TypedArrayPrototype%":s?s.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};t.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var r="$ "+e;if(!(r in c))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===c[r]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return c[r]}},{}],15:[function(e,t,r){"use strict";var n=e("./GetIntrinsic"),i=n("%Object%"),o=n("%TypeError%"),a=n("%String%"),s=e("./helpers/assertRecord"),c=e("./helpers/isNaN"),l=e("./helpers/isFinite"),u=e("./helpers/sign"),d=e("./helpers/mod"),h=e("is-callable"),p=e("es-to-primitive/es5"),f=e("has"),m={ToPrimitive:p,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return c(t)?0:0!==t&&l(t)?u(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(c(t)||0===t||!l(t))return 0;var r=u(t)*Math.floor(Math.abs(t));return d(r,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new o(t||"Cannot call method on "+e);return e},IsCallable:h,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:c(e)&&c(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(f(e,r)&&!t[r])return!1;var n=f(e,"[[Value]]"),i=f(e,"[[Get]]")||f(e,"[[Set]]");if(n&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!f(e,"[[Get]]")&&!f(e,"[[Set]]")))},IsDataDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!f(e,"[[Value]]")&&!f(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(f(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),f(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),f(e,"value")&&(t["[[Value]]"]=e.value),f(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),f(e,"get")){var r=e.get;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("getter must be a function");t["[[Get]]"]=r}if(f(e,"set")){var n=e.set;if(void 0!==n&&!this.IsCallable(n))throw new o("setter must be a function");t["[[Set]]"]=n}if((f(t,"[[Get]]")||f(t,"[[Set]]"))&&(f(t,"[[Value]]")||f(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};t.exports=m},{"./GetIntrinsic":14,"./helpers/assertRecord":16,"./helpers/isFinite":17,"./helpers/isNaN":18,"./helpers/mod":19,"./helpers/sign":20,"es-to-primitive/es5":21,has:28,"is-callable":32}],16:[function(e,t,r){"use strict";var n=e("../GetIntrinsic"),i=n("%TypeError%"),o=n("%SyntaxError%"),a=e("has"),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(a(t,n)&&!r[n])return!1;var o=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(e,t,r,n){var a=s[t];if("function"!=typeof a)throw new o("unknown record type: "+t);if(!a(e,n))throw new i(r+" must be a "+t);console.log(a(e,n),n)}},{"../GetIntrinsic":14,has:28}],17:[function(e,t,r){var n=Number.isNaN||function(e){return e!=e};t.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},{}],18:[function(e,t,r){t.exports=Number.isNaN||function(e){return e!=e}},{}],19:[function(e,t,r){t.exports=function(e,t){var r=e%t;return Math.floor(r>=0?r:r+t)}},{}],20:[function(e,t,r){t.exports=function(e){return e>=0?1:-1}},{}],21:[function(e,t,r){"use strict";var n=Object.prototype.toString,i=e("./helpers/isPrimitive"),o=e("is-callable"),a={"[[DefaultValue]]":function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===n.call(e)?String:Number)===String||t===Number){var r,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(e[s[a]])&&(r=e[s[a]](),i(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(e){return i(e)?e:arguments.length>1?a["[[DefaultValue]]"](e,arguments[1]):a["[[DefaultValue]]"](e)}},{"./helpers/isPrimitive":22,"is-callable":32}],22:[function(e,t,r){t.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},{}],23:[function(e,t,r){var n=e("dtype");t.exports=function(e,t,r){if(!e)throw new TypeError("must specify data as first parameter");if(r=0|+(r||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var i,o,a,s,c=e[0].length,l=e.length*c;t&&"string"!=typeof t||(t=new(n(t||"float32"))(l+r));var u=t.length-r;if(l!==u)throw new Error("source length "+l+" ("+c+"x"+e.length+") does not match destination length "+u);for(i=0,a=r;i<e.length;i++)for(o=0;o<c;o++)t[a++]=null===e[i][o]?NaN:e[i][o]}else if(t&&"string"!=typeof t)t.set(e,r);else{var d=n(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new d(e.length+r),i=0,a=r,s=t.length;a<s;a++,i++)t[a]=null===e[i]?NaN:e[i];else 0===r?t=new d(e):(t=new d(e.length+r)).set(e,r)}return t}},{dtype:13}],24:[function(e,t,r){"use strict";var n=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},{"is-callable":32}],25:[function(e,t,r){"use strict";var n=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,o=n.call(arguments,1),a=Math.max(0,t.length-o.length),s=[],c=0;c<a;c++)s.push("$"+c);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var i=t.apply(this,o.concat(n.call(arguments)));return Object(i)===i?i:this}return t.apply(e,o.concat(n.call(arguments)))}),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r}},{}],26:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":25}],27:[function(e,t,n){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,r){"use strict";var n=e("function-bind");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":26}],29:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=l}return(p?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+p]=255&a,p+=f,a/=256,l-=8);e[r+p-f]|=128*m}},{}],30:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],31:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],32:[function(e,t,r){"use strict";var n=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},{}],33:[function(e,t,r){t.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},{}],34:[function(e,t,r){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],35:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],36:[function(e,t,r){var n=e("word-wrapper"),i=e("xtend"),o=e("as-number"),a=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],c=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],l="\t".charCodeAt(0),u=" ".charCodeAt(0),d=0,h=1,p=2;function f(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function m(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function g(e,t){if(!e.chars||0===e.chars.length)return null;var r=y(e.chars,t);return r>=0?e.chars[r]:null}function v(e,t,r){if(!e.kernings||0===e.kernings.length)return 0;for(var n=e.kernings,i=0;i<n.length;i++){var o=n[i];if(o.first===t&&o.second===r)return o.amount}return 0}function y(e,t,r){for(var n=r=r||0;n<e.length;n++)if(e[n].id===t)return n;return-1}t.exports=function(e){return new f(e)},f.prototype.update=function(e){if(e=i({measure:this._measure},e),this._opt=e,this._opt.tabSize=o(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,r=e.text||"",s=e.font;this._setupSpaceGlyphs(s);var l=n.lines(r,e),u=e.width||0;t.length=0;var f=l.reduce(function(e,t){return Math.max(e,t.width,u)},0),m=0,g=0,b=o(e.lineHeight,s.common.lineHeight),x=s.common.base,w=b-x,E=e.letterSpacing||0,A=b*l.length-w,_=function(e){return"center"===e?h:"right"===e?p:d}(this._opt.align);g-=A,this._width=f,this._height=A,this._descender=b-x,this._baseline=x,this._xHeight=function(e){for(var t=0;t<a.length;t++){var r=a[t].charCodeAt(0),n=y(e.chars,r);if(n>=0)return e.chars[n].height}return 0}(s),this._capHeight=function(e){for(var t=0;t<c.length;t++){var r=c[t].charCodeAt(0),n=y(e.chars,r);if(n>=0)return e.chars[n].height}return 0}(s),this._lineHeight=b,this._ascender=b-w-this._xHeight;var M=this;l.forEach(function(e,n){for(var i,o=e.start,a=e.end,c=e.width,l=o;l<a;l++){var u=r.charCodeAt(l),d=M.getGlyph(s,u);if(d){i&&(m+=v(s,i.id,d.id));var y=m;_===h?y+=(f-c)/2:_===p&&(y+=f-c),t.push({position:[y,g],data:d,index:l,line:n}),m+=d.xadvance+E,i=d}}g+=b,m=0}),this._linesTotal=l.length},f.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=g(e,u)||function(e){for(var t=0;t<s.length;t++){var r=s[t].charCodeAt(0),n=y(e.chars,r);if(n>=0)return e.chars[n]}return 0}(e)||e.chars[0],r=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=i(t,{x:0,y:0,xadvance:r,id:l,xoffset:0,yoffset:0,width:0,height:0})}},f.prototype.getGlyph=function(e,t){var r=g(e,t);return r||(t===l?this._fallbackTabGlyph:t===u?this._fallbackSpaceGlyph:null)},f.prototype.computeMetrics=function(e,t,r,n){var i,o=this._opt.letterSpacing||0,a=this._opt.font,s=0,c=0,l=0;if(!a.chars||0===a.chars.length)return{start:t,end:t,width:0};r=Math.min(e.length,r);for(var u=t;u<r;u++){var d=e.charCodeAt(u),h=this.getGlyph(a,d);if(h){h.xoffset;var p=i?v(a,i.id,h.id):0,f=(s+=p)+h.xadvance+o,m=s+h.width;if(m>=n||f>=n)break;s=f,c=m,i=h}l++}return i&&(c+=i.xoffset),{start:t,end:t+l,width:c}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(function(e){Object.defineProperty(f.prototype,e,{get:m(e),configurable:!0})})},{"as-number":2,"word-wrapper":68,xtend:71}],37:[function(e,t,r){(function(r){var n=e("xhr"),i=function(){},o=e("parse-bmfont-ascii"),a=e("parse-bmfont-xml"),s=e("parse-bmfont-binary"),c=e("./lib/is-binary"),l=e("xtend"),u=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;t.exports=function(e,t){t="function"==typeof t?t:i,"string"==typeof e?e={uri:e}:e||(e={});var d=e.binary;d&&(e=function(e){if(u)return l(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),l({xhr:t},e)}(e)),n(e,function(n,l,u){if(n)return t(n);if(!/^2/.test(l.statusCode))return t(new Error("http status code: "+l.statusCode));if(!u)return t(new Error("no body result"));var d,h,p=!1;if(d=u,"[object ArrayBuffer]"===Object.prototype.toString.call(d)){var f=new Uint8Array(u);u=new r(f,"binary")}c(u)&&(p=!0,"string"==typeof u&&(u=new r(u,"binary"))),p||(r.isBuffer(u)&&(u=u.toString(e.encoding)),u=u.trim());try{var m=l.headers["content-type"];h=p?s(u):/json/.test(m)||"{"===u.charAt(0)?JSON.parse(u):/xml/.test(m)||"<"===u.charAt(0)?a(u):o(u)}catch(e){t(new Error("error parsing font "+e.message)),t=i}t(null,h)})}}).call(this,e("buffer").Buffer)},{"./lib/is-binary":38,buffer:6,"parse-bmfont-ascii":43,"parse-bmfont-binary":44,"parse-bmfont-xml":45,xhr:69,xtend:71}],38:[function(e,t,r){(function(r){var n=e("buffer-equal"),i=new r([66,77,70,3]);t.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&n(e.slice(0,4),i)}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-equal":5}],39:[function(e,t,r){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))i.call(r,l)&&(s[l]=r[l]);if(n){a=n(r);for(var u=0;u<a.length;u++)o.call(r,a[u])&&(s[a[u]]=r[a[u]])}}return s}},{}],40:[function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=e("./isArguments"),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=a(e),s=t&&"[object String]"===o.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var f=l&&r;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(n&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)f&&"prototype"===v||!i.call(e,v)||h.push(String(v));if(c)for(var y=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),b=0;b<u.length;++b)y&&"constructor"===u[b]||!i.call(e,u[b])||h.push(u[b]);return h}}t.exports=n},{"./isArguments":42}],41:[function(e,t,r){"use strict";var n=Array.prototype.slice,i=e("./isArguments"),o=Object.keys,a=o?function(e){return o(e)}:e("./implementation"),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},t.exports=a},{"./implementation":40,"./isArguments":42}],42:[function(e,t,r){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},{}],43:[function(e,t,r){function n(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var r=e.indexOf(" ");if(-1===r)throw new Error("no named row at line "+t);var n=e.substring(0,r);e=(e=(e=(e=e.substring(r+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=i(s[0]):(o[o.length-1].data=i(s[0]),o.push({key:s[1],data:""}))}var c={key:n,data:{}};return o.forEach(function(e){c.data[e.key]=e.data}),c}function i(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?function(e){return e.split(",").map(function(e){return parseInt(e,10)})}(e):parseInt(e,10):""}t.exports=function(e){if(!e)throw new Error("no data provided");e=e.toString().trim();var t={pages:[],chars:[],kernings:[]},r=e.split(/\r\n?|\n/g);if(0===r.length)throw new Error("no data in BMFont file");for(var i=0;i<r.length;i++){var o=n(r[i],i);if(o)if("page"===o.key){if("number"!=typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');t.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?t.chars.push(o.data):"kerning"===o.key?t.kernings.push(o.data):t[o.key]=o.data)}return t}},{}],44:[function(e,t,r){var n=[66,77,70];function i(e,t,r){if(r>t.length-1)return 0;var n=t.readUInt8(r++),i=t.readInt32LE(r);switch(r+=4,n){case 1:e.info=function(e,t){var r={};r.size=e.readInt16LE(t);var n=e.readUInt8(t+2);return r.smooth=n>>7&1,r.unicode=n>>6&1,r.italic=n>>5&1,r.bold=n>>4&1,n>>3&1&&(r.fixedHeight=1),r.charset=e.readUInt8(t+3)||"",r.stretchH=e.readUInt16LE(t+4),r.aa=e.readUInt8(t+6),r.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],r.spacing=[e.readInt8(t+11),e.readInt8(t+12)],r.outline=e.readUInt8(t+13),r.face=function(e,t){return o(e,t).toString("utf8")}(e,t+14),r}(t,r);break;case 2:e.common=function(e,t){var r={};return r.lineHeight=e.readUInt16LE(t),r.base=e.readUInt16LE(t+2),r.scaleW=e.readUInt16LE(t+4),r.scaleH=e.readUInt16LE(t+6),r.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),r.packed=0,r.alphaChnl=e.readUInt8(t+11),r.redChnl=e.readUInt8(t+12),r.greenChnl=e.readUInt8(t+13),r.blueChnl=e.readUInt8(t+14),r}(t,r);break;case 3:e.pages=function(e,t,r){for(var n=[],i=o(e,t),a=i.length+1,s=r/a,c=0;c<s;c++)n[c]=e.slice(t,t+i.length).toString("utf8"),t+=a;return n}(t,r,i);break;case 4:e.chars=function(e,t,r){for(var n=[],i=r/20,o=0;o<i;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),n[o]=a}return n}(t,r,i);break;case 5:e.kernings=function(e,t,r){for(var n=[],i=r/10,o=0;o<i;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),n[o]=a}return n}(t,r,i)}return 5+i}function o(e,t){for(var r=t;r<e.length&&0!==e[r];r++);return e.slice(t,r)}t.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var t=n.every(function(t,r){return e.readUInt8(r)===t});if(!t)throw new Error("BMFont missing BMF byte header");var r=3,o=e.readUInt8(r++);if(o>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var a={kernings:[],chars:[]},s=0;s<5;s++)r+=i(a,e,r);return a}},{}],45:[function(e,t,r){var n=e("./parse-attribs"),i=e("xml-parse-from-string"),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(e){var t=function(e){for(var t=[],r=0;r<e.attributes.length;r++)t.push(e.attributes[r]);return t}(e);return t.reduce(function(e,t){var r,n=(r=t.nodeName,o[r.toLowerCase()]||r);return e[n]=t.nodeValue,e},{})}t.exports=function(e){e=e.toString();var t=i(e),r={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var i=t.getElementsByTagName(e)[0];i&&(r[e]=n(a(i)))});var o=t.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var s=o.getElementsByTagName("page"),c=0;c<s.length;c++){var l=s[c],u=parseInt(l.getAttribute("id"),10),d=l.getAttribute("file");if(isNaN(u))throw new Error('malformed file -- page "id" attribute is NaN');if(!d)throw new Error('malformed file -- needs page "file" attribute');r.pages[parseInt(u,10)]=d}return["chars","kernings"].forEach(function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var o=e.substring(0,e.length-1),s=i.getElementsByTagName(o),c=0;c<s.length;c++){var l=s[c];r[e].push(n(a(l)))}}),r}},{"./parse-attribs":46,"xml-parse-from-string":70}],46:[function(e,t,r){t.exports=function(e){for(var t in"chasrset"in e&&(e.charset=e.chasrset,delete e.chasrset),e)"face"!==t&&"charset"!==t&&(e[t]="padding"===t||"spacing"===t?e[t].split(",").map(function(e){return parseInt(e,10)}):parseInt(e[t],10));return e}},{}],47:[function(e,t,r){var n=e("string.prototype.trim"),i=e("for-each");t.exports=function(e){if(!e)return{};var t={};return i(n(e).split("\n"),function(e){var r,i=e.indexOf(":"),o=n(e.slice(0,i)).toLowerCase(),a=n(e.slice(i+1));void 0===t[o]?t[o]=a:(r=t[o],"[object Array]"===Object.prototype.toString.call(r)?t[o].push(a):t[o]=[t[o],a])}),t}},{"for-each":24,"string.prototype.trim":53}],48:[function(e,t,n){(function(e){var r=e.performance||{},n=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in r)return r[t].bind(r)}var n=Date.now||function(){return(new Date).getTime()},i=(r.timing||{}).navigationStart||n();return function(){return n()-i}}();n.performanceNow=r.now,n.noConflict=function(){r.now=n.performanceNow},n.conflict=function(){r.now=n},n.conflict(),t.exports=n}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,r){var n,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,u=[],d=!1,h=-1;function p(){d&&l&&(d=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!d){var e=c(p);d=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||d||c(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],50:[function(e,t,r){(function(e){!function(r){var n=setTimeout,i="function"==typeof e&&e||function(e){n(e,1)};function o(e,t){return function(){e.apply(t,arguments)}}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],p(e,o(l,this),o(u,this))}function c(e){var t=this;null!==this._state?i(function(){var r=t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void e.reject(t)}e.resolve(n)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function l(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void p(o(t,e),o(l,this),o(u,this))}this._state=!0,this._value=e,d.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=!1,this._value=e,d.call(this)}function d(){for(var e=0,t=this._deferreds.length;e<t;e++)c.call(this,this._deferreds[e]);this._deferreds=null}function h(e,t,r,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n}function p(e,t,r){var n=!1;try{e(function(e){n||(n=!0,t(e))},function(e){n||(n=!0,r(e))})}catch(e){if(n)return;n=!0,r(e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var r=this;return new s(function(n,i){c.call(r,new h(e,t,n,i))})},s.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&a(arguments[0])?arguments[0]:arguments);return new s(function(t,r){if(0===e.length)return t([]);var n=e.length;function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},r)}e[o]=a,0==--n&&t(e)}catch(e){r(e)}}for(var o=0;o<e.length;o++)i(o,e[o])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,r){r(e)})},s.race=function(e){return new s(function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)})},s._setImmediateFn=function(e){i=e},void 0!==t&&t.exports?t.exports=s:r.Promise||(r.Promise=s)}(this)}).call(this,e("timers").setImmediate)},{timers:66}],51:[function(e,t,r){var n=e("dtype"),i=e("an-array"),o=e("is-buffer"),a=[0,2,3],s=[2,1,3];t.exports=function(e,t){e&&(i(e)||o(e))||(t=e||{},e=null);for(var r="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",c="number"==typeof t.count?t.count:1,l=t.start||0,u=!1!==t.clockwise?a:s,d=u[0],h=u[1],p=u[2],f=6*c,m=e||new(n(r))(f),g=0,v=0;g<f;g+=6,v+=4){var y=g+l;m[y+0]=v+0,m[y+1]=v+1,m[y+2]=v+2,m[y+3]=v+d,m[y+4]=v+h,m[y+5]=v+p}return m}},{"an-array":1,dtype:13,"is-buffer":31}],52:[function(e,t,r){"use strict";var n=e("function-bind"),i=e("es-abstract/es5"),o=n.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return o(o(e,a,""),s,"")}},{"es-abstract/es5":15,"function-bind":26}],53:[function(e,t,r){"use strict";var n=e("function-bind"),i=e("define-properties"),o=e("./implementation"),a=e("./polyfill"),s=e("./shim"),c=n.call(Function.call,a());i(c,{getPolyfill:a,implementation:o,shim:s}),t.exports=c},{"./implementation":52,"./polyfill":54,"./shim":55,"define-properties":11,"function-bind":26}],54:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:n}},{"./implementation":52}],55:[function(e,t,r){"use strict";var n=e("define-properties"),i=e("./polyfill");t.exports=function(){var e=i();return n(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},{"./polyfill":54,"define-properties":11}],56:[function(e,t,r){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},i={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],a={CSS:{},springs:{}};function s(e,t,r){return Math.min(Math.max(e,t),r)}function c(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var u=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,d=/^rgb/,h=/^hsl/,p={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return p.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||p.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return u.test(e)},rgb:function(e){return d.test(e)},hsl:function(e){return h.test(e)},col:function(e){return p.hex(e)||p.rgb(e)||p.hsl(e)},key:function(e){return!n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}},f=/\(([^)]+)\)/;function m(e){var t=f.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function g(e,t){var r=m(e),n=s(p.und(r[0])?1:r[0],.1,100),i=s(p.und(r[1])?100:r[1],.1,100),o=s(p.und(r[2])?10:r[2],.1,100),c=s(p.und(r[3])?0:r[3],.1,100),l=Math.sqrt(i/n),u=o/(2*Math.sqrt(i*n)),d=u<1?l*Math.sqrt(1-u*u):0,h=1,f=u<1?(u*l-c)/d:-c+l;function g(e){var r=t?t*e/1e3:e;return r=u<1?Math.exp(-r*u*l)*(h*Math.cos(d*r)+f*Math.sin(d*r)):(h+f*r)*Math.exp(-r*l),0===e||1===e?e:1-r}return t?g:function(){var t=a.springs[e];if(t)return t;for(var r=0,n=0;;)if(1===g(r+=1/6)){if(++n>=16)break}else n=0;var i=r*(1/6)*1e3;return a.springs[e]=i,i}}function v(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=s(e,1,10),n=s(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}function y(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var b=function(){var e=11,t=1/(e-1);function r(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function i(e){return 3*e}function o(e,t,o){return((r(t,o)*e+n(t,o))*e+i(t))*e}function a(e,t,o){return 3*r(t,o)*e*e+2*n(t,o)*e+i(t)}return function(r,n,i,s){if(0<=r&&r<=1&&0<=i&&i<=1){var c=new Float32Array(e);if(r!==n||i!==s)for(var l=0;l<e;++l)c[l]=o(l*t,r,i);return function(e){return r===n&&i===s?e:0===e||1===e?e:o(u(e),n,s)}}function u(n){for(var s=0,l=1,u=e-1;l!==u&&c[l]<=n;++l)s+=t;var d=(n-c[--l])/(c[l+1]-c[l]),h=s+d*t,p=a(h,r,i);return p>=.001?function(e,t,r,n){for(var i=0;i<4;++i){var s=a(t,r,n);if(0===s)return t;var c=o(t,r,n)-e;t-=c/s}return t}(n,h,r,i):0===p?h:function(e,t,r,n,i){var a,s,c=0;do{(a=o(s=t+(r-t)/2,n,i)-e)>0?r=s:t=s}while(Math.abs(a)>1e-7&&++c<10);return s}(n,s,s+t,r,i)}}}(),x=function(){var e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],v],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return function(r){return 1-v(e,t)(1-r)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return function(r){return r<.5?v(e,t)(2*r)/2:1-v(e,t)(-2*r+2)/2}}]},r={linear:[.25,.25,.75,.75]};for(var n in t)for(var i=0,o=t[n].length;i<o;i++)r["ease"+n+e[i]]=t[n][i];return r}();function w(e,t){if(p.fnc(e))return e;var r=e.split("(")[0],n=x[r],i=m(e);switch(r){case"spring":return g(e,t);case"cubicBezier":return l(b,i);case"steps":return l(y,i);default:return p.fnc(n)?l(n,i):l(b,n)}}function E(e){try{var t=document.querySelectorAll(e);return t}catch(e){return}}var A=[];function _(e,t){for(var r=A,n=e.length,i=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in e){var a=e[o];t.call(i,a,o,e)&&r.push(a)}return(A=e).length=0,r}function M(e,t){t||(t=[]);for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?M(i,t):t.push(i)}return t}function S(e){return p.arr(e)?e:(p.str(e)&&(e=E(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function T(e,t){return e.some(function(e){return e===t})}function C(e){var t={};for(var r in e)t[r]=e[r];return t}function O(e,t){var r=C(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function L(e,t){var r=C(e);for(var n in t)r[n]=p.und(e[n])?t[n]:e[n];return r}var R=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g,P=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,k=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,j=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,D=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function I(e){return p.rgb(e)?(t=e,(r=R.exec(t))?"rgba("+r[1]+",1)":t):p.hex(e)?function(e){var t=e.replace(P,function(e,t,r,n){return t+t+r+r+n+n}),r=k.exec(t),n=parseInt(r[1],16),i=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+n+","+i+","+o+",1)"}(e):p.hsl(e)?function(e){var t,r,n,i=j.exec(e)||D.exec(e),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,c=i[4]||1;function l(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==a)t=r=n=s;else{var u=s<.5?s*(1+a):s+a-s*a,d=2*s-u;t=l(d,u,o+1/3),r=l(d,u,o),n=l(d,u,o-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+c+")"}(e):void 0;var t,r}var N=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function z(e){var t=N.exec(e);if(t)return t[2]}function B(e,t){return p.fnc(e)?e(t.target,t.id,t.total):e}function F(e,t){return e.getAttribute(t)}function U(e,t,r){var n=z(t);if(T([r,"deg","rad","turn"],n))return t;var i=a.CSS[t+r];if(!p.und(i))return i;var o=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(o),o.style.position="absolute",o.style.width=100+r;var c=100/o.offsetWidth;s.removeChild(o);var l=c*parseFloat(t);return a.CSS[t+r]=l,l}function H(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?U(e,i,r):i}}function G(e,t){return p.dom(e)&&!p.inp(e)&&(F(e,t)||p.svg(e)&&e[t])?"attribute":p.dom(e)&&T(o,t)?"transform":p.dom(e)&&"transform"!==t&&H(e,t)?"css":null!=e[t]?"object":void 0}var V=/(\w+)\(([^)]*)\)/g;function W(e){if(p.dom(e)){for(var t,r=e.style.transform||"",n=new Map;t=V.exec(r);)n.set(t[1],t[2]);return n}}function q(e,t,r,n){var i=c(t,"scale")?1:0+function(e){return c(e,"translate")||"perspective"===e?"px":c(e,"rotate")||c(e,"skew")?"deg":void 0}(t),o=W(e).get(t)||i;return r&&(r.transforms.list.set(t,o),r.transforms.last=t),n?U(e,o,n):o}function X(e,t,r,n){switch(G(e,t)){case"transform":return q(e,t,n,r);case"css":return H(e,t,r);case"attribute":return F(e,t);default:return e[t]||0}}var Y=/^(\*=|\+=|-=)/;function K(e,t){var r=Y.exec(e);if(!r)return e;var n=z(e)||0,i=parseFloat(t),o=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return i+o+n;case"-":return i-o+n;case"*":return i*o+n}}var Q=/\s/g;function Z(e,t){if(p.col(e))return I(e);var r=z(e),n=r?e.substr(0,e.length-r.length):e;return t&&!Q.test(e)?n+t:n}function J(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $(e){for(var t,r=e.points,n=0,i=0;i<r.numberOfItems;i++){var o=r.getItem(i);i>0&&(n+=J(t,o)),t=o}return n}function ee(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*F(e,"r")}(e);case"rect":return function(e){return 2*F(e,"width")+2*F(e,"height")}(e);case"line":return function(e){return J({x:F(e,"x1"),y:F(e,"y1")},{x:F(e,"x2"),y:F(e,"y2")})}(e);case"polyline":return $(e);case"polygon":return function(e){var t=e.points;return $(e)+J(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function te(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;p.svg(t)&&(t=t.parentNode,p.svg(t.parentNode)););return t}(e),i=n.getBoundingClientRect(),o=F(n,"viewBox"),a=i.width,s=i.height,c=r.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:n,viewBox:c,x:c[0]/1,y:c[1]/1,w:a/c[2],h:s/c[3]}}function re(e,t){function r(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var n=te(e.el,e.svg),i=r(),o=r(-1),a=r(1);switch(e.property){case"x":return(i.x-n.x)*n.w;case"y":return(i.y-n.y)*n.h;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}var ne=/-?\d*\.?\d+/g;function ie(e,t){var r=Z(p.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(ne)?r.match(ne).map(Number):[0],strings:p.str(e)||t?r.split(ne):[]}}function oe(e){var t=e?M(p.arr(e)?e.map(S):S(e)):[];return _(t,function(e,t,r){return r.indexOf(e)===t})}function ae(e){var t=oe(e);return t.map(function(e,r){return{target:e,id:r,total:t.length,transforms:{list:W(e)}}})}var se=/^spring/;function ce(e,t){var r=C(t);if(se.test(r.easing)&&(r.duration=g(r.easing)),p.arr(e)){var n=e.length,i=2===n&&!p.obj(e[0]);i?e={value:e}:p.fnc(t.duration)||(r.duration=t.duration/n)}var o=p.arr(e)?e:[e];return o.map(function(e,r){var n=p.obj(e)&&!p.pth(e)?e:{value:e};return p.und(n.delay)&&(n.delay=r?0:t.delay),p.und(n.endDelay)&&(n.endDelay=r===o.length-1?t.endDelay:0),n}).map(function(e){return L(e,r)})}function le(e,t){var r=[],n=t.keyframes;for(var i in n&&(t=L(function(e){for(var t=_(M(e.map(function(e){return Object.keys(e)})),function(e){return p.key(e)}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),r={},n=function(n){var i=t[n];r[i]=e.map(function(e){var t={};for(var r in e)p.key(r)?r==i&&(t.value=e[r]):t[r]=e[r];return t})},i=0;i<t.length;i++)n(i);return r}(n),t)),t)p.key(i)&&r.push({name:i,tweens:ce(t[i],e)});return r}function ue(e,t){var r;return e.tweens.map(function(n){var i=function(e,t){var r={};for(var n in e){var i=B(e[n],t);p.arr(i)&&1===(i=i.map(function(e){return B(e,t)})).length&&(i=i[0]),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,t),o=i.value,a=p.arr(o)?o[1]:o,s=z(a),c=X(t.target,e.name,s,t),l=r?r.to.original:c,u=p.arr(o)?o[0]:l,d=z(u)||z(c),h=s||d;return p.und(a)&&(a=l),i.from=ie(u,h),i.to=ie(K(a,u),h),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=w(i.easing,i.duration),i.isPath=p.pth(o),i.isColor=p.col(i.from.original),i.isColor&&(i.round=1),r=i,i})}var de={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,i){if(n.list.set(t,r),t===n.last||i){var o="";n.list.forEach(function(e,t){o+=t+"("+e+") "}),e.style.transform=o}}};function he(e,t){for(var r=ae(e),n=0,i=r.length;n<i;n++){var o=r[n];for(var a in t){var s=B(t[a],o),c=o.target,l=z(s),u=X(c,a,l,o),d=l||z(u),h=K(Z(s,d),u),p=G(c,a);de[p](c,a,h,o.transforms,!0)}}}function pe(e,t){return _(M(e.map(function(e){return t.map(function(t){return function(e,t){var r=G(e.target,t.name);if(r){var n=ue(t,e),i=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}(e,t)})})),function(e){return!p.und(e)})}function fe(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,e.map(function(e){return n(e)+e.duration})):t.duration,i.delay=r?Math.min.apply(Math,e.map(function(e){return n(e)+e.delay})):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map(function(e){return n(e)+e.duration-e.endDelay})):t.endDelay,i}var me,ge=0,ve=[],ye=[],be=function(){function e(){me=requestAnimationFrame(t)}function t(t){var r=ve.length;if(r){for(var n=0;n<r;){var i=ve[n];if(i.paused){var o=ve.indexOf(i);o>-1&&(ve.splice(o,1),r=ve.length)}else i.tick(t);n++}e()}else me=cancelAnimationFrame(me)}return e}();function xe(e){void 0===e&&(e={});var t,r=0,o=0,a=0,c=0,l=null;function u(){return window.Promise&&new Promise(function(e){return l=e})}var d=u(),h=function(e){var t=O(n,e),r=O(i,e),o=le(r,e),a=ae(e.targets),s=pe(a,o),c=fe(s,r),l=ge;return ge++,L(t,{id:l,children:[],animatables:a,animations:s,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);function p(){h.reversed=!h.reversed;for(var e=0,r=t.length;e<r;e++)t[e].reversed=h.reversed}function f(e){return h.reversed?h.duration-e:e}function m(){r=0,o=f(h.currentTime)*(1/xe.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function v(e){for(var t=0,r=h.animations,n=r.length;t<n;){var i=r[t],o=i.animatable,a=i.tweens,c=a.length-1,l=a[c];c&&(l=_(a,function(t){return e<t.end})[0]||l);for(var u=s(e-l.start-l.delay,0,l.duration)/l.duration,d=isNaN(u)?1:l.easing(u),p=l.to.strings,f=l.round,m=[],g=l.to.numbers.length,v=void 0,y=0;y<g;y++){var b=void 0,x=l.to.numbers[y],w=l.from.numbers[y]||0;b=l.isPath?re(l.value,d*x):w+d*(x-w),f&&(l.isColor&&y>2||(b=Math.round(b*f)/f)),m.push(b)}var E=p.length;if(E){v=p[0];for(var A=0;A<E;A++){p[A];var M=p[A+1],S=m[A];isNaN(S)||(v+=M?S+M:S+" ")}}else v=m[0];de[i.type](o.target,i.property,v,o.transforms),i.currentValue=v,t++}}function y(e){h[e]&&!h.passThrough&&h[e](h)}function b(e){var n=h.duration,i=h.delay,m=n-h.endDelay,b=f(e);h.progress=s(b/n*100,0,100),h.reversePlayback=b<h.currentTime,t&&function(e){if(h.reversePlayback)for(var r=c;r--;)g(e,t[r]);else for(var n=0;n<c;n++)g(e,t[n])}(b),!h.began&&h.currentTime>0&&(h.began=!0,y("begin"),y("loopBegin")),b<=i&&0!==h.currentTime&&v(0),(b>=m&&h.currentTime!==n||!n)&&v(n),b>i&&b<m?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,y("changeBegin")),y("change"),v(b)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,y("changeComplete")),h.currentTime=s(b,0,n),h.began&&y("update"),e>=n&&(o=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(r=a,y("loopComplete"),y("loopBegin"),"alternate"===h.direction&&p()):(h.paused=!0,h.completed||(h.completed=!0,y("loopComplete"),y("complete"),"Promise"in window&&(l(),d=u()))))}return h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var r=c=t.length;r--;)h.children[r].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,v(0)},h.set=function(e,t){return he(e,t),h},h.tick=function(e){a=e,r||(r=a),b((a+(o-r))*xe.speed)},h.seek=function(e){b(f(e))},h.pause=function(){h.paused=!0,m()},h.play=function(){h.paused&&(h.paused=!1,ve.push(h),m(),me||be())},h.reverse=function(){p(),m()},h.restart=function(){h.reset(),h.play()},h.finished=d,h.reset(),h.autoplay&&h.play(),h}function we(e,t){for(var r=t.length;r--;)T(e,t[r].animatable.target)&&t.splice(r,1)}document.addEventListener("visibilitychange",function(){if(document.hidden){for(var e=0,t=ve.length;e<t;e++)activeInstance[e].pause();ye=ve.slice(0),ve=[]}else for(var r=0,n=ye.length;r<n;r++)ye[r].play()}),xe.version="3.0.0",xe.speed=1,xe.running=ve,xe.remove=function(e){for(var t=oe(e),r=ve.length;r--;){var n=ve[r],i=n.animations,o=n.children;we(t,i);for(var a=o.length;a--;){var s=o[a],c=s.animations;we(t,c),c.length||s.children.length||o.splice(a,1)}i.length||o.length||n.pause()}},xe.get=X,xe.set=he,xe.convertPx=U,xe.path=function(e,t){var r=p.str(e)?E(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:te(r),totalLength:ee(r)*(n/100)}}},xe.setDashoffset=function(e){var t=ee(e);return e.setAttribute("stroke-dasharray",t),t},xe.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?w(t.easing):null,i=t.grid,o=t.axis,a=t.from||0,s="first"===a,c="center"===a,l="last"===a,u=p.arr(e),d=u?parseFloat(e[0]):parseFloat(e),h=u?parseFloat(e[1]):0,f=z(u?e[1]:e)||0,m=t.start||0+(u?d:0),g=[],v=0;return function(e,t,p){if(s&&(a=0),c&&(a=(p-1)/2),l&&(a=p-1),!g.length){for(var y=0;y<p;y++){if(i){var b=c?(i[0]-1)/2:a%i[0],x=c?(i[1]-1)/2:Math.floor(a/i[0]),w=y%i[0],E=Math.floor(y/i[0]),A=b-w,_=x-E,M=Math.sqrt(A*A+_*_);"x"===o&&(M=-A),"y"===o&&(M=-_),g.push(M)}else g.push(Math.abs(a-y));v=Math.max.apply(Math,g)}n&&(g=g.map(function(e){return n(e/v)*v})),"reverse"===r&&(g=g.map(function(e){return o?e<0?-1*e:-e:Math.abs(v-e)}))}var S=u?(h-d)/v:d;return m+S*(Math.round(100*g[t])/100)+f}},xe.timeline=function(e){void 0===e&&(e={});var t=xe(e);return t.duration=0,t.add=function(r,n){var o=ve.indexOf(t),a=t.children;function s(e){e.passThrough=!0}o>-1&&ve.splice(o,1);for(var c=0;c<a.length;c++)s(a[c]);var l=L(r,O(i,e));l.targets=l.targets||e.targets;var u=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=p.und(n)?u:K(n,u),s(t),t.seek(l.timelineOffset);var d=xe(l);s(d),a.push(d);var h=fe(a,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},xe.easing=w,xe.penner=x,xe.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.exports=xe},{}],57:[function(e,t,r){var n,i;n=this,i=function(e){"use strict";void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});var t=0,r=1,n=2,i=1,o=2,a=3,s=0,c=1,l=2,u=0,d=1,h=2,p=0,f=1,m=2,g=3,v=4,y=5,b=100,x=101,w=102,E=103,A=104,_=200,M=201,S=202,T=203,C=204,O=205,L=206,R=207,P=208,k=209,j=210,D=0,I=1,N=2,z=3,B=4,F=5,U=6,H=7,G=0,V=1,W=2,q=0,X=1,Y=2,K=3,Q=4,Z=5,J=301,$=302,ee=303,te=304,re=305,ne=306,ie=307,oe=1e3,ae=1001,se=1002,ce=1003,le=1004,ue=1005,de=1006,he=1007,pe=1008,fe=1009,me=1010,ge=1011,ve=1012,ye=1013,be=1014,xe=1015,we=1016,Ee=1017,Ae=1018,_e=1019,Me=1020,Se=1021,Te=1022,Ce=1023,Oe=1024,Le=1025,Re=Ce,Pe=1026,ke=1027,je=1028,De=33776,Ie=33777,Ne=33778,ze=33779,Be=35840,Fe=35841,Ue=35842,He=35843,Ge=36196,Ve=37808,We=37809,qe=37810,Xe=37811,Ye=37812,Ke=37813,Qe=37814,Ze=37815,Je=37816,$e=37817,et=37818,tt=37819,rt=37820,nt=37821,it=2201,ot=2400,at=3e3,st=3001,ct=3007,lt=3002,ut=3003,dt=3004,ht=3005,pt=3006,ft=3200,mt=3201,gt=0,vt=1,yt=7680,bt=519,xt=35044;function wt(){}Object.assign(wt.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners,n=r[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,r=t[e.type];if(void 0!==r){e.target=this;for(var n=r.slice(0),i=0,o=n.length;i<o;i++)n[i].call(this,e)}}}});for(var Et=[],At=0;At<256;At++)Et[At]=(At<16?"0":"")+At.toString(16);var _t={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=Et[255&e]+Et[e>>8&255]+Et[e>>16&255]+Et[e>>24&255]+"-"+Et[255&t]+Et[t>>8&255]+"-"+Et[t>>16&15|64]+Et[t>>24&255]+"-"+Et[63&r|128]+Et[r>>8&255]+"-"+Et[r>>16&255]+Et[r>>24&255]+Et[255&n]+Et[n>>8&255]+Et[n>>16&255]+Et[n>>24&255];return i.toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*_t.DEG2RAD},radToDeg:function(e){return e*_t.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Mt(e,t){this.x=e||0,this.y=t||0}function St(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1}Object.defineProperties(Mt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Mt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*n+e.x,this.y=i*n+o*r+e.y,this}}),Object.assign(St,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,i,o,a){var s=r[n+0],c=r[n+1],l=r[n+2],u=r[n+3],d=i[o+0],h=i[o+1],p=i[o+2],f=i[o+3];if(u!==f||s!==d||c!==h||l!==p){var m=1-a,g=s*d+c*h+l*p+u*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var w=a*v;if(s=s*m+d*w,c=c*m+h*w,l=l*m+p*w,u=u*m+f*w,m===1-a){var E=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=E,c*=E,l*=E,u*=E}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u}}),Object.defineProperties(St.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(St.prototype,{isQuaternion:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(r/2),l=a(n/2),u=a(i/2),d=s(r/2),h=s(n/2),p=s(i/2);return"XYZ"===o?(this._x=d*l*u+c*h*p,this._y=c*h*u-d*l*p,this._z=c*l*p+d*h*u,this._w=c*l*u-d*h*p):"YXZ"===o?(this._x=d*l*u+c*h*p,this._y=c*h*u-d*l*p,this._z=c*l*p-d*h*u,this._w=c*l*u+d*h*p):"ZXY"===o?(this._x=d*l*u-c*h*p,this._y=c*h*u+d*l*p,this._z=c*l*p+d*h*u,this._w=c*l*u-d*h*p):"ZYX"===o?(this._x=d*l*u-c*h*p,this._y=c*h*u+d*l*p,this._z=c*l*p-d*h*u,this._w=c*l*u+d*h*p):"YZX"===o?(this._x=d*l*u+c*h*p,this._y=c*h*u+d*l*p,this._z=c*l*p-d*h*u,this._w=c*l*u-d*h*p):"XZY"===o&&(this._x=d*l*u-c*h*p,this._y=c*h*u-d*l*p,this._z=c*l*p+d*h*u,this._w=c*l*u+d*h*p),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,r=e.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],c=r[9],l=r[2],u=r[6],d=r[10],h=n+s+d;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(u-c)*t,this._y=(o-l)*t,this._z=(a-i)*t):n>s&&n>d?(t=2*Math.sqrt(1+n-s-d),this._w=(u-c)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+l)/t):s>d?(t=2*Math.sqrt(1+s-n-d),this._w=(o-l)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+d-n-s),this._w=(a-i)/t,this._x=(o+l)/t,this._y=(c+u)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var r=e.dot(t)+1;return r<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(_t.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var r=this.angleTo(e);if(0===r)return this;var n=Math.min(1,t/r);return this.slerp(e,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=r*l+o*a+n*c-i*s,this._y=n*l+o*s+i*a-r*c,this._z=i*l+o*c+r*s-n*a,this._w=o*l-r*a-n*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*r+t*this._x,this._y=c*n+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),u=Math.atan2(l,a),d=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=o*d+this._w*h,this._x=r*d+this._x*h,this._y=n*d+this._y*h,this._z=i*d+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var Tt=new Ot,Ct=new St;function Ot(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0}Object.assign(Ot.prototype,{isVector3:!0,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ct.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Ct.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,o=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*n-a*r,l=s*r+a*t-i*n,u=s*n+i*r-o*t,d=-i*t-o*r-a*n;return this.x=c*s+d*-i+l*-a-u*-o,this.y=l*s+d*-o+u*-i-c*-a,this.z=u*s+d*-a+c*-o-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return Tt.copy(this).projectOnVector(e),this.sub(Tt)},reflect:function(e){return this.sub(Tt.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var r=this.dot(e)/t;return Math.acos(_t.clamp(r,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var Lt,Rt=new Ot;function Pt(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Pt.prototype,{isMatrix3:!0,set:function(e,t,r,n,i,o,a,s,c){var l=this.elements;return l[0]=e,l[1]=n,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=o,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,r=e.count;t<r;t++)Rt.x=e.getX(t),Rt.y=e.getY(t),Rt.z=e.getZ(t),Rt.applyMatrix3(this),e.setXYZ(t,Rt.x,Rt.y,Rt.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[3],s=r[6],c=r[1],l=r[4],u=r[7],d=r[2],h=r[5],p=r[8],f=n[0],m=n[3],g=n[6],v=n[1],y=n[4],b=n[7],x=n[2],w=n[5],E=n[8];return i[0]=o*f+a*v+s*x,i[3]=o*m+a*y+s*w,i[6]=o*g+a*b+s*E,i[1]=c*f+l*v+u*x,i[4]=c*m+l*y+u*w,i[7]=c*g+l*b+u*E,i[2]=d*f+h*v+p*x,i[5]=d*m+h*y+p*w,i[8]=d*g+h*b+p*E,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-r*i*l+r*a*s+n*i*c-n*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var r=e.elements,n=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],d=r[7],h=r[8],p=h*c-l*d,f=l*u-h*s,m=d*s-c*u,g=i*p+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return n[0]=p*y,n[1]=(a*d-h*o)*y,n[2]=(l*o-a*c)*y,n[3]=f*y,n[4]=(h*i-a*u)*y,n[5]=(a*s-l*i)*y,n[6]=m*y,n[7]=(o*u-d*i)*y,n[8]=(c*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,n,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(r*s,r*c,-r*(s*o+c*a)+o+e,-n*c,n*s,-n*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],o=n[3],a=n[6],s=n[1],c=n[4],l=n[7];return n[0]=t*i+r*s,n[3]=t*o+r*c,n[6]=t*a+r*l,n[1]=-r*i+t*s,n[4]=-r*o+t*c,n[7]=-r*a+t*l,this},translate:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<9;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});var kt={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Lt&&(Lt=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Lt.width=e.width,Lt.height=e.height;var r=Lt.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Lt}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},jt=0;function Dt(e,t,r,n,i,o,a,s,c,l){Object.defineProperty(this,"id",{value:jt++}),this.uuid=_t.generateUUID(),this.name="",this.image=void 0!==e?e:Dt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Dt.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:ae,this.wrapT=void 0!==n?n:ae,this.magFilter=void 0!==i?i:de,this.minFilter=void 0!==o?o:pe,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:Ce,this.type=void 0!==s?s:fe,this.offset=new Mt(0,0),this.repeat=new Mt(1,1),this.center=new Mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:at,this.version=0,this.onUpdate=null}function It(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1}function Nt(e,t,r){this.width=e,this.height=t,this.scissor=new It(0,0,e,t),this.scissorTest=!1,this.viewport=new It(0,0,e,t),r=r||{},this.texture=new Dt(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:de,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function zt(e,t,r){Nt.call(this,e,t,r),this.samples=4}Dt.DEFAULT_IMAGE=void 0,Dt.DEFAULT_MAPPING=300,Dt.prototype=Object.assign(Object.create(wt.prototype),{constructor:Dt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=_t.generateUUID()),!t&&void 0===e.images[n.uuid]){var i;if(Array.isArray(n)){i=[];for(var o=0,a=n.length;o<a;o++)i.push(kt.getDataURL(n[o]))}else i=kt.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case oe:e.x=e.x-Math.floor(e.x);break;case ae:e.x=e.x<0?0:1;break;case se:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case oe:e.y=e.y-Math.floor(e.y);break;case ae:e.y=e.y<0?0:1;break;case se:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Dt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(It.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(It.prototype,{isVector4:!0,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,n,i,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],d=o[9],h=o[2],p=o[6],f=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+h)<.1&&Math.abs(d+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(u+1)/2,v=(f+1)/2,y=(s+l)/4,b=(c+h)/4,x=(d+p)/4;return m>g&&m>v?m<.01?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(m),n=y/r,i=b/r):g>v?g<.01?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(g),r=y/n,i=x/n):v<.01?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(v),r=b/i,n=x/i),this.set(r,n,i,t),this}var w=Math.sqrt((p-d)*(p-d)+(c-h)*(c-h)+(l-s)*(l-s));return Math.abs(w)<.001&&(w=1),this.x=(p-d)/w,this.y=(c-h)/w,this.z=(l-s)/w,this.w=Math.acos((a+u+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Nt.prototype=Object.assign(Object.create(wt.prototype),{constructor:Nt,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),zt.prototype=Object.assign(Object.create(Nt.prototype),{constructor:zt,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Nt.prototype.copy.call(this,e),this.samples=e.samples,this}});var Bt=new Ot,Ft=new qt,Ut=new Ot(0,0,0),Ht=new Ot(1,1,1),Gt=new Ot,Vt=new Ot,Wt=new Ot;function qt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(qt.prototype,{isMatrix4:!0,set:function(e,t,r,n,i,o,a,s,c,l,u,d,h,p,f,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new qt).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,r=e.elements,n=1/Bt.setFromMatrixColumn(e,0).length(),i=1/Bt.setFromMatrixColumn(e,1).length(),o=1/Bt.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),c=Math.sin(n),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=o*l,h=o*u,p=a*l,f=a*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=h+p*c,t[5]=d-f*c,t[9]=-a*s,t[2]=f-d*c,t[6]=p+h*c,t[10]=o*s}else if("YXZ"===e.order){var m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*c,t[1]=o*u,t[5]=o*l,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m-y*a,t[4]=-o*u,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*l,t[9]=y-m*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var d=o*l,h=o*u,p=a*l,f=a*u;t[0]=s*l,t[4]=p*c-h,t[8]=d*c+f,t[1]=s*u,t[5]=f*c+d,t[9]=h*c-p,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*c,w=a*s,E=a*c;t[0]=s*l,t[4]=E-b*u,t[8]=w*u+x,t[1]=u,t[5]=o*l,t[9]=-a*l,t[2]=-c*l,t[6]=x*u+w,t[10]=b-E*u}else if("XZY"===e.order){var b=o*s,x=o*c,w=a*s,E=a*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=b*u+E,t[5]=o*l,t[9]=x*u-w,t[2]=w*u-x,t[6]=a*l,t[10]=E*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Ut,e,Ht)},lookAt:function(e,t,r){var n=this.elements;return Wt.subVectors(e,t),0===Wt.lengthSq()&&(Wt.z=1),Wt.normalize(),Gt.crossVectors(r,Wt),0===Gt.lengthSq()&&(1===Math.abs(r.z)?Wt.x+=1e-4:Wt.z+=1e-4,Wt.normalize(),Gt.crossVectors(r,Wt)),Gt.normalize(),Vt.crossVectors(Wt,Gt),n[0]=Gt.x,n[4]=Vt.x,n[8]=Wt.x,n[1]=Gt.y,n[5]=Vt.y,n[9]=Wt.y,n[2]=Gt.z,n[6]=Vt.z,n[10]=Wt.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],l=r[1],u=r[5],d=r[9],h=r[13],p=r[2],f=r[6],m=r[10],g=r[14],v=r[3],y=r[7],b=r[11],x=r[15],w=n[0],E=n[4],A=n[8],_=n[12],M=n[1],S=n[5],T=n[9],C=n[13],O=n[2],L=n[6],R=n[10],P=n[14],k=n[3],j=n[7],D=n[11],I=n[15];return i[0]=o*w+a*M+s*O+c*k,i[4]=o*E+a*S+s*L+c*j,i[8]=o*A+a*T+s*R+c*D,i[12]=o*_+a*C+s*P+c*I,i[1]=l*w+u*M+d*O+h*k,i[5]=l*E+u*S+d*L+h*j,i[9]=l*A+u*T+d*R+h*D,i[13]=l*_+u*C+d*P+h*I,i[2]=p*w+f*M+m*O+g*k,i[6]=p*E+f*S+m*L+g*j,i[10]=p*A+f*T+m*R+g*D,i[14]=p*_+f*C+m*P+g*I,i[3]=v*w+y*M+b*O+x*k,i[7]=v*E+y*S+b*L+x*j,i[11]=v*A+y*T+b*R+x*D,i[15]=v*_+y*C+b*P+x*I,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,r=e.count;t<r;t++)Bt.x=e.getX(t),Bt.y=e.getY(t),Bt.z=e.getZ(t),Bt.applyMatrix4(this),e.setXYZ(t,Bt.x,Bt.y,Bt.z);return e},determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],d=e[10],h=e[14],p=e[3],f=e[7],m=e[11],g=e[15];return p*(+i*s*u-n*c*u-i*a*d+r*c*d+n*a*h-r*s*h)+f*(+t*s*h-t*c*d+i*o*d-n*o*h+n*c*l-i*s*l)+m*(+t*c*u-t*a*h-i*o*u+r*o*h+i*a*l-r*c*l)+g*(-n*a*l-t*s*u+t*a*d+n*o*u-r*o*d+r*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this},getInverse:function(e,t){var r=this.elements,n=e.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=n[5],u=n[6],d=n[7],h=n[8],p=n[9],f=n[10],m=n[11],g=n[12],v=n[13],y=n[14],b=n[15],x=p*y*d-v*f*d+v*u*m-l*y*m-p*u*b+l*f*b,w=g*f*d-h*y*d-g*u*m+c*y*m+h*u*b-c*f*b,E=h*v*d-g*p*d+g*l*m-c*v*m-h*l*b+c*p*b,A=g*p*u-h*v*u-g*l*f+c*v*f+h*l*y-c*p*y,_=i*x+o*w+a*E+s*A;if(0===_){var M="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(M);return console.warn(M),this.identity()}var S=1/_;return r[0]=x*S,r[1]=(v*f*s-p*y*s-v*a*m+o*y*m+p*a*b-o*f*b)*S,r[2]=(l*y*s-v*u*s+v*a*d-o*y*d-l*a*b+o*u*b)*S,r[3]=(p*u*s-l*f*s-p*a*d+o*f*d+l*a*m-o*u*m)*S,r[4]=w*S,r[5]=(h*y*s-g*f*s+g*a*m-i*y*m-h*a*b+i*f*b)*S,r[6]=(g*u*s-c*y*s-g*a*d+i*y*d+c*a*b-i*u*b)*S,r[7]=(c*f*s-h*u*s+h*a*d-i*f*d-c*a*m+i*u*m)*S,r[8]=E*S,r[9]=(g*p*s-h*v*s-g*o*m+i*v*m+h*o*b-i*p*b)*S,r[10]=(c*v*s-g*l*s+g*o*d-i*v*d-c*o*b+i*l*b)*S,r[11]=(h*l*s-c*p*s-h*o*d+i*p*d+c*o*m-i*l*m)*S,r[12]=A*S,r[13]=(h*v*a-g*p*a+g*o*f-i*v*f-h*o*y+i*p*y)*S,r[14]=(g*l*a-c*v*a-g*o*u+i*v*u+c*o*y-i*l*y)*S,r[15]=(c*p*a-h*l*a+h*o*u-i*p*u-c*o*f+i*l*f)*S,this},scale:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,a=e.y,s=e.z,c=i*o,l=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,l*a+r,l*s-n*o,0,c*s-n*a,l*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){var n=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,l=o+o,u=a+a,d=i*c,h=i*l,p=i*u,f=o*l,m=o*u,g=a*u,v=s*c,y=s*l,b=s*u,x=r.x,w=r.y,E=r.z;return n[0]=(1-(f+g))*x,n[1]=(h+b)*x,n[2]=(p-y)*x,n[3]=0,n[4]=(h-b)*w,n[5]=(1-(d+g))*w,n[6]=(m+v)*w,n[7]=0,n[8]=(p+y)*E,n[9]=(m-v)*E,n[10]=(1-(d+f))*E,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,r){var n=this.elements,i=Bt.set(n[0],n[1],n[2]).length(),o=Bt.set(n[4],n[5],n[6]).length(),a=Bt.set(n[8],n[9],n[10]).length(),s=this.determinant();s<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],Ft.copy(this);var c=1/i,l=1/o,u=1/a;return Ft.elements[0]*=c,Ft.elements[1]*=c,Ft.elements[2]*=c,Ft.elements[4]*=l,Ft.elements[5]*=l,Ft.elements[6]*=l,Ft.elements[8]*=u,Ft.elements[9]*=u,Ft.elements[10]*=u,t.setFromRotationMatrix(Ft),r.x=i,r.y=o,r.z=a,this},makePerspective:function(e,t,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),c=2*i/(r-n),l=(t+e)/(t-e),u=(r+n)/(r-n),d=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,r,n,i,o){var a=this.elements,s=1/(t-e),c=1/(r-n),l=1/(o-i),u=(t+e)*s,d=(r+n)*c,h=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<16;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}});var Xt=new qt,Yt=new St;function Kt(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._order=n||Kt.DefaultOrder}function Qt(){this.mask=1}Kt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Kt.DefaultOrder="XYZ",Object.defineProperties(Kt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Kt.prototype,{isEuler:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=_t.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],d=i[2],h=i[6],p=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-d,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(n(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-n(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===t?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==r&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,r){return Xt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Xt,t,r)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Yt.setFromEuler(this),this.setFromQuaternion(Yt,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ot(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(Qt.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var Zt=0,Jt=new Ot,$t=new St,er=new qt,tr=new Ot,rr=new Ot,nr=new Ot,ir=new St,or=new Ot(1,0,0),ar=new Ot(0,1,0),sr=new Ot(0,0,1),cr={type:"added"},lr={type:"removed"};function ur(){Object.defineProperty(this,"id",{value:Zt++}),this.uuid=_t.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ur.DefaultUp.clone();var e=new Ot,t=new Kt,r=new St,n=new Ot(1,1,1);t._onChange(function(){r.setFromEuler(t,!1)}),r._onChange(function(){t.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new qt},normalMatrix:{value:new Pt}}),this.matrix=new qt,this.matrixWorld=new qt,this.matrixAutoUpdate=ur.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Qt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function dr(){ur.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}ur.DefaultUp=new Ot(0,1,0),ur.DefaultMatrixAutoUpdate=!0,ur.prototype=Object.assign(Object.create(wt.prototype),{constructor:ur,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return $t.setFromAxisAngle(e,t),this.quaternion.multiply($t),this},rotateOnWorldAxis:function(e,t){return $t.setFromAxisAngle(e,t),this.quaternion.premultiply($t),this},rotateX:function(e){return this.rotateOnAxis(or,e)},rotateY:function(e){return this.rotateOnAxis(ar,e)},rotateZ:function(e){return this.rotateOnAxis(sr,e)},translateOnAxis:function(e,t){return Jt.copy(e).applyQuaternion(this.quaternion),this.position.add(Jt.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(or,e)},translateY:function(e){return this.translateOnAxis(ar,e)},translateZ:function(e){return this.translateOnAxis(sr,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(er.getInverse(this.matrixWorld))},lookAt:function(e,t,r){e.isVector3?tr.copy(e):tr.set(e,t,r);var n=this.parent;this.updateWorldMatrix(!0,!1),rr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?er.lookAt(rr,tr,this.up):er.lookAt(tr,rr,this.up),this.quaternion.setFromRotationMatrix(er),n&&(er.extractRotation(n.matrixWorld),$t.setFromRotationMatrix(er),this.quaternion.premultiply($t.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(cr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(lr)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),er.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),er.multiply(e.parent.matrixWorld)),e.applyMatrix(er),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ot),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new St),this.updateMatrixWorld(!0),this.matrixWorld.decompose(rr,e,nr),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ot),this.updateMatrixWorld(!0),this.matrixWorld.decompose(rr,ir,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ot),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,i=0,o=n.length;i<o;i++)n[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var l=a[s];i(e.shapes,l)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],s=0,c=this.material.length;s<c;s++)u.push(i(e.materials,this.material[s]));n.material=u}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(var s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(e).object)}if(t){var d=m(e.geometries),h=m(e.materials),p=m(e.textures),f=m(e.images),a=m(e.shapes);d.length>0&&(r.geometries=d),h.length>0&&(r.materials=h),p.length>0&&(r.textures=p),f.length>0&&(r.images=f),a.length>0&&(r.shapes=a)}return r.object=n,r;function m(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}}),dr.prototype=Object.assign(Object.create(ur.prototype),{constructor:dr,isScene:!0,copy:function(e,t){return ur.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ur.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var hr=[new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot],pr=new Ot,fr=new Mr,mr=new Ot,gr=new Ot,vr=new Ot,yr=new Ot,br=new Ot,xr=new Ot,wr=new Ot,Er=new Ot,Ar=new Ot,_r=new Ot;function Mr(e,t){this.min=void 0!==e?e:new Ot(1/0,1/0,1/0),this.max=void 0!==t?t:new Ot(-1/0,-1/0,-1/0)}function Sr(e,t,r,n,i){var o,a;for(o=0,a=e.length-3;o<=a;o+=3){_r.fromArray(e,o);var s=i.x*Math.abs(_r.x)+i.y*Math.abs(_r.y)+i.z*Math.abs(_r.z),c=t.dot(_r),l=r.dot(_r),u=n.dot(_r);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>s)return!1}return!0}Object.assign(Mr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],u=e[s+1],d=e[s+2];l<t&&(t=l),u<r&&(r=u),d<n&&(n=d),l>i&&(i=l),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),u=e.getY(s),d=e.getZ(s);l<t&&(t=l),u<r&&(r=u),d<n&&(n=d),l>i&&(i=l),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var r=pr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ot),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ot),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),fr.copy(t.boundingBox),fr.applyMatrix4(e.matrixWorld),this.expandByPoint(fr.min),this.expandByPoint(fr.max));for(var r=e.children,n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ot),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,pr),pr.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(wr),Er.subVectors(this.max,wr),mr.subVectors(e.a,wr),gr.subVectors(e.b,wr),vr.subVectors(e.c,wr),yr.subVectors(gr,mr),br.subVectors(vr,gr),xr.subVectors(mr,vr);var t=[0,-yr.z,yr.y,0,-br.z,br.y,0,-xr.z,xr.y,yr.z,0,-yr.x,br.z,0,-br.x,xr.z,0,-xr.x,-yr.y,yr.x,0,-br.y,br.x,0,-xr.y,xr.x,0];return!!Sr(t,mr,gr,vr,Er)&&!!Sr(t=[1,0,0,0,1,0,0,0,1],mr,gr,vr,Er)&&(Ar.crossVectors(yr,br),Sr(t=[Ar.x,Ar.y,Ar.z],mr,gr,vr,Er))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ot),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){var t=pr.copy(e).clamp(this.min,this.max);return t.sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(pr).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(hr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),hr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),hr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),hr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),hr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),hr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),hr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),hr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(hr),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Tr=new Mr;function Cr(e,t){this.center=void 0!==e?e:new Ot,this.radius=void 0!==t?t:0}Object.assign(Cr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var r=this.center;void 0!==t?r.copy(t):Tr.setFromPoints(e).getCenter(r);for(var n=0,i=0,o=e.length;i<o;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ot),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Mr),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Or=new Ot,Lr=new Ot,Rr=new Ot,Pr=new Ot,kr=new Ot,jr=new Ot,Dr=new Ot;function Ir(e,t){this.origin=void 0!==e?e:new Ot,this.direction=void 0!==t?t:new Ot(0,0,-1)}Object.assign(Ir.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ot),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Or)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ot),t.subVectors(e,this.origin);var r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Or.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Or.copy(this.direction).multiplyScalar(t).add(this.origin),Or.distanceToSquared(e))},distanceSqToSegment:function(e,t,r,n){Lr.copy(e).add(t).multiplyScalar(.5),Rr.copy(t).sub(e).normalize(),Pr.copy(this.origin).sub(Lr);var i,o,a,s,c=.5*e.distanceTo(t),l=-this.direction.dot(Rr),u=Pr.dot(this.direction),d=-Pr.dot(Rr),h=Pr.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(o=l*u-d,s=c*p,(i=l*d-u)>=0)if(o>=-s)if(o<=s){var f=1/p;a=(i*=f)*(i+l*(o*=f)+2*u)+o*(l*i+o+2*d)+h}else o=c,i=Math.max(0,-(l*o+u)),a=-i*i+o*(o+2*d)+h;else o=-c,i=Math.max(0,-(l*o+u)),a=-i*i+o*(o+2*d)+h;else o<=-s?(i=Math.max(0,-(-l*c+u)),o=i>0?-c:Math.min(Math.max(-c,-d),c),a=-i*i+o*(o+2*d)+h):o<=s?(i=0,o=Math.min(Math.max(-c,-d),c),a=o*(o+2*d)+h):(i=Math.max(0,-(l*c+u)),o=i>0?c:Math.min(Math.max(-c,-d),c),a=-i*i+o*(o+2*d)+h);else o=l>0?-c:c,i=Math.max(0,-(l*o+u)),a=-i*i+o*(o+2*d)+h;return r&&r.copy(this.direction).multiplyScalar(i).add(this.origin),n&&n.copy(Rr).multiplyScalar(o).add(Lr),a},intersectSphere:function(e,t){Or.subVectors(e.center,this.origin);var r=Or.dot(this.direction),n=Or.dot(Or)-r*r,i=e.radius*e.radius;if(n>i)return null;var o=Math.sqrt(i-n),a=r-o,s=r+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var r=e.normal.dot(this.direction);return r*t<0},intersectBox:function(e,t){var r,n,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,n=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,n=(e.min.x-d.x)*c),l>=0?(i=(e.min.y-d.y)*l,o=(e.max.y-d.y)*l):(i=(e.max.y-d.y)*l,o=(e.min.y-d.y)*l),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Or)},intersectTriangle:function(e,t,r,n,i){kr.subVectors(t,e),jr.subVectors(r,e),Dr.crossVectors(kr,jr);var o,a=this.direction.dot(Dr);if(a>0){if(n)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Pr.subVectors(this.origin,e);var s=o*this.direction.dot(jr.crossVectors(Pr,jr));if(s<0)return null;var c=o*this.direction.dot(kr.cross(Pr));if(c<0)return null;if(s+c>a)return null;var l=-o*Pr.dot(Dr);return l<0?null:this.at(l/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Nr=new Ot,zr=new Ot,Br=new Pt;function Fr(e,t){this.normal=void 0!==e?e:new Ot(1,0,0),this.constant=void 0!==t?t:0}Object.assign(Fr.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,r){var n=Nr.subVectors(r,t).cross(zr.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ot),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ot);var r=e.delta(Nr),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?void 0:t.copy(r).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ot),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var r=t||Br.getNormalMatrix(e),n=this.coplanarPoint(Nr).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var Ur=new Ot,Hr=new Ot,Gr=new Ot,Vr=new Ot,Wr=new Ot,qr=new Ot,Xr=new Ot,Yr=new Ot,Kr=new Ot,Qr=new Ot;function Zr(e,t,r){this.a=void 0!==e?e:new Ot,this.b=void 0!==t?t:new Ot,this.c=void 0!==r?r:new Ot}Object.assign(Zr,{getNormal:function(e,t,r,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new Ot),n.subVectors(r,t),Ur.subVectors(e,t),n.cross(Ur);var i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)},getBarycoord:function(e,t,r,n,i){Ur.subVectors(n,t),Hr.subVectors(r,t),Gr.subVectors(e,t);var o=Ur.dot(Ur),a=Ur.dot(Hr),s=Ur.dot(Gr),c=Hr.dot(Hr),l=Hr.dot(Gr),u=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new Ot),0===u)return i.set(-2,-1,-1);var d=1/u,h=(c*s-a*l)*d,p=(o*l-a*s)*d;return i.set(1-h-p,p,h)},containsPoint:function(e,t,r,n){return Zr.getBarycoord(e,t,r,n,Vr),Vr.x>=0&&Vr.y>=0&&Vr.x+Vr.y<=1},getUV:function(e,t,r,n,i,o,a,s){return this.getBarycoord(e,t,r,n,Vr),s.set(0,0),s.addScaledVector(i,Vr.x),s.addScaledVector(o,Vr.y),s.addScaledVector(a,Vr.z),s},isFrontFacing:function(e,t,r,n){return Ur.subVectors(r,t),Hr.subVectors(e,t),Ur.cross(Hr).dot(n)<0}}),Object.assign(Zr.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Ur.subVectors(this.c,this.b),Hr.subVectors(this.a,this.b),.5*Ur.cross(Hr).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ot),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Zr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Fr),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Zr.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,r,n,i){return Zr.getUV(e,this.a,this.b,this.c,t,r,n,i)},containsPoint:function(e){return Zr.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Zr.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ot);var r,n,i=this.a,o=this.b,a=this.c;Wr.subVectors(o,i),qr.subVectors(a,i),Yr.subVectors(e,i);var s=Wr.dot(Yr),c=qr.dot(Yr);if(s<=0&&c<=0)return t.copy(i);Kr.subVectors(e,o);var l=Wr.dot(Kr),u=qr.dot(Kr);if(l>=0&&u<=l)return t.copy(o);var d=s*u-l*c;if(d<=0&&s>=0&&l<=0)return r=s/(s-l),t.copy(i).addScaledVector(Wr,r);Qr.subVectors(e,a);var h=Wr.dot(Qr),p=qr.dot(Qr);if(p>=0&&h<=p)return t.copy(a);var f=h*c-s*p;if(f<=0&&c>=0&&p<=0)return n=c/(c-p),t.copy(i).addScaledVector(qr,n);var m=l*p-h*u;if(m<=0&&u-l>=0&&h-p>=0)return Xr.subVectors(a,o),n=(u-l)/(u-l+(h-p)),t.copy(o).addScaledVector(Xr,n);var g=1/(m+f+d);return r=f*g,n=d*g,t.copy(i).addScaledVector(Wr,r).addScaledVector(qr,n)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Jr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$r={h:0,s:0,l:0},en={h:0,s:0,l:0};function tn(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function rn(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function nn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function on(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function an(e,t,r,n,i,o){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new Ot,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new tn,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(tn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(e=_t.euclideanModulo(e,1),t=_t.clamp(t,0,1),r=_t.clamp(r,0,1),0===t)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+t):r+t-r*t,i=2*r-n;this.r=rn(i,n,e+1/3),this.g=rn(i,n,e),this.b=rn(i,n,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(a,s,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=r[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=Jr[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=nn(e.r),this.g=nn(e.g),this.b=nn(e.b),this},copyLinearToSRGB:function(e){return this.r=on(e.r),this.g=on(e.g),this.b=on(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,r,n=this.r,i=this.g,o=this.b,a=Math.max(n,i,o),s=Math.min(n,i,o),c=(s+a)/2;if(s===a)t=0,r=0;else{var l=a-s;switch(r=c<=.5?l/(a+s):l/(2-a-s),a){case n:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-n)/l+2;break;case o:t=(n-i)/l+4}t/=6}return e.h=t,e.s=r,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){return this.getHSL($r),$r.h+=e,$r.s+=t,$r.l+=r,this.setHSL($r.h,$r.s,$r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL($r),e.getHSL(en);var r=_t.lerp($r.h,en.h,t),n=_t.lerp($r.s,en.s,t),i=_t.lerp($r.l,en.l,t);return this.setHSL(r,n,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),tn.NAMES=Jr,Object.assign(an.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var sn=0;function cn(){Object.defineProperty(this,"id",{value:sn++}),this.uuid=_t.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=f,this.side=s,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=u,this.opacity=1,this.transparent=!1,this.blendSrc=C,this.blendDst=O,this.blendEquation=b,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=z,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bt,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yt,this.stencilZFail=yt,this.stencilZPass=yt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function ln(e){cn.call(this),this.type="MeshBasicMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=G,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}cn.prototype=Object.assign(Object.create(wt.prototype),{constructor:cn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r)if("shading"!==t){var n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==f&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==s&&(r.side=this.side),this.vertexColors!==u&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){var i=n(e.textures),o=n(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(cn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),ln.prototype=Object.create(cn.prototype),ln.prototype.constructor=ln,ln.prototype.isMeshBasicMaterial=!0,ln.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var un=new Ot;function dn(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=xt,this.updateRange={offset:0,count:-1},this.version=0}function hn(e,t,r){dn.call(this,new Int8Array(e),t,r)}function pn(e,t,r){dn.call(this,new Uint8Array(e),t,r)}function fn(e,t,r){dn.call(this,new Uint8ClampedArray(e),t,r)}function mn(e,t,r){dn.call(this,new Int16Array(e),t,r)}function gn(e,t,r){dn.call(this,new Uint16Array(e),t,r)}function vn(e,t,r){dn.call(this,new Int32Array(e),t,r)}function yn(e,t,r){dn.call(this,new Uint32Array(e),t,r)}function bn(e,t,r){dn.call(this,new Float32Array(e),t,r)}function xn(e,t,r){dn.call(this,new Float64Array(e),t,r)}function wn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function En(e){if(0===e.length)return-1/0;for(var t=e[0],r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}Object.defineProperty(dn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(dn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new tn),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new Mt),t[r++]=o.x,t[r++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new Ot),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new It),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this},applyMatrix3:function(e){for(var t=0,r=this.count;t<r;t++)un.x=this.getX(t),un.y=this.getY(t),un.z=this.getZ(t),un.applyMatrix3(e),this.setXYZ(t,un.x,un.y,un.z);return this},applyMatrix4:function(e){for(var t=0,r=this.count;t<r;t++)un.x=this.getX(t),un.y=this.getY(t),un.z=this.getZ(t),un.applyMatrix4(e),this.setXYZ(t,un.x,un.y,un.z);return this},applyNormalMatrix:function(e){for(var t=0,r=this.count;t<r;t++)un.x=this.getX(t),un.y=this.getY(t),un.z=this.getZ(t),un.applyNormalMatrix(e),this.setXYZ(t,un.x,un.y,un.z);return this},transformDirection:function(e){for(var t=0,r=this.count;t<r;t++)un.x=this.getX(t),un.y=this.getY(t),un.z=this.getZ(t),un.transformDirection(e),this.setXYZ(t,un.x,un.y,un.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),hn.prototype=Object.create(dn.prototype),hn.prototype.constructor=hn,pn.prototype=Object.create(dn.prototype),pn.prototype.constructor=pn,fn.prototype=Object.create(dn.prototype),fn.prototype.constructor=fn,mn.prototype=Object.create(dn.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(dn.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(dn.prototype),vn.prototype.constructor=vn,yn.prototype=Object.create(dn.prototype),yn.prototype.constructor=yn,bn.prototype=Object.create(dn.prototype),bn.prototype.constructor=bn,xn.prototype=Object.create(dn.prototype),xn.prototype.constructor=xn,Object.assign(wn.prototype,{computeGroups:function(e){for(var t,r=[],n=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,r.push(t)),t={start:3*o,materialIndex:n})}void 0!==t&&(t.count=3*o-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t,r=e.faces,n=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var u,d=e.morphNormals,h=d.length;if(h>0){u=[];for(var l=0;l<h;l++)u[l]={name:d[l].name,data:[]};this.morphTargets.normal=u}var p=e.skinIndices,f=e.skinWeights,m=p.length===n.length,g=f.length===n.length;n.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var l=0;l<r.length;l++){var v=r[l];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var x=v.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===o){var E=i[0][l];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new Mt,new Mt,new Mt))}if(!0===a){var E=i[1][l];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new Mt,new Mt,new Mt))}for(var A=0;A<c;A++){var _=s[A].vertices;t[A].data.push(_[v.a],_[v.b],_[v.c])}for(var A=0;A<h;A++){var M=d[A].vertexNormals[l];u[A].data.push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var An=1,_n=new qt,Mn=new ur,Sn=new Ot,Tn=new Mr,Cn=new Mr,On=new Ot;function Ln(){Object.defineProperty(this,"id",{value:An+=2}),this.uuid=_t.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ln.prototype=Object.assign(Object.create(wt.prototype),{constructor:Ln,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(En(e)>65535?yn:gn)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new Pt).getNormalMatrix(e);r.applyNormalMatrix(n),r.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return _n.makeRotationX(e),this.applyMatrix(_n),this},rotateY:function(e){return _n.makeRotationY(e),this.applyMatrix(_n),this},rotateZ:function(e){return _n.makeRotationZ(e),this.applyMatrix(_n),this},translate:function(e,t,r){return _n.makeTranslation(e,t,r),this.applyMatrix(_n),this},scale:function(e,t,r){return _n.makeScale(e,t,r),this.applyMatrix(_n),this},lookAt:function(e){return Mn.lookAt(e),Mn.updateMatrix(),this.applyMatrix(Mn.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sn).negate(),this.translate(Sn.x,Sn.y,Sn.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var r=new bn(3*t.vertices.length,3),n=new bn(3*t.colors.length,3);if(this.setAttribute("position",r.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new bn(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new bn(t,3)),this},updateFromObject:function(e){var t,r=e.geometry;if(e.isMesh){var n=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(n=void 0,r.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}return!0===r.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(r.vertices),t.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(r.normals),t.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(r.colors),t.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(r.uvs),t.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(r.lineDistances),t.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(e.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new wn).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new dn(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var r=new Float32Array(3*e.normals.length);this.setAttribute("normal",new dn(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.setAttribute("color",new dn(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new dn(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new dn(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[a],l=0,u=c.length;l<u;l++){var d=c[l],h=new bn(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var p=new bn(4*e.skinIndices.length,4);this.setAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new bn(4*e.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Mr);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var r=0,n=t.length;r<n;r++){var i=t[r];Tn.setFromBufferAttribute(i),this.morphTargetsRelative?(On.addVectors(this.boundingBox.min,Tn.min),this.boundingBox.expandByPoint(On),On.addVectors(this.boundingBox.max,Tn.max),this.boundingBox.expandByPoint(On)):(this.boundingBox.expandByPoint(Tn.min),this.boundingBox.expandByPoint(Tn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Cr);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var r=this.boundingSphere.center;if(Tn.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var o=t[n];Cn.setFromBufferAttribute(o),this.morphTargetsRelative?(On.addVectors(Tn.min,Cn.min),Tn.expandByPoint(On),On.addVectors(Tn.max,Cn.max),Tn.expandByPoint(On)):(Tn.expandByPoint(Cn.min),Tn.expandByPoint(Cn.max))}Tn.getCenter(r);for(var a=0,n=0,i=e.count;n<i;n++)On.fromBufferAttribute(e,n),a=Math.max(a,r.distanceToSquared(On));if(t)for(var n=0,i=t.length;n<i;n++)for(var o=t[n],s=this.morphTargetsRelative,c=0,l=o.count;c<l;c++)On.fromBufferAttribute(o,c),s&&(Sn.fromBufferAttribute(e,c),On.add(Sn)),a=Math.max(a,r.distanceToSquared(On));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var r=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new dn(new Float32Array(r.length),3));else for(var n=t.normal.array,i=0,o=n.length;i<o;i++)n[i]=0;var a,s,c,l=t.normal.array,u=new Ot,d=new Ot,h=new Ot,p=new Ot,f=new Ot;if(e)for(var m=e.array,i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],c=3*m[i+2],u.fromArray(r,a),d.fromArray(r,s),h.fromArray(r,c),p.subVectors(h,d),f.subVectors(u,d),p.cross(f),l[a]+=p.x,l[a+1]+=p.y,l[a+2]+=p.z,l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[c]+=p.x,l[c+1]+=p.y,l[c+2]+=p.z;else for(var i=0,o=r.length;i<o;i+=9)u.fromArray(r,i),d.fromArray(r,i+3),h.fromArray(r,i+6),p.subVectors(h,d),f.subVectors(u,d),p.cross(f),l[i]=p.x,l[i+1]=p.y,l[i+2]=p.z,l[i+3]=p.x,l[i+4]=p.y,l[i+5]=p.z,l[i+6]=p.x,l[i+7]=p.y,l[i+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var i=r[n],o=i.array,a=e.attributes[n],s=a.array,c=a.itemSize*t,l=Math.min(s.length,o.length-c),u=0,d=c;u<l;u++,d++)o[d]=s[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)On.x=e.getX(t),On.y=e.getY(t),On.z=e.getZ(t),On.normalize(),e.setXYZ(t,On.x,On.y,On.z)},toNonIndexed:function(){function e(e,t){for(var r=e.array,n=e.itemSize,i=new r.constructor(t.length*n),o=0,a=0,s=0,c=t.length;s<c;s++){o=t[s]*n;for(var l=0;l<n;l++)i[a++]=r[o++]}return new dn(i,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ln,r=this.index.array,n=this.attributes;for(var i in n){var o=n[i],a=e(o,r);t.setAttribute(i,a)}var s=this.morphAttributes;for(i in s){for(var c=[],l=s[i],u=0,d=l.length;u<d;u++){var o=l[u],a=e(o,r);c.push(a)}t.morphAttributes[i]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,u=0,p=h.length;u<p;u++){var f=h[u];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var i=this.attributes;for(var r in i){var o=i[r],a=o.toJSON();""!==o.name&&(a.name=o.name),e.data.attributes[r]=a}var s={},c=!1;for(var r in this.morphAttributes){for(var l=this.morphAttributes[r],u=[],d=0,h=l.length;d<h;d++){var o=l[d],a=o.toJSON();""!==o.name&&(a.name=o.name),u.push(a)}u.length>0&&(s[r]=u,c=!0)}c&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e},clone:function(){return(new Ln).copy(this)},copy:function(e){var t,r,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.setAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var c=[],l=s[t];for(r=0,n=l.length;r<n;r++)c.push(l[r].clone());this.morphAttributes[t]=c}this.morphTargetsRelative=e.morphTargetsRelative;var u=e.groups;for(r=0,n=u.length;r<n;r++){var d=u[r];this.addGroup(d.start,d.count,d.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Rn=new qt,Pn=new Ir,kn=new Cr,jn=new Ot,Dn=new Ot,In=new Ot,Nn=new Ot,zn=new Ot,Bn=new Ot,Fn=new Ot,Un=new Ot,Hn=new Ot,Gn=new Mt,Vn=new Mt,Wn=new Mt,qn=new Ot,Xn=new Ot;function Yn(e,t){ur.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Ln,this.material=void 0!==t?t:new ln({color:16777215*Math.random()}),this.updateMorphTargets()}function Kn(e,t,r,n,i,o,a,s){if(null===(t.side===c?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,t.side!==l,s)))return null;Xn.copy(s),Xn.applyMatrix4(e.matrixWorld);var u=r.ray.origin.distanceTo(Xn);return u<r.near||u>r.far?null:{distance:u,point:Xn.clone(),object:e}}function Qn(e,t,r,n,i,o,a,s,c,l,u,d){jn.fromBufferAttribute(i,l),Dn.fromBufferAttribute(i,u),In.fromBufferAttribute(i,d);var h=e.morphTargetInfluences;if(t.morphTargets&&o&&h){Fn.set(0,0,0),Un.set(0,0,0),Hn.set(0,0,0);for(var p=0,f=o.length;p<f;p++){var m=h[p],g=o[p];0!==m&&(Nn.fromBufferAttribute(g,l),zn.fromBufferAttribute(g,u),Bn.fromBufferAttribute(g,d),a?(Fn.addScaledVector(Nn,m),Un.addScaledVector(zn,m),Hn.addScaledVector(Bn,m)):(Fn.addScaledVector(Nn.sub(jn),m),Un.addScaledVector(zn.sub(Dn),m),Hn.addScaledVector(Bn.sub(In),m)))}jn.add(Fn),Dn.add(Un),In.add(Hn)}var v=Kn(e,t,r,n,jn,Dn,In,qn);if(v){s&&(Gn.fromBufferAttribute(s,l),Vn.fromBufferAttribute(s,u),Wn.fromBufferAttribute(s,d),v.uv=Zr.getUV(qn,jn,Dn,In,Gn,Vn,Wn,new Mt)),c&&(Gn.fromBufferAttribute(c,l),Vn.fromBufferAttribute(c,u),Wn.fromBufferAttribute(c,d),v.uv2=Zr.getUV(qn,jn,Dn,In,Gn,Vn,Wn,new Mt));var y=new an(l,u,d);Zr.getNormal(jn,Dn,In,y.normal),v.face=y}return v}Yn.prototype=Object.assign(Object.create(ur.prototype),{constructor:Yn,isMesh:!0,copy:function(e){return ur.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)r=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}else{var s=n.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var r,n=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),kn.copy(n.boundingSphere),kn.applyMatrix4(o),!1!==e.ray.intersectsSphere(kn)&&(Rn.getInverse(o),Pn.copy(e.ray).applyMatrix4(Rn),null===n.boundingBox||!1!==Pn.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var a,s,c,l,u,d,h,p,f,m,g,v=n.index,y=n.attributes.position,b=n.morphAttributes.position,x=n.morphTargetsRelative,w=n.attributes.uv,E=n.attributes.uv2,A=n.groups,_=n.drawRange;if(null!==v)if(Array.isArray(i))for(l=0,d=A.length;l<d;l++)for(p=A[l],f=i[p.materialIndex],m=Math.max(p.start,_.start),g=Math.min(p.start+p.count,_.start+_.count),u=m,h=g;u<h;u+=3)a=v.getX(u),s=v.getX(u+1),c=v.getX(u+2),(r=Qn(this,f,e,Pn,y,b,x,w,E,a,s,c))&&(r.faceIndex=Math.floor(u/3),r.face.materialIndex=p.materialIndex,t.push(r));else for(m=Math.max(0,_.start),g=Math.min(v.count,_.start+_.count),l=m,d=g;l<d;l+=3)a=v.getX(l),s=v.getX(l+1),c=v.getX(l+2),(r=Qn(this,i,e,Pn,y,b,x,w,E,a,s,c))&&(r.faceIndex=Math.floor(l/3),t.push(r));else if(void 0!==y)if(Array.isArray(i))for(l=0,d=A.length;l<d;l++)for(p=A[l],f=i[p.materialIndex],m=Math.max(p.start,_.start),g=Math.min(p.start+p.count,_.start+_.count),u=m,h=g;u<h;u+=3)(r=Qn(this,f,e,Pn,y,b,x,w,E,a=u,s=u+1,c=u+2))&&(r.faceIndex=Math.floor(u/3),r.face.materialIndex=p.materialIndex,t.push(r));else for(m=Math.max(0,_.start),g=Math.min(y.count,_.start+_.count),l=m,d=g;l<d;l+=3)(r=Qn(this,i,e,Pn,y,b,x,w,E,a=l,s=l+1,c=l+2))&&(r.faceIndex=Math.floor(l/3),t.push(r))}else if(n.isGeometry){var M,S,T,C,O=Array.isArray(i),L=n.vertices,R=n.faces,P=n.faceVertexUvs[0];P.length>0&&(C=P);for(var k=0,j=R.length;k<j;k++){var D=R[k],I=O?i[D.materialIndex]:i;if(void 0!==I&&(M=L[D.a],S=L[D.b],T=L[D.c],r=Kn(this,I,e,Pn,M,S,T,qn))){if(C&&C[k]){var N=C[k];Gn.copy(N[0]),Vn.copy(N[1]),Wn.copy(N[2]),r.uv=Zr.getUV(qn,M,S,T,Gn,Vn,Wn,new Mt)}r.face=D,r.faceIndex=k,t.push(r)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Zn=0,Jn=new qt,$n=new ur,ei=new Ot;function ti(){Object.defineProperty(this,"id",{value:Zn+=2}),this.uuid=_t.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}ti.prototype=Object.assign(Object.create(wt.prototype),{constructor:ti,isGeometry:!0,applyMatrix:function(e){for(var t=(new Pt).getNormalMatrix(e),r=0,n=this.vertices.length;r<n;r++){var i=this.vertices[r];i.applyMatrix4(e)}for(var r=0,n=this.faces.length;r<n;r++){var o=this.faces[r];o.normal.applyMatrix3(t).normalize();for(var a=0,s=o.vertexNormals.length;a<s;a++)o.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Jn.makeRotationX(e),this.applyMatrix(Jn),this},rotateY:function(e){return Jn.makeRotationY(e),this.applyMatrix(Jn),this},rotateZ:function(e){return Jn.makeRotationZ(e),this.applyMatrix(Jn),this},translate:function(e,t,r){return Jn.makeTranslation(e,t,r),this.applyMatrix(Jn),this},scale:function(e,t,r){return Jn.makeScale(e,t,r),this.applyMatrix(Jn),this},lookAt:function(e){return $n.lookAt(e),$n.updateMatrix(),this.applyMatrix($n.matrix),this},fromBufferGeometry:function(e){var t=this,r=null!==e.index?e.index.array:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,a=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.length;l+=3)t.vertices.push((new Ot).fromArray(i,l)),void 0!==a&&t.colors.push((new tn).fromArray(a,l));function u(e,r,n,i){var l=void 0===a?[]:[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()],u=void 0===o?[]:[(new Ot).fromArray(o,3*e),(new Ot).fromArray(o,3*r),(new Ot).fromArray(o,3*n)],d=new an(e,r,n,u,l,i);t.faces.push(d),void 0!==s&&t.faceVertexUvs[0].push([(new Mt).fromArray(s,2*e),(new Mt).fromArray(s,2*r),(new Mt).fromArray(s,2*n)]),void 0!==c&&t.faceVertexUvs[1].push([(new Mt).fromArray(c,2*e),(new Mt).fromArray(c,2*r),(new Mt).fromArray(c,2*n)])}var d=e.groups;if(d.length>0)for(var l=0;l<d.length;l++)for(var h=d[l],p=h.start,f=h.count,m=p,g=p+f;m<g;m+=3)void 0!==r?u(r[m],r[m+1],r[m+2],h.materialIndex):u(m,m+1,m+2,h.materialIndex);else if(void 0!==r)for(var l=0;l<r.length;l+=3)u(r[l],r[l+1],r[l+2]);else for(var l=0;l<i.length/3;l+=3)u(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ei).negate(),this.translate(ei.x,ei.y,ei.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new qt;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new Ot,t=new Ot,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,r,n,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,r=this.vertices.length;t<r;t++)a[t]=new Ot;if(e){var s,c,l,u=new Ot,d=new Ot;for(n=0,i=this.faces.length;n<i;n++)o=this.faces[n],s=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],u.subVectors(l,c),d.subVectors(s,c),u.cross(d),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)o=this.faces[n],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,r=this.vertices.length;t<r;t++)a[t].normalize();for(n=0,i=this.faces.length;n<i;n++){var h=(o=this.faces[n]).vertexNormals;3===h.length?(h[0].copy(a[o.a]),h[1].copy(a[o.b]),h[2].copy(a[o.c])):(h[0]=a[o.a].clone(),h[1]=a[o.b].clone(),h[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,r;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var n=(r=this.faces[e]).vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for((i=this.faces[r]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new ti;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)c=new Ot,l={a:new Ot,b:new Ot,c:new Ot},a.push(c),s.push(l)}var c,l,u=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,n=this.faces.length;r<n;r++)i=this.faces[r],c=u.faceNormals[r],l=u.vertexNormals[r],c.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)(i=this.faces[r]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Mr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Cr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e&&e.isGeometry){var n,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.colors,u=e.colors;void 0===r&&(r=0),void 0!==t&&(n=(new Pt).getNormalMatrix(t));for(var d=0,h=a.length;d<h;d++){var p=a[d],f=p.clone();void 0!==t&&f.applyMatrix4(t),o.push(f)}for(var d=0,h=u.length;d<h;d++)l.push(u[d].clone());for(d=0,h=c.length;d<h;d++){var m,g,v,y=c[d],b=y.vertexNormals,x=y.vertexColors;(m=new an(y.a+i,y.b+i,y.c+i)).normal.copy(y.normal),void 0!==n&&m.normal.applyMatrix3(n).normalize();for(var w=0,E=b.length;w<E;w++)g=b[w].clone(),void 0!==n&&g.applyMatrix3(n).normalize(),m.vertexNormals.push(g);m.color.copy(y.color);for(var w=0,E=x.length;w<E;w++)v=x[w],m.vertexColors.push(v.clone());m.materialIndex=y.materialIndex+r,s.push(m)}for(var d=0,h=e.faceVertexUvs.length;d<h;d++){var A=e.faceVertexUvs[d];void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]);for(var w=0,E=A.length;w<E;w++){for(var _=A[w],M=[],S=0,T=_.length;S<T;S++)M.push(_[S].clone());this.faceVertexUvs[d].push(M)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,r,n,i,o,a,s,c={},l=[],u=[],d=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)e=this.vertices[r],t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d),void 0===c[t]?(c[t]=r,l.push(this.vertices[r]),u[r]=l.length-1):u[r]=u[c[t]];var h=[];for(r=0,n=this.faces.length;r<n;r++){(i=this.faces[r]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){h.push(r);break}}for(r=h.length-1;r>=0;r--){var f=h[r];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];this.vertices.push(new Ot(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(n=[]),a&&a.length===t&&(i=[]);for(var r=0;r<t;r++){var s=e[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}for(var n=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];n.push(o.x,o.y,o.z)}for(var a=[],s=[],c={},l=[],u={},d=[],h={},i=0;i<this.faces.length;i++){var p=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,g=p.vertexNormals.length>0,v=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,b=0;if(b=A(b,0,0),b=A(b,1,!0),b=A(b,2,!1),b=A(b,3,f),b=A(b,4,m),b=A(b,5,g),b=A(b,6,v),b=A(b,7,y),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),f){var x=this.faceVertexUvs[0][i];a.push(S(x[0]),S(x[1]),S(x[2]))}if(m&&a.push(_(p.normal)),g){var w=p.vertexNormals;a.push(_(w[0]),_(w[1]),_(w[2]))}if(v&&a.push(M(p.color)),y){var E=p.vertexColors;a.push(M(E[0]),M(E[1]),M(E[2]))}}function A(e,t,r){return r?e|1<<t:e&~(1<<t)}function _(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=s.length/3,s.push(e.x,e.y,e.z),c[t])}function M(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]?u[t]:(u[t]=l.length,l.push(e.getHex()),u[t])}function S(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=d.length/2,d.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=n,e.data.normals=s,l.length>0&&(e.data.colors=l),d.length>0&&(e.data.uvs=[d]),e.data.faces=a,e},clone:function(){return(new ti).copy(this)},copy:function(e){var t,r,n,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,r=s.length;t<r;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,r=c.length;t<r;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,r=l.length;t<r;t++)this.faces.push(l[t].clone());for(t=0,r=e.faceVertexUvs.length;t<r;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),n=0,i=u.length;n<i;n++){var d=u[n],h=[];for(o=0,a=d.length;o<a;o++){var p=d[o];h.push(p.clone())}this.faceVertexUvs[t].push(h)}}var f=e.morphTargets;for(t=0,r=f.length;t<r;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],n=0,i=f[t].vertices.length;n<i;n++)m.vertices.push(f[t].vertices[n].clone());if(void 0!==f[t].normals)for(m.normals=[],n=0,i=f[t].normals.length;n<i;n++)m.normals.push(f[t].normals[n].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,r=g.length;t<r;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],n=0,i=g[t].vertexNormals.length;n<i;n++){var y=g[t].vertexNormals[n],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],n=0,i=g[t].faceNormals.length;n<i;n++)v.faceNormals.push(g[t].faceNormals[n].clone());this.morphNormals.push(v)}var x=e.skinWeights;for(t=0,r=x.length;t<r;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,r=w.length;t<r;t++)this.skinIndices.push(w[t].clone());var E=e.lineDistances;for(t=0,r=E.length;t<r;t++)this.lineDistances.push(E[t]);var A=e.boundingBox;null!==A&&(this.boundingBox=A.clone());var _=e.boundingSphere;return null!==_&&(this.boundingSphere=_.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ri=function(e){function t(t,r,n,i,o,a){e.call(this),this.type="BoxGeometry",this.parameters={width:t,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:a},this.fromBufferGeometry(new ni(t,r,n,i,o,a)),this.mergeVertices()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ti),ni=function(e){function t(t,r,n,i,o,a){e.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:a};var s=this;t=t||1,r=r||1,n=n||1,i=Math.floor(i)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var c=[],l=[],u=[],d=[],h=0,p=0;function f(e,t,r,n,i,o,a,f,m,g,v){var y,b,x=o/m,w=a/g,E=o/2,A=a/2,_=f/2,M=m+1,S=g+1,T=0,C=0,O=new Ot;for(b=0;b<S;b++){var L=b*w-A;for(y=0;y<M;y++){var R=y*x-E;O[e]=R*n,O[t]=L*i,O[r]=_,l.push(O.x,O.y,O.z),O[e]=0,O[t]=0,O[r]=f>0?1:-1,u.push(O.x,O.y,O.z),d.push(y/m),d.push(1-b/g),T+=1}}for(b=0;b<g;b++)for(y=0;y<m;y++){var P=h+y+M*b,k=h+y+M*(b+1),j=h+(y+1)+M*(b+1),D=h+(y+1)+M*b;c.push(P,k,D),c.push(k,j,D),C+=6}s.addGroup(p,C,v),p+=C,h+=T}f("z","y","x",-1,-1,n,r,t,a,o,0),f("z","y","x",1,-1,n,r,-t,a,o,1),f("x","z","y",1,1,t,n,r,i,a,2),f("x","z","y",1,-1,t,n,-r,i,a,3),f("x","y","z",1,-1,t,r,n,i,o,4),f("x","y","z",-1,-1,t,r,-n,i,o,5),this.setIndex(c),this.setAttribute("position",new bn(l,3)),this.setAttribute("normal",new bn(u,3)),this.setAttribute("uv",new bn(d,2))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ln);function ii(e){var t={};for(var r in e)for(var n in t[r]={},e[r]){var i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}return t}function oi(e){for(var t={},r=0;r<e.length;r++){var n=ii(e[r]);for(var i in n)t[i]=n[i]}return t}var ai={clone:ii,merge:oi},si="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",ci="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function li(e){cn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=si,this.fragmentShader=ci,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function ui(){ur.call(this),this.type="Camera",this.matrixWorldInverse=new qt,this.projectionMatrix=new qt,this.projectionMatrixInverse=new qt}function di(e,t,r,n){ui.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}li.prototype=Object.create(cn.prototype),li.prototype.constructor=li,li.prototype.isShaderMaterial=!0,li.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ii(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},li.prototype.toJSON=function(e){var t=cn.prototype.toJSON.call(this,e);for(var r in t.uniforms={},this.uniforms){var n=this.uniforms[r],i=n.value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(t.extensions=o),t},ui.prototype=Object.assign(Object.create(ur.prototype),{constructor:ui,isCamera:!0,copy:function(e,t){return ur.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ot),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){ur.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),di.prototype=Object.assign(Object.create(ui.prototype),{constructor:di,isPerspectiveCamera:!0,copy:function(e,t){return ui.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*_t.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*_t.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*_t.RAD2DEG*Math.atan(Math.tan(.5*_t.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*_t.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,t-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ur.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var hi=90,pi=1;function fi(e,t,r,n){ur.call(this),this.type="CubeCamera";var i=new di(hi,pi,e,t);i.up.set(0,-1,0),i.lookAt(new Ot(1,0,0)),this.add(i);var o=new di(hi,pi,e,t);o.up.set(0,-1,0),o.lookAt(new Ot(-1,0,0)),this.add(o);var a=new di(hi,pi,e,t);a.up.set(0,0,1),a.lookAt(new Ot(0,1,0)),this.add(a);var s=new di(hi,pi,e,t);s.up.set(0,0,-1),s.lookAt(new Ot(0,-1,0)),this.add(s);var c=new di(hi,pi,e,t);c.up.set(0,-1,0),c.lookAt(new Ot(0,0,1)),this.add(c);var l=new di(hi,pi,e,t);l.up.set(0,-1,0),l.lookAt(new Ot(0,0,-1)),this.add(l),n=n||{format:Te,magFilter:de,minFilter:de},this.renderTarget=new mi(r,r,n),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var r=e.getRenderTarget(),n=this.renderTarget,u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=u,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(r)},this.clear=function(e,t,r,n){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)e.setRenderTarget(o,a),e.clear(t,r,n);e.setRenderTarget(i)}}function mi(e,t,r){Nt.call(this,e,t,r)}function gi(e,t,r,n,i,o,a,s,c,l,u,d){Dt.call(this,null,o,a,s,c,l,n,i,u,d),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==c?c:ce,this.minFilter=void 0!==l?l:ce,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}fi.prototype=Object.create(ur.prototype),fi.prototype.constructor=fi,mi.prototype=Object.create(Nt.prototype),mi.prototype.constructor=mi,mi.prototype.isWebGLRenderTargetCube=!0,mi.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var r=new dr,n={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new li({type:"CubemapFromEquirect",uniforms:ii(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:c,blending:p});i.uniforms.tEquirect.value=t;var o=new Yn(new ni(5,5,5),i);r.add(o);var a=new fi(1,10,1);return a.renderTarget=this,a.renderTarget.texture.name="CubeCameraTexture",a.update(e,r),o.geometry.dispose(),o.material.dispose(),this},gi.prototype=Object.create(Dt.prototype),gi.prototype.constructor=gi,gi.prototype.isDataTexture=!0;var vi=new Cr,yi=new Ot;function bi(e,t,r,n,i,o){this.planes=[void 0!==e?e:new Fr,void 0!==t?t:new Fr,void 0!==r?r:new Fr,void 0!==n?n:new Fr,void 0!==i?i:new Fr,void 0!==o?o:new Fr]}Object.assign(bi.prototype,{set:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this},setFromMatrix:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=r[7],d=r[8],h=r[9],p=r[10],f=r[11],m=r[12],g=r[13],v=r[14],y=r[15];return t[0].setComponents(a-n,u-s,f-d,y-m).normalize(),t[1].setComponents(a+n,u+s,f+d,y+m).normalize(),t[2].setComponents(a+i,u+c,f+h,y+g).normalize(),t[3].setComponents(a-i,u-c,f-h,y-g).normalize(),t[4].setComponents(a-o,u-l,f-p,y-v).normalize(),t[5].setComponents(a+o,u+l,f+p,y+v).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),vi.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(vi)},intersectsSprite:function(e){return vi.center.set(0,0,0),vi.radius=.7071067811865476,vi.applyMatrix4(e.matrixWorld),this.intersectsSphere(vi)},intersectsSphere:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;i<6;i++){var o=t[i].distanceToPoint(r);if(o<n)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,r=0;r<6;r++){var n=t[r];if(yi.x=n.normal.x>0?e.max.x:e.min.x,yi.y=n.normal.y>0?e.max.y:e.min.y,yi.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(yi)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}});var xi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToVariance(float roughness) {\n  float variance = 0.0;\n  if (roughness >= r1) {\n    variance = (r0 - roughness) * (v1 - v0) / (r0 - r1) + v0;\n  } else if (roughness >= r4) {\n    variance = (r1 - roughness) * (v4 - v1) / (r1 - r4) + v1;\n  } else if (roughness >= r5) {\n    variance = (r4 - roughness) * (v5 - v4) / (r4 - r5) + v4;\n  } else {\n    float roughness2 = roughness * roughness;\n    variance = 1.79 * roughness2 * roughness2;\n  }\n  return variance;\n}\nfloat varianceToRoughness(float variance) {\n  float roughness = 0.0;\n  if (variance >= v1) {\n    roughness = (v0 - variance) * (r1 - r0) / (v0 - v1) + r0;\n  } else if (variance >= v4) {\n    roughness = (v1 - variance) * (r4 - r1) / (v1 - v4) + r1;\n  } else if (variance >= v5) {\n    roughness = (v4 - variance) * (r5 - r4) / (v4 - v5) + r4;\n  } else {\n    roughness = pow(0.559 * variance, 0.25);  }\n  return roughness;\n}\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ), 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpack2HalfToRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpack2HalfToRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},wi={common:{diffuse:{value:new tn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Pt},uv2Transform:{value:new Pt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new tn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Pt}},sprite:{diffuse:{value:new tn(15658734)},opacity:{value:1},center:{value:new Mt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Pt}}},Ei={basic:{uniforms:oi([wi.common,wi.specularmap,wi.envmap,wi.aomap,wi.lightmap,wi.fog]),vertexShader:xi.meshbasic_vert,fragmentShader:xi.meshbasic_frag},lambert:{uniforms:oi([wi.common,wi.specularmap,wi.envmap,wi.aomap,wi.lightmap,wi.emissivemap,wi.fog,wi.lights,{emissive:{value:new tn(0)}}]),vertexShader:xi.meshlambert_vert,fragmentShader:xi.meshlambert_frag},phong:{uniforms:oi([wi.common,wi.specularmap,wi.envmap,wi.aomap,wi.lightmap,wi.emissivemap,wi.bumpmap,wi.normalmap,wi.displacementmap,wi.fog,wi.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:xi.meshphong_vert,fragmentShader:xi.meshphong_frag},standard:{uniforms:oi([wi.common,wi.envmap,wi.aomap,wi.lightmap,wi.emissivemap,wi.bumpmap,wi.normalmap,wi.displacementmap,wi.roughnessmap,wi.metalnessmap,wi.fog,wi.lights,{emissive:{value:new tn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:xi.meshphysical_vert,fragmentShader:xi.meshphysical_frag},toon:{uniforms:oi([wi.common,wi.specularmap,wi.aomap,wi.lightmap,wi.emissivemap,wi.bumpmap,wi.normalmap,wi.displacementmap,wi.gradientmap,wi.fog,wi.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:xi.meshtoon_vert,fragmentShader:xi.meshtoon_frag},matcap:{uniforms:oi([wi.common,wi.bumpmap,wi.normalmap,wi.displacementmap,wi.fog,{matcap:{value:null}}]),vertexShader:xi.meshmatcap_vert,fragmentShader:xi.meshmatcap_frag},points:{uniforms:oi([wi.points,wi.fog]),vertexShader:xi.points_vert,fragmentShader:xi.points_frag},dashed:{uniforms:oi([wi.common,wi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xi.linedashed_vert,fragmentShader:xi.linedashed_frag},depth:{uniforms:oi([wi.common,wi.displacementmap]),vertexShader:xi.depth_vert,fragmentShader:xi.depth_frag},normal:{uniforms:oi([wi.common,wi.bumpmap,wi.normalmap,wi.displacementmap,{opacity:{value:1}}]),vertexShader:xi.normal_vert,fragmentShader:xi.normal_frag},sprite:{uniforms:oi([wi.sprite,wi.fog]),vertexShader:xi.sprite_vert,fragmentShader:xi.sprite_frag},background:{uniforms:{uvTransform:{value:new Pt},t2D:{value:null}},vertexShader:xi.background_vert,fragmentShader:xi.background_frag},cube:{uniforms:oi([wi.envmap,{opacity:{value:1}}]),vertexShader:xi.cube_vert,fragmentShader:xi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xi.equirect_vert,fragmentShader:xi.equirect_frag},distanceRGBA:{uniforms:oi([wi.common,wi.displacementmap,{referencePosition:{value:new Ot},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xi.distanceRGBA_vert,fragmentShader:xi.distanceRGBA_frag},shadow:{uniforms:oi([wi.lights,wi.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:xi.shadow_vert,fragmentShader:xi.shadow_frag}};function Ai(){var e=null,t=!1,r=null;function n(i,o){!1!==t&&(r(i,o),e.requestAnimationFrame(n))}return{start:function(){!0!==t&&null!==r&&(e.requestAnimationFrame(n),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function _i(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(r){r.isInterleavedBufferAttribute&&(r=r.data);var n=t.get(r);n&&(e.deleteBuffer(n.buffer),t.delete(r))},update:function(r,n){r.isInterleavedBufferAttribute&&(r=r.data);var i=t.get(r);void 0===i?t.set(r,function(t,r){var n=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,n,i),t.onUploadCallback();var a=5126;return n instanceof Float32Array?a=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?a=5123:n instanceof Int16Array?a=5122:n instanceof Uint32Array?a=5125:n instanceof Int32Array?a=5124:n instanceof Int8Array?a=5120:n instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}(r,n)):i.version<r.version&&(function(t,r,n){var i=r.array,o=r.updateRange;e.bindBuffer(n,t),-1===o.count?e.bufferSubData(n,0,i):(e.bufferSubData(n,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,r,n),i.version=r.version)}}}function Mi(e,t,r,n){ti.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new Si(e,t,r,n)),this.mergeVertices()}function Si(e,t,r,n){Ln.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(r)||1,l=Math.floor(n)||1,u=c+1,d=l+1,h=e/c,p=t/l,f=[],m=[],g=[],v=[];for(o=0;o<d;o++){var y=o*p-s;for(i=0;i<u;i++){var b=i*h-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-o/l)}}for(o=0;o<l;o++)for(i=0;i<c;i++){var x=i+u*o,w=i+u*(o+1),E=i+1+u*(o+1),A=i+1+u*o;f.push(x,w,A),f.push(w,E,A)}this.setIndex(f),this.setAttribute("position",new bn(m,3)),this.setAttribute("normal",new bn(g,3)),this.setAttribute("uv",new bn(v,2))}function Ti(e,t,r,n){var i,o,a=new tn(0),l=0,u=null,d=0;function h(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,n)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),h(a,l=void 0!==t?t:1)},getClearAlpha:function(){return l},setClearAlpha:function(e){h(a,l=e)},render:function(t,n,p,f){var m=n.background,g=e.xr,v=g.getSession&&g.getSession();if(v&&"additive"===v.environmentBlendMode&&(m=null),null===m?(h(a,l),u=null,d=0):m&&m.isColor&&(h(m,1),f=!0,u=null,d=0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLRenderTargetCube||m.mapping===ne)){void 0===o&&((o=new Yn(new ni(1,1,1),new li({type:"BackgroundCubeMaterial",uniforms:ii(Ei.cube.uniforms),vertexShader:Ei.cube.vertexShader,fragmentShader:Ei.cube.fragmentShader,side:c,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.envMap.value}}),r.update(o));var y=m.isWebGLRenderTargetCube?m.texture:m;o.material.envMap=y,u===m&&d===y.version||(o.material.needsUpdate=!0,u=m,d=y.version),t.unshift(o,o.geometry,o.material,0,0,null)}else m&&m.isTexture&&(void 0===i&&((i=new Yn(new Si(2,2),new li({type:"BackgroundMaterial",uniforms:ii(Ei.background.uniforms),vertexShader:Ei.background.vertexShader,fragmentShader:Ei.background.fragmentShader,side:s,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),i.material.uniforms.uvTransform.value.copy(m.matrix),u===m&&d===m.version||(i.material.needsUpdate=!0,u=m,d=m.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Ci(e,t,r,n){var i,o=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i)},this.renderInstances=function(n,a,s,c){if(0!==c){var l,u;if(o)l=e,u="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),u="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,a,s,c),r.update(s,i,c)}}}function Oi(e,t,r){var n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==r.precision?r.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===r.logarithmicDepthBuffer,l=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=o||!!t.get("OES_texture_float"),b=v&&y,x=o?e.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==n)return n;var r=t.get("EXT_texture_filter_anisotropic");return n=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:b,maxSamples:x}}function Li(){var e=this,t=null,r=0,n=!1,i=!1,o=new Fr,a=new Pt,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function l(t,r,n,i){var c=null!==t?t.length:0,l=null;if(0!==c){if(l=s.value,!0!==i||null===l){var u=n+4*c,d=r.matrixWorldInverse;a.getNormalMatrix(d),(null===l||l.length<u)&&(l=new Float32Array(u));for(var h=0,p=n;h!==c;++h,p+=4)o.copy(t[h]).applyMatrix4(d,a),o.normal.toArray(l,p),l[p+3]=o.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=c,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==r||n;return n=i,t=l(e,o,0),r=e.length,a},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,o,a,u,d,h){if(!n||null===e||0===e.length||i&&!a)i?l(null):c();else{var p=i?0:r,f=4*p,m=d.clippingState||null;s.value=m,m=l(e,u,f,h);for(var g=0;g!==f;++g)m[g]=t[g];d.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=p}}}function Ri(e){var t={};return{get:function(r){if(void 0!==t[r])return t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n,n}}}function Pi(e,t,r){var n=new WeakMap,i=new WeakMap;function o(e){var a=e.target,s=n.get(a);for(var c in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[c]);a.removeEventListener("dispose",o),n.delete(a);var l=i.get(s);l&&(t.remove(l),i.delete(s)),r.memory.geometries--}function a(e){var r=[],n=e.index,o=e.attributes.position,a=0;if(null!==n){var s=n.array;a=n.version;for(var c=0,l=s.length;c<l;c+=3){var u=s[c+0],d=s[c+1],h=s[c+2];r.push(u,d,d,h,h,u)}}else{var s=o.array;a=o.version;for(var c=0,l=s.length/3-1;c<l;c+=3){var u=c+0,d=c+1,h=c+2;r.push(u,d,d,h,h,u)}}var p=new(En(r)>65535?yn:gn)(r,1);p.version=a,t.update(p,34963);var f=i.get(e);f&&t.remove(f),i.set(e,p)}return{get:function(e,t){var i=n.get(t);return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Ln).setFromObject(e)),i=t._bufferGeometry),n.set(t,i),r.memory.geometries++,i)},update:function(e){var r=e.index,n=e.attributes;for(var i in null!==r&&t.update(r,34963),n)t.update(n[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,c=a.length;s<c;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&a(e)}else a(e);return i.get(e)}}}function ki(e,t,r,n){var i,o,a,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,o,t*a),r.update(n,i)},this.renderInstances=function(n,c,l,u){if(0!==u){var d,h;if(s)d=e,h="drawElementsInstanced";else if(d=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===d)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[h](i,l,o,c*a,u),r.update(l,i,u)}}}function ji(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(n=n||1,t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Di(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ii(e){var t={},r=new Float32Array(8);return{update:function(n,i,o,a){var s=n.morphTargetInfluences,c=void 0===s?0:s.length,l=t[i.id];if(void 0===l){l=[];for(var u=0;u<c;u++)l[u]=[u,0];t[i.id]=l}for(var d=o.morphTargets&&i.morphAttributes.position,h=o.morphNormals&&i.morphAttributes.normal,u=0;u<c;u++){var p=l[u];0!==p[1]&&(d&&i.deleteAttribute("morphTarget"+u),h&&i.deleteAttribute("morphNormal"+u))}for(var u=0;u<c;u++){var p=l[u];p[0]=u,p[1]=s[u]}l.sort(Di);for(var f=0,u=0;u<8;u++){var p=l[u];if(p){var m=p[0],g=p[1];if(g){d&&i.setAttribute("morphTarget"+u,d[m]),h&&i.setAttribute("morphNormal"+u,h[m]),r[u]=g,f+=g;continue}}r[u]=0}var v=i.morphTargetsRelative?1:1-f;a.getUniforms().setValue(e,"morphTargetBaseInfluence",v),a.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function Ni(e,t,r,n){var i={};return{update:function(e){var o=n.render.frame,a=e.geometry,s=t.get(e,a);return i[s.id]!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i[s.id]=o),e.isInstancedMesh&&r.update(e.instanceMatrix,34962),s},dispose:function(){i={}}}}function zi(e,t,r,n,i,o,a,s,c,l){e=void 0!==e?e:[],t=void 0!==t?t:J,a=void 0!==a?a:Te,Dt.call(this,e,t,r,n,i,o,a,s,c,l),this.flipY=!1}function Bi(e,t,r,n){Dt.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=ce,this.minFilter=ce,this.wrapR=ae,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Fi(e,t,r,n){Dt.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=ce,this.minFilter=ce,this.wrapR=ae,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Ei.physical={uniforms:oi([Ei.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new tn(0)},clearcoatNormalScale:{value:new Mt(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:xi.meshphysical_vert,fragmentShader:xi.meshphysical_frag},Mi.prototype=Object.create(ti.prototype),Mi.prototype.constructor=Mi,Si.prototype=Object.create(Ln.prototype),Si.prototype.constructor=Si,zi.prototype=Object.create(Dt.prototype),zi.prototype.constructor=zi,zi.prototype.isCubeTexture=!0,Object.defineProperty(zi.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Bi.prototype=Object.create(Dt.prototype),Bi.prototype.constructor=Bi,Bi.prototype.isDataTexture2DArray=!0,Fi.prototype=Object.create(Dt.prototype),Fi.prototype.constructor=Fi,Fi.prototype.isDataTexture3D=!0;var Ui=new Dt,Hi=new Bi,Gi=new Fi,Vi=new zi,Wi=[],qi=[],Xi=new Float32Array(16),Yi=new Float32Array(9),Ki=new Float32Array(4);function Qi(e,t,r){var n=e[0];if(n<=0||n>0)return e;var i=t*r,o=Wi[i];if(void 0===o&&(o=new Float32Array(i),Wi[i]=o),0!==t){n.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=r,e[a].toArray(o,s)}return o}function Zi(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ji(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function $i(e,t){var r=qi[t];void 0===r&&(r=new Int32Array(t),qi[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function eo(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function to(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Zi(r,t))return;e.uniform2fv(this.addr,t),Ji(r,t)}}function ro(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Zi(r,t))return;e.uniform3fv(this.addr,t),Ji(r,t)}}function no(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Zi(r,t))return;e.uniform4fv(this.addr,t),Ji(r,t)}}function io(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Zi(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ji(r,t)}else{if(Zi(r,n))return;Ki.set(n),e.uniformMatrix2fv(this.addr,!1,Ki),Ji(r,n)}}function oo(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Zi(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ji(r,t)}else{if(Zi(r,n))return;Yi.set(n),e.uniformMatrix3fv(this.addr,!1,Yi),Ji(r,n)}}function ao(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Zi(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ji(r,t)}else{if(Zi(r,n))return;Xi.set(n),e.uniformMatrix4fv(this.addr,!1,Xi),Ji(r,n)}}function so(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||Ui,i)}function co(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||Hi,i)}function lo(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||Gi,i)}function uo(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||Vi,i)}function ho(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function po(e,t){var r=this.cache;Zi(r,t)||(e.uniform2iv(this.addr,t),Ji(r,t))}function fo(e,t){var r=this.cache;Zi(r,t)||(e.uniform3iv(this.addr,t),Ji(r,t))}function mo(e,t){var r=this.cache;Zi(r,t)||(e.uniform4iv(this.addr,t),Ji(r,t))}function go(e,t){e.uniform1fv(this.addr,t)}function vo(e,t){e.uniform1iv(this.addr,t)}function yo(e,t){e.uniform2iv(this.addr,t)}function bo(e,t){e.uniform3iv(this.addr,t)}function xo(e,t){e.uniform4iv(this.addr,t)}function wo(e,t){var r=Qi(t,this.size,2);e.uniform2fv(this.addr,r)}function Eo(e,t){var r=Qi(t,this.size,3);e.uniform3fv(this.addr,r)}function Ao(e,t){var r=Qi(t,this.size,4);e.uniform4fv(this.addr,r)}function _o(e,t){var r=Qi(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function Mo(e,t){var r=Qi(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function So(e,t){var r=Qi(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function To(e,t,r){var n=t.length,i=$i(r,n);e.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.safeSetTexture2D(t[o]||Ui,i[o])}function Co(e,t,r){var n=t.length,i=$i(r,n);e.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.safeSetTextureCube(t[o]||Vi,i[o])}function Oo(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return eo;case 35664:return to;case 35665:return ro;case 35666:return no;case 35674:return io;case 35675:return oo;case 35676:return ao;case 35678:case 36198:return so;case 35679:return lo;case 35680:return uo;case 36289:return co;case 5124:case 35670:return ho;case 35667:case 35671:return po;case 35668:case 35672:return fo;case 35669:case 35673:return mo}}(t.type)}function Lo(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return go;case 35664:return wo;case 35665:return Eo;case 35666:return Ao;case 35674:return _o;case 35675:return Mo;case 35676:return So;case 35678:return To;case 35680:return Co;case 5124:case 35670:return vo;case 35667:case 35671:return yo;case 35668:case 35672:return bo;case 35669:case 35673:return xo}}(t.type)}function Ro(e){this.id=e,this.seq=[],this.map={}}Lo.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Ji(t,e)},Ro.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var a=n[i];a.setValue(e,t[a.id],r)}};var Po=/([\w\d_]+)(\])?(\[|\.)?/g;function ko(e,t){e.seq.push(t),e.map[t.id]=t}function jo(e,t,r){var n=e.name,i=n.length;for(Po.lastIndex=0;;){var o=Po.exec(n),a=Po.lastIndex,s=o[1],c="]"===o[2],l=o[3];if(c&&(s|=0),void 0===l||"["===l&&a+2===i){ko(r,void 0===l?new Oo(s,e,t):new Lo(s,e,t));break}var u=r.map,d=u[s];void 0===d&&(d=new Ro(s),ko(r,d)),r=d}}function Do(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n),o=e.getUniformLocation(t,i.name);jo(i,o,this)}}function Io(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}Do.prototype.setValue=function(e,t,r,n){var i=this.map[t];void 0!==i&&i.setValue(e,r,n)},Do.prototype.setOptional=function(e,t,r){var n=t[r];void 0!==n&&this.setValue(e,r,n)},Do.upload=function(e,t,r,n){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,n)}},Do.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var o=e[n];o.id in t&&r.push(o)}return r};var No=0;function zo(e){switch(e){case at:return["Linear","( value )"];case st:return["sRGB","( value )"];case lt:return["RGBE","( value )"];case dt:return["RGBM","( value, 7.0 )"];case ht:return["RGBM","( value, 16.0 )"];case pt:return["RGBD","( value, 256.0 )"];case ct:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case ut:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function Bo(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(n&&""===i)return"";var o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+function(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}(o)}function Fo(e,t){var r=zo(t);return"vec4 "+e+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function Uo(e,t){var r;switch(t){case X:r="Linear";break;case Y:r="Reinhard";break;case K:r="Uncharted2";break;case Q:r="OptimizedCineon";break;case Z:r="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Ho(e){return""!==e}function Go(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Vo(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Wo=/^[ \t]*#include +<([\w\d.\/]+)>/gm;function qo(e){return e.replace(Wo,Xo)}function Xo(e,t){var r=xi[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return qo(r)}var Yo=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function Ko(e){return e.replace(Yo,Qo)}function Qo(e,t,r,n){for(var i="",o=parseInt(t);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Zo(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Jo(e,t,r,n,s,c){var l,u,d,h,p,f=e.getContext(),m=n.defines,g=s.vertexShader,v=s.fragmentShader,y=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===i?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===o?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===a&&(t="SHADOWMAP_TYPE_VSM"),t}(c),b=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case J:case $:t="ENVMAP_TYPE_CUBE";break;case ne:case ie:t="ENVMAP_TYPE_CUBE_UV";break;case ee:case te:t="ENVMAP_TYPE_EQUIREC";break;case re:t="ENVMAP_TYPE_SPHERE"}return t}(c),x=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case $:case te:t="ENVMAP_MODE_REFRACTION"}return t}(c),w=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case G:t="ENVMAP_BLENDING_MULTIPLY";break;case V:t="ENVMAP_BLENDING_MIX";break;case W:t="ENVMAP_BLENDING_ADD"}return t}(c),E=e.gammaFactor>0?e.gammaFactor:1,A=c.isWebGL2?"":function(e,t,r){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ho).join("\n")}(n.extensions,c,t),_=function(e){var t=[];for(var r in e){var n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(m),M=f.createProgram(),S=c.numMultiviewViews;if(n.isRawShaderMaterial?((l=[_].filter(Ho).join("\n")).length>0&&(l+="\n"),(u=[A,_].filter(Ho).join("\n")).length>0&&(u+="\n")):(l=[Zo(c),"#define SHADER_NAME "+s.name,_,c.instancing?"#define USE_INSTANCING":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+E,"#define MAX_BONES "+c.maxBones,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+x:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&!1===c.flatShading?"#define USE_MORPHNORMALS":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+y:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&(c.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ho).join("\n"),u=[A,Zo(c),"#define SHADER_NAME "+s.name,_,c.alphaTest?"#define ALPHATEST "+c.alphaTest+(c.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+E,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+b:"",c.envMap?"#define "+x:"",c.envMap?"#define "+w:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.sheen?"#define USE_SHEEN":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+y:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&(c.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensions&&n.extensions.shaderTextureLOD||c.envMap)&&(c.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",c.toneMapping!==q?"#define TONE_MAPPING":"",c.toneMapping!==q?xi.tonemapping_pars_fragment:"",c.toneMapping!==q?Uo("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",c.outputEncoding||c.mapEncoding||c.matcapEncoding||c.envMapEncoding||c.emissiveMapEncoding||c.lightMapEncoding?xi.encodings_pars_fragment:"",c.mapEncoding?Fo("mapTexelToLinear",c.mapEncoding):"",c.matcapEncoding?Fo("matcapTexelToLinear",c.matcapEncoding):"",c.envMapEncoding?Fo("envMapTexelToLinear",c.envMapEncoding):"",c.emissiveMapEncoding?Fo("emissiveMapTexelToLinear",c.emissiveMapEncoding):"",c.lightMapEncoding?Fo("lightMapTexelToLinear",c.lightMapEncoding):"",c.outputEncoding?(d="linearToOutputTexel",h=c.outputEncoding,p=zo(h),"vec4 "+d+"( vec4 value ) { return LinearTo"+p[0]+p[1]+"; }"):"",c.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ho).join("\n")),g=Vo(g=Go(g=qo(g),c),c),v=Vo(v=Go(v=qo(v),c),c),g=Ko(g),v=Ko(v),c.isWebGL2&&!n.isRawShaderMaterial){var T=!1,C=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==g.match(C)&&null!==v.match(C)&&(T=!0,g=g.replace(C,""),v=v.replace(C,"")),l=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+l,u=["#version 300 es\n","#define varying in",T?"":"out highp vec4 pc_fragColor;",T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+u,S>0&&(l=(l=l.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+S+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+S+"];","uniform mat4 projectionMatrices["+S+"];","uniform mat4 viewMatrices["+S+"];","uniform mat3 normalMatrices["+S+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),u=(u=u.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+S+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var O,L,R=l+g,P=u+v,k=Io(f,35633,R),j=Io(f,35632,P);if(f.attachShader(M,k),f.attachShader(M,j),void 0!==n.index0AttributeName?f.bindAttribLocation(M,0,n.index0AttributeName):!0===c.morphTargets&&f.bindAttribLocation(M,0,"position"),f.linkProgram(M),e.debug.checkShaderErrors){var D=f.getProgramInfoLog(M).trim(),I=f.getShaderInfoLog(k).trim(),N=f.getShaderInfoLog(j).trim(),z=!0,B=!0;if(!1===f.getProgramParameter(M,35714)){z=!1;var F=Bo(f,k,"vertex"),U=Bo(f,j,"fragment");console.error("THREE.WebGLProgram: shader error: ",f.getError(),"35715",f.getProgramParameter(M,35715),"gl.getProgramInfoLog",D,F,U)}else""!==D?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",D):""!==I&&""!==N||(B=!1);B&&(this.diagnostics={runnable:z,material:n,programLog:D,vertexShader:{log:I,prefix:l},fragmentShader:{log:N,prefix:u}})}return f.deleteShader(k),f.deleteShader(j),this.getUniforms=function(){return void 0===O&&(O=new Do(f,M)),O},this.getAttributes=function(){return void 0===L&&(L=function(e,t){for(var r={},n=e.getProgramParameter(t,35721),i=0;i<n;i++){var o=e.getActiveAttrib(t,i),a=o.name;r[a]=e.getAttribLocation(t,a)}return r}(f,M)),L},this.destroy=function(){f.deleteProgram(M),this.program=void 0},this.name=s.name,this.id=No++,this.cacheKey=r,this.usedTimes=1,this.program=M,this.vertexShader=k,this.fragmentShader=j,this.numMultiviewViews=S,this}function $o(e,t,r){var n=[],i=r.isWebGL2,o=r.logarithmicDepthBuffer,a=r.floatVertexTextures,s=r.precision,u=r.maxVertexUniforms,d=r.vertexTextures,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function f(e,t){var r;return e?e.isTexture?r=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),r=e.texture.encoding):r=at,r===at&&t&&(r=ct),r}this.getParameters=function(t,n,p,m,g,v,y){var b=h[t.type],x=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(a)return 1024;var r=u,n=Math.floor((r-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(y):0;null!==t.precision&&(s=r.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",s,"instead.");var w=e.getRenderTarget(),E=w&&w.isWebGLMultiviewRenderTarget?w.numViews:0,A={isWebGL2:i,shaderID:b,precision:s,instancing:!0===y.isInstancedMesh,supportsVertexTextures:d,numMultiviewViews:E,outputEncoding:f(w?w.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:f(t.map),matcap:!!t.matcap,matcapEncoding:f(t.matcap),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:f(t.envMap),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===ne||t.envMap.mapping===ie),lightMap:!!t.lightMap,lightMapEncoding:f(t.lightMap),aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:f(t.emissiveMap),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===vt,tangentSpaceNormalMap:t.normalMapType===gt,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||t.displacementMap),uvsVertexOnly:!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||!t.displacementMap),fog:!!m,useFog:t.fog,fogExp2:m&&m.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:o,skinning:t.skinning&&x>0,maxBones:x,useVertexTexture:a,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:n.directional.length,numPointLights:n.point.length,numSpotLights:n.spot.length,numRectAreaLights:n.rectArea.length,numHemiLights:n.hemi.length,numDirLightShadows:n.directionalShadowMap.length,numPointLightShadows:n.pointShadowMap.length,numSpotLightShadows:n.spotShadowMap.length,numClippingPlanes:g,numClipIntersection:v,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:q,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===l,flipSided:t.side===c,depthPacking:void 0!==t.depthPacking&&t.depthPacking};return A},this.getProgramCacheKey=function(t,r){var n=[];if(r.shaderID?n.push(r.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);for(var o=0;o<p.length;o++)n.push(r[p[o]]);return n.push(t.onBeforeCompile.toString()),n.push(e.gammaOutput),n.push(e.gammaFactor),n.join()},this.acquireProgram=function(r,i,o,a){for(var s,c=0,l=n.length;c<l;c++){var u=n[c];if(u.cacheKey===a){++(s=u).usedTimes;break}}return void 0===s&&(s=new Jo(e,t,a,r,i,o),n.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=n.indexOf(e);n[t]=n[n.length-1],n.pop(),e.destroy()}},this.programs=n}function ea(){var e=new WeakMap;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function ta(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ra(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function na(){var e=[],t=0,r=[],n=[],i={id:-1};function o(r,n,o,a,s,c){var l=e[t];return void 0===l?(l={id:r.id,object:r,geometry:n,material:o,program:o.program||i,groupOrder:a,renderOrder:r.renderOrder,z:s,group:c},e[t]=l):(l.id=r.id,l.object=r,l.geometry=n,l.material=o,l.program=o.program||i,l.groupOrder=a,l.renderOrder=r.renderOrder,l.z=s,l.group=c),t++,l}return{opaque:r,transparent:n,init:function(){t=0,r.length=0,n.length=0},push:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?n:r).push(l)},unshift:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?n:r).unshift(l)},sort:function(){r.length>1&&r.sort(ta),n.length>1&&n.sort(ra)}}}function ia(){var e=new WeakMap;function t(r){var n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){var i,o=e.get(r);return void 0===o?(i=new na,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):void 0===(i=o.get(n))&&(i=new na,o.set(n,i)),i},dispose:function(){e=new WeakMap}}}function oa(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new Ot,color:new tn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"SpotLight":r={position:new Ot,direction:new Ot,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"PointLight":r={position:new Ot,color:new tn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Mt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":r={direction:new Ot,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":r={color:new tn,position:new Ot,halfWidth:new Ot,halfHeight:new Ot}}return e[t.id]=r,r}}}var aa=0;function sa(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ca(){for(var e=new oa,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},r=0;r<9;r++)t.probe.push(new Ot);var n=new Ot,i=new qt,o=new qt;return{setup:function(r,a,s){for(var c=0,l=0,u=0,d=0;d<9;d++)t.probe[d].set(0,0,0);var h=0,p=0,f=0,m=0,g=0,v=0,y=0,b=0,x=s.matrixWorldInverse;r.sort(sa);for(var d=0,w=r.length;d<w;d++){var E=r[d],A=E.color,_=E.intensity,M=E.distance,S=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)c+=A.r*_,l+=A.g*_,u+=A.b*_;else if(E.isLightProbe)for(var T=0;T<9;T++)t.probe[T].addScaledVector(E.sh.coefficients[T],_);else if(E.isDirectionalLight){var C=e.get(E);if(C.color.copy(E.color).multiplyScalar(E.intensity),C.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(n),C.direction.transformDirection(x),C.shadow=E.castShadow,E.castShadow){var O=E.shadow;C.shadowBias=O.bias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,t.directionalShadowMap[h]=S,t.directionalShadowMatrix[h]=E.shadow.matrix,v++}t.directional[h]=C,h++}else if(E.isSpotLight){var C=e.get(E);if(C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(x),C.color.copy(A).multiplyScalar(_),C.distance=M,C.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(n),C.direction.transformDirection(x),C.coneCos=Math.cos(E.angle),C.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),C.decay=E.decay,C.shadow=E.castShadow,E.castShadow){var O=E.shadow;C.shadowBias=O.bias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,t.spotShadowMap[f]=S,t.spotShadowMatrix[f]=E.shadow.matrix,b++}t.spot[f]=C,f++}else if(E.isRectAreaLight){var C=e.get(E);C.color.copy(A).multiplyScalar(_),C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(x),o.identity(),i.copy(E.matrixWorld),i.premultiply(x),o.extractRotation(i),C.halfWidth.set(.5*E.width,0,0),C.halfHeight.set(0,.5*E.height,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),t.rectArea[m]=C,m++}else if(E.isPointLight){var C=e.get(E);if(C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(x),C.color.copy(E.color).multiplyScalar(E.intensity),C.distance=E.distance,C.decay=E.decay,C.shadow=E.castShadow,E.castShadow){var O=E.shadow;C.shadowBias=O.bias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,C.shadowCameraNear=O.camera.near,C.shadowCameraFar=O.camera.far,t.pointShadowMap[p]=S,t.pointShadowMatrix[p]=E.shadow.matrix,y++}t.point[p]=C,p++}else if(E.isHemisphereLight){var C=e.get(E);C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(x),C.direction.normalize(),C.skyColor.copy(E.color).multiplyScalar(_),C.groundColor.copy(E.groundColor).multiplyScalar(_),t.hemi[g]=C,g++}}t.ambient[0]=c,t.ambient[1]=l,t.ambient[2]=u;var L=t.hash;L.directionalLength===h&&L.pointLength===p&&L.spotLength===f&&L.rectAreaLength===m&&L.hemiLength===g&&L.numDirectionalShadows===v&&L.numPointShadows===y&&L.numSpotShadows===b||(t.directional.length=h,t.spot.length=f,t.rectArea.length=m,t.point.length=p,t.hemi.length=g,t.directionalShadowMap.length=v,t.pointShadowMap.length=y,t.spotShadowMap.length=b,t.directionalShadowMatrix.length=v,t.pointShadowMatrix.length=y,t.spotShadowMatrix.length=b,L.directionalLength=h,L.pointLength=p,L.spotLength=f,L.rectAreaLength=m,L.hemiLength=g,L.numDirectionalShadows=v,L.numPointShadows=y,L.numSpotShadows=b,t.version=aa++)},state:t}}function la(){var e=new ca,t=[],r=[],n={lightsArray:t,shadowsArray:r,lights:e};return{init:function(){t.length=0,r.length=0},state:n,setupLights:function(n){e.setup(t,r,n)},pushLight:function(e){t.push(e)},pushShadow:function(e){r.push(e)}}}function ua(){var e=new WeakMap;function t(r){var n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){var i;return!1===e.has(r)?(i=new la,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):!1===e.get(r).has(n)?(i=new la,e.get(r).set(n,i)):i=e.get(r).get(n),i},dispose:function(){e=new WeakMap}}}function da(e){cn.call(this),this.type="MeshDepthMaterial",this.depthPacking=ft,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function ha(e){cn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ot,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}da.prototype=Object.create(cn.prototype),da.prototype.constructor=da,da.prototype.isMeshDepthMaterial=!0,da.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ha.prototype=Object.create(cn.prototype),ha.prototype.constructor=ha,ha.prototype.isMeshDistanceMaterial=!0,ha.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var pa="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpack2HalfToRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",fa="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function ma(e,t,r){var n=new bi,o=new Mt,u=new Mt,d=new It,h=[],f=[],m={},g={0:c,1:s,2:l},v=new li({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Mt},radius:{value:4}},vertexShader:fa,fragmentShader:pa}),y=v.clone();y.defines.HORIZONAL_PASS=1;var b=new Ln;b.setAttribute("position",new dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var x=new Yn(b,v),w=this;function E(r,n){var i=t.update(x);v.uniforms.shadow_pass.value=r.map.texture,v.uniforms.resolution.value=r.mapSize,v.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,v,x,null),y.uniforms.shadow_pass.value=r.mapPass.texture,y.uniforms.resolution.value=r.mapSize,y.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,y,x,null)}function A(e,t,r){var n=e<<0|t<<1|r<<2,i=h[n];return void 0===i&&(i=new da({depthPacking:mt,morphTargets:e,skinning:t}),h[n]=i),i}function _(e,t,r){var n=e<<0|t<<1|r<<2,i=f[n];return void 0===i&&(i=new ha({morphTargets:e,skinning:t}),f[n]=i),i}function M(t,r,n,i,o,s){var c=t.geometry,l=null,u=A,d=t.customDepthMaterial;if(!0===n.isPointLight&&(u=_,d=t.customDistanceMaterial),void 0===d){var h=!1;!0===r.morphTargets&&(!0===c.isBufferGeometry?h=c.morphAttributes&&c.morphAttributes.position&&c.morphAttributes.position.length>0:!0===c.isGeometry&&(h=c.morphTargets&&c.morphTargets.length>0));var p=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));var f=!0===t.isInstancedMesh;l=u(h,p,f)}else l=d;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var v=l.uuid,y=r.uuid,b=m[v];void 0===b&&(b={},m[v]=b);var x=b[y];void 0===x&&(x=l.clone(),b[y]=x),l=x}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=s===a?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:g[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===n.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(n.matrixWorld),l.nearDistance=i,l.farDistance=o),l}function S(r,i,o,s,c){if(!1!==r.visible){var l=r.layers.test(i.layers);if(l&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&c===a)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var u=t.update(r),d=r.material;if(Array.isArray(d))for(var h=u.groups,p=0,f=h.length;p<f;p++){var m=h[p],g=d[m.materialIndex];if(g&&g.visible){var v=M(r,g,s,o.near,o.far,c);e.renderBufferDirect(o,null,u,v,r,m)}}else if(d.visible){var v=M(r,d,s,o.near,o.far,c);e.renderBufferDirect(o,null,u,v,r,null)}}for(var y=r.children,b=0,x=y.length;b<x;b++)S(y[b],i,o,s,c)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=i,this.render=function(t,i,s){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==t.length){var c=e.getRenderTarget(),l=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.state;f.setBlending(p),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var m=0,g=t.length;m<g;m++){var v=t[m],y=v.shadow;if(void 0!==y){o.copy(y.mapSize);var b=y.getFrameExtents();if(o.multiply(b),u.copy(y.mapSize),(o.x>r||o.y>r)&&(console.warn("THREE.WebGLShadowMap:",v,"has shadow exceeding max texture size, reducing"),o.x>r&&(u.x=Math.floor(r/b.x),o.x=u.x*b.x,y.mapSize.x=u.x),o.y>r&&(u.y=Math.floor(r/b.y),o.y=u.y*b.y,y.mapSize.y=u.y)),null===y.map&&!y.isPointLightShadow&&this.type===a){var x={minFilter:de,magFilter:de,format:Ce};y.map=new Nt(o.x,o.y,x),y.map.texture.name=v.name+".shadowMap",y.mapPass=new Nt(o.x,o.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){var x={minFilter:ce,magFilter:ce,format:Ce};y.map=new Nt(o.x,o.y,x),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var A=y.getViewportCount(),_=0;_<A;_++){var M=y.getViewport(_);d.set(u.x*M.x,u.y*M.y,u.x*M.z,u.y*M.w),f.viewport(d),y.updateMatrices(v,_),n=y.getFrustum(),S(i,s,y.camera,v,this.type)}y.isPointLightShadow||this.type!==a||E(y,s)}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}w.needsUpdate=!1,e.setRenderTarget(c,l,h)}}}function ga(e,i,o){var a=o.isWebGL2,s=new function(){var t=!1,r=new It,n=null,i=new It(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,o,a,s){!0===s&&(t*=a,n*=a,o*=a),r.set(t,n,o,a),!1===i.equals(r)&&(e.clearColor(t,n,o,a),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},u=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?be(2929):xe(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case D:e.depthFunc(512);break;case I:e.depthFunc(519);break;case N:e.depthFunc(513);break;case z:e.depthFunc(515);break;case B:e.depthFunc(514);break;case F:e.depthFunc(518);break;case U:e.depthFunc(516);break;case H:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},d=new function(){var t=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null;return{setTest:function(e){t||(e?be(2960):xe(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,a){n===t&&i===r&&o===a||(e.stencilFunc(t,r,a),n=t,i=r,o=a)},setOp:function(t,r,n){a===t&&s===r&&c===n||(e.stencilOp(t,r,n),a=t,s=r,c=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null}}},h=e.getParameter(34921),G=new Uint8Array(h),V=new Uint8Array(h),W=new Uint8Array(h),q={},X=null,Y=null,K=null,Q=null,Z=null,J=null,$=null,ee=null,te=null,re=!1,ne=null,ie=null,oe=null,ae=null,se=null,ce=e.getParameter(35661),le=!1,ue=0,de=e.getParameter(7938);-1!==de.indexOf("WebGL")?(ue=parseFloat(/^WebGL\ ([0-9])/.exec(de)[1]),le=ue>=1):-1!==de.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(de)[1]),le=ue>=2);var he=null,pe={},fe=new It,me=new It;function ge(t,r,n){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<n;a++)e.texImage2D(r+a,0,6408,1,1,0,6408,5121,i);return o}var ve={};function ye(t,r){if(G[t]=1,0===V[t]&&(e.enableVertexAttribArray(t),V[t]=1),W[t]!==r){var n=a?e:i.get("ANGLE_instanced_arrays");n[a?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](t,r),W[t]=r}}function be(t){!0!==q[t]&&(e.enable(t),q[t]=!0)}function xe(t){!1!==q[t]&&(e.disable(t),q[t]=!1)}ve[3553]=ge(3553,3553,1),ve[34067]=ge(34067,34069,6),s.setClear(0,0,0,1),u.setClear(1),d.setClear(0),be(2929),u.setFunc(z),Me(!1),Se(r),be(2884),_e(p);var we={};if(we[b]=32774,we[x]=32778,we[w]=32779,a)we[E]=32775,we[A]=32776;else{var Ee=i.get("EXT_blend_minmax");null!==Ee&&(we[E]=Ee.MIN_EXT,we[A]=Ee.MAX_EXT)}var Ae={};function _e(t,r,n,i,o,a,s,c){if(t!==p){if(Y||(be(3042),Y=!0),t===y)o=o||r,a=a||n,s=s||i,r===Q&&o===$||(e.blendEquationSeparate(we[r],we[o]),Q=r,$=o),n===Z&&i===J&&a===ee&&s===te||(e.blendFuncSeparate(Ae[n],Ae[i],Ae[a],Ae[s]),Z=n,J=i,ee=a,te=s),K=t,re=null;else if(t!==K||c!==re){if(Q===b&&$===b||(e.blendEquation(32774),Q=b,$=b),c)switch(t){case f:e.blendFuncSeparate(1,771,1,771);break;case m:e.blendFunc(1,1);break;case g:e.blendFuncSeparate(0,0,769,771);break;case v:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case f:e.blendFuncSeparate(770,771,1,771);break;case m:e.blendFunc(770,1);break;case g:e.blendFunc(0,769);break;case v:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}Z=null,J=null,ee=null,te=null,K=t,re=c}}else Y&&(xe(3042),Y=!1)}function Me(t){ne!==t&&(t?e.frontFace(2304):e.frontFace(2305),ne=t)}function Se(i){i!==t?(be(2884),i!==ie&&(i===r?e.cullFace(1029):i===n?e.cullFace(1028):e.cullFace(1032))):xe(2884),ie=i}function Te(t,r,n){t?(be(32823),ae===r&&se===n||(e.polygonOffset(r,n),ae=r,se=n)):xe(32823)}function Ce(t){void 0===t&&(t=33984+ce-1),he!==t&&(e.activeTexture(t),he=t)}return Ae[_]=0,Ae[M]=1,Ae[S]=768,Ae[C]=770,Ae[j]=776,Ae[P]=774,Ae[L]=772,Ae[T]=769,Ae[O]=771,Ae[k]=775,Ae[R]=773,{buffers:{color:s,depth:u,stencil:d},initAttributes:function(){for(var e=0,t=G.length;e<t;e++)G[e]=0},enableAttribute:function(e){ye(e,0)},enableAttributeAndDivisor:ye,disableUnusedAttributes:function(){for(var t=0,r=V.length;t!==r;++t)V[t]!==G[t]&&(e.disableVertexAttribArray(t),V[t]=0)},enable:be,disable:xe,useProgram:function(t){return X!==t&&(e.useProgram(t),X=t,!0)},setBlending:_e,setMaterial:function(e,t){e.side===l?xe(2884):be(2884);var r=e.side===c;t&&(r=!r),Me(r),e.blending===f&&!1===e.transparent?_e(p):_e(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),u.setFunc(e.depthFunc),u.setTest(e.depthTest),u.setMask(e.depthWrite),s.setMask(e.colorWrite);var n=e.stencilWrite;d.setTest(n),n&&(d.setMask(e.stencilWriteMask),d.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),d.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Te(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Me,setCullFace:Se,setLineWidth:function(t){t!==oe&&(le&&e.lineWidth(t),oe=t)},setPolygonOffset:Te,setScissorTest:function(e){e?be(3089):xe(3089)},activeTexture:Ce,bindTexture:function(t,r){null===he&&Ce();var n=pe[he];void 0===n&&(n={type:void 0,texture:void 0},pe[he]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||ve[t]),n.type=t,n.texture=r)},unbindTexture:function(){var t=pe[he];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===fe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),fe.copy(t))},viewport:function(t){!1===me.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),me.copy(t))},reset:function(){for(var t=0;t<V.length;t++)1===V[t]&&(e.disableVertexAttribArray(t),V[t]=0);q={},he=null,pe={},X=null,K=null,ne=null,ie=null,s.reset(),u.reset(),d.reset()}}}function va(e,t,r,n,i,o,a){var s,c=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,p=new WeakMap,f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?_t.floorPowerOfTwo:Math.floor,a=o(i*e.width),c=o(i*e.height);void 0===s&&(s=m(a,c));var l=r?m(a,c):s;l.width=a,l.height=c;var u=l.getContext("2d");return u.drawImage(e,0,0,a,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+c+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function v(e){return _t.isPowerOfTwo(e.width)&&_t.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==ce&&e.minFilter!==de}function b(t,r,i,o){e.generateMipmap(t);var a=n.get(r);a.__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function x(e,r){if(!1===c)return e;var n=e;return 6403===e&&(5126===r&&(n=33326),5131===r&&(n=33325),5121===r&&(n=33321)),6407===e&&(5126===r&&(n=34837),5131===r&&(n=34843),5121===r&&(n=32849)),6408===e&&(5126===r&&(n=34836),5131===r&&(n=34842),5121===r&&(n=32856)),33325===n||33326===n||34842===n||34836===n?t.get("EXT_color_buffer_float"):34843!==n&&34837!==n||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),n}function w(e){return e===ce||e===le||e===ue?9728:9729}function E(t){var r=t.target;r.removeEventListener("dispose",E),function(t){var r=n.get(t);void 0!==r.__webglInit&&(e.deleteTexture(r.__webglTexture),n.remove(t))}(r),r.isVideoTexture&&p.delete(r),a.memory.textures--}function A(t){var r=t.target;r.removeEventListener("dispose",A),function(t){var r=n.get(t),i=n.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[o]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(r.__webglColorTexture),e.deleteTexture(r.__webglDepthStencilTexture),a.memory.textures-=2;for(var o=0,s=r.__webglViewFramebuffers.length;o<s;o++)e.deleteFramebuffer(r.__webglViewFramebuffers[o])}n.remove(t.texture),n.remove(t)}}(r),a.memory.textures--}var _=0;function M(e,t){var i=n.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void P(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function S(t,i){if(6===t.image.length){var a=n.get(t);if(t.version>0&&a.__version!==t.version){R(a,t),r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&t.isCompressedTexture,l=t.image[0]&&t.image[0].isDataTexture,d=[],h=0;h<6;h++)d[h]=s||l?l?t.image[h].image:t.image[h]:g(t.image[h],!1,!0,u);var p,f=d[0],m=v(f)||c,w=o.convert(t.format),E=o.convert(t.type),A=x(w,E);if(L(34067,t,m),s){for(var h=0;h<6;h++){p=d[h].mipmaps;for(var _=0;_<p.length;_++){var M=p[_];t.format!==Ce&&t.format!==Te?null!==w?r.compressedTexImage2D(34069+h,_,A,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+h,_,A,M.width,M.height,0,w,E,M.data)}}a.__maxMipLevel=p.length-1}else{p=t.mipmaps;for(var h=0;h<6;h++)if(l){r.texImage2D(34069+h,0,A,d[h].width,d[h].height,0,w,E,d[h].data);for(var _=0;_<p.length;_++){var M=p[_],S=M.image[h].image;r.texImage2D(34069+h,_+1,A,S.width,S.height,0,w,E,S.data)}}else{r.texImage2D(34069+h,0,A,w,E,d[h]);for(var _=0;_<p.length;_++){var M=p[_];r.texImage2D(34069+h,_+1,A,w,E,M.image[h])}}a.__maxMipLevel=p.length}y(t,m)&&b(34067,t,f.width,f.height),a.__version=t.version,t.onUpdate&&t.onUpdate(t)}else r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture)}}function T(e,t){r.activeTexture(33984+t),r.bindTexture(34067,n.get(e).__webglTexture)}var C={};C[oe]=10497,C[ae]=33071,C[se]=33648;var O={};function L(r,o,a){a?(e.texParameteri(r,10242,C[o.wrapS]),e.texParameteri(r,10243,C[o.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,C[o.wrapR]),e.texParameteri(r,10240,O[o.magFilter]),e.texParameteri(r,10241,O[o.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),o.wrapS===ae&&o.wrapT===ae||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,w(o.magFilter)),e.texParameteri(r,10241,w(o.minFilter)),o.minFilter!==ce&&o.minFilter!==de&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(o.type===xe&&null===t.get("OES_texture_float_linear"))return;if(o.type===we&&null===(c||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(e.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function R(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",E),t.__webglTexture=e.createTexture(),a.memory.textures++)}function P(t,n,i){var a=3553;n.isDataTexture2DArray&&(a=35866),n.isDataTexture3D&&(a=32879),R(t,n),r.activeTexture(33984+i),r.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment);var s=function(e){return!c&&(e.wrapS!==ae||e.wrapT!==ae||e.minFilter!==ce&&e.minFilter!==de)}(n)&&!1===v(n.image),l=g(n.image,s,!1,d),u=v(l)||c,h=o.convert(n.format),p=o.convert(n.type),f=x(h,p);L(a,n,u);var m,w=n.mipmaps;if(n.isDepthTexture){if(f=6402,n.type===xe){if(!1===c)throw new Error("Float Depth Texture only supported in WebGL2.0");f=36012}else c&&(f=33189);n.format===Pe&&6402===f&&n.type!==ve&&n.type!==be&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=ve,p=o.convert(n.type)),n.format===ke&&(f=34041,n.type!==Me&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Me,p=o.convert(n.type))),r.texImage2D(3553,0,f,l.width,l.height,0,h,p,null)}else if(n.isDataTexture)if(w.length>0&&u){for(var E=0,A=w.length;E<A;E++)m=w[E],r.texImage2D(3553,E,f,m.width,m.height,0,h,p,m.data);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,f,l.width,l.height,0,h,p,l.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(var E=0,A=w.length;E<A;E++)m=w[E],n.format!==Ce&&n.format!==Te?null!==h?r.compressedTexImage2D(3553,E,f,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,E,f,m.width,m.height,0,h,p,m.data);t.__maxMipLevel=w.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,f,l.width,l.height,l.depth,0,h,p,l.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,f,l.width,l.height,l.depth,0,h,p,l.data),t.__maxMipLevel=0;else if(w.length>0&&u){for(var E=0,A=w.length;E<A;E++)m=w[E],r.texImage2D(3553,E,f,h,p,m);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,f,h,p,l),t.__maxMipLevel=0;y(n,u)&&b(3553,n,l.width,l.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function k(t,i,a,s){var c=o.convert(i.texture.format),l=o.convert(i.texture.type),u=x(c,l);r.texImage2D(s,0,u,i.width,i.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,n.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function j(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){if(n){var i=I(r);e.renderbufferStorageMultisample(36161,i,33189,r.width,r.height)}else e.renderbufferStorage(36161,33189,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){if(n){var i=I(r);e.renderbufferStorageMultisample(36161,i,35056,r.width,r.height)}else e.renderbufferStorage(36161,34041,r.width,r.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=o.convert(r.texture.format),s=o.convert(r.texture.type),c=x(a,s);if(n){var i=I(r);e.renderbufferStorageMultisample(36161,i,c,r.width,r.height)}else e.renderbufferStorage(36161,c,r.width,r.height)}e.bindRenderbuffer(36161,null)}function D(t){var r=n.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),M(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===Pe)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(r.depthTexture.format!==ke)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(r.__webglFramebuffer,t)}else if(i){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=e.createRenderbuffer(),j(r.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),j(r.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function I(e){return c&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}O[ce]=9728,O[le]=9984,O[ue]=9986,O[de]=9729,O[he]=9985,O[pe]=9987;var N=!1,z=!1;this.allocateTextureUnit=function(){var e=_;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),_+=1,e},this.resetTextureUnits=function(){_=0},this.setTexture2D=M,this.setTexture2DArray=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=S,this.setTextureCubeDynamic=T,this.setupRenderTarget=function(i){var s=n.get(i),l=n.get(i.texture);i.addEventListener("dispose",A),l.__webglTexture=e.createTexture(),a.memory.textures++;var u=!0===i.isWebGLRenderTargetCube,d=!0===i.isWebGLMultisampleRenderTarget,h=!0===i.isWebGLMultiviewRenderTarget,p=v(i)||c;if(u){s.__webglFramebuffer=[];for(var f=0;f<6;f++)s.__webglFramebuffer[f]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),d)if(c){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var m=o.convert(i.texture.format),g=o.convert(i.texture.type),w=x(m,g),E=I(i);e.renderbufferStorageMultisample(36161,E,w,i.width,i.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),i.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),j(s.__webglDepthRenderbuffer,i,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(h){var _=i.width,M=i.height,S=i.numViews;e.bindFramebuffer(36160,s.__webglFramebuffer);var T=t.get("OVR_multiview2");a.memory.textures+=2;var C=e.createTexture();e.bindTexture(35866,C),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,_,M,S,0,6408,5121,null),T.framebufferTextureMultiviewOVR(36160,36064,C,0,0,S);var O=e.createTexture();e.bindTexture(35866,O),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,_,M,S,0,34041,34042,null),T.framebufferTextureMultiviewOVR(36160,33306,O,0,0,S);for(var R=new Array(S),f=0;f<S;++f)R[f]=e.createFramebuffer(),e.bindFramebuffer(36160,R[f]),e.framebufferTextureLayer(36160,36064,C,0,f);s.__webglColorTexture=C,s.__webglDepthStencilTexture=O,s.__webglViewFramebuffers=R,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(u){r.bindTexture(34067,l.__webglTexture),L(34067,i.texture,p);for(var f=0;f<6;f++)k(s.__webglFramebuffer[f],i,36064,34069+f);y(i.texture,p)&&b(34067,i.texture,i.width,i.height),r.bindTexture(34067,null)}else h||(r.bindTexture(3553,l.__webglTexture),L(3553,i.texture,p),k(s.__webglFramebuffer,i,36064,3553),y(i.texture,p)&&b(3553,i.texture,i.width,i.height),r.bindTexture(3553,null));i.depthBuffer&&D(i)},this.updateRenderTargetMipmap=function(e){var t=e.texture,i=v(e)||c;if(y(t,i)){var o=e.isWebGLRenderTargetCube?34067:3553,a=n.get(t).__webglTexture;r.bindTexture(o,a),b(o,t,e.width,e.height),r.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(c){var r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),e=e.texture),M(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?S(e,t):T(e,t)}}function ya(e,t,r){var n=r.isWebGL2;return{convert:function(e){var r;if(e===fe)return 5121;if(e===Ee)return 32819;if(e===Ae)return 32820;if(e===_e)return 33635;if(e===me)return 5120;if(e===ge)return 5122;if(e===ve)return 5123;if(e===ye)return 5124;if(e===be)return 5125;if(e===xe)return 5126;if(e===we)return n?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(e===Se)return 6406;if(e===Te)return 6407;if(e===Ce)return 6408;if(e===Oe)return 6409;if(e===Le)return 6410;if(e===Pe)return 6402;if(e===ke)return 34041;if(e===je)return 6403;if(e===De||e===Ie||e===Ne||e===ze){if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===De)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ie)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ne)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===ze)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Be||e===Fe||e===Ue||e===He){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===Be)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Fe)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ue)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===He)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return e===Ge?null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null:e===Ve||e===We||e===qe||e===Xe||e===Ye||e===Ke||e===Qe||e===Ze||e===Je||e===$e||e===et||e===tt||e===rt||e===nt?null!==(r=t.get("WEBGL_compressed_texture_astc"))?e:null:e===Me?n?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function ba(e,t,r,n){Nt.call(this,e,t,n),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=r}function xa(e,t){var r,n,i,o,a,s,c,l=2,u=e.extensions,d=e.properties,h=0;function p(e){return e.isArrayCamera?e.cameras:(a[0]=e,a)}this.isAvailable=function(){if(void 0===c){var e=u.get("OVR_multiview2");if(c=null!==e&&!1===t.getContextAttributes().antialias){h=t.getParameter(e.MAX_VIEWS_OVR),r=new ba(0,0,l),s=new Mt,o=[],i=[],a=[];for(var n=0;n<h;n++)o[n]=new qt,i[n]=new Pt}}return c},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>h)return!1;for(var r=1,n=t.length;r<n;r++)if(t[0].viewport.z!==t[r].viewport.z||t[0].viewport.w!==t[r].viewport.w)return!1;return!0}(t)&&(n=e.getRenderTarget(),function(t){if(n?s.set(n.width,n.height):e.getDrawingBufferSize(s),t.isArrayCamera){var i=t.cameras[0].viewport;r.setSize(i.z,i.w),r.setNumViews(t.cameras.length)}else r.setSize(s.x,s.y),r.setNumViews(l)}(t),e.setRenderTarget(r))},this.detachCamera=function(i){r===e.getRenderTarget()&&(e.setRenderTarget(n),function(e){var n=r,i=n.numViews,o=d.get(n).__webglViewFramebuffers,a=n.width,c=n.height;if(e.isArrayCamera)for(var l=0;l<i;l++){var u=e.cameras[l].viewport,h=u.x,p=u.y,f=h+u.z,m=p+u.w;t.bindFramebuffer(36008,o[l]),t.blitFramebuffer(0,0,a,c,h,p,f,m,16384,9728)}else t.bindFramebuffer(36008,o[0]),t.blitFramebuffer(0,0,a,c,0,0,s.x,s.y,16384,9728)}(i))},this.updateCameraProjectionMatricesUniform=function(e,r){for(var n=p(e),i=0;i<n.length;i++)o[i].copy(n[i].projectionMatrix);r.setValue(t,"projectionMatrices",o)},this.updateCameraViewMatricesUniform=function(e,r){for(var n=p(e),i=0;i<n.length;i++)o[i].copy(n[i].matrixWorldInverse);r.setValue(t,"viewMatrices",o)},this.updateObjectMatricesUniforms=function(e,r,n){for(var a=p(r),s=0;s<a.length;s++)o[s].multiplyMatrices(a[s].matrixWorldInverse,e.matrixWorld),i[s].getNormalMatrix(o[s]);n.setValue(t,"modelViewMatrices",o),n.setValue(t,"normalMatrices",i)}}function wa(){ur.call(this),this.type="Group"}function Ea(e){di.call(this),this.cameras=e||[]}ba.prototype=Object.assign(Object.create(Nt.prototype),{constructor:ba,isWebGLMultiviewRenderTarget:!0,copy:function(e){return Nt.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),wa.prototype=Object.assign(Object.create(ur.prototype),{constructor:wa,isGroup:!0}),Ea.prototype=Object.assign(Object.create(di.prototype),{constructor:Ea,isArrayCamera:!0});var Aa,_a=new Ot,Ma=new Ot;function Sa(e,t,r){_a.setFromMatrixPosition(t.matrixWorld),Ma.setFromMatrixPosition(r.matrixWorld);var n=_a.distanceTo(Ma),i=t.projectionMatrix.elements,o=r.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*u,p=a*d,f=n/(-u+d),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=a+f,v=s+f,y=h-m,b=p+(n-m),x=c*s/v*g,w=l*s/v*g;e.projectionMatrix.makePerspective(y,b,x,w,g,v)}function Ta(e){var t,r,n=this,i=null,o=null,a=null,s=[],c=new qt,l=new qt,u=1,d="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(o=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var h=new qt,p=new St,f=new Ot,m=new di;m.viewport=new It,m.layers.enable(1);var g=new di;g.viewport=new It,g.layers.enable(2);var v=new Ea([m,g]);function y(){return null!==i&&!0===i.isPresenting}v.layers.enable(1),v.layers.enable(2);var b,x=new Mt;function w(){if(y()){var o=i.getEyeParameters("left");t=2*o.renderWidth*u,r=o.renderHeight*u,b=e.getPixelRatio(),e.getSize(x),e.setDrawingBufferSize(t,r,1),m.viewport.set(0,0,t/2,r),g.viewport.set(t/2,0,t/2,r),S.start(),n.dispatchEvent({type:"sessionstart"})}else n.enabled&&e.setDrawingBufferSize(x.width,x.height,b),S.stop(),n.dispatchEvent({type:"sessionend"})}var E=[],A=[];function _(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),r=0,n=t.length;r<n;r++){var i=t[r];if(i&&("Daydream Controller"===i.id||"Gear VR Controller"===i.id||"Oculus Go Controller"===i.id||"OpenVR Gamepad"===i.id||i.id.startsWith("Oculus Touch")||i.id.startsWith("HTC Vive Focus")||i.id.startsWith("Spatial Controller"))){var o=i.hand;if(0===e&&(""===o||"right"===o))return i;if(1===e&&"left"===o)return i}}}function M(e,n){null!==n&&4===n.length&&e.set(n[0]*t,n[1]*r,n[2]*t,n[3]*r)}this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new wa).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),S.setContext(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setReferenceSpaceType=function(e){d=e},this.setPoseTarget=function(e){void 0!==e&&(a=e)},this.getCamera=function(e){var t="local-floor"===d?1.6:0;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(o),"local-floor"===d){var r=i.stageParameters;r?c.fromArray(r.sittingToStandingTransform):c.makeTranslation(0,t,0)}var n=o.pose,u=null!==a?a:e;u.matrix.copy(c),u.matrix.decompose(u.position,u.quaternion,u.scale),null!==n.orientation&&(p.fromArray(n.orientation),u.quaternion.multiply(p)),null!==n.position&&(p.setFromRotationMatrix(c),f.fromArray(n.position),f.applyQuaternion(p),u.position.add(f)),u.updateMatrixWorld();for(var y=u.children,b=0,x=y.length;b<x;b++)y[b].updateMatrixWorld(!0);m.near=e.near,g.near=e.near,m.far=e.far,g.far=e.far,m.matrixWorldInverse.fromArray(o.leftViewMatrix),g.matrixWorldInverse.fromArray(o.rightViewMatrix),l.getInverse(c),"local-floor"===d&&(m.matrixWorldInverse.multiply(l),g.matrixWorldInverse.multiply(l));var w=u.parent;null!==w&&(h.getInverse(w.matrixWorld),m.matrixWorldInverse.multiply(h),g.matrixWorldInverse.multiply(h)),m.matrixWorld.getInverse(m.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),m.projectionMatrix.fromArray(o.leftProjectionMatrix),g.projectionMatrix.fromArray(o.rightProjectionMatrix),Sa(v,m,g);var S=i.getLayers();if(S.length){var T=S[0];M(m.viewport,T.leftBounds),M(g.viewport,T.rightBounds)}return function(){for(var e=0;e<s.length;e++){var t=s[e],r=_(e);if(void 0!==r&&void 0!==r.pose){if(null===r.pose)return;var n=r.pose;!1===n.hasPosition&&t.position.set(.2,-.6,-.05),null!==n.position&&t.position.fromArray(n.position),null!==n.orientation&&t.quaternion.fromArray(n.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(c),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===r.id?0:1;void 0===E[e]&&(E[e]=!1),E[e]!==r.buttons[i].pressed&&(E[e]=r.buttons[i].pressed,!0===E[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"}))),i=2,void 0===A[e]&&(A[e]=!1),void 0!==r.buttons[i]&&A[e]!==r.buttons[i].pressed&&(A[e]=r.buttons[i].pressed,!0===A[e]?t.dispatchEvent({type:"squeezestart"}):(t.dispatchEvent({type:"squeezeend"}),t.dispatchEvent({type:"squeeze"})))}else t.visible=!1}}(),v},this.getStandingMatrix=function(){return c},this.isPresenting=y;var S=new Ai;this.setAnimationLoop=function(e){S.setAnimationLoop(e),y()&&S.start()},this.submitFrame=function(){y()&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function Ca(e,t){var r=this,n=null,i=null,o="local-floor",a=null,s=null,c=[],l=[],u=new di;u.layers.enable(1),u.viewport=new It;var d=new di;d.layers.enable(2),d.viewport=new It;var h=new Ea([u,d]);function p(e){for(var t=0;t<c.length;t++)l[t]===e.inputSource&&c[t].dispatchEvent({type:e.type})}function f(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),x.stop(),r.dispatchEvent({type:"sessionend"})}function m(e){i=e,x.setContext(n),x.start(),r.dispatchEvent({type:"sessionstart"})}function g(){for(var e=0;e<c.length;e++)l[e]=v(e)}function v(e){for(var t=n.inputSources,r=0;r<t.length;r++){var i=t[r],o=i.handedness;if(0===e&&("none"===o||"right"===o))return i;if(1===e&&"left"===o)return i}}function y(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}h.layers.enable(1),h.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=c[e];return void 0===t&&((t=new wa).matrixAutoUpdate=!1,t.visible=!1,c[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){o=e},this.getSession=function(){return n},this.setSession=function(e){null!==(n=e)&&(n.addEventListener("select",p),n.addEventListener("selectstart",p),n.addEventListener("selectend",p),n.addEventListener("squeeze",p),n.addEventListener("squeezestart",p),n.addEventListener("squeezeend",p),n.addEventListener("end",f),n.updateRenderState({baseLayer:new XRWebGLLayer(n,t,{antialias:t.getContextAttributes().antialias,alpha:t.getContextAttributes().alpha,depth:t.getContextAttributes().depth,stencil:t.getContextAttributes().stencil})}),n.requestReferenceSpace(o).then(m),n.addEventListener("inputsourceschange",g),g())},this.setPoseTarget=function(e){void 0!==e&&(s=e)},this.getCamera=function(e){var t=e.parent,r=h.cameras,n=s||e;y(h,t);for(var i=0;i<r.length;i++)y(r[i],t);n.matrixWorld.copy(h.matrixWorld);for(var o=n.children,i=0,a=o.length;i<a;i++)o[i].updateMatrixWorld(!0);return Sa(h,u,d),h},this.getCameraPose=function(){return a},this.isPresenting=function(){return null!==n&&null!==i};var b=null,x=new Ai;x.setAnimationLoop(function(t,r){if(null!==(a=r.getViewerPose(i))){var o=a.views,s=n.renderState.baseLayer;e.setFramebuffer(s.framebuffer);for(var u=0;u<o.length;u++){var d=o[u],p=s.getViewport(d),f=d.transform.inverse.matrix,m=h.cameras[u];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(d.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===u&&h.matrix.copy(m.matrix)}}for(var u=0;u<c.length;u++){var g=c[u],v=l[u];if(v){var y=r.getPose(v.targetRaySpace,i);if(null!==y){g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}b&&b(t,r)}),this.setAnimationLoop=function(e){b=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new qt},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function Oa(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",d=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,p=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=X,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,g,v,y,b,x,w,E,A,_,M,S,T,C,O,L,R,P=this,k=!1,j=null,D=0,I=0,N=null,z=null,B=-1,F={geometry:null,program:null,wireframe:!1},U=null,H=null,G=new It,V=new It,W=null,q=t.width,Y=t.height,K=1,Q=new It(0,0,q,Y),Z=new It(0,0,q,Y),J=!1,$=new bi,ee=new Li,te=!1,re=!1,ne=new qt,ie=new Ot;function oe(){return null===N?K:1}try{var ae={alpha:n,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:d,xrCompatible:!0};if(t.addEventListener("webglcontextlost",de,!1),t.addEventListener("webglcontextrestored",he,!1),null===(f=r||t.getContext("webgl",ae)||t.getContext("experimental-webgl",ae)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function se(){m=new Ri(f),!1===(g=new Oi(f,m,e)).isWebGL2&&(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),R=new ya(f,m,g),(v=new ga(f,m,g)).scissor(V.copy(Z).multiplyScalar(K).floor()),v.viewport(G.copy(Q).multiplyScalar(K).floor()),y=new ji(f),b=new ea,x=new va(f,m,v,b,g,R,y),w=new _i(f),E=new Pi(f,w,y),A=new Ni(f,E,w,y),C=new Ii(f),_=new $o(P,m,g),M=new ia,S=new ua,T=new Ti(P,v,A,s),O=new Ci(f,m,y,g),L=new ki(f,m,y,g),y.programs=_.programs,P.capabilities=g,P.extensions=m,P.properties=b,P.renderLists=M,P.state=v,P.info=y}se();var ce="undefined"!=typeof navigator&&"xr"in navigator?new Ca(P,f):new Ta(P);this.xr=ce;var le=new xa(P,f),ue=new ma(P,A,g.maxTextureSize);function de(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1,se()}function pe(e){var t=e.target;t.removeEventListener("dispose",pe),function(e){me(e),b.remove(e)}(t)}function me(e){var t=b.get(e).program;e.program=void 0,void 0!==t&&_.releaseProgram(t)}this.shadowMap=ue,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var e=m.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=m.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(e){void 0!==e&&(K=e,this.setSize(q,Y,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Mt),e.set(q,Y)},this.setSize=function(e,r,n){ce.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=e,Y=r,t.width=Math.floor(e*K),t.height=Math.floor(r*K),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Mt),e.set(q*K,Y*K).floor()},this.setDrawingBufferSize=function(e,r,n){q=e,Y=r,K=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new It),e.copy(G)},this.getViewport=function(e){return e.copy(Q)},this.setViewport=function(e,t,r,n){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,r,n),v.viewport(G.copy(Q).multiplyScalar(K).floor())},this.getScissor=function(e){return e.copy(Z)},this.setScissor=function(e,t,r,n){e.isVector4?Z.set(e.x,e.y,e.z,e.w):Z.set(e,t,r,n),v.scissor(V.copy(Z).multiplyScalar(K).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(e){v.setScissorTest(J=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),f.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",de,!1),t.removeEventListener("webglcontextrestored",he,!1),M.dispose(),S.dispose(),b.dispose(),A.dispose(),ce.dispose(),ye.stop()},this.renderBufferImmediate=function(e,t){v.initAttributes();var r=b.get(e);e.hasPositions&&!r.position&&(r.position=f.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=f.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=f.createBuffer()),e.hasColors&&!r.color&&(r.color=f.createBuffer());var n=t.getAttributes();e.hasPositions&&(f.bindBuffer(34962,r.position),f.bufferData(34962,e.positionArray,35048),v.enableAttribute(n.position),f.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(f.bindBuffer(34962,r.normal),f.bufferData(34962,e.normalArray,35048),v.enableAttribute(n.normal),f.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(f.bindBuffer(34962,r.uv),f.bufferData(34962,e.uvArray,35048),v.enableAttribute(n.uv),f.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(f.bindBuffer(34962,r.color),f.bufferData(34962,e.colorArray,35048),v.enableAttribute(n.color),f.vertexAttribPointer(n.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),f.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,n,i,o){var a=i.isMesh&&i.matrixWorld.determinant()<0,s=_e(e,t,n,i);v.setMaterial(n,a);var c=!1;F.geometry===r.id&&F.program===s.id&&F.wireframe===(!0===n.wireframe)||(F.geometry=r.id,F.program=s.id,F.wireframe=!0===n.wireframe,c=!0),(n.morphTargets||n.morphNormals)&&(C.update(i,r,n,s),c=!0);var l=r.index,u=r.attributes.position;if((null===l||0!==l.count)&&void 0!==u&&0!==u.count){var d,h=1;!0===n.wireframe&&(l=E.getWireframeAttribute(r),h=2);var p=O;null!==l&&(d=w.get(l),(p=L).setIndex(d)),c&&(function(e,t,r,n){if(!1!==g.isWebGL2||!e.isInstancedMesh&&!t.isInstancedBufferGeometry||null!==m.get("ANGLE_instanced_arrays")){v.initAttributes();var i=t.attributes,o=n.getAttributes(),a=r.defaultAttributeValues;for(var s in o){var c=o[s];if(c>=0){var l=i[s];if(void 0!==l){var u=l.normalized,d=l.itemSize,h=w.get(l);if(void 0===h)continue;var p=h.buffer,y=h.type,b=h.bytesPerElement;if(l.isInterleavedBufferAttribute){var x=l.data,E=x.stride,A=l.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(c,x.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(c),f.bindBuffer(34962,p),f.vertexAttribPointer(c,d,y,u,E*b,A*b)}else l.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(c,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):v.enableAttribute(c),f.bindBuffer(34962,p),f.vertexAttribPointer(c,d,y,u,0,0)}else if("instanceMatrix"===s){var h=w.get(e.instanceMatrix);if(void 0===h)continue;var p=h.buffer,y=h.type;v.enableAttributeAndDivisor(c+0,1),v.enableAttributeAndDivisor(c+1,1),v.enableAttributeAndDivisor(c+2,1),v.enableAttributeAndDivisor(c+3,1),f.bindBuffer(34962,p),f.vertexAttribPointer(c+0,4,y,!1,64,0),f.vertexAttribPointer(c+1,4,y,!1,64,16),f.vertexAttribPointer(c+2,4,y,!1,64,32),f.vertexAttribPointer(c+3,4,y,!1,64,48)}else if(void 0!==a){var _=a[s];if(void 0!==_)switch(_.length){case 2:f.vertexAttrib2fv(c,_);break;case 3:f.vertexAttrib3fv(c,_);break;case 4:f.vertexAttrib4fv(c,_);break;default:f.vertexAttrib1fv(c,_)}}}}v.disableUnusedAttributes()}}(i,r,n,s),null!==l&&f.bindBuffer(34963,d.buffer));var y=null!==l?l.count:u.count,b=r.drawRange.start*h,x=r.drawRange.count*h,A=null!==o?o.start*h:0,_=null!==o?o.count*h:1/0,M=Math.max(b,A),S=Math.min(y,b+x,A+_)-1,T=Math.max(0,S-M+1);if(0!==T){if(i.isMesh)!0===n.wireframe?(v.setLineWidth(n.wireframeLinewidth*oe()),p.setMode(1)):p.setMode(4);else if(i.isLine){var R=n.linewidth;void 0===R&&(R=1),v.setLineWidth(R*oe()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);i.isInstancedMesh?p.renderInstances(r,M,T,i.count):r.isInstancedBufferGeometry?p.renderInstances(r,M,T,r.maxInstancedCount):p.render(M,T)}}},this.compile=function(e,t){(p=S.get(e,t)).init(),e.traverse(function(e){e.isLight&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))}),p.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var r=0;r<t.material.length;r++)Ae(t.material[r],e.fog,t);else Ae(t.material,e.fog,t)})};var ge,ve=null,ye=new Ai;function be(e,t,r,n){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,l=void 0===n?a.material:n,u=a.group;if(r.isArrayCamera)if(H=r,ce.enabled&&le.isAvailable())Ee(s,t,r,c,l,u);else for(var d=r.cameras,h=0,f=d.length;h<f;h++){var m=d[h];s.layers.test(m.layers)&&(v.viewport(G.copy(m.viewport)),p.setupLights(m),Ee(s,t,m,c,l,u))}else H=null,Ee(s,t,r,c,l,u)}}function Ee(e,t,r,n,i,o){if(e.onBeforeRender(P,t,r,n,i,o),p=S.get(t,H||r),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var a=_e(r,t.fog,i,e);v.setMaterial(i),F.geometry=null,F.program=null,F.wireframe=!1,function(e,t){e.render(function(e){P.renderBufferImmediate(e,t)})}(e,a)}else P.renderBufferDirect(r,t.fog,n,i,e,o);e.onAfterRender(P,t,r,n,i,o),p=S.get(t,H||r)}function Ae(e,t,r){var n=b.get(e),i=p.state.lights,o=p.state.shadowsArray,a=i.state.version,s=_.getParameters(e,i.state,o,t,ee.numPlanes,ee.numIntersection,r),c=_.getProgramCacheKey(e,s),l=n.program,u=!0;if(void 0===l)e.addEventListener("dispose",pe);else if(l.cacheKey!==c)me(e);else if(n.lightsStateVersion!==a)n.lightsStateVersion=a,u=!1;else{if(void 0!==s.shaderID)return;u=!1}if(u){if(s.shaderID){var d=Ei[s.shaderID];n.shader={name:e.type,uniforms:ii(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else n.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(n.shader,P),c=_.getProgramCacheKey(e,s),l=_.acquireProgram(e,n.shader,s,c),n.program=l,e.program=l}var h=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var f=0;f<P.maxMorphTargets;f++)h["morphTarget"+f]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var f=0;f<P.maxMorphNormals;f++)h["morphNormal"+f]>=0&&e.numSupportedMorphNormals++}var m=n.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=ee.numPlanes,n.numIntersection=ee.numIntersection,m.clippingPlanes=ee.uniform),n.fog=t,n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=a,n.needsLights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=n.program.getUniforms(),v=Do.seqWithValue(g.seq,m);n.uniformsList=v}function _e(e,t,r,n){x.resetTextureUnits();var i=b.get(r),o=p.state.lights;if(te&&(re||e!==U)){var a=e===U&&r.id===B;ee.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,i,a)}r.version===i.__version&&(void 0===i.program?r.needsUpdate=!0:r.fog&&i.fog!==t?r.needsUpdate=!0:i.needsLights&&i.lightsStateVersion!==o.state.version?r.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===ee.numPlanes&&i.numIntersection===ee.numIntersection||(r.needsUpdate=!0)),r.version!==i.__version&&(Ae(r,t,n),i.__version=r.version);var s,l,u=!1,d=!1,h=!1,m=i.program,y=m.getUniforms(),w=i.shader.uniforms;if(v.useProgram(m.program)&&(u=!0,d=!0,h=!0),r.id!==B&&(B=r.id,d=!0),u||U!==e){if(m.numMultiviewViews>0?le.updateCameraProjectionMatricesUniform(e,y):y.setValue(f,"projectionMatrix",e.projectionMatrix),g.logarithmicDepthBuffer&&y.setValue(f,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==e&&(U=e,d=!0,h=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var E=y.map.cameraPosition;void 0!==E&&E.setValue(f,ie.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&y.setValue(f,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&(m.numMultiviewViews>0?le.updateCameraViewMatricesUniform(e,y):y.setValue(f,"viewMatrix",e.matrixWorldInverse))}if(r.skinning){y.setOptional(f,n,"bindMatrix"),y.setOptional(f,n,"bindMatrixInverse");var A=n.skeleton;if(A){var _=A.bones;if(g.floatVertexTextures){if(void 0===A.boneTexture){var M=Math.sqrt(4*_.length);M=_t.ceilPowerOfTwo(M),M=Math.max(M,4);var S=new Float32Array(M*M*4);S.set(A.boneMatrices);var T=new gi(S,M,M,Ce,xe);A.boneMatrices=S,A.boneTexture=T,A.boneTextureSize=M}y.setValue(f,"boneTexture",A.boneTexture,x),y.setValue(f,"boneTextureSize",A.boneTextureSize)}else y.setOptional(f,A,"boneMatrices")}}return(d||i.receiveShadow!==n.receiveShadow)&&(i.receiveShadow=n.receiveShadow,y.setValue(f,"receiveShadow",n.receiveShadow)),d&&(y.setValue(f,"toneMappingExposure",P.toneMappingExposure),y.setValue(f,"toneMappingWhitePoint",P.toneMappingWhitePoint),i.needsLights&&(l=h,(s=w).ambientLightColor.needsUpdate=l,s.lightProbe.needsUpdate=l,s.directionalLights.needsUpdate=l,s.pointLights.needsUpdate=l,s.spotLights.needsUpdate=l,s.rectAreaLights.needsUpdate=l,s.hemisphereLights.needsUpdate=l),t&&r.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(w,t),r.isMeshBasicMaterial?Me(w,r):r.isMeshLambertMaterial?(Me(w,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(w,r)):r.isMeshToonMaterial?(Me(w,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===c&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===c&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshPhongMaterial?(Me(w,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===c&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===c&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshStandardMaterial?(Me(w,r),r.isMeshPhysicalMaterial?function(e,t){Se(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===c&&e.clearcoatNormalScale.value.negate()),e.transparency.value=t.transparency}(w,r):Se(w,r)):r.isMeshMatcapMaterial?(Me(w,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===c&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===c&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshDepthMaterial?(Me(w,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshDistanceMaterial?(Me(w,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(w,r)):r.isMeshNormalMaterial?(Me(w,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===c&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===c&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(w,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(w,r)):r.isPointsMaterial?function(e,t){var r;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*K,e.scale.value=.5*Y,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?r=t.map:t.alphaMap&&(r=t.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(w,r):r.isSpriteMaterial?function(e,t){var r;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?r=t.map:t.alphaMap&&(r=t.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(w,r):r.isShadowMaterial?(w.color.value.copy(r.color),w.opacity.value=r.opacity):r.envMap&&Me(w,r),void 0!==w.ltc_1&&(w.ltc_1.value=wi.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=wi.LTC_2),Do.upload(f,i.uniformsList,w,x),r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Do.upload(f,i.uniformsList,w,x),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&y.setValue(f,"center",n.center),m.numMultiviewViews>0?le.updateObjectMatricesUniforms(n,e,y):(y.setValue(f,"modelViewMatrix",n.modelViewMatrix),y.setValue(f,"normalMatrix",n.normalMatrix)),y.setValue(f,"modelMatrix",n.matrixWorld),m}function Me(e,t){var r,n;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=b.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?r=t.map:t.specularMap?r=t.specularMap:t.displacementMap?r=t.displacementMap:t.normalMap?r=t.normalMap:t.bumpMap?r=t.bumpMap:t.roughnessMap?r=t.roughnessMap:t.metalnessMap?r=t.metalnessMap:t.alphaMap?r=t.alphaMap:t.emissiveMap&&(r=t.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),t.aoMap?n=t.aoMap:t.lightMap&&(n=t.lightMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uv2Transform.value.copy(n.matrix))}function Se(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===c&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===c&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}ye.setAnimationLoop(function(e){ce.isPresenting()||ve&&ve(e)}),"undefined"!=typeof window&&ye.setContext(window),this.setAnimationLoop=function(e){ve=e,ce.setAnimationLoop(e),ye.start()},this.render=function(e,t){var r,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),t&&t.isCamera){if(!k){F.geometry=null,F.program=null,F.wireframe=!1,B=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ce.enabled&&ce.isPresenting()&&(t=ce.getCamera(t)),(p=S.get(e,t)).init(),e.onBeforeRender(P,e,t,r||N),ne.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),$.setFromMatrix(ne),re=this.localClippingEnabled,te=ee.init(this.clippingPlanes,re,t),(h=M.get(e,t)).init(),function e(t,r,n,i){if(!1!==t.visible){var o=t.layers.test(r.layers);if(o)if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(r);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||$.intersectsSprite(t)){i&&ie.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ne);var a=A.update(t),s=t.material;s.visible&&h.push(t,a,s,n,ie.z,null)}}else if(t.isImmediateRenderObject)i&&ie.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ne),h.push(t,null,t.material,n,ie.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==y.render.frame&&(t.skeleton.update(),t.skeleton.frame=y.render.frame),!t.frustumCulled||$.intersectsObject(t))){i&&ie.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ne);var a=A.update(t),s=t.material;if(Array.isArray(s))for(var c=a.groups,l=0,u=c.length;l<u;l++){var d=c[l],f=s[d.materialIndex];f&&f.visible&&h.push(t,a,f,n,ie.z,d)}else s.visible&&h.push(t,a,s,n,ie.z,null)}for(var m=t.children,l=0,u=m.length;l<u;l++)e(m[l],r,n,i)}}(e,t,0,P.sortObjects),!0===P.sortObjects&&h.sort(),te&&ee.beginShadows();var i=p.state.shadowsArray;ue.render(i,e,t),p.setupLights(t),te&&ee.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),ce.enabled&&le.isAvailable()&&le.attachCamera(t),T.render(h,e,t,n);var o=h.opaque,a=h.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&be(o,e,t,s),a.length&&be(a,e,t,s)}else o.length&&be(o,e,t),a.length&&be(a,e,t);e.onAfterRender(P,e,t),null!==N&&(x.updateRenderTargetMipmap(N),x.updateMultisampleRenderTarget(N)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),ce.enabled&&(le.isAvailable()&&le.detachCamera(t),ce.submitFrame()),h=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setTexture2D=(ge=!1,function(e,t){e&&e.isWebGLRenderTarget&&(ge||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ge=!0),e=e.texture),x.setTexture2D(e,t)}),this.setFramebuffer=function(e){j!==e&&null===N&&f.bindFramebuffer(36160,e),j=e},this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e,t,r){N=e,D=t,I=r,e&&void 0===b.get(e).__webglFramebuffer&&x.setupRenderTarget(e);var n=j,i=!1;if(e){var o=b.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(n=o[t||0],i=!0):n=e.isWebGLMultisampleRenderTarget?b.get(e).__webglMultisampledFramebuffer:o,G.copy(e.viewport),V.copy(e.scissor),W=e.scissorTest}else G.copy(Q).multiplyScalar(K).floor(),V.copy(Z).multiplyScalar(K).floor(),W=J;if(z!==n&&(f.bindFramebuffer(36160,n),z=n),v.viewport(G),v.scissor(V),v.setScissorTest(W),i){var a=b.get(e.texture);f.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,r||0)}},this.readRenderTargetPixels=function(e,t,r,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=b.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==a&&(s=s[a]),s){var c=!1;s!==z&&(f.bindFramebuffer(36160,s),c=!0);try{var l=e.texture,u=l.format,d=l.type;if(u!==Ce&&R.convert(u)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(d===fe||R.convert(d)===f.getParameter(35738)||d===xe&&(g.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||d===we&&(g.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&f.readPixels(t,r,n,i,R.convert(u),R.convert(d),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&f.bindFramebuffer(36160,z)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,r){void 0===r&&(r=0);var n=Math.pow(2,-r),i=Math.floor(t.image.width*n),o=Math.floor(t.image.height*n),a=R.convert(t.format);x.setTexture2D(t,0),f.copyTexImage2D(3553,r,a,e.x,e.y,i,o,0),v.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n){var i=t.image.width,o=t.image.height,a=R.convert(r.format),s=R.convert(r.type);x.setTexture2D(r,0),t.isDataTexture?f.texSubImage2D(3553,n||0,e.x,e.y,i,o,a,s,t.image.data):f.texSubImage2D(3553,n||0,e.x,e.y,a,s,t.image),v.unbindTexture()},this.initTexture=function(e){x.setTexture2D(e,0),v.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function La(e,t){this.name="",this.color=new tn(e),this.density=void 0!==t?t:25e-5}function Ra(e,t,r){this.name="",this.color=new tn(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3}function Pa(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=xt,this.updateRange={offset:0,count:-1},this.version=0}function ka(e,t,r,n){this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}function ja(e){cn.call(this),this.type="SpriteMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.assign(Ta.prototype,wt.prototype),Object.assign(Ca.prototype,wt.prototype),Object.assign(La.prototype,{isFogExp2:!0,clone:function(){return new La(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Ra.prototype,{isFog:!0,clone:function(){return new Ra(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Pa.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Pa.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(ka.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(ka.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}}),ja.prototype=Object.create(cn.prototype),ja.prototype.constructor=ja,ja.prototype.isSpriteMaterial=!0,ja.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Da=new Ot,Ia=new Ot,Na=new Ot,za=new Mt,Ba=new Mt,Fa=new qt,Ua=new Ot,Ha=new Ot,Ga=new Ot,Va=new Mt,Wa=new Mt,qa=new Mt;function Xa(e){if(ur.call(this),this.type="Sprite",void 0===Aa){Aa=new Ln;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Pa(t,5);Aa.setIndex([0,1,2,0,2,3]),Aa.setAttribute("position",new ka(r,3,0,!1)),Aa.setAttribute("uv",new ka(r,2,3,!1))}this.geometry=Aa,this.material=void 0!==e?e:new ja,this.center=new Mt(.5,.5)}function Ya(e,t,r,n,i,o){za.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(Ba.x=o*za.x-i*za.y,Ba.y=i*za.x+o*za.y):Ba.copy(za),e.copy(t),e.x+=Ba.x,e.y+=Ba.y,e.applyMatrix4(Fa)}Xa.prototype=Object.assign(Object.create(ur.prototype),{constructor:Xa,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ia.setFromMatrixScale(this.matrixWorld),Fa.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Na.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ia.multiplyScalar(-Na.z);var r,n,i=this.material.rotation;0!==i&&(n=Math.cos(i),r=Math.sin(i));var o=this.center;Ya(Ua.set(-.5,-.5,0),Na,o,Ia,r,n),Ya(Ha.set(.5,-.5,0),Na,o,Ia,r,n),Ya(Ga.set(.5,.5,0),Na,o,Ia,r,n),Va.set(0,0),Wa.set(1,0),qa.set(1,1);var a=e.ray.intersectTriangle(Ua,Ha,Ga,!1,Da);if(null!==a||(Ya(Ha.set(-.5,.5,0),Na,o,Ia,r,n),Wa.set(0,1),null!==(a=e.ray.intersectTriangle(Ua,Ga,Ha,!1,Da)))){var s=e.ray.origin.distanceTo(Da);s<e.near||s>e.far||t.push({distance:s,point:Da.clone(),uv:Zr.getUV(Da,Ua,Ha,Ga,Va,Wa,qa,new Mt),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return ur.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Ka=new Ot,Qa=new Ot;function Za(){ur.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Ja(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Yn.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new qt,this.bindMatrixInverse=new qt}Za.prototype=Object.assign(Object.create(ur.prototype),{constructor:Za,isLOD:!0,copy:function(e){ur.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;r<n;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=this.levels,n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){var r=this.levels;if(r.length>0){Ka.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Ka);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Ka.setFromMatrixPosition(e.matrixWorld),Qa.setFromMatrixPosition(this.matrixWorld);var r=Ka.distanceTo(Qa);t[0].object.visible=!0;for(var n=1,i=t.length;n<i&&r>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(;n<i;n++)t[n].object.visible=!1}},toJSON:function(e){var t=ur.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Ja.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Ja,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new It,t=this.geometry.attributes.skinWeight,r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Yn.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var $a=new qt,es=new qt;function ts(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new qt)}}function rs(){ur.call(this),this.type="Bone"}Object.assign(ts.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var r=new qt;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},pose:function(){var e,t,r;for(t=0,r=this.bones.length;t<r;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,r=this.bones.length;t<r;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:es;$a.multiplyMatrices(a,t[i]),$a.toArray(r,16*i)}void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new ts(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,r=this.bones.length;t<r;t++){var n=this.bones[t];if(n.name===e)return n}}}),rs.prototype=Object.assign(Object.create(ur.prototype),{constructor:rs,isBone:!0});var ns=new qt,is=new qt,os=[],as=new Yn;function ss(e,t,r){Yn.call(this,e,t),this.instanceMatrix=new dn(new Float32Array(16*r),16),this.count=r}function cs(e){cn.call(this),this.type="LineBasicMaterial",this.color=new tn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}ss.prototype=Object.assign(Object.create(Yn.prototype),{constructor:ss,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var r=this.matrixWorld,n=this.count;if(as.geometry=this.geometry,as.material=this.material,void 0!==as.material)for(var i=0;i<n;i++)this.getMatrixAt(i,ns),is.multiplyMatrices(r,ns),as.matrixWorld=is,as.raycast(e,os),os.length>0&&(os[0].instanceId=i,os[0].object=this,t.push(os[0]),os.length=0)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),cs.prototype=Object.create(cn.prototype),cs.prototype.constructor=cs,cs.prototype.isLineBasicMaterial=!0,cs.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var ls=new Ot,us=new Ot,ds=new qt,hs=new Ir,ps=new Cr;function fs(e,t,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),ur.call(this),this.type="Line",this.geometry=void 0!==e?e:new Ln,this.material=void 0!==t?t:new cs({color:16777215*Math.random()})}fs.prototype=Object.assign(Object.create(ur.prototype),{constructor:fs,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[0],n=1,i=t.count;n<i;n++)ls.fromBufferAttribute(t,n-1),us.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=ls.distanceTo(us);e.setAttribute("lineDistance",new bn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices,r=e.lineDistances;r[0]=0;for(var n=1,i=o.length;n<i;n++)r[n]=r[n-1],r[n]+=o[n-1].distanceTo(o[n])}return this},raycast:function(e,t){var r=e.linePrecision,n=this.geometry,i=this.matrixWorld;if(null===n.boundingSphere&&n.computeBoundingSphere(),ps.copy(n.boundingSphere),ps.applyMatrix4(i),ps.radius+=r,!1!==e.ray.intersectsSphere(ps)){ds.getInverse(i),hs.copy(e.ray).applyMatrix4(ds);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new Ot,c=new Ot,l=new Ot,u=new Ot,d=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,p=n.attributes,f=p.position.array;if(null!==h)for(var m=h.array,g=0,v=m.length-1;g<v;g+=d){var y=m[g],b=m[g+1];s.fromArray(f,3*y),c.fromArray(f,3*b);var x=hs.distanceSqToSegment(s,c,u,l);if(!(x>a)){u.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(u);w<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var g=0,v=f.length/3-1;g<v;g+=d){s.fromArray(f,3*g),c.fromArray(f,3*g+3);var x=hs.distanceSqToSegment(s,c,u,l);if(!(x>a)){u.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(u);w<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}else if(n.isGeometry)for(var E=n.vertices,A=E.length,g=0;g<A-1;g+=d){var x=hs.distanceSqToSegment(E[g],E[g+1],u,l);if(!(x>a)){u.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(u);w<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ms=new Ot,gs=new Ot;function vs(e,t){fs.call(this,e,t),this.type="LineSegments"}function ys(e,t){fs.call(this,e,t),this.type="LineLoop"}function bs(e){cn.call(this),this.type="PointsMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}vs.prototype=Object.assign(Object.create(fs.prototype),{constructor:vs,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[],n=0,i=t.count;n<i;n+=2)ms.fromBufferAttribute(t,n),gs.fromBufferAttribute(t,n+1),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+ms.distanceTo(gs);e.setAttribute("lineDistance",new bn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var o=e.vertices,r=e.lineDistances,n=0,i=o.length;n<i;n+=2)ms.copy(o[n]),gs.copy(o[n+1]),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+ms.distanceTo(gs);return this}}),ys.prototype=Object.assign(Object.create(fs.prototype),{constructor:ys,isLineLoop:!0}),bs.prototype=Object.create(cn.prototype),bs.prototype.constructor=bs,bs.prototype.isPointsMaterial=!0,bs.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var xs=new qt,ws=new Ir,Es=new Cr,As=new Ot;function _s(e,t){ur.call(this),this.type="Points",this.geometry=void 0!==e?e:new Ln,this.material=void 0!==t?t:new bs({color:16777215*Math.random()}),this.updateMorphTargets()}function Ms(e,t,r,n,i,o,a){var s=ws.distanceSqToPoint(e);if(s<r){var c=new Ot;ws.closestPointToPoint(e,c),c.applyMatrix4(n);var l=i.ray.origin.distanceTo(c);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:c,index:t,face:null,object:a})}}function Ss(e,t,r,n,i,o,a,s,c){Dt.call(this,e,t,r,n,i,o,a,s,c),this.format=void 0!==a?a:Te,this.minFilter=void 0!==o?o:de,this.magFilter=void 0!==i?i:de,this.generateMipmaps=!1}function Ts(e,t,r,n,i,o,a,s,c,l,u,d){Dt.call(this,null,o,a,s,c,l,n,i,u,d),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Cs(e,t,r,n,i,o,a,s,c){Dt.call(this,e,t,r,n,i,o,a,s,c),this.needsUpdate=!0}function Os(e,t,r,n,i,o,a,s,c,l){if((l=void 0!==l?l:Pe)!==Pe&&l!==ke)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&l===Pe&&(r=ve),void 0===r&&l===ke&&(r=Me),Dt.call(this,null,n,i,o,a,s,l,r,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:ce,this.minFilter=void 0!==s?s:ce,this.flipY=!1,this.generateMipmaps=!1}function Ls(e){Ln.call(this),this.type="WireframeGeometry";var t,r,n,i,o,a,s,c,l,u,d=[],h=[0,0],p={},f=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,n=m.length;t<n;t++){var g=m[t];for(r=0;r<3;r++)s=g[f[r]],c=g[f[(r+1)%3]],h[0]=Math.min(s,c),h[1]=Math.max(s,c),l=h[0]+","+h[1],void 0===p[l]&&(p[l]={index1:h[0],index2:h[1]})}for(l in p)a=p[l],u=e.vertices[a.index1],d.push(u.x,u.y,u.z),u=e.vertices[a.index2],d.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var v,y,b,x,w,E,A,_;if(u=new Ot,null!==e.index){for(v=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(x=b[i],w=x.start,E=x.count,t=w,n=w+E;t<n;t+=3)for(r=0;r<3;r++)s=y.getX(t+r),c=y.getX(t+(r+1)%3),h[0]=Math.min(s,c),h[1]=Math.max(s,c),l=h[0]+","+h[1],void 0===p[l]&&(p[l]={index1:h[0],index2:h[1]});for(l in p)a=p[l],u.fromBufferAttribute(v,a.index1),d.push(u.x,u.y,u.z),u.fromBufferAttribute(v,a.index2),d.push(u.x,u.y,u.z)}else for(v=e.attributes.position,t=0,n=v.count/3;t<n;t++)for(r=0;r<3;r++)A=3*t+r,u.fromBufferAttribute(v,A),d.push(u.x,u.y,u.z),_=3*t+(r+1)%3,u.fromBufferAttribute(v,_),d.push(u.x,u.y,u.z)}this.setAttribute("position",new bn(d,3))}function Rs(e,t,r){ti.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new Ps(e,t,r)),this.mergeVertices()}function Ps(e,t,r){Ln.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:r};var n,i,o=[],a=[],s=[],c=[],l=new Ot,u=new Ot,d=new Ot,h=new Ot,p=new Ot;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=t+1;for(n=0;n<=r;n++){var m=n/r;for(i=0;i<=t;i++){var g=i/t;e(g,m,u),a.push(u.x,u.y,u.z),g-1e-5>=0?(e(g-1e-5,m,d),h.subVectors(u,d)):(e(g+1e-5,m,d),h.subVectors(d,u)),m-1e-5>=0?(e(g,m-1e-5,d),p.subVectors(u,d)):(e(g,m+1e-5,d),p.subVectors(d,u)),l.crossVectors(h,p).normalize(),s.push(l.x,l.y,l.z),c.push(g,m)}}for(n=0;n<r;n++)for(i=0;i<t;i++){var v=n*f+i,y=n*f+i+1,b=(n+1)*f+i+1,x=(n+1)*f+i;o.push(v,y,x),o.push(y,b,x)}this.setIndex(o),this.setAttribute("position",new bn(a,3)),this.setAttribute("normal",new bn(s,3)),this.setAttribute("uv",new bn(c,2))}function ks(e,t,r,n){ti.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},this.fromBufferGeometry(new js(e,t,r,n)),this.mergeVertices()}function js(e,t,r,n){Ln.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},r=r||1;var i=[],o=[];function a(e,t,r,n){var i,o,a=Math.pow(2,n),c=[];for(i=0;i<=a;i++){c[i]=[];var l=e.clone().lerp(r,i/a),u=t.clone().lerp(r,i/a),d=a-i;for(o=0;o<=d;o++)c[i][o]=0===o&&i===a?l:l.clone().lerp(u,o/d)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var h=Math.floor(o/2);o%2==0?(s(c[i][h+1]),s(c[i+1][h]),s(c[i][h])):(s(c[i][h+1]),s(c[i+1][h+1]),s(c[i+1][h]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,r){var n=3*t;r.x=e[n+0],r.y=e[n+1],r.z=e[n+2]}function l(e,t,r,n){n<0&&1===e.x&&(o[t]=e.x-1),0===r.x&&0===r.z&&(o[t]=n/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var r=new Ot,n=new Ot,i=new Ot,o=0;o<t.length;o+=3)c(t[o+0],r),c(t[o+1],n),c(t[o+2],i),a(r,n,i,e)}(n=n||0),function(e){for(var t=new Ot,r=0;r<i.length;r+=3)t.x=i[r+0],t.y=i[r+1],t.z=i[r+2],t.normalize().multiplyScalar(e),i[r+0]=t.x,i[r+1]=t.y,i[r+2]=t.z}(r),function(){for(var e=new Ot,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var r=u(e)/2/Math.PI+.5,n=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(r,1-n)}var a;(function(){for(var e=new Ot,t=new Ot,r=new Ot,n=new Ot,a=new Mt,s=new Mt,c=new Mt,d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),r.set(i[d+6],i[d+7],i[d+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),c.set(o[h+4],o[h+5]),n.copy(e).add(t).add(r).divideScalar(3);var p=u(n);l(a,h+0,e,p),l(s,h+2,t,p),l(c,h+4,r,p)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],r=o[e+2],n=o[e+4],i=Math.max(t,r,n),a=Math.min(t,r,n);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),r<.2&&(o[e+2]+=1),n<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new bn(i,3)),this.setAttribute("normal",new bn(i.slice(),3)),this.setAttribute("uv",new bn(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function Ds(e,t){ti.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Is(e,t)),this.mergeVertices()}function Is(e,t){js.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ns(e,t){ti.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new zs(e,t)),this.mergeVertices()}function zs(e,t){js.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Bs(e,t){ti.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Fs(e,t)),this.mergeVertices()}function Fs(e,t){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];js.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Us(e,t){ti.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Hs(e,t)),this.mergeVertices()}function Hs(e,t){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];js.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Gs(e,t,r,n,i,o){ti.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Vs(e,t,r,n,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Vs(e,t,r,n,i){Ln.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},t=t||64,r=r||1,n=n||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new Ot,l=new Ot,u=new Mt,d=new Ot,h=[],p=[],f=[],m=[];function g(i){d=e.getPointAt(i/t,d);var a=o.normals[i],u=o.binormals[i];for(s=0;s<=n;s++){var f=s/n*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);l.x=g*a.x+m*u.x,l.y=g*a.y+m*u.y,l.z=g*a.z+m*u.z,l.normalize(),p.push(l.x,l.y,l.z),c.x=d.x+r*l.x,c.y=d.y+r*l.y,c.z=d.z+r*l.z,h.push(c.x,c.y,c.z)}}!function(){for(a=0;a<t;a++)g(a);g(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=n;s++)u.x=a/t,u.y=s/n,f.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=n;a++){var e=(n+1)*(s-1)+(a-1),r=(n+1)*s+(a-1),i=(n+1)*s+a,o=(n+1)*(s-1)+a;m.push(e,r,o),m.push(r,i,o)}}()}(),this.setIndex(m),this.setAttribute("position",new bn(h,3)),this.setAttribute("normal",new bn(p,3)),this.setAttribute("uv",new bn(f,2))}function Ws(e,t,r,n,i,o,a){ti.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qs(e,t,r,n,i,o)),this.mergeVertices()}function qs(e,t,r,n,i,o){Ln.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},e=e||1,t=t||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;var a,s,c=[],l=[],u=[],d=[],h=new Ot,p=new Ot,f=new Ot,m=new Ot,g=new Ot,v=new Ot,y=new Ot;for(a=0;a<=r;++a){var b=a/r*i*Math.PI*2;for(T(b,i,o,e,f),T(b+.01,i,o,e,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=n;++s){var x=s/n*Math.PI*2,w=-t*Math.cos(x),E=t*Math.sin(x);h.x=f.x+(w*y.x+E*g.x),h.y=f.y+(w*y.y+E*g.y),h.z=f.z+(w*y.z+E*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,f).normalize(),u.push(p.x,p.y,p.z),d.push(a/r),d.push(s/n)}}for(s=1;s<=r;s++)for(a=1;a<=n;a++){var A=(n+1)*(s-1)+(a-1),_=(n+1)*s+(a-1),M=(n+1)*s+a,S=(n+1)*(s-1)+a;c.push(A,_,S),c.push(_,M,S)}function T(e,t,r,n,i){var o=Math.cos(e),a=Math.sin(e),s=r/t*e,c=Math.cos(s);i.x=n*(2+c)*.5*o,i.y=n*(2+c)*a*.5,i.z=n*Math.sin(s)*.5}this.setIndex(c),this.setAttribute("position",new bn(l,3)),this.setAttribute("normal",new bn(u,3)),this.setAttribute("uv",new bn(d,2))}function Xs(e,t,r,n,i){ti.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new Ys(e,t,r,n,i)),this.mergeVertices()}function Ys(e,t,r,n,i){Ln.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},e=e||1,t=t||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=[],c=[],l=[],u=[],d=new Ot,h=new Ot,p=new Ot;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var f=a/n*i,m=o/r*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(f),h.y=(e+t*Math.cos(m))*Math.sin(f),h.z=t*Math.sin(m),c.push(h.x,h.y,h.z),d.x=e*Math.cos(f),d.y=e*Math.sin(f),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(a/n),u.push(o/r)}for(o=1;o<=r;o++)for(a=1;a<=n;a++){var g=(n+1)*o+a-1,v=(n+1)*(o-1)+a-1,y=(n+1)*(o-1)+a,b=(n+1)*o+a;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.setAttribute("position",new bn(c,3)),this.setAttribute("normal",new bn(l,3)),this.setAttribute("uv",new bn(u,2))}_s.prototype=Object.assign(Object.create(ur.prototype),{constructor:_s,isPoints:!0,raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Es.copy(r.boundingSphere),Es.applyMatrix4(n),Es.radius+=i,!1!==e.ray.intersectsSphere(Es)){xs.getInverse(n),ws.copy(e.ray).applyMatrix4(xs);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(r.isBufferGeometry){var s=r.index,c=r.attributes,l=c.position.array;if(null!==s)for(var u=s.array,d=0,h=u.length;d<h;d++){var p=u[d];As.fromArray(l,3*p),Ms(As,p,a,n,e,t,this)}else for(var d=0,f=l.length/3;d<f;d++)As.fromArray(l,3*d),Ms(As,d,a,n,e,t,this)}else for(var m=r.vertices,d=0,f=m.length;d<f;d++)Ms(m[d],d,a,n,e,t,this)}},updateMorphTargets:function(){var e,t,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)r=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}else{var s=n.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ss.prototype=Object.assign(Object.create(Dt.prototype),{constructor:Ss,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Ts.prototype=Object.create(Dt.prototype),Ts.prototype.constructor=Ts,Ts.prototype.isCompressedTexture=!0,Cs.prototype=Object.create(Dt.prototype),Cs.prototype.constructor=Cs,Cs.prototype.isCanvasTexture=!0,Os.prototype=Object.create(Dt.prototype),Os.prototype.constructor=Os,Os.prototype.isDepthTexture=!0,Ls.prototype=Object.create(Ln.prototype),Ls.prototype.constructor=Ls,Rs.prototype=Object.create(ti.prototype),Rs.prototype.constructor=Rs,Ps.prototype=Object.create(Ln.prototype),Ps.prototype.constructor=Ps,ks.prototype=Object.create(ti.prototype),ks.prototype.constructor=ks,js.prototype=Object.create(Ln.prototype),js.prototype.constructor=js,Ds.prototype=Object.create(ti.prototype),Ds.prototype.constructor=Ds,Is.prototype=Object.create(js.prototype),Is.prototype.constructor=Is,Ns.prototype=Object.create(ti.prototype),Ns.prototype.constructor=Ns,zs.prototype=Object.create(js.prototype),zs.prototype.constructor=zs,Bs.prototype=Object.create(ti.prototype),Bs.prototype.constructor=Bs,Fs.prototype=Object.create(js.prototype),Fs.prototype.constructor=Fs,Us.prototype=Object.create(ti.prototype),Us.prototype.constructor=Us,Hs.prototype=Object.create(js.prototype),Hs.prototype.constructor=Hs,Gs.prototype=Object.create(ti.prototype),Gs.prototype.constructor=Gs,Vs.prototype=Object.create(Ln.prototype),Vs.prototype.constructor=Vs,Vs.prototype.toJSON=function(){var e=Ln.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Ws.prototype=Object.create(ti.prototype),Ws.prototype.constructor=Ws,qs.prototype=Object.create(Ln.prototype),qs.prototype.constructor=qs,Xs.prototype=Object.create(ti.prototype),Xs.prototype.constructor=Xs,Ys.prototype=Object.create(Ln.prototype),Ys.prototype.constructor=Ys;var Ks={triangulate:function(e,t,r){r=r||2;var n,i,o,a,s,c,l,u=t&&t.length,d=u?t[0]*r:e.length,h=Qs(e,0,d,r,!0),p=[];if(!h||h.next===h.prev)return p;if(u&&(h=function(e,t,r,n){var i,o,a,s,c,l=[];for(i=0,o=t.length;i<o;i++)a=t[i]*n,s=i<o-1?t[i+1]*n:e.length,(c=Qs(e,a,s,n,!1))===c.next&&(c.steiner=!0),l.push(ac(c));for(l.sort(nc),i=0;i<l.length;i++)ic(l[i],r),r=Zs(r,r.next);return r}(e,t,h,r)),e.length>80*r){n=o=e[0],i=a=e[1];for(var f=r;f<d;f+=r)s=e[f],c=e[f+1],s<n&&(n=s),c<i&&(i=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-n,a-i))?1/l:0}return Js(h,p,r,n,i,l),p}};function Qs(e,t,r,n,i){var o,a;if(i===function(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,r,n)>0)for(o=t;o<r;o+=n)a=fc(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=fc(o,e[o],e[o+1],a);return a&&uc(a,a.next)&&(mc(a),a=a.next),a}function Zs(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!uc(n,n.next)&&0!==lc(n.prev,n,n.next))n=n.next;else{if(mc(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Js(e,t,r,n,i,o,a){if(e){!a&&o&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=oc(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,c,l=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(c=l;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1)}(i)}(e,n,i,o);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,o?ec(e,n,i,o):$s(e))t.push(s.i/r),t.push(e.i/r),t.push(c.i/r),mc(e),e=c.next,l=c.next;else if((e=c)===l){a?1===a?Js(e=tc(e,t,r),t,r,n,i,o,2):2===a&&rc(e,t,r,n,i,o):Js(Zs(e),t,r,n,i,o,1);break}}}function $s(e){var t=e.prev,r=e,n=e.next;if(lc(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(sc(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&lc(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ec(e,t,r,n){var i=e.prev,o=e,a=e.next;if(lc(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=oc(s,c,t,r,n),h=oc(l,u,t,r,n),p=e.prevZ,f=e.nextZ;p&&p.z>=d&&f&&f.z<=h;){if(p!==e.prev&&p!==e.next&&sc(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&lc(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==e.prev&&f!==e.next&&sc(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&lc(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&sc(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&lc(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=h;){if(f!==e.prev&&f!==e.next&&sc(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&lc(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function tc(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!uc(i,o)&&dc(i,n,n.next,o)&&hc(i,o)&&hc(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),mc(n),mc(n.next),n=e=o),n=n.next}while(n!==e);return n}function rc(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&cc(a,s)){var c=pc(a,s);return a=Zs(a,a.next),c=Zs(c,c.next),Js(a,t,r,n,i,o),void Js(c,t,r,n,i,o)}s=s.next}a=a.next}while(a!==e)}function nc(e,t){return e.x-t.x}function ic(e,t){if(t=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r.prev;var c,l=r,u=r.x,d=r.y,h=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=u&&i!==n.x&&sc(o<d?i:a,o,u,d,o<d?a:i,o,n.x,n.y)&&((c=Math.abs(o-n.y)/(i-n.x))<h||c===h&&n.x>r.x)&&hc(n,e)&&(r=n,h=c),n=n.next;return r}(e,t)){var r=pc(t,e);Zs(r,r.next)}}function oc(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ac(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function sc(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function cc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&dc(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&hc(e,t)&&hc(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)}function lc(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function uc(e,t){return e.x===t.x&&e.y===t.y}function dc(e,t,r,n){return!!(uc(e,r)&&uc(t,n)||uc(e,n)&&uc(r,t))||lc(e,t,r)>0!=lc(e,t,n)>0&&lc(r,n,e)>0!=lc(r,n,t)>0}function hc(e,t){return lc(e.prev,e,e.next)<0?lc(e,t,e.next)>=0&&lc(e,e.prev,t)>=0:lc(e,t,e.prev)<0||lc(e,e.next,t)<0}function pc(e,t){var r=new gc(e.i,e.x,e.y),n=new gc(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function fc(e,t,r,n){var i=new gc(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function mc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function gc(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var vc={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return vc.area(e)<0},triangulateShape:function(e,t){var r=[],n=[],i=[];yc(e),bc(r,e);var o=e.length;t.forEach(yc);for(var a=0;a<t.length;a++)n.push(o),o+=t[a].length,bc(r,t[a]);for(var s=Ks.triangulate(r,n),a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function yc(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function bc(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}function xc(e,t){ti.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new wc(e,t)),this.mergeVertices()}function wc(e,t){Ln.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var r=this,n=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o];c(s)}function c(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:u-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3,f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Ec;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var g,v,y,b,x,w,E,A,_=!1;f&&(g=f.getSpacedPoints(s),_=!0,l=!1,v=f.computeFrenetFrames(s,!1),y=new Ot,b=new Ot,x=new Ot),l||(p=0,u=0,d=0,h=0);var M=e.extractPoints(a),S=M.shape,T=M.holes,C=!vc.isClockWise(S);if(C)for(S=S.reverse(),E=0,A=T.length;E<A;E++)w=T[E],vc.isClockWise(w)&&(T[E]=w.reverse());var O=vc.triangulateShape(S,T),L=S;for(E=0,A=T.length;E<A;E++)w=T[E],S=S.concat(w);function R(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}var P,k,j,D,I,N,z=S.length,B=O.length;function F(e,t,r){var n,i,o,a=e.x-t.x,s=e.y-t.y,c=r.x-e.x,l=r.y-e.y,u=a*a+s*s,d=a*l-s*c;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(u),p=Math.sqrt(c*c+l*l),f=t.x-s/h,m=t.y+a/h,g=r.x-l/p,v=r.y+c/p,y=((g-f)*l-(v-m)*c)/(a*l-s*c);n=f+a*y-e.x,i=m+s*y-e.y;var b=n*n+i*i;if(b<=2)return new Mt(n,i);o=Math.sqrt(b/2)}else{var x=!1;a>Number.EPSILON?c>Number.EPSILON&&(x=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(l)&&(x=!0),x?(n=-s,i=a,o=Math.sqrt(u)):(n=a,i=s,o=Math.sqrt(u/2))}return new Mt(n/o,i/o)}for(var U=[],H=0,G=L.length,V=G-1,W=H+1;H<G;H++,V++,W++)V===G&&(V=0),W===G&&(W=0),U[H]=F(L[H],L[V],L[W]);var q,X,Y=[],K=U.concat();for(E=0,A=T.length;E<A;E++){for(w=T[E],q=[],H=0,G=w.length,V=G-1,W=H+1;H<G;H++,V++,W++)V===G&&(V=0),W===G&&(W=0),q[H]=F(w[H],w[V],w[W]);Y.push(q),K=K.concat(q)}for(P=0;P<p;P++){for(j=P/p,D=u*Math.cos(j*Math.PI/2),k=d*Math.sin(j*Math.PI/2)+h,H=0,G=L.length;H<G;H++)Z((I=R(L[H],U[H],k)).x,I.y,-D);for(E=0,A=T.length;E<A;E++)for(w=T[E],q=Y[E],H=0,G=w.length;H<G;H++)Z((I=R(w[H],q[H],k)).x,I.y,-D)}for(k=d+h,H=0;H<z;H++)I=l?R(S[H],K[H],k):S[H],_?(b.copy(v.normals[0]).multiplyScalar(I.x),y.copy(v.binormals[0]).multiplyScalar(I.y),x.copy(g[0]).add(b).add(y),Z(x.x,x.y,x.z)):Z(I.x,I.y,0);for(X=1;X<=s;X++)for(H=0;H<z;H++)I=l?R(S[H],K[H],k):S[H],_?(b.copy(v.normals[X]).multiplyScalar(I.x),y.copy(v.binormals[X]).multiplyScalar(I.y),x.copy(g[X]).add(b).add(y),Z(x.x,x.y,x.z)):Z(I.x,I.y,c/s*X);for(P=p-1;P>=0;P--){for(j=P/p,D=u*Math.cos(j*Math.PI/2),k=d*Math.sin(j*Math.PI/2)+h,H=0,G=L.length;H<G;H++)Z((I=R(L[H],U[H],k)).x,I.y,c+D);for(E=0,A=T.length;E<A;E++)for(w=T[E],q=Y[E],H=0,G=w.length;H<G;H++)I=R(w[H],q[H],k),_?Z(I.x,I.y+g[s-1].y,g[s-1].x+D):Z(I.x,I.y,c+D)}function Q(e,t){var r,n;for(H=e.length;--H>=0;){r=H,(n=H-1)<0&&(n=e.length-1);var i=0,o=s+2*p;for(i=0;i<o;i++){var a=z*i,c=z*(i+1),l=t+r+a,u=t+n+a,d=t+n+c,h=t+r+c;$(l,u,d,h)}}}function Z(e,t,r){o.push(e),o.push(t),o.push(r)}function J(e,t,i){ee(e),ee(t),ee(i);var o=n.length/3,a=m.generateTopUV(r,n,o-3,o-2,o-1);te(a[0]),te(a[1]),te(a[2])}function $(e,t,i,o){ee(e),ee(t),ee(o),ee(t),ee(i),ee(o);var a=n.length/3,s=m.generateSideWallUV(r,n,a-6,a-3,a-2,a-1);te(s[0]),te(s[1]),te(s[3]),te(s[1]),te(s[2]),te(s[3])}function ee(e){n.push(o[3*e+0]),n.push(o[3*e+1]),n.push(o[3*e+2])}function te(e){i.push(e.x),i.push(e.y)}!function(){var e=n.length/3;if(l){var t=0,i=z*t;for(H=0;H<B;H++)J((N=O[H])[2]+i,N[1]+i,N[0]+i);for(i=z*(t=s+2*p),H=0;H<B;H++)J((N=O[H])[0]+i,N[1]+i,N[2]+i)}else{for(H=0;H<B;H++)J((N=O[H])[2],N[1],N[0]);for(H=0;H<B;H++)J((N=O[H])[0]+z*s,N[1]+z*s,N[2]+z*s)}r.addGroup(e,n.length/3-e,0)}(),function(){var e=n.length/3,t=0;for(Q(L,t),t+=L.length,E=0,A=T.length;E<A;E++)Q(w=T[E],t),t+=w.length;r.addGroup(e,n.length/3-e,1)}()}this.setAttribute("position",new bn(n,3)),this.setAttribute("uv",new bn(i,2)),this.computeVertexNormals()}xc.prototype=Object.create(ti.prototype),xc.prototype.constructor=xc,xc.prototype.toJSON=function(){var e=ti.prototype.toJSON.call(this),t=this.parameters.shapes,r=this.parameters.options;return Ac(t,r,e)},wc.prototype=Object.create(Ln.prototype),wc.prototype.constructor=wc,wc.prototype.toJSON=function(){var e=Ln.prototype.toJSON.call(this),t=this.parameters.shapes,r=this.parameters.options;return Ac(t,r,e)};var Ec={generateTopUV:function(e,t,r,n,i){var o=t[3*r],a=t[3*r+1],s=t[3*n],c=t[3*n+1],l=t[3*i],u=t[3*i+1];return[new Mt(o,a),new Mt(s,c),new Mt(l,u)]},generateSideWallUV:function(e,t,r,n,i,o){var a=t[3*r],s=t[3*r+1],c=t[3*r+2],l=t[3*n],u=t[3*n+1],d=t[3*n+2],h=t[3*i],p=t[3*i+1],f=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<.01?[new Mt(a,1-c),new Mt(l,1-d),new Mt(h,1-f),new Mt(m,1-v)]:[new Mt(s,1-c),new Mt(u,1-d),new Mt(p,1-f),new Mt(g,1-v)]}};function Ac(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var o=e[n];r.shapes.push(o.uuid)}else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}function _c(e,t){ti.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Mc(e,t)),this.mergeVertices()}function Mc(e,t){var r=(t=t||{}).font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ti;var n=r.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),wc.call(this,n,t),this.type="TextBufferGeometry"}function Sc(e,t,r,n,i,o,a){ti.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Tc(e,t,r,n,i,o,a)),this.mergeVertices()}function Tc(e,t,r,n,i,o,a){Ln.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,c,l=Math.min(o+a,Math.PI),u=0,d=[],h=new Ot,p=new Ot,f=[],m=[],g=[],v=[];for(c=0;c<=r;c++){var y=[],b=c/r,x=0;for(0==c&&0==o?x=.5/t:c==r&&l==Math.PI&&(x=-.5/t),s=0;s<=t;s++){var w=s/t;h.x=-e*Math.cos(n+w*i)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(n+w*i)*Math.sin(o+b*a),m.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),v.push(w+x,1-b),y.push(u++)}d.push(y)}for(c=0;c<r;c++)for(s=0;s<t;s++){var E=d[c][s+1],A=d[c][s],_=d[c+1][s],M=d[c+1][s+1];(0!==c||o>0)&&f.push(E,A,M),(c!==r-1||l<Math.PI)&&f.push(A,_,M)}this.setIndex(f),this.setAttribute("position",new bn(m,3)),this.setAttribute("normal",new bn(g,3)),this.setAttribute("uv",new bn(v,2))}function Cc(e,t,r,n,i,o){ti.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Oc(e,t,r,n,i,o)),this.mergeVertices()}function Oc(e,t,r,n,i,o){Ln.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8,n=void 0!==n?Math.max(1,n):1;var a,s,c,l=[],u=[],d=[],h=[],p=e,f=(t-e)/n,m=new Ot,g=new Mt;for(s=0;s<=n;s++){for(c=0;c<=r;c++)a=i+c/r*o,m.x=p*Math.cos(a),m.y=p*Math.sin(a),u.push(m.x,m.y,m.z),d.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y);p+=f}for(s=0;s<n;s++){var v=s*(r+1);for(c=0;c<r;c++){var y=a=c+v,b=a+r+1,x=a+r+2,w=a+1;l.push(y,b,w),l.push(b,x,w)}}this.setIndex(l),this.setAttribute("position",new bn(u,3)),this.setAttribute("normal",new bn(d,3)),this.setAttribute("uv",new bn(h,2))}function Lc(e,t,r,n){ti.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},this.fromBufferGeometry(new Rc(e,t,r,n)),this.mergeVertices()}function Rc(e,t,r,n){Ln.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t)||12,r=r||0,n=n||2*Math.PI,n=_t.clamp(n,0,2*Math.PI);var i,o,a,s=[],c=[],l=[],u=1/t,d=new Ot,h=new Mt;for(o=0;o<=t;o++){var p=r+o*u*n,f=Math.sin(p),m=Math.cos(p);for(a=0;a<=e.length-1;a++)d.x=e[a].x*f,d.y=e[a].y,d.z=e[a].x*m,c.push(d.x,d.y,d.z),h.x=o/t,h.y=a/(e.length-1),l.push(h.x,h.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var g=i=a+o*e.length,v=i+e.length,y=i+e.length+1,b=i+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.setAttribute("position",new bn(c,3)),this.setAttribute("uv",new bn(l,2)),this.computeVertexNormals(),n===2*Math.PI){var x=this.attributes.normal.array,w=new Ot,E=new Ot,A=new Ot;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)w.x=x[a+0],w.y=x[a+1],w.z=x[a+2],E.x=x[i+a+0],E.y=x[i+a+1],E.z=x[i+a+2],A.addVectors(w,E).normalize(),x[a+0]=x[i+a+0]=A.x,x[a+1]=x[i+a+1]=A.y,x[a+2]=x[i+a+2]=A.z}}function Pc(e,t){ti.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new kc(e,t)),this.mergeVertices()}function kc(e,t){Ln.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],n=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))l(e);else for(var c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){var a,c,l,u=n.length/3,d=e.extractPoints(t),h=d.shape,p=d.holes;for(!1===vc.isClockWise(h)&&(h=h.reverse()),a=0,c=p.length;a<c;a++)l=p[a],!0===vc.isClockWise(l)&&(p[a]=l.reverse());var f=vc.triangulateShape(h,p);for(a=0,c=p.length;a<c;a++)l=p[a],h=h.concat(l);for(a=0,c=h.length;a<c;a++){var m=h[a];n.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=f.length;a<c;a++){var g=f[a],v=g[0]+u,y=g[1]+u,b=g[2]+u;r.push(v,y,b),s+=3}}this.setIndex(r),this.setAttribute("position",new bn(n,3)),this.setAttribute("normal",new bn(i,3)),this.setAttribute("uv",new bn(o,2))}function jc(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Dc(e,t){Ln.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var r,n,i,o,a=[],s=Math.cos(_t.DEG2RAD*t),c=[0,0],l={},u=["a","b","c"];e.isBufferGeometry?(o=new ti).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,h=o.faces,p=0,f=h.length;p<f;p++)for(var m=h[p],g=0;g<3;g++)r=m[u[g]],n=m[u[(g+1)%3]],c[0]=Math.min(r,n),c[1]=Math.max(r,n),i=c[0]+","+c[1],void 0===l[i]?l[i]={index1:c[0],index2:c[1],face1:p,face2:void 0}:l[i].face2=p;for(i in l){var v=l[i];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=s){var y=d[v.index1];a.push(y.x,y.y,y.z),y=d[v.index2],a.push(y.x,y.y,y.z)}}this.setAttribute("position",new bn(a,3))}function Ic(e,t,r,n,i,o,a,s){ti.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Nc(e,t,r,n,i,o,a,s)),this.mergeVertices()}function Nc(e,t,r,n,i,o,a,s){Ln.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=[],u=[],d=[],h=[],p=0,f=[],m=r/2,g=0;function v(r){var i,o,f,v=new Mt,y=new Ot,b=0,x=!0===r?e:t,w=!0===r?1:-1;for(o=p,i=1;i<=n;i++)u.push(0,m*w,0),d.push(0,w,0),h.push(.5,.5),p++;for(f=p,i=0;i<=n;i++){var E=i/n,A=E*s+a,_=Math.cos(A),M=Math.sin(A);y.x=x*M,y.y=m*w,y.z=x*_,u.push(y.x,y.y,y.z),d.push(0,w,0),v.x=.5*_+.5,v.y=.5*M*w+.5,h.push(v.x,v.y),p++}for(i=0;i<n;i++){var S=o+i,T=f+i;!0===r?l.push(T,T+1,S):l.push(T+1,T,S),b+=3}c.addGroup(g,b,!0===r?1:2),g+=b}!function(){var o,v,y=new Ot,b=new Ot,x=0,w=(t-e)/r;for(v=0;v<=i;v++){var E=[],A=v/i,_=A*(t-e)+e;for(o=0;o<=n;o++){var M=o/n,S=M*s+a,T=Math.sin(S),C=Math.cos(S);b.x=_*T,b.y=-A*r+m,b.z=_*C,u.push(b.x,b.y,b.z),y.set(T,w,C).normalize(),d.push(y.x,y.y,y.z),h.push(M,1-A),E.push(p++)}f.push(E)}for(o=0;o<n;o++)for(v=0;v<i;v++){var O=f[v][o],L=f[v+1][o],R=f[v+1][o+1],P=f[v][o+1];l.push(O,L,P),l.push(L,R,P),x+=6}c.addGroup(g,x,0),g+=x}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(l),this.setAttribute("position",new bn(u,3)),this.setAttribute("normal",new bn(d,3)),this.setAttribute("uv",new bn(h,2))}function zc(e,t,r,n,i,o,a){Ic.call(this,0,e,t,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function Bc(e,t,r,n,i,o,a){Nc.call(this,0,e,t,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function Fc(e,t,r,n){ti.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new Uc(e,t,r,n)),this.mergeVertices()}function Uc(e,t,r,n){Ln.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},e=e||1,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i,o,a=[],s=[],c=[],l=[],u=new Ot,d=new Mt;for(s.push(0,0,0),c.push(0,0,1),l.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var h=r+o/t*n;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),c.push(0,0,1),d.x=(s[i]/e+1)/2,d.y=(s[i+1]/e+1)/2,l.push(d.x,d.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.setAttribute("position",new bn(s,3)),this.setAttribute("normal",new bn(c,3)),this.setAttribute("uv",new bn(l,2))}_c.prototype=Object.create(ti.prototype),_c.prototype.constructor=_c,Mc.prototype=Object.create(wc.prototype),Mc.prototype.constructor=Mc,Sc.prototype=Object.create(ti.prototype),Sc.prototype.constructor=Sc,Tc.prototype=Object.create(Ln.prototype),Tc.prototype.constructor=Tc,Cc.prototype=Object.create(ti.prototype),Cc.prototype.constructor=Cc,Oc.prototype=Object.create(Ln.prototype),Oc.prototype.constructor=Oc,Lc.prototype=Object.create(ti.prototype),Lc.prototype.constructor=Lc,Rc.prototype=Object.create(Ln.prototype),Rc.prototype.constructor=Rc,Pc.prototype=Object.create(ti.prototype),Pc.prototype.constructor=Pc,Pc.prototype.toJSON=function(){var e=ti.prototype.toJSON.call(this),t=this.parameters.shapes;return jc(t,e)},kc.prototype=Object.create(Ln.prototype),kc.prototype.constructor=kc,kc.prototype.toJSON=function(){var e=Ln.prototype.toJSON.call(this),t=this.parameters.shapes;return jc(t,e)},Dc.prototype=Object.create(Ln.prototype),Dc.prototype.constructor=Dc,Ic.prototype=Object.create(ti.prototype),Ic.prototype.constructor=Ic,Nc.prototype=Object.create(Ln.prototype),Nc.prototype.constructor=Nc,zc.prototype=Object.create(Ic.prototype),zc.prototype.constructor=zc,Bc.prototype=Object.create(Nc.prototype),Bc.prototype.constructor=Bc,Fc.prototype=Object.create(ti.prototype),Fc.prototype.constructor=Fc,Uc.prototype=Object.create(Ln.prototype),Uc.prototype.constructor=Uc;var Hc=Object.freeze({WireframeGeometry:Ls,ParametricGeometry:Rs,ParametricBufferGeometry:Ps,TetrahedronGeometry:Ds,TetrahedronBufferGeometry:Is,OctahedronGeometry:Ns,OctahedronBufferGeometry:zs,IcosahedronGeometry:Bs,IcosahedronBufferGeometry:Fs,DodecahedronGeometry:Us,DodecahedronBufferGeometry:Hs,PolyhedronGeometry:ks,PolyhedronBufferGeometry:js,TubeGeometry:Gs,TubeBufferGeometry:Vs,TorusKnotGeometry:Ws,TorusKnotBufferGeometry:qs,TorusGeometry:Xs,TorusBufferGeometry:Ys,TextGeometry:_c,TextBufferGeometry:Mc,SphereGeometry:Sc,SphereBufferGeometry:Tc,RingGeometry:Cc,RingBufferGeometry:Oc,PlaneGeometry:Mi,PlaneBufferGeometry:Si,LatheGeometry:Lc,LatheBufferGeometry:Rc,ShapeGeometry:Pc,ShapeBufferGeometry:kc,ExtrudeGeometry:xc,ExtrudeBufferGeometry:wc,EdgesGeometry:Dc,ConeGeometry:zc,ConeBufferGeometry:Bc,CylinderGeometry:Ic,CylinderBufferGeometry:Nc,CircleGeometry:Fc,CircleBufferGeometry:Uc,BoxGeometry:ri,BoxBufferGeometry:ni});function Gc(e){cn.call(this),this.type="ShadowMaterial",this.color=new tn(0),this.transparent=!0,this.setValues(e)}function Vc(e){li.call(this,e),this.type="RawShaderMaterial"}function Wc(e){cn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new tn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gt,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function qc(e){Wc.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new Mt(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function Xc(e){cn.call(this),this.type="MeshPhongMaterial",this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gt,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=G,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Yc(e){cn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gt,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Kc(e){cn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gt,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Qc(e){cn.call(this),this.type="MeshLambertMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=G,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Zc(e){cn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gt,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Jc(e){cs.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Gc.prototype=Object.create(cn.prototype),Gc.prototype.constructor=Gc,Gc.prototype.isShadowMaterial=!0,Gc.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this},Vc.prototype=Object.create(li.prototype),Vc.prototype.constructor=Vc,Vc.prototype.isRawShaderMaterial=!0,Wc.prototype=Object.create(cn.prototype),Wc.prototype.constructor=Wc,Wc.prototype.isMeshStandardMaterial=!0,Wc.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},qc.prototype=Object.create(Wc.prototype),qc.prototype.constructor=qc,qc.prototype.isMeshPhysicalMaterial=!0,qc.prototype.copy=function(e){return Wc.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new tn).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},Xc.prototype=Object.create(cn.prototype),Xc.prototype.constructor=Xc,Xc.prototype.isMeshPhongMaterial=!0,Xc.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Yc.prototype=Object.create(cn.prototype),Yc.prototype.constructor=Yc,Yc.prototype.isMeshToonMaterial=!0,Yc.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Kc.prototype=Object.create(cn.prototype),Kc.prototype.constructor=Kc,Kc.prototype.isMeshNormalMaterial=!0,Kc.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Qc.prototype=Object.create(cn.prototype),Qc.prototype.constructor=Qc,Qc.prototype.isMeshLambertMaterial=!0,Qc.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Zc.prototype=Object.create(cn.prototype),Zc.prototype.constructor=Zc,Zc.prototype.isMeshMatcapMaterial=!0,Zc.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Jc.prototype=Object.create(cs.prototype),Jc.prototype.constructor=Jc,Jc.prototype.isLineDashedMaterial=!0,Jc.prototype.copy=function(e){return cs.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var $c=Object.freeze({ShadowMaterial:Gc,SpriteMaterial:ja,RawShaderMaterial:Vc,ShaderMaterial:li,PointsMaterial:bs,MeshPhysicalMaterial:qc,MeshStandardMaterial:Wc,MeshPhongMaterial:Xc,MeshToonMaterial:Yc,MeshNormalMaterial:Kc,MeshLambertMaterial:Qc,MeshDepthMaterial:da,MeshDistanceMaterial:ha,MeshBasicMaterial:ln,MeshMatcapMaterial:Zc,LineDashedMaterial:Jc,LineBasicMaterial:cs,Material:cn}),el={arraySlice:function(e,t,r){return el.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=new Array(t),n=0;n!==t;++n)r[n]=n;return r.sort(function(t,r){return e[t]-e[r]}),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*t,c=0;c!==t;++c)i[a++]=e[s+c];return i},flattenJSON:function(e,t,r,n){for(var i=1,o=e[0];void 0!==o&&void 0===o[n];)o=e[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[n])&&(t.push(o.time),r.push.apply(r,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[n])&&(t.push(o.time),a.toArray(r,r.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[n])&&(t.push(o.time),r.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,r,n,i){i=i||30;var o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var c=o.tracks[s],l=c.getValueSize(),u=[],d=[],h=0;h<c.times.length;++h){var p=c.times[h]*i;if(!(p<r||p>=n)){u.push(c.times[h]);for(var f=0;f<l;++f)d.push(c.values[h*l+f])}}0!==u.length&&(c.times=el.convertArray(u,c.times.constructor),c.values=el.convertArray(d,c.values.constructor),a.push(c))}o.tracks=a;for(var m=1/0,s=0;s<o.tracks.length;++s)m>o.tracks[s].times[0]&&(m=o.tracks[s].times[0]);for(var s=0;s<o.tracks.length;++s)o.tracks[s].shift(-1*m);return o.resetDuration(),o}};function tl(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function rl(e,t,r,n){tl.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function nl(e,t,r,n){tl.call(this,e,t,r,n)}function il(e,t,r,n){tl.call(this,e,t,r,n)}function ol(e,t,r,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=el.convertArray(t,this.TimeBufferType),this.values=el.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function al(e,t,r){ol.call(this,e,t,r)}function sl(e,t,r,n){ol.call(this,e,t,r,n)}function cl(e,t,r,n){ol.call(this,e,t,r,n)}function ll(e,t,r,n){tl.call(this,e,t,r,n)}function ul(e,t,r,n){ol.call(this,e,t,r,n)}function dl(e,t,r,n){ol.call(this,e,t,r,n)}function hl(e,t,r,n){ol.call(this,e,t,r,n)}function pl(e,t,r){this.name=e,this.tracks=r,this.duration=void 0!==t?t:-1,this.uuid=_t.generateUUID(),this.duration<0&&this.resetDuration()}function fl(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cl;case"vector":case"vector2":case"vector3":case"vector4":return hl;case"color":return sl;case"quaternion":return ul;case"bool":case"boolean":return al;case"string":return dl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var r=[],n=[];el.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(tl.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var o;r:{n:if(!(e<n)){for(var a=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===a)break;if(i=n,n=t[++r],e<n)break t}o=t.length;break r}if(e>=i)break e;var s=t[1];e<s&&(r=2,i=s);for(var a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===a)break;if(n=i,i=t[--r-1],e>=i)break t}o=r,r=0}for(;r<o;){var c=r+o>>>1;e<t[c]?o=c:r=c+1}if(n=t[r],void 0===(i=t[r-1]))return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,o=0;o!==n;++o)t[o]=r[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(tl.prototype,{beforeStart_:tl.prototype.copySampleValue_,afterEnd_:tl.prototype.copySampleValue_}),rl.prototype=Object.assign(Object.create(tl.prototype),{constructor:rl,DefaultSettings_:{endingStart:ot,endingEnd:ot},intervalChanged_:function(e,t,r){var n=this.parameterPositions,i=e-2,o=e+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-r;break;case 2402:i=n.length-2,a=t+n[i]-n[i+1];break;default:i=e,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*r-t;break;case 2402:o=1,s=r+n[1]-n[0];break;default:o=e-1,s=t}var c=.5*(r-t),l=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-r),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(r-t)/(n-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,b=h*m-h*f,x=0;x!==a;++x)i[x]=g*o[l+x]+v*o[c+x]+y*o[s+x]+b*o[u+x];return i}}),nl.prototype=Object.assign(Object.create(tl.prototype),{constructor:nl,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=(r-t)/(n-t),u=1-l,d=0;d!==a;++d)i[d]=o[c+d]*u+o[s+d]*l;return i}}),il.prototype=Object.assign(Object.create(tl.prototype),{constructor:il,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(ol,{toJSON:function(e){var t,r=e.constructor;if(void 0!==r.toJSON)t=r.toJSON(e);else{t={name:e.name,times:el.convertArray(e.times,Array),values:el.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}),Object.assign(ol.prototype,{constructor:ol,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new il(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new nl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new rl(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<e;)++i;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==i||o!==n){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=el.arraySlice(r,i,o),this.values=el.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==n&&el.isTypedArray(n))for(var a=0,c=n.length;a!==c;++a){var l=n[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,r=this.getValueSize(),n=2302===this.getInterpolation(),i=1,o=e.length-1,a=1;a<o;++a){var s=!1,c=e[a],l=e[a+1];if(c!==l&&(1!==a||c!==c[0]))if(n)s=!0;else for(var u=a*r,d=u-r,h=u+r,p=0;p!==r;++p){var f=t[u+p];if(f!==t[d+p]||f!==t[h+p]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];for(var m=a*r,g=i*r,p=0;p!==r;++p)t[g+p]=t[m+p]}++i}}if(o>0){e[i]=e[o];for(var m=o*r,g=i*r,p=0;p!==r;++p)t[g+p]=t[m+p];++i}return i!==e.length&&(this.times=el.arraySlice(e,0,i),this.values=el.arraySlice(t,0,i*r)),this},clone:function(){var e=el.arraySlice(this.times,0),t=el.arraySlice(this.values,0),r=this.constructor,n=new r(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),al.prototype=Object.assign(Object.create(ol.prototype),{constructor:al,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),sl.prototype=Object.assign(Object.create(ol.prototype),{constructor:sl,ValueTypeName:"color"}),cl.prototype=Object.assign(Object.create(ol.prototype),{constructor:cl,ValueTypeName:"number"}),ll.prototype=Object.assign(Object.create(tl.prototype),{constructor:ll,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=(r-t)/(n-t),l=s+a;s!==l;s+=4)St.slerpFlat(i,0,o,s-a,o,s,c);return i}}),ul.prototype=Object.assign(Object.create(ol.prototype),{constructor:ul,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new ll(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),dl.prototype=Object.assign(Object.create(ol.prototype),{constructor:dl,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),hl.prototype=Object.assign(Object.create(ol.prototype),{constructor:hl,ValueTypeName:"vector"}),Object.assign(pl,{parse:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),i=0,o=r.length;i!==o;++i)t.push(fl(r[i]).scale(n));return new pl(e.name,e.duration,t)},toJSON:function(e){for(var t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=r.length;i!==o;++i)t.push(ol.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(e,t,r,n){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var l=el.getKeyframeOrder(s);s=el.sortedArray(s,1,l),c=el.sortedArray(c,1,l),n||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new cl(".morphTargetInfluences["+t[a].name+"]",s,c).scale(1/r))}return new pl(e,-1,o)},findByName:function(e,t){var r=e;if(!Array.isArray(e)){var n=e;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],c=s.name.match(i);if(c&&c.length>1){var l=c[1],u=n[l];u||(n[l]=u=[]),u.push(s)}}var d=[];for(var l in n)d.push(pl.CreateFromMorphTargetSequence(l,n[l],t,r));return d},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(e,t,r,n,i){if(0!==r.length){var o=[],a=[];el.flattenJSON(r,o,a,n),0!==o.length&&i.push(new e(t,o,a))}},n=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var l=s[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var u={},d=0;d<l.length;d++)if(l[d].morphTargets)for(var h=0;h<l[d].morphTargets.length;h++)u[l[d].morphTargets[h]]=-1;for(var p in u){for(var f=[],m=[],h=0;h!==l[d].morphTargets.length;++h){var g=l[d];f.push(g.time),m.push(g.morphTarget===p?1:0)}n.push(new cl(".morphTargetInfluence["+p+"]",f,m))}o=u.length*(a||1)}else{var v=".bones["+t[c].name+"]";r(hl,v+".position",l,"pos",n),r(ul,v+".quaternion",l,"rot",n),r(hl,v+".scale",l,"scl",n)}}if(0===n.length)return null;var y=new pl(i,o,n);return y}}),Object.assign(pl.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,r=0,n=e.length;r!==n;++r){var i=this.tracks[r];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new pl(this.name,this.duration,e)}});var ml={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function gl(e,t,r){var n=this,i=!1,o=0,a=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){a++,!1===i&&void 0!==n.onStart&&n.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,r=c.length;t<r;t+=2){var n=c[t],i=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}var vl=new gl;function yl(e){this.manager=void 0!==e?e:vl,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(yl.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var bl={};function xl(e){yl.call(this,e)}function wl(e){yl.call(this,e)}function El(e){yl.call(this,e)}function Al(e){yl.call(this,e)}function _l(e){yl.call(this,e)}function Ml(e){yl.call(this,e)}function Sl(e){yl.call(this,e)}function Tl(){this.type="Curve",this.arcLengthDivisions=200}function Cl(e,t,r,n,i,o,a,s){Tl.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Ol(e,t,r,n,i,o){Cl.call(this,e,t,r,r,n,i,o),this.type="ArcCurve"}function Ll(){var e=0,t=0,r=0,n=0;function i(i,o,a,s){e=i,t=a,r=-3*i+3*o-2*a-s,n=2*i-2*o+a+s}return{initCatmullRom:function(e,t,r,n,o){i(t,r,o*(r-e),o*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,o,a,s){var c=(t-e)/o-(r-e)/(o+a)+(r-t)/a,l=(r-t)/a-(n-t)/(a+s)+(n-r)/s;i(t,r,c*=a,l*=a)},calc:function(i){var o=i*i,a=o*i;return e+t*i+r*o+n*a}}}xl.prototype=Object.assign(Object.create(yl.prototype),{constructor:xl,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=ml.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(void 0===bl[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],l=a[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var u,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);u="blob"===d?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var f=new DOMParser;u=f.parseFromString(l,s);break;case"json":u=JSON.parse(l);break;default:u=l}setTimeout(function(){t&&t(u),i.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{bl[e]=[],bl[e].push({onLoad:t,onProgress:r,onError:n});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",function(t){var r=this.response,n=bl[e];if(delete bl[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),ml.add(e,r);for(var o=0,a=n.length;o<a;o++){var s=n[o];s.onLoad&&s.onLoad(r)}i.manager.itemEnd(e)}else{for(var o=0,a=n.length;o<a;o++){var s=n[o];s.onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),m.addEventListener("progress",function(t){for(var r=bl[e],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(t)}},!1),m.addEventListener("error",function(t){var r=bl[e];delete bl[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),m.addEventListener("abort",function(t){var r=bl[e];delete bl[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}bl[e].push({onLoad:t,onProgress:r,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),wl.prototype=Object.assign(Object.create(yl.prototype),{constructor:wl,load:function(e,t,r,n){var i=this,o=new xl(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},parse:function(e){for(var t=[],r=0;r<e.length;r++){var n=pl.parse(e[r]);t.push(n)}return t}}),El.prototype=Object.assign(Object.create(yl.prototype),{constructor:El,load:function(e,t,r,n){var i=this,o=[],a=new Ts;a.image=o;var s=new xl(this.manager);function c(c){s.load(e[c],function(e){var r=i.parse(e,!0);o[c]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(l+=1)&&(1===r.mipmapCount&&(a.minFilter=de),a.format=r.format,a.needsUpdate=!0,t&&t(a))},r,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,u=0,d=e.length;u<d;++u)c(u);else s.load(e,function(e){var r=i.parse(e,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+c]),o[s].format=r.format,o[s].width=r.width,o[s].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=de),a.format=r.format,a.needsUpdate=!0,t&&t(a)},r,n);return a}}),Al.prototype=Object.assign(Object.create(yl.prototype),{constructor:Al,load:function(e,t,r,n){var i=this,o=new gi,a=new xl(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(e){var r=i.parse(e);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:ae,o.wrapT=void 0!==r.wrapT?r.wrapT:ae,o.magFilter=void 0!==r.magFilter?r.magFilter:de,o.minFilter=void 0!==r.minFilter?r.minFilter:de,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps,o.minFilter=pe),1===r.mipmapCount&&(o.minFilter=de),o.needsUpdate=!0,t&&t(o,r))},r,n),o}}),_l.prototype=Object.assign(Object.create(yl.prototype),{constructor:_l,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=ml.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),ml.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),Ml.prototype=Object.assign(Object.create(yl.prototype),{constructor:Ml,load:function(e,t,r,n){var i=new zi,o=new _l(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(r){o.load(e[r],function(e){i.images[r]=e,6==++a&&(i.needsUpdate=!0,t&&t(i))},void 0,n)}for(var c=0;c<e.length;++c)s(c);return i}}),Sl.prototype=Object.assign(Object.create(yl.prototype),{constructor:Sl,load:function(e,t,r,n){var i=new Dt,o=new _l(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(r){i.image=r;var n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=n?Te:Ce,i.needsUpdate=!0,void 0!==t&&t(i)},r,n),i}}),Object.assign(Tl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var r=this.getUtoTmapping(e);return this.getPoint(r,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=e;r++)t=this.getPoint(r/e),o+=t.distanceTo(i),n.push(o),i=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r,n=this.getLengths(),i=0,o=n.length;r=t||e*n[o-1];for(var a,s=0,c=o-1;s<=c;)if(i=Math.floor(s+(c-s)/2),(a=n[i]-r)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(n[i=c]===r)return i/(o-1);var l=n[i],u=n[i+1],d=u-l,h=(r-l)/d,p=(i+h)/(o-1);return p},getTangent:function(e){var t=e-1e-4,r=e+1e-4;t<0&&(t=0),r>1&&(r=1);var n=this.getPoint(t),i=this.getPoint(r),o=i.clone().sub(n);return o.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var r,n,i,o=new Ot,a=[],s=[],c=[],l=new Ot,u=new qt;for(r=0;r<=e;r++)n=r/e,a[r]=this.getTangentAt(n),a[r].normalize();s[0]=new Ot,c[0]=new Ot;var d=Number.MAX_VALUE,h=Math.abs(a[0].x),p=Math.abs(a[0].y),f=Math.abs(a[0].z);for(h<=d&&(d=h,o.set(1,0,0)),p<=d&&(d=p,o.set(0,1,0)),f<=d&&o.set(0,0,1),l.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],l),c[0].crossVectors(a[0],s[0]),r=1;r<=e;r++)s[r]=s[r-1].clone(),c[r]=c[r-1].clone(),l.crossVectors(a[r-1],a[r]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(_t.clamp(a[r-1].dot(a[r]),-1,1)),s[r].applyMatrix4(u.makeRotationAxis(l,i))),c[r].crossVectors(a[r],s[r]);if(!0===t)for(i=Math.acos(_t.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),r=1;r<=e;r++)s[r].applyMatrix4(u.makeRotationAxis(a[r],i*r)),c[r].crossVectors(a[r],s[r]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Cl.prototype=Object.create(Tl.prototype),Cl.prototype.constructor=Cl,Cl.prototype.isEllipseCurve=!0,Cl.prototype.getPoint=function(e,t){for(var r=t||new Mt,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,h=c-this.aY;s=d*l-h*u+this.aX,c=d*u+h*l+this.aY}return r.set(s,c)},Cl.prototype.copy=function(e){return Tl.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Cl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Cl.prototype.fromJSON=function(e){return Tl.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ol.prototype=Object.create(Cl.prototype),Ol.prototype.constructor=Ol,Ol.prototype.isArcCurve=!0;var Rl=new Ot,Pl=new Ll,kl=new Ll,jl=new Ll;function Dl(e,t,r,n){Tl.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=r||"centripetal",this.tension=n||.5}function Il(e,t,r,n,i){var o=.5*(n-t),a=.5*(i-r),s=e*e,c=e*s;return(2*r-2*n+o+a)*c+(-3*r+3*n-2*o-a)*s+o*e+r}function Nl(e,t,r,n){return function(e,t){var r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function zl(e,t,r,n,i){return function(e,t){var r=1-e;return r*r*r*t}(e,t)+function(e,t){var r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}function Bl(e,t,r,n){Tl.call(this),this.type="CubicBezierCurve",this.v0=e||new Mt,this.v1=t||new Mt,this.v2=r||new Mt,this.v3=n||new Mt}function Fl(e,t,r,n){Tl.call(this),this.type="CubicBezierCurve3",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=r||new Ot,this.v3=n||new Ot}function Ul(e,t){Tl.call(this),this.type="LineCurve",this.v1=e||new Mt,this.v2=t||new Mt}function Hl(e,t){Tl.call(this),this.type="LineCurve3",this.v1=e||new Ot,this.v2=t||new Ot}function Gl(e,t,r){Tl.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Mt,this.v1=t||new Mt,this.v2=r||new Mt}function Vl(e,t,r){Tl.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=r||new Ot}function Wl(e){Tl.call(this),this.type="SplineCurve",this.points=e||[]}Dl.prototype=Object.create(Tl.prototype),Dl.prototype.constructor=Dl,Dl.prototype.isCatmullRomCurve3=!0,Dl.prototype.getPoint=function(e,t){var r,n,i,o,a=t||new Ot,s=this.points,c=s.length,l=(c-(this.closed?0:1))*e,u=Math.floor(l),d=l-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/c)+1)*c:0===d&&u===c-1&&(u=c-2,d=1),this.closed||u>0?r=s[(u-1)%c]:(Rl.subVectors(s[0],s[1]).add(s[0]),r=Rl),n=s[u%c],i=s[(u+1)%c],this.closed||u+2<c?o=s[(u+2)%c]:(Rl.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=Rl),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,p=Math.pow(r.distanceToSquared(n),h),f=Math.pow(n.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(o),h);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),Pl.initNonuniformCatmullRom(r.x,n.x,i.x,o.x,p,f,m),kl.initNonuniformCatmullRom(r.y,n.y,i.y,o.y,p,f,m),jl.initNonuniformCatmullRom(r.z,n.z,i.z,o.z,p,f,m)}else"catmullrom"===this.curveType&&(Pl.initCatmullRom(r.x,n.x,i.x,o.x,this.tension),kl.initCatmullRom(r.y,n.y,i.y,o.y,this.tension),jl.initCatmullRom(r.z,n.z,i.z,o.z,this.tension));return a.set(Pl.calc(d),kl.calc(d),jl.calc(d)),a},Dl.prototype.copy=function(e){Tl.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Dl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Dl.prototype.fromJSON=function(e){Tl.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new Ot).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Bl.prototype=Object.create(Tl.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isCubicBezierCurve=!0,Bl.prototype.getPoint=function(e,t){var r=t||new Mt,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(zl(e,n.x,i.x,o.x,a.x),zl(e,n.y,i.y,o.y,a.y)),r},Bl.prototype.copy=function(e){return Tl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Bl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Bl.prototype.fromJSON=function(e){return Tl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Fl.prototype=Object.create(Tl.prototype),Fl.prototype.constructor=Fl,Fl.prototype.isCubicBezierCurve3=!0,Fl.prototype.getPoint=function(e,t){var r=t||new Ot,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(zl(e,n.x,i.x,o.x,a.x),zl(e,n.y,i.y,o.y,a.y),zl(e,n.z,i.z,o.z,a.z)),r},Fl.prototype.copy=function(e){return Tl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Fl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Fl.prototype.fromJSON=function(e){return Tl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ul.prototype=Object.create(Tl.prototype),Ul.prototype.constructor=Ul,Ul.prototype.isLineCurve=!0,Ul.prototype.getPoint=function(e,t){var r=t||new Mt;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Ul.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ul.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()},Ul.prototype.copy=function(e){return Tl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ul.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ul.prototype.fromJSON=function(e){return Tl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Hl.prototype=Object.create(Tl.prototype),Hl.prototype.constructor=Hl,Hl.prototype.isLineCurve3=!0,Hl.prototype.getPoint=function(e,t){var r=t||new Ot;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Hl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Hl.prototype.copy=function(e){return Tl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Hl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Hl.prototype.fromJSON=function(e){return Tl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Gl.prototype=Object.create(Tl.prototype),Gl.prototype.constructor=Gl,Gl.prototype.isQuadraticBezierCurve=!0,Gl.prototype.getPoint=function(e,t){var r=t||new Mt,n=this.v0,i=this.v1,o=this.v2;return r.set(Nl(e,n.x,i.x,o.x),Nl(e,n.y,i.y,o.y)),r},Gl.prototype.copy=function(e){return Tl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Gl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Gl.prototype.fromJSON=function(e){return Tl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Vl.prototype=Object.create(Tl.prototype),Vl.prototype.constructor=Vl,Vl.prototype.isQuadraticBezierCurve3=!0,Vl.prototype.getPoint=function(e,t){var r=t||new Ot,n=this.v0,i=this.v1,o=this.v2;return r.set(Nl(e,n.x,i.x,o.x),Nl(e,n.y,i.y,o.y),Nl(e,n.z,i.z,o.z)),r},Vl.prototype.copy=function(e){return Tl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Vl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Vl.prototype.fromJSON=function(e){return Tl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Wl.prototype=Object.create(Tl.prototype),Wl.prototype.constructor=Wl,Wl.prototype.isSplineCurve=!0,Wl.prototype.getPoint=function(e,t){var r=t||new Mt,n=this.points,i=(n.length-1)*e,o=Math.floor(i),a=i-o,s=n[0===o?o:o-1],c=n[o],l=n[o>n.length-2?n.length-1:o+1],u=n[o>n.length-3?n.length-1:o+2];return r.set(Il(a,s.x,c.x,l.x,u.x),Il(a,s.y,c.y,l.y,u.y)),r},Wl.prototype.copy=function(e){Tl.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this},Wl.prototype.toJSON=function(){var e=Tl.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e},Wl.prototype.fromJSON=function(e){Tl.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new Mt).fromArray(n))}return this};var ql=Object.freeze({ArcCurve:Ol,CatmullRomCurve3:Dl,CubicBezierCurve:Bl,CubicBezierCurve3:Fl,EllipseCurve:Cl,LineCurve:Ul,LineCurve3:Hl,QuadraticBezierCurve:Gl,QuadraticBezierCurve3:Vl,SplineCurve:Wl});function Xl(){Tl.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Yl(e){Xl.call(this),this.type="Path",this.currentPoint=new Mt,e&&this.setFromPoints(e)}function Kl(e){Yl.call(this,e),this.uuid=_t.generateUUID(),this.type="Shape",this.holes=[]}function Ql(e,t){ur.call(this),this.type="Light",this.color=new tn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Zl(e,t,r){Ql.call(this,e,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ur.DefaultUp),this.updateMatrix(),this.groundColor=new tn(t)}function Jl(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Mt(512,512),this.map=null,this.mapPass=null,this.matrix=new qt,this._frustum=new bi,this._frameExtents=new Mt(1,1),this._viewportCount=1,this._viewports=[new It(0,0,1,1)]}function $l(){Jl.call(this,new di(50,1,.5,500))}function eu(e,t,r,n,i,o){Ql.call(this,e,t),this.type="SpotLight",this.position.copy(ur.DefaultUp),this.updateMatrix(),this.target=new ur,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new $l}function tu(){Jl.call(this,new di(90,1,.5,500)),this._frameExtents=new Mt(4,2),this._viewportCount=6,this._viewports=[new It(2,1,1,1),new It(0,1,1,1),new It(3,1,1,1),new It(1,1,1,1),new It(3,0,1,1),new It(1,0,1,1)],this._cubeDirections=[new Ot(1,0,0),new Ot(-1,0,0),new Ot(0,0,1),new Ot(0,0,-1),new Ot(0,1,0),new Ot(0,-1,0)],this._cubeUps=[new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,0,1),new Ot(0,0,-1)]}function ru(e,t,r,n){Ql.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new tu}function nu(e,t,r,n,i,o){ui.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function iu(){Jl.call(this,new nu(-5,5,5,-5,.5,500))}function ou(e,t){Ql.call(this,e,t),this.type="DirectionalLight",this.position.copy(ur.DefaultUp),this.updateMatrix(),this.target=new ur,this.shadow=new iu}function au(e,t){Ql.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function su(e,t,r,n){Ql.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function cu(e){yl.call(this,e),this.textures={}}Xl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Xl,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ul(t,e))},getPoint:function(e){for(var t=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=t){var i=r[n]-t,o=this.curves[n],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}n++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),c=0;c<s.length;c++){var l=s[c];t&&t.equals(l)||(r.push(l),t=l)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){Tl.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Tl.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){Tl.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push((new ql[n.type]).fromJSON(n))}return this}}),Yl.prototype=Object.assign(Object.create(Xl.prototype),{constructor:Yl,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var r=new Ul(this.currentPoint.clone(),new Mt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,n){var i=new Gl(this.currentPoint.clone(),new Mt(e,t),new Mt(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this},bezierCurveTo:function(e,t,r,n,i,o){var a=new Bl(this.currentPoint.clone(),new Mt(e,t),new Mt(r,n),new Mt(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),r=new Wl(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,r,n,i,o),this},absarc:function(e,t,r,n,i,o){return this.absellipse(e,t,r,r,n,i,o),this},ellipse:function(e,t,r,n,i,o,a,s){var c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,r,n,i,o,a,s),this},absellipse:function(e,t,r,n,i,o,a,s){var c=new Cl(e,t,r,n,i,o,a,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);return this.currentPoint.copy(u),this},copy:function(e){return Xl.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Xl.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Xl.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Kl.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Kl,getPointsHoles:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Yl.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){var e=Yl.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){Yl.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push((new Yl).fromJSON(n))}return this}}),Ql.prototype=Object.assign(Object.create(ur.prototype),{constructor:Ql,isLight:!0,copy:function(e){return ur.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ur.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Zl.prototype=Object.assign(Object.create(Ql.prototype),{constructor:Zl,isHemisphereLight:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Jl.prototype,{_projScreenMatrix:new qt,_lightPositionWorld:new Ot,_lookTarget:new Ot,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,r=this.matrix,n=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(n),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),$l.prototype=Object.assign(Object.create(Jl.prototype),{constructor:$l,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,r=2*_t.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),Jl.prototype.updateMatrices.call(this,e)}}),eu.prototype=Object.assign(Object.create(Ql.prototype),{constructor:eu,isSpotLight:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),tu.prototype=Object.assign(Object.create(Jl.prototype),{constructor:tu,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var r=this.camera,n=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),r.position.copy(i),o.copy(r.position),o.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(o),r.updateMatrixWorld(),n.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromMatrix(a)}}),ru.prototype=Object.assign(Object.create(Ql.prototype),{constructor:ru,isPointLight:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),nu.prototype=Object.assign(Object.create(ui.prototype),{constructor:nu,isOrthographicCamera:!0,copy:function(e,t){return ui.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,o=r+e,a=n+t,s=n-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;i+=u*(this.view.offsetX/c),o=i+u*(this.view.width/c),a-=d*(this.view.offsetY/l),s=a-d*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ur.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),iu.prototype=Object.assign(Object.create(Jl.prototype),{constructor:iu,isDirectionalLightShadow:!0,updateMatrices:function(e){Jl.prototype.updateMatrices.call(this,e)}}),ou.prototype=Object.assign(Object.create(Ql.prototype),{constructor:ou,isDirectionalLight:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),au.prototype=Object.assign(Object.create(Ql.prototype),{constructor:au,isAmbientLight:!0}),su.prototype=Object.assign(Object.create(Ql.prototype),{constructor:su,isRectAreaLight:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Ql.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),cu.prototype=Object.assign(Object.create(yl.prototype),{constructor:cu,load:function(e,t,r,n){var i=this,o=new xl(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},parse:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var n=new $c[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=(new tn).setHex(e.sheen)),void 0!==e.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(n.vertexColors=e.vertexColors),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(n.skinning=e.skinning),void 0!==e.morphTargets&&(n.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(n.morphNormals=e.morphNormals),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(n.uniforms[i]={},o.type){case"t":n.uniforms[i].value=r(o.value);break;case"c":n.uniforms[i].value=(new tn).setHex(o.value);break;case"v2":n.uniforms[i].value=(new Mt).fromArray(o.value);break;case"v3":n.uniforms[i].value=(new Ot).fromArray(o.value);break;case"v4":n.uniforms[i].value=(new It).fromArray(o.value);break;case"m3":n.uniforms[i].value=(new Pt).fromArray(o.value);case"m4":n.uniforms[i].value=(new qt).fromArray(o.value);break;default:n.uniforms[i].value=o.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)n.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=r(e.map)),void 0!==e.matcap&&(n.matcap=r(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=r(e.alphaMap),n.transparent=!0),void 0!==e.bumpMap&&(n.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),n.normalScale=(new Mt).fromArray(s)}return void 0!==e.displacementMap&&(n.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=r(e.specularMap)),void 0!==e.envMap&&(n.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new Mt).fromArray(e.clearcoatNormalScale)),n},setTextures:function(e){return this.textures=e,this}});var lu={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function uu(){Ln.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function du(e,t,r,n){"number"==typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),dn.call(this,e,t,r),this.meshPerAttribute=n||1}function hu(e){yl.call(this,e)}uu.prototype=Object.assign(Object.create(Ln.prototype),{constructor:uu,isInstancedBufferGeometry:!0,copy:function(e){return Ln.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Ln.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),du.prototype=Object.assign(Object.create(dn.prototype),{constructor:du,isInstancedBufferAttribute:!0,copy:function(e){return dn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=dn.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),hu.prototype=Object.assign(Object.create(yl.prototype),{constructor:hu,load:function(e,t,r,n){var i=this,o=new xl(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},parse:function(e){var t=e.isInstancedBufferGeometry?new uu:new Ln,r=e.data.index;if(void 0!==r){var n=new pu[r.type](r.array);t.setIndex(new dn(n,1))}var i=e.data.attributes;for(var o in i){var a=i[o],n=new pu[a.type](a.array),s=a.isInstancedBufferAttribute?du:dn,c=new s(n,a.itemSize,a.normalized);void 0!==a.name&&(c.name=a.name),t.setAttribute(o,c)}var l=e.data.morphAttributes;if(l)for(var o in l){for(var u=l[o],d=[],h=0,p=u.length;h<p;h++){var a=u[h],n=new pu[a.type](a.array),c=new dn(n,a.itemSize,a.normalized);void 0!==a.name&&(c.name=a.name),d.push(c)}t.morphAttributes[o]=d}var f=e.data.morphTargetsRelative;f&&(t.morphTargetsRelative=!0);var m=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==m)for(var h=0,g=m.length;h!==g;++h){var v=m[h];t.addGroup(v.start,v.count,v.materialIndex)}var y=e.data.boundingSphere;if(void 0!==y){var b=new Ot;void 0!==y.center&&b.fromArray(y.center),t.boundingSphere=new Cr(b,y.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var pu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function fu(e){yl.call(this,e)}fu.prototype=Object.assign(Object.create(yl.prototype),{constructor:fu,load:function(e,t,r,n){var i=this,o=""===this.path?lu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new xl(i.manager);a.setPath(this.path),a.load(e,function(r){var o=null;try{o=JSON.parse(r)}catch(t){return void 0!==n&&n(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)},r,n)},parse:function(e,t){var r=this.parseShape(e.shapes),n=this.parseGeometries(e.geometries,r),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,n,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var r=0,n=e.length;r<n;r++){var i=(new Kl).fromJSON(e[r]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var r={};if(void 0!==e)for(var n=new hu,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Hc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Hc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Hc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Hc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Hc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Hc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Hc[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Hc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Hc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Hc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new Hc[s.type]((new ql[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Hc[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Hc[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,u=s.shapes.length;l<u;l++){var d=t[s.shapes[l]];c.push(d)}a=new Hc[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var c=[],l=0,u=s.shapes.length;l<u;l++){var d=t[s.shapes[l]];c.push(d)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new ql[h.type]).fromJSON(h)),a=new Hc[s.type](c,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=n.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var p=new THREE.LegacyJSONLoader;a=p.parse(s,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),r[s.uuid]=a}return r},parseMaterials:function(e,t){var r={},n={};if(void 0!==e){var i=new cu;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var u=s.materials[l];void 0===r[u.uuid]&&(r[u.uuid]=i.parse(u)),c.push(r[u.uuid])}n[s.uuid]=c}else void 0===r[s.uuid]&&(r[s.uuid]=i.parse(s)),n[s.uuid]=r[s.uuid]}}return n},parseAnimations:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=pl.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),t.push(i)}return t},parseImages:function(e,t){var r=this,n={};function i(e){return r.manager.itemStart(e),a.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemError(e),r.manager.itemEnd(e)})}if(void 0!==e&&e.length>0){var o=new gl(t),a=new _l(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,c=e.length;s<c;s++){var l=e[s],u=l.url;if(Array.isArray(u)){n[l.uuid]=[];for(var d=0,h=u.length;d<h;d++){var p=u[d],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:r.resourcePath+p;n[l.uuid].push(i(f))}}else{var f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:r.resourcePath+l.url;n[l.uuid]=i(f)}}}return n},parseTextures:function(e,t){function r(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var n={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new zi(t[s.image]):new Dt(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=r(s.mapping,gu)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=r(s.wrap[0],vu),a.wrapT=r(s.wrap[1],vu)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=r(s.minFilter,yu)),void 0!==s.magFilter&&(a.magFilter=r(s.magFilter,yu)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),n[s.uuid]=a}return n},parseObject:function(e,t,r){var n;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(r[o])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}switch(e.type){case"Scene":n=new dr,void 0!==e.background&&Number.isInteger(e.background)&&(n.background=new tn(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?n.fog=new Ra(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(n.fog=new La(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new di(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(n.focus=e.focus),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.filmGauge&&(n.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(n.filmOffset=e.filmOffset),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new nu(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"AmbientLight":n=new au(e.color,e.intensity);break;case"DirectionalLight":n=new ou(e.color,e.intensity);break;case"PointLight":n=new ru(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new su(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new eu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new Zl(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);n=a.bones&&a.bones.length>0?new Ja(a,s):new Yn(a,s);break;case"InstancedMesh":var a=i(e.geometry),s=o(e.material),c=e.count,l=e.instanceMatrix;(n=new ss(a,s,c)).instanceMatrix=new dn(new Float32Array(l.array),16);break;case"LOD":n=new Za;break;case"Line":n=new fs(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":n=new ys(i(e.geometry),o(e.material));break;case"LineSegments":n=new vs(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":n=new _s(i(e.geometry),o(e.material));break;case"Sprite":n=new Xa(o(e.material));break;case"Group":n=new wa;break;default:n=new ur}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(n.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(n.matrixAutoUpdate=e.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.quaternion&&n.quaternion.fromArray(e.quaternion),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(n.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(n.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&n.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(n.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.frustumCulled&&(n.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(n.renderOrder=e.renderOrder),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.layers&&(n.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,d=0;d<u.length;d++)n.add(this.parseObject(u[d],t,r));if("LOD"===e.type){void 0!==e.autoUpdate&&(n.autoUpdate=e.autoUpdate);for(var h=e.levels,p=0;p<h.length;p++){var f=h[p],m=n.getObjectByProperty("uuid",f.object);void 0!==m&&n.addLevel(m,f.distance)}}return n}});var mu,gu={UVMapping:300,CubeReflectionMapping:J,CubeRefractionMapping:$,EquirectangularReflectionMapping:ee,EquirectangularRefractionMapping:te,SphericalReflectionMapping:re,CubeUVReflectionMapping:ne,CubeUVRefractionMapping:ie},vu={RepeatWrapping:oe,ClampToEdgeWrapping:ae,MirroredRepeatWrapping:se},yu={NearestFilter:ce,NearestMipmapNearestFilter:le,NearestMipmapLinearFilter:ue,LinearFilter:de,LinearMipmapNearestFilter:he,LinearMipmapLinearFilter:pe};function bu(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),yl.call(this,e),this.options=void 0}function xu(){this.type="ShapePath",this.color=new tn,this.subPaths=[],this.currentPath=null}function wu(e){this.type="Font",this.data=e}function Eu(e,t,r,n,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,c,l,u,d,h,p,f=new xu;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){var y=m[g++];switch(y){case"m":a=m[g++]*t+r,s=m[g++]*t+n,f.moveTo(a,s);break;case"l":a=m[g++]*t+r,s=m[g++]*t+n,f.lineTo(a,s);break;case"q":c=m[g++]*t+r,l=m[g++]*t+n,u=m[g++]*t+r,d=m[g++]*t+n,f.quadraticCurveTo(u,d,c,l);break;case"b":c=m[g++]*t+r,l=m[g++]*t+n,u=m[g++]*t+r,d=m[g++]*t+n,h=m[g++]*t+r,p=m[g++]*t+n,f.bezierCurveTo(u,d,h,p,c,l)}}return{offsetX:o.ha*t,path:f}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function Au(e){yl.call(this,e)}bu.prototype=Object.assign(Object.create(yl.prototype),{constructor:bu,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=ml.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;fetch(e).then(function(e){return e.blob()}).then(function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)}).then(function(r){ml.add(e,r),t&&t(r),i.manager.itemEnd(e)}).catch(function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}}),Object.assign(xu.prototype,{moveTo:function(e,t){return this.currentPath=new Yl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,i,o){return this.currentPath.bezierCurveTo(e,t,r,n,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r],o=new Kl;o.curves=i.curves,t.push(o)}return t}function n(e,t){for(var r=t.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=t[i],s=t[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[o],c=-c,s=t[i],l=-l),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var u=l*(e.x-a.x)-c*(e.y-a.y);if(0===u)return!0;if(u<0)continue;n=!n}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return n}var i=vc.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return r(o);var a,s,c,l=[];if(1===o.length)return s=o[0],(c=new Kl).curves=s.curves,l.push(c),l;var u=!i(o[0].getPoints());u=e?!u:u;var d,h,p=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)s=o[v],d=s.getPoints(),a=i(d),(a=e?!a:a)?(!u&&f[g]&&g++,f[g]={s:new Kl,p:d},f[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:d[0]});if(!f[0])return r(o);if(f.length>1){for(var b=!1,x=[],w=0,E=f.length;w<E;w++)p[w]=[];for(var w=0,E=f.length;w<E;w++)for(var A=m[w],_=0;_<A.length;_++){for(var M=A[_],S=!0,T=0;T<f.length;T++)n(M.p,f[T].p)&&(w!==T&&x.push({froms:w,tos:T,hole:_}),S?(S=!1,p[T].push(M)):b=!0);S&&p[w].push(M)}x.length>0&&(b||(m=p))}for(var v=0,C=f.length;v<C;v++){c=f[v].s,l.push(c),h=m[v];for(var O=0,L=h.length;O<L;O++)c.holes.push(h[O].h)}return l}}),Object.assign(wu.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var r=[],n=function(e,t,r){for(var n=Array.from?Array.from(e):String(e).split(""),i=t/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,a=[],s=0,c=0,l=0;l<n.length;l++){var u=n[l];if("\n"===u)s=0,c-=o;else{var d=Eu(u,i,s,c,r);s+=d.offsetX,a.push(d.path)}}return a}(e,t,this.data),i=0,o=n.length;i<o;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}}),Au.prototype=Object.assign(Object.create(yl.prototype),{constructor:Au,load:function(e,t,r,n){var i=this,o=new xl(this.manager);o.setPath(this.path),o.load(e,function(e){var r;try{r=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}var n=i.parse(r);t&&t(n)},r,n)},parse:function(e){return new wu(e)}});var _u={getContext:function(){return void 0===mu&&(mu=new(window.AudioContext||window.webkitAudioContext)),mu},setContext:function(e){mu=e}};function Mu(e){yl.call(this,e)}function Su(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new Ot)}function Tu(e,t){Ql.call(this,void 0,t),this.sh=void 0!==e?e:new Su}function Cu(e,t,r){Tu.call(this,void 0,r);var n=(new tn).set(e),i=(new tn).set(t),o=new Ot(n.r,n.g,n.b),a=new Ot(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function Ou(e,t){Tu.call(this,void 0,t);var r=(new tn).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}Mu.prototype=Object.assign(Object.create(yl.prototype),{constructor:Mu,load:function(e,t,r,n){var i=new xl(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(e){var r=e.slice(0),n=_u.getContext();n.decodeAudioData(r,function(e){t(e)})},r,n)}}),Object.assign(Su.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var r=e.x,n=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScale(o[1],.488603*n),t.addScale(o[2],.488603*i),t.addScale(o[3],.488603*r),t.addScale(o[4],r*n*1.092548),t.addScale(o[5],n*i*1.092548),t.addScale(o[6],.315392*(3*i*i-1)),t.addScale(o[7],r*i*1.092548),t.addScale(o[8],.546274*(r*r-n*n)),t},getIrradianceAt:function(e,t){var r=e.x,n=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScale(o[1],1.023328*n),t.addScale(o[2],1.023328*i),t.addScale(o[3],1.023328*r),t.addScale(o[4],.858086*r*n),t.addScale(o[5],.858086*n*i),t.addScale(o[6],.743125*i*i-.247708),t.addScale(o[7],.858086*r*i),t.addScale(o[8],.429043*(r*r-n*n)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var r=this.coefficients,n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var r=this.coefficients,n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}}),Object.assign(Su,{getBasisAt:function(e,t){var r=e.x,n=e.y,i=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*i,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*r*i,t[8]=.546274*(r*r-n*n)}}),Tu.prototype=Object.assign(Object.create(Ql.prototype),{constructor:Tu,isLightProbe:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){var t=Ql.prototype.toJSON.call(this,e);return t}}),Cu.prototype=Object.assign(Object.create(Tu.prototype),{constructor:Cu,isHemisphereLightProbe:!0,copy:function(e){return Tu.prototype.copy.call(this,e),this},toJSON:function(e){var t=Tu.prototype.toJSON.call(this,e);return t}}),Ou.prototype=Object.assign(Object.create(Tu.prototype),{constructor:Ou,isAmbientLightProbe:!0,copy:function(e){return Tu.prototype.copy.call(this,e),this},toJSON:function(e){var t=Tu.prototype.toJSON.call(this,e);return t}});var Lu=new qt,Ru=new qt;function Pu(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new di,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new di,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function ku(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Pu.prototype,{update:function(e){var t=this._cache,r=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(r){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,i,o=e.projectionMatrix.clone(),a=t.eyeSep/2,s=a*t.near/t.focus,c=t.near*Math.tan(_t.DEG2RAD*t.fov*.5)/t.zoom;Ru.elements[12]=-a,Lu.elements[12]=a,n=-c*t.aspect+s,i=c*t.aspect+s,o.elements[0]=2*t.near/(i-n),o.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(o),n=-c*t.aspect-s,i=c*t.aspect-s,o.elements[0]=2*t.near/(i-n),o.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(o)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ru),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Lu)}}),Object.assign(ku.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var ju=new Ot,Du=new St,Iu=new Ot,Nu=new Ot;function zu(){ur.call(this),this.type="AudioListener",this.context=_u.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ku}function Bu(e){ur.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}zu.prototype=Object.assign(Object.create(ur.prototype),{constructor:zu,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){ur.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ju,Du,Iu),Nu.set(0,0,-1).applyQuaternion(Du),t.positionX){var n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ju.x,n),t.positionY.linearRampToValueAtTime(ju.y,n),t.positionZ.linearRampToValueAtTime(ju.z,n),t.forwardX.linearRampToValueAtTime(Nu.x,n),t.forwardY.linearRampToValueAtTime(Nu.y,n),t.forwardZ.linearRampToValueAtTime(Nu.z,n),t.upX.linearRampToValueAtTime(r.x,n),t.upY.linearRampToValueAtTime(r.y,n),t.upZ.linearRampToValueAtTime(r.z,n)}else t.setPosition(ju.x,ju.y,ju.z),t.setOrientation(Nu.x,Nu.y,Nu.z,r.x,r.y,r.z)}}),Bu.prototype=Object.assign(Object.create(ur.prototype),{constructor:Bu,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var Fu=new Ot,Uu=new St,Hu=new Ot,Gu=new Ot;function Vu(e){Bu.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Wu(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function qu(e,t,r){this.binding=e,this.valueSize=r;var n,i=Float64Array;switch(t){case"quaternion":n=this._slerp;break;case"string":case"bool":i=Array,n=this._select;break;default:n=this._lerp}this.buffer=new i(4*r),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Vu.prototype=Object.assign(Object.create(Bu.prototype),{constructor:Vu,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(e){if(ur.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Fu,Uu,Hu),Gu.set(0,0,1).applyQuaternion(Uu);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Fu.x,r),t.positionY.linearRampToValueAtTime(Fu.y,r),t.positionZ.linearRampToValueAtTime(Fu.z,r),t.orientationX.linearRampToValueAtTime(Gu.x,r),t.orientationY.linearRampToValueAtTime(Gu.y,r),t.orientationZ.linearRampToValueAtTime(Gu.z,r)}else t.setPosition(Fu.x,Fu.y,Fu.z),t.setOrientation(Gu.x,Gu.y,Gu.z)}}}),Object.assign(Wu.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}}),Object.assign(qu.prototype,{accumulate:function(e,t){var r=this.buffer,n=this.valueSize,i=e*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(r,n,a,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(r[s]!==r[s+t]){o.setValue(r,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,r=this.valueSize,n=3*r;e.getValue(t,n);for(var i=r,o=n;i!==o;++i)t[i]=t[n+i%r];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)e[t+o]=e[r+o]},_slerp:function(e,t,r,n){St.slerpFlat(e,t,e,t,e,r,n)},_lerp:function(e,t,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[r+a]*n}}});var Xu=new RegExp("[\\[\\]\\.:\\/]","g"),Yu="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Ku=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Qu=/(WCOD+)?/.source.replace("WCOD",Yu),Zu=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ju=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),$u=new RegExp("^"+Ku+Qu+Zu+Ju+"$"),ed=["material","materials","bones"];function td(e,t,r){var n=r||rd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function rd(e,t,r){this.path=t,this.parsedPath=r||rd.parseTrackName(t),this.node=rd.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function nd(){this.uuid=_t.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function id(e,t,r){this._mixer=e,this._clip=t,this._localRoot=r||null;for(var n=t.tracks,i=n.length,o=new Array(i),a={endingStart:ot,endingEnd:ot},s=0;s!==i;++s){var c=n[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=it,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function od(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ad(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function sd(e,t,r){Pa.call(this,e,t),this.meshPerAttribute=r||1}function cd(e,t,r,n){this.ray=new Ir(e,t),this.near=r||0,this.far=n||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ld(e,t){return e.distance-t.distance}function ud(e,t,r,n){if(!1!==e.visible&&(e.raycast(t,r),!0===n))for(var i=e.children,o=0,a=i.length;o<a;o++)ud(i[o],t,r,!0)}function dd(e,t,r){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==r?r:0,this}function hd(e,t,r){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==r?r:0,this}Object.assign(td.prototype,{getValue:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Object.assign(rd,{Composite:td,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new rd.Composite(e,t,r):new rd(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Xu,"")},parseTrackName:function(e){var t=$u.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==ed.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){var n=function(e){for(var r=0;r<e.length;r++){var i=e[r];if(i.name===t||i.uuid===t)return i;var o=n(i.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}}),Object.assign(rd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(e=rd.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var o=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[n];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(rd.prototype,{_getValue_unbound:rd.prototype.getValue,_setValue_unbound:rd.prototype.setValue}),Object.assign(nd.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,l=0,u=arguments.length;l!==u;++l){var d=arguments[l],h=d.uuid,p=n[h];if(void 0===p){p=t++,n[h]=p,e.push(d);for(var f=0,m=s;f!==m;++f)a[f].push(new rd(d,i[f],o[f]))}else if(p<r){c=e[p];var g=--r,v=e[g];n[v.uuid]=p,e[p]=v,n[h]=g,e[g]=d;for(var f=0,m=s;f!==m;++f){var y=a[f],b=y[g],x=y[p];y[p]=b,void 0===x&&(x=new rd(d,i[f],o[f])),y[g]=x}}else e[p]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,i=n.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,l=r[c];if(void 0!==l&&l>=t){var u=t++,d=e[u];r[d.uuid]=l,e[l]=d,r[c]=u,e[u]=s;for(var h=0,p=i;h!==p;++h){var f=n[h],m=f[u],g=f[l];f[l]=m,f[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a],l=c.uuid,u=n[l];if(void 0!==u)if(delete n[l],u<r){var d=--r,h=e[d],p=--t,f=e[p];n[h.uuid]=u,e[u]=h,n[f.uuid]=d,e[d]=f,e.pop();for(var m=0,g=o;m!==g;++m){var v=i[m],y=v[d],b=v[p];v[u]=y,v[d]=b,v.pop()}}else{var p=--t,f=e[p];n[f.uuid]=u,e[u]=f,e.pop();for(var m=0,g=o;m!==g;++m){var v=i[m];v[u]=v[p],v.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,n=r[e],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);n=i.length,r[e]=n,o.push(e),a.push(t),i.push(u);for(var d=l,h=s.length;d!==h;++d){var p=s[d];u[d]=new rd(p,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],c=e[a];t[c]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Object.assign(id.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){var n=this._clip.duration,i=e._clip.duration,o=i/n,a=n/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+r,c[0]=e/a,c[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*r;if(o<0||0===r)return;this._startTime=null,t=r*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,u=0,d=c.length;u!==d;++u)c[u].evaluate(a),l[u].accumulate(n,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,r=this._clip.duration,n=this.loop,i=this._loopCount,o=2202===n;if(0===e)return-1===i?t:o&&1==(1&i)?r-t:t;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=r)t=r;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=r||t<0){var a=Math.floor(t/r);t-=r*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?r:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=t;if(o&&1==(1&i))return r-t}return t},_setEndings:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=2401,n.endingEnd=2401):(n.endingStart=e?this.zeroSlopeAtStart?2401:ot:2402,n.endingEnd=t?this.zeroSlopeAtEnd?2401:ot:2402)},_scheduleFading:function(e,t,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=r,this}}),od.prototype=Object.assign(Object.create(wt.prototype),{constructor:od,_bindAction:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,o=e._propertyBindings,a=e._interpolants,s=r.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==i;++u){var d=n[u],h=d.name,p=l[h];if(void 0!==p)o[u]=p;else{if(void 0!==(p=o[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}var f=t&&t._propertyBindings[u].binding.parsedPath;++(p=new qu(rd.create(r,h,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,h),o[u]=p}a[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,r){var n=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null;var u=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var n=this._bindingsByRootAndName,i=n[t],o=this._bindings;void 0===i&&(i={},n[t]=i),i[r]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[n]},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&((r=new nl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var r=t||this._root,n=r.uuid,i="string"==typeof e?pl.findByName(r,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[n];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new id(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,o,n),l},existingAction:function(e,t){var r=t||this._root,n=r.uuid,i="string"==typeof e?pl.findByName(r,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[n]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,r=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==n;++i)r[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==r;++a){var s=t[a];s._update(n,e,i,o)}for(var c=this._bindings,l=this._nActiveBindings,a=0;a!==l;++a)c[a].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var l=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,t[l]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete n[r]}},uncacheRoot:function(e){var t=e.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot,o=i[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var c in s){var l=s[c];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(e,t){var r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),ad.prototype.clone=function(){return new ad(void 0===this.value.clone?this.value:this.value.clone())},sd.prototype=Object.assign(Object.create(Pa.prototype),{constructor:sd,isInstancedInterleavedBuffer:!0,copy:function(e){return Pa.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(cd.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,r){var n=r||[];return ud(e,this,n,t),n.sort(ld),n},intersectObjects:function(e,t,r){var n=r||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,o=e.length;i<o;i++)ud(e[i],this,n,t);return n.sort(ld),n}}),Object.assign(dd.prototype,{set:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(_t.clamp(t/this.radius,-1,1))),this}}),Object.assign(hd.prototype,{set:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}});var pd=new Mt;function fd(e,t){this.min=void 0!==e?e:new Mt(1/0,1/0),this.max=void 0!==t?t:new Mt(-1/0,-1/0)}Object.assign(fd.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var r=pd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Mt),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Mt),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Mt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Mt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){var t=pd.copy(e).clamp(this.min,this.max);return t.sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var md=new Ot,gd=new Ot;function vd(e,t){this.start=void 0!==e?e:new Ot,this.end=void 0!==t?t:new Ot}function yd(e){ur.call(this),this.material=e,this.render=function(){}}Object.assign(vd.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Ot),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Ot),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Ot),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){md.subVectors(e,this.start),gd.subVectors(this.end,this.start);var r=gd.dot(gd),n=gd.dot(md),i=n/r;return t&&(i=_t.clamp(i,0,1)),i},closestPointToPoint:function(e,t,r){var n=this.closestPointToPointParameter(e,t);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new Ot),this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),yd.prototype=Object.create(ur.prototype),yd.prototype.constructor=yd,yd.prototype.isImmediateRenderObject=!0;var bd=new Ot,xd=new Ot,wd=new Pt,Ed=["a","b","c"];function Ad(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new Ln,l=new bn(2*a*3,3);c.setAttribute("position",l),vs.call(this,c,new cs({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}Ad.prototype=Object.create(vs.prototype),Ad.prototype.constructor=Ad,Ad.prototype.update=function(){this.object.updateMatrixWorld(!0),wd.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,r=this.object.geometry;if(r&&r.isGeometry)for(var n=r.vertices,i=r.faces,o=0,a=0,s=i.length;a<s;a++)for(var c=i[a],l=0,u=c.vertexNormals.length;l<u;l++){var d=n[c[Ed[l]]],h=c.vertexNormals[l];bd.copy(d).applyMatrix4(e),xd.copy(h).applyMatrix3(wd).normalize().multiplyScalar(this.size).add(bd),t.setXYZ(o,bd.x,bd.y,bd.z),o+=1,t.setXYZ(o,xd.x,xd.y,xd.z),o+=1}else if(r&&r.isBufferGeometry)for(var p=r.attributes.position,f=r.attributes.normal,o=0,l=0,u=p.count;l<u;l++)bd.set(p.getX(l),p.getY(l),p.getZ(l)).applyMatrix4(e),xd.set(f.getX(l),f.getY(l),f.getZ(l)),xd.applyMatrix3(wd).normalize().multiplyScalar(this.size).add(bd),t.setXYZ(o,bd.x,bd.y,bd.z),o+=1,t.setXYZ(o,xd.x,xd.y,xd.z),o+=1;t.needsUpdate=!0};var _d=new Ot,Md=new Ot;function Sd(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==r?r:65535,o=void 0!==n?n:1,a=this.object.geometry;if(a&&a.isBufferGeometry){var s=a.attributes.tangent.count,c=new Ln,l=new bn(2*s*3,3);c.setAttribute("position",l),vs.call(this,c,new cs({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}else console.error("THREE.VertexTangentsHelper: geometry not an instance of THREE.BufferGeometry.",a)}Sd.prototype=Object.create(vs.prototype),Sd.prototype.constructor=Sd,Sd.prototype.update=function(){this.object.updateMatrixWorld(!0);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,r=this.object.geometry,n=r.attributes.position,i=r.attributes.tangent,o=0,a=0,s=n.count;a<s;a++)_d.set(n.getX(a),n.getY(a),n.getZ(a)).applyMatrix4(e),Md.set(i.getX(a),i.getY(a),i.getZ(a)),Md.transformDirection(e).multiplyScalar(this.size).add(_d),t.setXYZ(o,_d.x,_d.y,_d.z),o+=1,t.setXYZ(o,Md.x,Md.y,Md.z),o+=1;t.needsUpdate=!0};var Td=new Ot;function Cd(e,t){ur.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var r=new Ln,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.setAttribute("position",new bn(n,3));var c=new cs({fog:!1});this.cone=new vs(r,c),this.add(this.cone),this.update()}Cd.prototype=Object.create(ur.prototype),Cd.prototype.constructor=Cd,Cd.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Cd.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Td.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Td),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Od=new Ot,Ld=new qt,Rd=new qt;function Pd(e){for(var t=function e(t){var r=[];t&&t.isBone&&r.push(t);for(var n=0;n<t.children.length;n++)r.push.apply(r,e(t.children[n]));return r}(e),r=new Ln,n=[],i=[],o=new tn(0,0,1),a=new tn(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.setAttribute("position",new bn(n,3)),r.setAttribute("color",new bn(i,3));var l=new cs({vertexColors:h,depthTest:!1,depthWrite:!1,transparent:!0});vs.call(this,r,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function kd(e,t,r){this.light=e,this.light.updateMatrixWorld(),this.color=r;var n=new Tc(t,4,2),i=new ln({wireframe:!0,fog:!1});Yn.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function jd(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var r=new Ln;r.setAttribute("position",new bn([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere();var n=new cs({fog:!1});fs.call(this,r,n);var i=new Ln;i.setAttribute("position",new bn([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Yn(i,new ln({side:c,fog:!1}))),this.update()}Pd.prototype=Object.create(vs.prototype),Pd.prototype.constructor=Pd,Pd.prototype.updateMatrixWorld=function(e){var t=this.bones,r=this.geometry,n=r.getAttribute("position");Rd.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(Ld.multiplyMatrices(Rd,a.matrixWorld),Od.setFromMatrixPosition(Ld),n.setXYZ(o,Od.x,Od.y,Od.z),Ld.multiplyMatrices(Rd,a.parent.matrixWorld),Od.setFromMatrixPosition(Ld),n.setXYZ(o+1,Od.x,Od.y,Od.z),o+=2)}r.getAttribute("position").needsUpdate=!0,ur.prototype.updateMatrixWorld.call(this,e)},kd.prototype=Object.create(Yn.prototype),kd.prototype.constructor=kd,kd.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},kd.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},jd.prototype=Object.create(fs.prototype),jd.prototype.constructor=jd,jd.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},jd.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var Dd=new Ot,Id=new tn,Nd=new tn;function zd(e,t,r){ur.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var n=new zs(t);n.rotateY(.5*Math.PI),this.material=new ln({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=h);var i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.setAttribute("color",new dn(o,3)),this.add(new Yn(n,this.material)),this.update()}function Bd(e,t){this.lightProbe=e,this.size=t;var r={GAMMA_OUTPUT:""},n=new li({defines:r,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),i=new Tc(1,32,16);Yn.call(this,i,n),this.onBeforeRender()}function Fd(e,t,r,n){e=e||10,t=t||10,r=new tn(void 0!==r?r:4473924),n=new tn(void 0!==n?n:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],c=[],l=0,u=0,d=-a;l<=t;l++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);var p=l===i?r:n;p.toArray(c,u),u+=3,p.toArray(c,u),u+=3,p.toArray(c,u),u+=3,p.toArray(c,u),u+=3}var f=new Ln;f.setAttribute("position",new bn(s,3)),f.setAttribute("color",new bn(c,3));var m=new cs({vertexColors:h});vs.call(this,f,m)}function Ud(e,t,r,n,i,o){e=e||10,t=t||16,r=r||8,n=n||64,i=new tn(void 0!==i?i:4473924),o=new tn(void 0!==o?o:8947848);var a,s,c,l,u,d,p,f=[],m=[];for(l=0;l<=t;l++)c=l/t*(2*Math.PI),a=Math.sin(c)*e,s=Math.cos(c)*e,f.push(0,0,0),f.push(a,0,s),p=1&l?i:o,m.push(p.r,p.g,p.b),m.push(p.r,p.g,p.b);for(l=0;l<=r;l++)for(p=1&l?i:o,d=e-e/r*l,u=0;u<n;u++)c=u/n*(2*Math.PI),a=Math.sin(c)*d,s=Math.cos(c)*d,f.push(a,0,s),m.push(p.r,p.g,p.b),c=(u+1)/n*(2*Math.PI),a=Math.sin(c)*d,s=Math.cos(c)*d,f.push(a,0,s),m.push(p.r,p.g,p.b);var g=new Ln;g.setAttribute("position",new bn(f,3)),g.setAttribute("color",new bn(m,3));var v=new cs({vertexColors:h});vs.call(this,g,v)}function Hd(e,t,r,n){this.audio=e,this.range=t||1,this.divisionsInnerAngle=r||16,this.divisionsOuterAngle=n||2;var i=new Ln,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,a=new Float32Array(3*(3*o+3));i.setAttribute("position",new dn(a,3));var s=new cs({color:65280}),c=new cs({color:16776960});fs.call(this,i,[c,s]),this.update()}zd.prototype=Object.create(ur.prototype),zd.prototype.constructor=zd,zd.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},zd.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Id.copy(this.light.color),Nd.copy(this.light.groundColor);for(var r=0,n=t.count;r<n;r++){var i=r<n/2?Id:Nd;t.setXYZ(r,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(Dd.setFromMatrixPosition(this.light.matrixWorld).negate())},Bd.prototype=Object.create(Yn.prototype),Bd.prototype.constructor=Bd,Bd.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Bd.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Fd.prototype=Object.assign(Object.create(vs.prototype),{constructor:Fd,copy:function(e){return vs.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Ud.prototype=Object.create(vs.prototype),Ud.prototype.constructor=Ud,Hd.prototype=Object.create(fs.prototype),Hd.prototype.constructor=Hd,Hd.prototype.update=function(){var e,t,r=this.audio,n=this.range,i=this.divisionsInnerAngle,o=this.divisionsOuterAngle,a=_t.degToRad(r.panner.coneInnerAngle),s=_t.degToRad(r.panner.coneOuterAngle),c=a/2,l=s/2,u=0,d=0,h=this.geometry,p=h.attributes.position;function f(r,i,o,a){var s=(i-r)/o;for(p.setXYZ(u,0,0,0),d++,e=r;e<i;e+=s)t=u+d,p.setXYZ(t,Math.sin(e)*n,0,Math.cos(e)*n),p.setXYZ(t+1,Math.sin(Math.min(e+s,i))*n,0,Math.cos(Math.min(e+s,i))*n),p.setXYZ(t+2,0,0,0),d+=3;h.addGroup(u,d,a),u+=d,d=0}h.clearGroups(),f(-l,-c,o,0),f(-c,c,i,1),f(c,l,o,0),p.needsUpdate=!0,a===s&&(this.material[0].visible=!1)},Hd.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var Gd=new Ot,Vd=new Ot,Wd=new Pt;function qd(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Ln,l=new bn(2*a*3,3);c.setAttribute("position",l),vs.call(this,c,new cs({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}qd.prototype=Object.create(vs.prototype),qd.prototype.constructor=qd,qd.prototype.update=function(){this.object.updateMatrixWorld(!0),Wd.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,r=this.object.geometry,n=r.vertices,i=r.faces,o=0,a=0,s=i.length;a<s;a++){var c=i[a],l=c.normal;Gd.copy(n[c.a]).add(n[c.b]).add(n[c.c]).divideScalar(3).applyMatrix4(e),Vd.copy(l).applyMatrix3(Wd).normalize().multiplyScalar(this.size).add(Gd),t.setXYZ(o,Gd.x,Gd.y,Gd.z),o+=1,t.setXYZ(o,Vd.x,Vd.y,Vd.z),o+=1}t.needsUpdate=!0};var Xd=new Ot,Yd=new Ot,Kd=new Ot;function Qd(e,t,r){ur.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1);var n=new Ln;n.setAttribute("position",new bn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new cs({fog:!1});this.lightPlane=new fs(n,i),this.add(this.lightPlane),(n=new Ln).setAttribute("position",new bn([0,0,0,0,0,1],3)),this.targetLine=new fs(n,i),this.add(this.targetLine),this.update()}Qd.prototype=Object.create(ur.prototype),Qd.prototype.constructor=Qd,Qd.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Qd.prototype.update=function(){Xd.setFromMatrixPosition(this.light.matrixWorld),Yd.setFromMatrixPosition(this.light.target.matrixWorld),Kd.subVectors(Yd,Xd),this.lightPlane.lookAt(Yd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yd),this.targetLine.scale.z=Kd.length()};var Zd=new Ot,Jd=new ui;function $d(e){var t=new Ln,r=new cs({color:16777215,vertexColors:d}),n=[],i=[],o={},a=new tn(16755200),s=new tn(16711680),c=new tn(43775),l=new tn(16777215),u=new tn(3355443);function h(e,t,r){p(e,r),p(t,r)}function p(e,t){n.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(n.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",l),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),t.setAttribute("position",new bn(n,3)),t.setAttribute("color",new bn(i,3)),vs.call(this,t,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function eh(e,t,r,n,i,o,a){Zd.set(i,o,a).unproject(n);var s=t[e];if(void 0!==s)for(var c=r.getAttribute("position"),l=0,u=s.length;l<u;l++)c.setXYZ(s[l],Zd.x,Zd.y,Zd.z)}$d.prototype=Object.create(vs.prototype),$d.prototype.constructor=$d,$d.prototype.update=function(){var e=this.geometry,t=this.pointMap;Jd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),eh("c",t,e,Jd,0,0,-1),eh("t",t,e,Jd,0,0,1),eh("n1",t,e,Jd,-1,-1,-1),eh("n2",t,e,Jd,1,-1,-1),eh("n3",t,e,Jd,-1,1,-1),eh("n4",t,e,Jd,1,1,-1),eh("f1",t,e,Jd,-1,-1,1),eh("f2",t,e,Jd,1,-1,1),eh("f3",t,e,Jd,-1,1,1),eh("f4",t,e,Jd,1,1,1),eh("u1",t,e,Jd,.7,1.1,-1),eh("u2",t,e,Jd,-.7,1.1,-1),eh("u3",t,e,Jd,0,2,-1),eh("cf1",t,e,Jd,-1,0,1),eh("cf2",t,e,Jd,1,0,1),eh("cf3",t,e,Jd,0,-1,1),eh("cf4",t,e,Jd,0,1,1),eh("cn1",t,e,Jd,-1,0,-1),eh("cn2",t,e,Jd,1,0,-1),eh("cn3",t,e,Jd,0,-1,-1),eh("cn4",t,e,Jd,0,1,-1),e.getAttribute("position").needsUpdate=!0};var th=new Mr;function rh(e,t){this.object=e,void 0===t&&(t=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Ln;i.setIndex(new dn(r,1)),i.setAttribute("position",new dn(n,3)),vs.call(this,i,new cs({color:t})),this.matrixAutoUpdate=!1,this.update()}function nh(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Ln;n.setIndex(new dn(r,1)),n.setAttribute("position",new bn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),vs.call(this,n,new cs({color:t})),this.geometry.computeBoundingSphere()}function ih(e,t,r){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var n=void 0!==r?r:16776960,i=new Ln;i.setAttribute("position",new bn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),fs.call(this,i,new cs({color:n}));var o=new Ln;o.setAttribute("position",new bn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Yn(o,new ln({color:n,opacity:.2,transparent:!0,depthWrite:!1})))}rh.prototype=Object.create(vs.prototype),rh.prototype.constructor=rh,rh.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&th.setFromObject(this.object),!th.isEmpty()){var t=th.min,r=th.max,n=this.geometry.attributes.position,i=n.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=t.x,i[4]=r.y,i[5]=r.z,i[6]=t.x,i[7]=t.y,i[8]=r.z,i[9]=r.x,i[10]=t.y,i[11]=r.z,i[12]=r.x,i[13]=r.y,i[14]=t.z,i[15]=t.x,i[16]=r.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=r.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}},rh.prototype.setFromObject=function(e){return this.object=e,this.update(),this},rh.prototype.copy=function(e){return vs.prototype.copy.call(this,e),this.object=e.object,this},rh.prototype.clone=function(){return(new this.constructor).copy(this)},nh.prototype=Object.create(vs.prototype),nh.prototype.constructor=nh,nh.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ur.prototype.updateMatrixWorld.call(this,e))},ih.prototype=Object.create(fs.prototype),ih.prototype.constructor=ih,ih.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?c:s,this.lookAt(this.plane.normal),ur.prototype.updateMatrixWorld.call(this,e)};var oh,ah,sh=new Ot;function ch(e,t,r,n,i,o){ur.call(this),void 0===e&&(e=new Ot(0,0,1)),void 0===t&&(t=new Ot(0,0,0)),void 0===r&&(r=1),void 0===n&&(n=16776960),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===oh&&((oh=new Ln).setAttribute("position",new bn([0,0,0,0,1,0],3)),(ah=new Nc(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new fs(oh,new cs({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yn(ah,new ln({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,o)}function lh(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new Ln;r.setAttribute("position",new bn(t,3)),r.setAttribute("color",new bn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var n=new cs({vertexColors:h});vs.call(this,r,n)}function uh(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Dl.call(this,e),this.type="catmullrom",this.closed=!0}function dh(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Dl.call(this,e),this.type="catmullrom"}function hh(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Dl.call(this,e),this.type="catmullrom"}ch.prototype=Object.create(ur.prototype),ch.prototype.constructor=ch,ch.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sh,t)}},ch.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},ch.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},ch.prototype.copy=function(e){return ur.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},ch.prototype.clone=function(){return(new this.constructor).copy(this)},lh.prototype=Object.create(vs.prototype),lh.prototype.constructor=lh,Tl.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Tl.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Xl.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new ti,r=0,n=e.length;r<n;r++){var i=e[r];t.vertices.push(new Ot(i.x,i.y,i.z||0))}return t}}),Object.assign(Yl.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),uh.prototype=Object.create(Dl.prototype),dh.prototype=Object.create(Dl.prototype),hh.prototype=Object.create(Dl.prototype),Object.assign(hh.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Fd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Pd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(yl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),lu.extractUrlBase(e)}}),yl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(fu.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(fd.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Mr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),vd.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(_t,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),_t.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),_t.ceilPowerOfTwo(e)}}),Object.assign(Pt.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(qt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ot).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,o)}}),Fr.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},St.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ir.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Zr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Zr,{barycoordFromPoint:function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Zr.getBarycoord(e,t,r,n,i)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Zr.getNormal(e,t,r,n)}}),Object.assign(Kl.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new xc(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Pc(this,e)}}),Object.assign(Mt.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ot.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(It.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ti.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(ur.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(ur.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Yn.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Yn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Za.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ts.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Ja.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Tl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),di.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Ql.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(dn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(dn.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:xt),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Ln.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new dn(arguments[1],arguments[2])))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)}}),Object.defineProperties(Ln.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Pa.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Pa.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:xt),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(wc.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(ad.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(cn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new tn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Xc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(li.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Oa.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Oa.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been removed. Use .xr instead."),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Please define the correct color spaces for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Please define the correct color spaces for textures via Texture.encoding instead.")}}}),Object.defineProperties(ma.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(mi.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(Nt.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Ta.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Object.defineProperties(Bu.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,r=new Mu;return r.load(e,function(e){t.setBuffer(e)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Wu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},fi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var ph={merge:function(e,t,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};kt.crossOrigin=void 0,kt.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Sl;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,r,void 0,n);return t&&(o.mapping=t),o},kt.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Ml;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,r,void 0,n);return t&&(o.mapping=t),o},kt.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},kt.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var fh={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"111dev"}})),e.ACESFilmicToneMapping=Z,e.AddEquation=b,e.AddOperation=W,e.AdditiveBlending=m,e.AlphaFormat=Se,e.AlwaysDepth=I,e.AlwaysStencilFunc=bt,e.AmbientLight=au,e.AmbientLightProbe=Ou,e.AnimationClip=pl,e.AnimationLoader=wl,e.AnimationMixer=od,e.AnimationObjectGroup=nd,e.AnimationUtils=el,e.ArcCurve=Ol,e.ArrayCamera=Ea,e.ArrowHelper=ch,e.Audio=Bu,e.AudioAnalyser=Wu,e.AudioContext=_u,e.AudioListener=zu,e.AudioLoader=Mu,e.AxesHelper=lh,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new lh(e)},e.BackSide=c,e.BasicDepthPacking=ft,e.BasicShadowMap=0,e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Al(e)},e.Bone=rs,e.BooleanKeyframeTrack=al,e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new rh(e,t)},e.Box2=fd,e.Box3=Mr,e.Box3Helper=nh,e.BoxBufferGeometry=ni,e.BoxGeometry=ri,e.BoxHelper=rh,e.BufferAttribute=dn,e.BufferGeometry=Ln,e.BufferGeometryLoader=hu,e.ByteType=me,e.Cache=ml,e.Camera=ui,e.CameraHelper=$d,e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.CanvasTexture=Cs,e.CatmullRomCurve3=Dl,e.CineonToneMapping=Q,e.CircleBufferGeometry=Uc,e.CircleGeometry=Fc,e.ClampToEdgeWrapping=ae,e.Clock=ku,e.ClosedSplineCurve3=uh,e.Color=tn,e.ColorKeyframeTrack=sl,e.CompressedTexture=Ts,e.CompressedTextureLoader=El,e.ConeBufferGeometry=Bc,e.ConeGeometry=zc,e.CubeCamera=fi,e.CubeGeometry=ri,e.CubeReflectionMapping=J,e.CubeRefractionMapping=$,e.CubeTexture=zi,e.CubeTextureLoader=Ml,e.CubeUVReflectionMapping=ne,e.CubeUVRefractionMapping=ie,e.CubicBezierCurve=Bl,e.CubicBezierCurve3=Fl,e.CubicInterpolant=rl,e.CullFaceBack=r,e.CullFaceFront=n,e.CullFaceFrontBack=3,e.CullFaceNone=t,e.Curve=Tl,e.CurvePath=Xl,e.CustomBlending=y,e.CylinderBufferGeometry=Nc,e.CylinderGeometry=Ic,e.Cylindrical=hd,e.DataTexture=gi,e.DataTexture2DArray=Bi,e.DataTexture3D=Fi,e.DataTextureLoader=Al,e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=vl,e.DepthFormat=Pe,e.DepthStencilFormat=ke,e.DepthTexture=Os,e.DirectionalLight=ou,e.DirectionalLightHelper=Qd,e.DirectionalLightShadow=iu,e.DiscreteInterpolant=il,e.DodecahedronBufferGeometry=Hs,e.DodecahedronGeometry=Us,e.DoubleSide=l,e.DstAlphaFactor=L,e.DstColorFactor=P,e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new dn(e,t).setDynamic(!0)},e.DynamicCopyUsage=35050,e.DynamicDrawUsage=35048,e.DynamicReadUsage=35049,e.EdgesGeometry=Dc,e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new vs(new Dc(e.geometry),new cs({color:void 0!==t?t:16777215}))},e.EllipseCurve=Cl,e.EqualDepth=B,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=ee,e.EquirectangularRefractionMapping=te,e.Euler=Kt,e.EventDispatcher=wt,e.ExtrudeBufferGeometry=wc,e.ExtrudeGeometry=xc,e.Face3=an,e.Face4=function(e,t,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new an(e,t,r,i,o,a)},e.FaceColors=d,e.FaceNormalsHelper=qd,e.FileLoader=xl,e.FlatShading=1,e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new bn(e,t)},e.Float32BufferAttribute=bn,e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new xn(e,t)},e.Float64BufferAttribute=xn,e.FloatType=xe,e.Fog=Ra,e.FogExp2=La,e.Font=wu,e.FontLoader=Au,e.FrontFaceDirectionCCW=1,e.FrontFaceDirectionCW=0,e.FrontSide=s,e.Frustum=bi,e.GammaEncoding=ct,e.Geometry=ti,e.GeometryUtils=ph,e.GreaterDepth=U,e.GreaterEqualDepth=F,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=Fd,e.Group=wa,e.HalfFloatType=we,e.HemisphereLight=Zl,e.HemisphereLightHelper=zd,e.HemisphereLightProbe=Cu,e.IcosahedronBufferGeometry=Fs,e.IcosahedronGeometry=Bs,e.ImageBitmapLoader=bu,e.ImageLoader=_l,e.ImageUtils=kt,e.ImmediateRenderObject=yd,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=du,e.InstancedBufferGeometry=uu,e.InstancedInterleavedBuffer=sd,e.InstancedMesh=ss,e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new mn(e,t)},e.Int16BufferAttribute=mn,e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new vn(e,t)},e.Int32BufferAttribute=vn,e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new hn(e,t)},e.Int8BufferAttribute=hn,e.IntType=ye,e.InterleavedBuffer=Pa,e.InterleavedBufferAttribute=ka,e.Interpolant=tl,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.InvertStencilOp=5386,e.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},e.KeepStencilOp=yt,e.KeyframeTrack=ol,e.LOD=Za,e.LatheBufferGeometry=Rc,e.LatheGeometry=Lc,e.Layers=Qt,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},e.LessDepth=N,e.LessEqualDepth=z,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=Ql,e.LightProbe=Tu,e.LightProbeHelper=Bd,e.LightShadow=Jl,e.Line=fs,e.Line3=vd,e.LineBasicMaterial=cs,e.LineCurve=Ul,e.LineCurve3=Hl,e.LineDashedMaterial=Jc,e.LineLoop=ys,e.LinePieces=1,e.LineSegments=vs,e.LineStrip=0,e.LinearEncoding=at,e.LinearFilter=de,e.LinearInterpolant=nl,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=pe,e.LinearMipmapNearestFilter=he,e.LinearToneMapping=X,e.Loader=yl,e.LoaderUtils=lu,e.LoadingManager=gl,e.LogLuvEncoding=ut,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=it,e.LuminanceAlphaFormat=Le,e.LuminanceFormat=Oe,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},e.Material=cn,e.MaterialLoader=cu,e.Math=_t,e.Matrix3=Pt,e.Matrix4=qt,e.MaxEquation=A,e.Mesh=Yn,e.MeshBasicMaterial=ln,e.MeshDepthMaterial=da,e.MeshDistanceMaterial=ha,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MeshLambertMaterial=Qc,e.MeshMatcapMaterial=Zc,e.MeshNormalMaterial=Kc,e.MeshPhongMaterial=Xc,e.MeshPhysicalMaterial=qc,e.MeshStandardMaterial=Wc,e.MeshToonMaterial=Yc,e.MinEquation=E,e.MirroredRepeatWrapping=se,e.MixOperation=V,e.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},e.MultiplyBlending=v,e.MultiplyOperation=G,e.NearestFilter=ce,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=ue,e.NearestMipmapNearestFilter=le,e.NeverDepth=D,e.NeverStencilFunc=512,e.NoBlending=p,e.NoColors=u,e.NoToneMapping=q,e.NormalBlending=f,e.NotEqualDepth=H,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=cl,e.Object3D=ur,e.ObjectLoader=fu,e.ObjectSpaceNormalMap=vt,e.OctahedronBufferGeometry=zs,e.OctahedronGeometry=Ns,e.OneFactor=M,e.OneMinusDstAlphaFactor=R,e.OneMinusDstColorFactor=k,e.OneMinusSrcAlphaFactor=O,e.OneMinusSrcColorFactor=T,e.OrthographicCamera=nu,e.PCFShadowMap=i,e.PCFSoftShadowMap=o,e.ParametricBufferGeometry=Ps,e.ParametricGeometry=Rs,e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Xa(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new bs(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new _s(e,t)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new bs(e)},e.Path=Yl,e.PerspectiveCamera=di,e.Plane=Fr,e.PlaneBufferGeometry=Si,e.PlaneGeometry=Mi,e.PlaneHelper=ih,e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new _s(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new bs(e)},e.PointLight=ru,e.PointLightHelper=kd,e.Points=_s,e.PointsMaterial=bs,e.PolarGridHelper=Ud,e.PolyhedronBufferGeometry=js,e.PolyhedronGeometry=ks,e.PositionalAudio=Vu,e.PositionalAudioHelper=Hd,e.PropertyBinding=rd,e.PropertyMixer=qu,e.QuadraticBezierCurve=Gl,e.QuadraticBezierCurve3=Vl,e.Quaternion=St,e.QuaternionKeyframeTrack=ul,e.QuaternionLinearInterpolant=ll,e.REVISION="111dev",e.RGBADepthPacking=mt,e.RGBAFormat=Ce,e.RGBA_ASTC_10x10_Format=tt,e.RGBA_ASTC_10x5_Format=Je,e.RGBA_ASTC_10x6_Format=$e,e.RGBA_ASTC_10x8_Format=et,e.RGBA_ASTC_12x10_Format=rt,e.RGBA_ASTC_12x12_Format=nt,e.RGBA_ASTC_4x4_Format=Ve,e.RGBA_ASTC_5x4_Format=We,e.RGBA_ASTC_5x5_Format=qe,e.RGBA_ASTC_6x5_Format=Xe,e.RGBA_ASTC_6x6_Format=Ye,e.RGBA_ASTC_8x5_Format=Ke,e.RGBA_ASTC_8x6_Format=Qe,e.RGBA_ASTC_8x8_Format=Ze,e.RGBA_PVRTC_2BPPV1_Format=He,e.RGBA_PVRTC_4BPPV1_Format=Ue,e.RGBA_S3TC_DXT1_Format=Ie,e.RGBA_S3TC_DXT3_Format=Ne,e.RGBA_S3TC_DXT5_Format=ze,e.RGBDEncoding=pt,e.RGBEEncoding=lt,e.RGBEFormat=Re,e.RGBFormat=Te,e.RGBM16Encoding=ht,e.RGBM7Encoding=dt,e.RGB_ETC1_Format=Ge,e.RGB_PVRTC_2BPPV1_Format=Fe,e.RGB_PVRTC_4BPPV1_Format=Be,e.RGB_S3TC_DXT1_Format=De,e.RawShaderMaterial=Vc,e.Ray=Ir,e.Raycaster=cd,e.RectAreaLight=su,e.RectAreaLightHelper=jd,e.RedFormat=je,e.ReinhardToneMapping=Y,e.RepeatWrapping=oe,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=w,e.RingBufferGeometry=Oc,e.RingGeometry=Cc,e.Scene=dr,e.SceneUtils=fh,e.ShaderChunk=xi,e.ShaderLib=Ei,e.ShaderMaterial=li,e.ShadowMaterial=Gc,e.Shape=Kl,e.ShapeBufferGeometry=kc,e.ShapeGeometry=Pc,e.ShapePath=xu,e.ShapeUtils=vc,e.ShortType=ge,e.Skeleton=ts,e.SkeletonHelper=Pd,e.SkinnedMesh=Ja,e.SmoothShading=2,e.Sphere=Cr,e.SphereBufferGeometry=Tc,e.SphereGeometry=Sc,e.Spherical=dd,e.SphericalHarmonics3=Su,e.SphericalReflectionMapping=re,e.Spline=hh,e.SplineCurve=Wl,e.SplineCurve3=dh,e.SpotLight=eu,e.SpotLightHelper=Cd,e.SpotLightShadow=$l,e.Sprite=Xa,e.SpriteMaterial=ja,e.SrcAlphaFactor=C,e.SrcAlphaSaturateFactor=j,e.SrcColorFactor=S,e.StaticCopyUsage=35046,e.StaticDrawUsage=xt,e.StaticReadUsage=35045,e.StereoCamera=Pu,e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=dl,e.SubtractEquation=x,e.SubtractiveBlending=g,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TangentSpaceNormalMap=gt,e.TetrahedronBufferGeometry=Is,e.TetrahedronGeometry=Ds,e.TextBufferGeometry=Mc,e.TextGeometry=_c,e.Texture=Dt,e.TextureLoader=Sl,e.TorusBufferGeometry=Ys,e.TorusGeometry=Xs,e.TorusKnotBufferGeometry=qs,e.TorusKnotGeometry=Ws,e.Triangle=Zr,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=Vs,e.TubeGeometry=Gs,e.UVMapping=300,e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new gn(e,t)},e.Uint16BufferAttribute=gn,e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new yn(e,t)},e.Uint32BufferAttribute=yn,e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new pn(e,t)},e.Uint8BufferAttribute=pn,e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new fn(e,t)},e.Uint8ClampedBufferAttribute=fn,e.Uncharted2ToneMapping=K,e.Uniform=ad,e.UniformsLib=wi,e.UniformsUtils=ai,e.UnsignedByteType=fe,e.UnsignedInt248Type=Me,e.UnsignedIntType=be,e.UnsignedShort4444Type=Ee,e.UnsignedShort5551Type=Ae,e.UnsignedShort565Type=_e,e.UnsignedShortType=ve,e.VSMShadowMap=a,e.Vector2=Mt,e.Vector3=Ot,e.Vector4=It,e.VectorKeyframeTrack=hl,e.Vertex=function(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ot(e,t,r)},e.VertexColors=h,e.VertexNormalsHelper=Ad,e.VertexTangentsHelper=Sd,e.VideoTexture=Ss,e.WebGLMultisampleRenderTarget=zt,e.WebGLRenderTarget=Nt,e.WebGLRenderTargetCube=mi,e.WebGLRenderer=Oa,e.WebGLUtils=ya,e.WireframeGeometry=Ls,e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new vs(new Ls(e.geometry),new cs({color:void 0!==t?t:16777215}))},e.WrapAroundEnding=2402,e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new xl(e)},e.ZeroCurvatureEnding=ot,e.ZeroFactor=_,e.ZeroSlopeEnding=2401,e.ZeroStencilOp=0,e.sRGBEncoding=st,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof r&&void 0!==t?i(r):(n=n||self,i(n.THREE={}))},{}],58:[function(e,t,r){THREE.DRACOLoader=function(e){THREE.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}},THREE.DRACOLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.DRACOLoader,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,r,n){var i=new THREE.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&i.setWithCredentials(!0),i.load(e,e=>{var r={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,r).then(t).catch(n)},r,n)},decodeDracoFile:function(e,t,r,n){var i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,i).then(t)},decodeGeometry:function(e,t){var r,n=this.workerNextTaskID++,i=e.byteLength;for(var o in t.attributeTypes){var a=t.attributeTypes[o];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[o]=a.name)}var s=this._getWorker(n,i).then(i=>(r=i,new Promise((i,o)=>{r._callbacks[n]={resolve:i,reject:o},r.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return s.finally(()=>{r&&n&&this._releaseTask(r,n)}),s},_createGeometry:function(e){var t=new THREE.BufferGeometry;e.index&&t.setIndex(new THREE.BufferAttribute(e.index.array,1));for(var r=0;r<e.attributes.length;r++){var n=e.attributes[r],i=n.name,o=n.array,a=n.itemSize;t.setAttribute(i,new THREE.BufferAttribute(o,a))}return t},_loadLibrary:function(e,t){var r=new THREE.FileLoader(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),new Promise((t,n)=>{r.load(e,t,void 0,n)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{var r=t[0];e||(this.decoderConfig.wasmBinary=t[1]);var n=THREE.DRACOLoader.DRACOWorker.toString(),i=["/* draco decoder */",r,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending},_getWorker:function(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){var r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});var r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),THREE.DRACOLoader.DRACOWorker=function(){var e,t;function r(e,t,r,n,i,o){var a,s,c=o.num_components(),l=r.num_points(),u=l*c;switch(i){case Float32Array:a=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(r,o,a),s=new Float32Array(u);break;case Int8Array:a=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(r,o,a),s=new Int8Array(u);break;case Int16Array:a=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(r,o,a),s=new Int16Array(u);break;case Int32Array:a=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(r,o,a),s=new Int32Array(u);break;case Uint8Array:a=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(r,o,a),s=new Uint8Array(u);break;case Uint16Array:a=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(r,o,a),s=new Uint16Array(u);break;case Uint32Array:a=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(r,o,a),s=new Uint32Array(u);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var d=0;d<u;d++)s[d]=a.GetValue(d);return e.destroy(a),{name:n,array:s,itemSize:c}}onmessage=function(n){var i=n.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":var o=i.buffer,a=i.taskConfig;t.then(e=>{var t=e.draco,n=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(o),o.byteLength);try{var c=function(e,t,n,i){var o,a,s=i.attributeIDs,c=i.attributeTypes,l=t.GetEncodedGeometryType(n);if(l===e.TRIANGULAR_MESH)o=new e.Mesh,a=t.DecodeBufferToMesh(n,o);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new e.PointCloud,a=t.DecodeBufferToPointCloud(n,o)}if(!a.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var u={index:null,attributes:[]};for(var d in s){var h,p,f=self[c[d]];if(i.useUniqueIDs)p=s[d],h=t.GetAttributeByUniqueId(o,p);else{if(-1===(p=t.GetAttributeId(o,e[s[d]])))continue;h=t.GetAttribute(o,p)}u.attributes.push(r(e,t,o,d,f,h))}if(l===e.TRIANGULAR_MESH){for(var m=o.num_faces(),g=3*m,v=new Uint32Array(g),y=new e.DracoInt32Array,b=0;b<m;++b){t.GetFaceFromMesh(o,b,y);for(var x=0;x<3;++x)v[3*b+x]=y.GetValue(x)}u.index={array:v,itemSize:1},e.destroy(y)}return e.destroy(o),u}(t,n,s,a),l=c.attributes.map(e=>e.array.buffer);c.index&&l.push(c.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:c},l)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(s),t.destroy(n)}})}}},THREE.DRACOLoader.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},THREE.DRACOLoader.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},THREE.DRACOLoader.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},THREE.DRACOLoader.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")}},{}],59:[function(e,t,r){THREE.GLTFLoader=function(){function e(e){THREE.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:e,load:function(e,t,r,n){var i,o=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(e),o.manager.itemStart(e);var a=function(t){n?n(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},s=new THREE.FileLoader(o.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),"use-credentials"===o.crossOrigin&&s.setWithCredentials(!0),s.load(e,function(r){try{o.parse(r,i,function(r){t(r),o.manager.itemEnd(e)},a)}catch(e){a(e)}},r,a)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,s,c){var f,m={};if("string"==typeof e)f=e;else{var g=THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4));if(g===a){try{m[r.KHR_BINARY_GLTF]=new l(e)}catch(e){return void(c&&c(e))}f=m[r.KHR_BINARY_GLTF].content}else f=THREE.LoaderUtils.decodeText(new Uint8Array(e))}var v=JSON.parse(f);if(void 0===v.asset||v.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(v.extensionsUsed)for(var y=0;y<v.extensionsUsed.length;++y){var b=v.extensionsUsed[y],x=v.extensionsRequired||[];switch(b){case r.KHR_LIGHTS_PUNCTUAL:m[b]=new i(v);break;case r.KHR_MATERIALS_UNLIT:m[b]=new o;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[b]=new h;break;case r.KHR_DRACO_MESH_COMPRESSION:m[b]=new u(v,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:m[b]=new n(this.ddsLoader);break;case r.KHR_TEXTURE_TRANSFORM:m[b]=new d;break;case r.KHR_MESH_QUANTIZATION:m[b]=new p;break;default:x.indexOf(b)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+b+'".')}}var w=new L(v,m,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});w.parse(s,c)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=r.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[r.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=r.KHR_MATERIALS_UNLIT}i.prototype.loadLight=function(e){var t,r=this.lightDefs[e],n=new THREE.Color(16777215);void 0!==r.color&&n.fromArray(r.color);var i=void 0!==r.range?r.range:0;switch(r.type){case"directional":(t=new THREE.DirectionalLight(n)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new THREE.PointLight(n)).distance=i;break;case"spot":(t=new THREE.SpotLight(n)).distance=i,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,t.angle=r.spot.outerConeAngle,t.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+r.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==r.intensity&&(t.intensity=r.intensity),t.name=r.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return THREE.MeshBasicMaterial},o.prototype.extendParams=function(e,t,r){var n=[];e.color=new THREE.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var o=i.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==i.baseColorTexture&&n.push(r.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(n)};var a="glTF",s=12,c={JSON:1313821514,BIN:5130562};function l(e){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,s);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==a)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=new DataView(e,s),i=0;i<n.byteLength;){var o=n.getUint32(i,!0);i+=4;var l=n.getUint32(i,!0);if(i+=4,l===c.JSON){var u=new Uint8Array(e,s+i,o);this.content=THREE.LoaderUtils.decodeText(u)}else if(l===c.BIN){var d=s+i;this.body=e.slice(d,d+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function u(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function d(){this.name=r.KHR_TEXTURE_TRANSFORM}function h(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(e,t,r){var n=t.extensions[this.name],i=THREE.ShaderLib.standard,o=THREE.UniformsUtils.clone(i.uniforms),a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),c=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),d=i.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",c).replace("#include <metalnessmap_fragment>",l).replace("#include <lights_physical_fragment>",u);delete o.roughness,delete o.metalness,delete o.roughnessMap,delete o.metalnessMap,o.specular={value:(new THREE.Color).setHex(1118481)},o.glossiness={value:.5},o.specularMap={value:null},o.glossinessMap={value:null},e.vertexShader=i.vertexShader,e.fragmentShader=d,e.uniforms=o,e.defines={STANDARD:""},e.color=new THREE.Color(1,1,1),e.opacity=1;var h=[];if(Array.isArray(n.diffuseFactor)){var p=n.diffuseFactor;e.color.fromArray(p),e.opacity=p[3]}if(void 0!==n.diffuseTexture&&h.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new THREE.Color(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var f=n.specularGlossinessTexture;h.push(r.assignTexture(e,"glossinessMap",f)),h.push(r.assignTexture(e,"specularMap",f))}return Promise.all(h)},createMaterial:function(e){var t=new THREE.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var r=this.specularGlossinessParams,n=0,i=r.length;n<i;n++){var o=e[r[n]];t[r[n]]=o&&o.isColor?o.clone():o}return t},refreshUniforms:function(e,t,r,n,i){if(!0===i.isGLTFSpecularGlossinessMaterial){var o,a=i.uniforms,s=i.defines;a.opacity.value=i.opacity,a.diffuse.value.copy(i.color),a.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),a.map.value=i.map,a.specularMap.value=i.specularMap,a.alphaMap.value=i.alphaMap,a.lightMap.value=i.lightMap,a.lightMapIntensity.value=i.lightMapIntensity,a.aoMap.value=i.aoMap,a.aoMapIntensity.value=i.aoMapIntensity,i.map?o=i.map:i.specularMap?o=i.specularMap:i.displacementMap?o=i.displacementMap:i.normalMap?o=i.normalMap:i.bumpMap?o=i.bumpMap:i.glossinessMap?o=i.glossinessMap:i.alphaMap?o=i.alphaMap:i.emissiveMap&&(o=i.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),a.uvTransform.value.copy(o.matrix)),i.envMap&&(a.envMap.value=i.envMap,a.envMapIntensity.value=i.envMapIntensity,a.flipEnvMap.value=i.envMap.isCubeTexture?-1:1,a.reflectivity.value=i.reflectivity,a.refractionRatio.value=i.refractionRatio,a.maxMipLevel.value=e.properties.get(i.envMap).__maxMipLevel),a.specular.value.copy(i.specular),a.glossiness.value=i.glossiness,a.glossinessMap.value=i.glossinessMap,a.emissiveMap.value=i.emissiveMap,a.bumpMap.value=i.bumpMap,a.normalMap.value=i.normalMap,a.displacementMap.value=i.displacementMap,a.displacementScale.value=i.displacementScale,a.displacementBias.value=i.displacementBias,null!==a.glossinessMap.value&&void 0===s.USE_GLOSSINESSMAP&&(s.USE_GLOSSINESSMAP="",s.USE_ROUGHNESSMAP=""),null===a.glossinessMap.value&&void 0!==s.USE_GLOSSINESSMAP&&(delete s.USE_GLOSSINESSMAP,delete s.USE_ROUGHNESSMAP)}}}}function p(){this.name=r.KHR_MESH_QUANTIZATION}function f(e,t,r,n){THREE.Interpolant.call(this,e,t,r,n)}u.prototype.decodePrimitive=function(e,t){var r=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},s={},c={};for(var l in o){var u=x[l]||l.toLowerCase();a[u]=o[l]}for(l in e.attributes){var u=x[l]||l.toLowerCase();if(void 0!==o[l]){var d=r.accessors[e.attributes[l]],h=g[d.componentType];c[u]=h,s[u]=!0===d.normalized}}return t.getDependency("bufferView",i).then(function(e){return new Promise(function(t){n.decodeDracoFile(e,function(e){for(var r in e.attributes){var n=e.attributes[r],i=s[r];void 0!==i&&(n.normalized=i)}t(e)},a,c)})})},d.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},f.prototype=Object.create(THREE.Interpolant.prototype),f.prototype.constructor=f,f.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n*3+n,o=0;o!==n;o++)t[o]=r[i+o];return t},f.prototype.beforeStart_=f.prototype.copySampleValue_,f.prototype.afterEnd_=f.prototype.copySampleValue_,f.prototype.interpolate_=function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,c=3*a,l=n-t,u=(r-t)/l,d=u*u,h=d*u,p=e*c,f=p-c,m=-2*h+3*d,g=h-d,v=1-m,y=g-d+u,b=0;b!==a;b++){var x=o[f+b+a],w=o[f+b+s]*l,E=o[p+b+a],A=o[p+b]*l;i[b]=v*x+y*w+m*E+g*A}return i};var m={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},g={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},v={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipmapNearestFilter,9985:THREE.LinearMipmapNearestFilter,9986:THREE.NearestMipmapLinearFilter,9987:THREE.LinearMipmapLinearFilter},y={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},b={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},x={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},w={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},E={CUBICSPLINE:void 0,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},A={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"},_={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};function M(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e)}function S(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function T(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function C(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var r=0,n=i.length;r<n;r++)e.morphTargetDictionary[i[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function O(e){for(var t="",r=Object.keys(e).sort(),n=0,i=r.length;n<i;n++)t+=r[n]+":"+e[r[n]]+";";return t}function L(e,r,n){this.json=e||{},this.extensions=r||{},this.options=n||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function R(e,t,r){var n=t.attributes,i=[];function o(t,n){return r.getDependency("accessor",t).then(function(t){e.setAttribute(n,t)})}for(var a in n){var s=x[a]||a.toLowerCase();s in e.attributes||i.push(o(n[a],s))}if(void 0!==t.indices&&!e.index){var c=r.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});i.push(c)}return T(e,t),function(e,t,r){var n=t.attributes,i=new THREE.Box3;if(void 0!==n.POSITION){var o=r.json.accessors[n.POSITION],a=o.min,s=o.max;i.set(new THREE.Vector3(a[0],a[1],a[2]),new THREE.Vector3(s[0],s[1],s[2]));var c=t.targets;if(void 0!==c)for(var l=new THREE.Vector3,u=0,d=c.length;u<d;u++){var h=c[u];if(void 0!==h.POSITION){var o=r.json.accessors[h.POSITION],a=o.min,s=o.max;l.setX(Math.max(Math.abs(a[0]),Math.abs(s[0]))),l.setY(Math.max(Math.abs(a[1]),Math.abs(s[1]))),l.setZ(Math.max(Math.abs(a[2]),Math.abs(s[2]))),i.expandByVector(l)}}e.boundingBox=i;var p=new THREE.Sphere;i.getCenter(p.center),p.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=p}}(e,t,r),Promise.all(i).then(function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,i=!1,o=0,a=t.length;o<a;o++){var s=t[o];if(void 0!==s.POSITION&&(n=!0),void 0!==s.NORMAL&&(i=!0),n&&i)break}if(!n&&!i)return Promise.resolve(e);for(var c=[],l=[],o=0,a=t.length;o<a;o++){var s=t[o];if(n){var u=void 0!==s.POSITION?r.getDependency("accessor",s.POSITION):e.attributes.position;c.push(u)}if(i){var u=void 0!==s.NORMAL?r.getDependency("accessor",s.NORMAL):e.attributes.normal;l.push(u)}}return Promise.all([Promise.all(c),Promise.all(l)]).then(function(t){var r=t[0],o=t[1];return n&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e})}(e,t.targets,r):e})}function P(e,t){var r=e.getIndex();if(null===r){var n=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<i.count;o++)n.push(o);e.setIndex(n),r=e.getIndex()}var a=r.count-2,s=[];if(t===THREE.TriangleFanDrawMode)for(var o=1;o<=a;o++)s.push(r.getX(0)),s.push(r.getX(o)),s.push(r.getX(o+1));else for(var o=0;o<a;o++)o%2==0?(s.push(r.getX(o)),s.push(r.getX(o+1)),s.push(r.getX(o+2))):(s.push(r.getX(o+2)),s.push(r.getX(o+1)),s.push(r.getX(o)));s.length/3!==a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}return L.prototype.parse=function(e,t){var r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(t){var o={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};S(i,o,n),T(o,n),e(o)}).catch(t)},L.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n={},i={},o=0,a=t.length;o<a;o++)for(var s=t[o].joints,c=0,l=s.length;c<l;c++)e[s[c]].isBone=!0;for(var u=0,d=e.length;u<d;u++){var h=e[u];void 0!==h.mesh&&(void 0===n[h.mesh]&&(n[h.mesh]=i[h.mesh]=0),n[h.mesh]++,void 0!==h.skin&&(r[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=i},L.prototype.getDependency=function(e,t){var n=e+":"+t,i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this.loadMesh(t);break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this.loadBufferView(t);break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this.loadMaterial(t);break;case"texture":i=this.loadTexture(t);break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;case"light":i=this.extensions[r.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i},L.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map(function(t,n){return r.getDependency(e,n)})),this.cache.add(e,t)}return t},L.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var i=this.options;return new Promise(function(e,r){n.load(M(t.uri,i.path),e,void 0,function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},L.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)})},L.prototype.loadAccessor=function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then(function(e){var i,o,a=e[0],s=b[n.type],c=g[n.componentType],l=c.BYTES_PER_ELEMENT,u=l*s,d=n.byteOffset||0,h=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,p=!0===n.normalized;if(h&&h!==u){var f=Math.floor(d/h),m="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+f+":"+n.count,v=t.cache.get(m);v||(i=new c(a,f*h,n.count*h/l),v=new THREE.InterleavedBuffer(i,h/l),t.cache.add(m,v)),o=new THREE.InterleavedBufferAttribute(v,s,d%h/l,p)}else i=null===a?new c(n.count*s):new c(a,d,n.count*s),o=new THREE.BufferAttribute(i,s,p);if(void 0!==n.sparse){var y=b.SCALAR,x=g[n.sparse.indices.componentType],w=n.sparse.indices.byteOffset||0,E=n.sparse.values.byteOffset||0,A=new x(e[1],w,n.sparse.count*y),_=new c(e[2],E,n.sparse.count*s);null!==a&&(o=new THREE.BufferAttribute(o.array.slice(),o.itemSize,o.normalized));for(var M=0,S=A.length;M<S;M++){var T=A[M];if(o.setX(T,_[M*s]),s>=2&&o.setY(T,_[M*s+1]),s>=3&&o.setZ(T,_[M*s+2]),s>=4&&o.setW(T,_[M*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},L.prototype.loadTexture=function(e){var t,n=this,i=this.json,o=this.options,a=this.textureLoader,s=window.URL||window.webkitURL,c=i.textures[e],l=c.extensions||{},u=(t=l[r.MSFT_TEXTURE_DDS]?i.images[l[r.MSFT_TEXTURE_DDS].source]:i.images[c.source]).uri,d=!1;return void 0!==t.bufferView&&(u=n.getDependency("bufferView",t.bufferView).then(function(e){d=!0;var r=new Blob([e],{type:t.mimeType});return u=s.createObjectURL(r)})),Promise.resolve(u).then(function(e){var t=o.manager.getHandler(e);return t||(t=l[r.MSFT_TEXTURE_DDS]?n.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:a),new Promise(function(r,n){t.load(M(e,o.path),r,void 0,n)})}).then(function(e){!0===d&&s.revokeObjectURL(u),e.flipY=!1,void 0!==c.name&&(e.name=c.name),t.mimeType in _&&(e.format=_[t.mimeType]);var r=i.samplers||{},n=r[c.sampler]||{};return e.magFilter=v[n.magFilter]||THREE.LinearFilter,e.minFilter=v[n.minFilter]||THREE.LinearMipmapLinearFilter,e.wrapS=y[n.wrapS]||THREE.RepeatWrapping,e.wrapT=y[n.wrapT]||THREE.RepeatWrapping,e})},L.prototype.assignTexture=function(e,t,n){var i=this;return this.getDependency("texture",n.index).then(function(o){if(!o.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":o.format=THREE.RGBFormat}if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[r.KHR_TEXTURE_TRANSFORM]){var a=void 0!==n.extensions?n.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;a&&(o=i.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(o,a))}e[t]=o})},L.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,i=this.extensions,o=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,s=void 0===t.attributes.normal,c=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,u=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var d="PointsMaterial:"+n.uuid,h=this.cache.get(d);h||(h=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,h.sizeAttenuation=!1,this.cache.add(d,h)),n=h}else if(e.isLine){var d="LineBasicMaterial:"+n.uuid,p=this.cache.get(d);p||(p=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(p,n),p.color.copy(n.color),this.cache.add(d,p)),n=p}if(o||a||s||c||l){var d="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(d+="specular-glossiness:"),c&&(d+="skinning:"),o&&(d+="vertex-tangents:"),a&&(d+="vertex-colors:"),s&&(d+="flat-shading:"),l&&(d+="morph-targets:"),u&&(d+="morph-normals:");var f=this.cache.get(d);f||(f=n.isGLTFSpecularGlossinessMaterial?i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(n):n.clone(),c&&(f.skinning=!0),o&&(f.vertexTangents=!0),a&&(f.vertexColors=THREE.VertexColors),s&&(f.flatShading=!0),l&&(f.morphTargets=!0),u&&(f.morphNormals=!0),this.cache.add(d,f)),n=f}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",new THREE.BufferAttribute(t.attributes.uv.array,2)),n.isGLTFSpecularGlossinessMaterial&&(e.onBeforeRender=i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),e.material=n},L.prototype.loadMaterial=function(e){var t,n=this.json,i=this.extensions,o=n.materials[e],a={},s=o.extensions||{},c=[];if(s[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(),c.push(l.extendParams(a,o,this))}else if(s[r.KHR_MATERIALS_UNLIT]){var u=i[r.KHR_MATERIALS_UNLIT];t=u.getMaterialType(),c.push(u.extendParams(a,o,this))}else{t=THREE.MeshStandardMaterial;var d=o.pbrMetallicRoughness||{};if(a.color=new THREE.Color(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}void 0!==d.baseColorTexture&&c.push(this.assignTexture(a,"map",d.baseColorTexture)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(this.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(this.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture)))}!0===o.doubleSided&&(a.side=THREE.DoubleSide);var p=o.alphaMode||A.OPAQUE;return p===A.BLEND?a.transparent=!0:(a.transparent=!1,p===A.MASK&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==THREE.MeshBasicMaterial&&(c.push(this.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new THREE.Vector2(1,1),void 0!==o.normalTexture.scale&&a.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==THREE.MeshBasicMaterial&&(c.push(this.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(a.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==THREE.MeshBasicMaterial&&(a.emissive=(new THREE.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==THREE.MeshBasicMaterial&&c.push(this.assignTexture(a,"emissiveMap",o.emissiveTexture)),Promise.all(c).then(function(){var e;return e=t===THREE.ShaderMaterial?i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new t(a),void 0!==o.name&&(e.name=o.name),e.map&&(e.map.encoding=THREE.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=THREE.sRGBEncoding),e.specularMap&&(e.specularMap.encoding=THREE.sRGBEncoding),T(e,o),o.extensions&&S(i,e,o),e})},L.prototype.loadGeometries=function(e){var t,n,i=this,o=this.extensions,a=this.primitiveCache;function s(e){return o[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,i).then(function(t){return R(t,e,i)})}for(var c=[],l=0,u=e.length;l<u;l++){var d,h=e[l],p=(t=h,n=void 0,(n=(t=h).extensions&&t.extensions[r.KHR_DRACO_MESH_COMPRESSION])?"draco:"+n.bufferView+":"+n.indices+":"+O(n.attributes):t.indices+":"+O(t.attributes)+":"+t.mode),f=a[p];f?c.push(f.promise):(d=h.extensions&&h.extensions[r.KHR_DRACO_MESH_COMPRESSION]?s(h):R(new THREE.BufferGeometry,h,i),a[p]={primitive:h,promise:d},c.push(d))}return Promise.all(c)},L.prototype.loadMesh=function(e){for(var t=this,r=this.json,n=r.meshes[e],i=n.primitives,o=[],a=0,s=i.length;a<s;a++){var c=void 0===i[a].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})),l.DefaultMaterial):this.getDependency("material",i[a].material);o.push(c)}var l;return Promise.all(o).then(function(r){return t.loadGeometries(i).then(function(o){for(var a=[],s=0,c=o.length;s<c;s++){var l,u=o[s],d=i[s],h=r[s];if(d.mode===m.TRIANGLES||d.mode===m.TRIANGLE_STRIP||d.mode===m.TRIANGLE_FAN||void 0===d.mode)!0!==(l=!0===n.isSkinnedMesh?new THREE.SkinnedMesh(u,h):new THREE.Mesh(u,h)).isSkinnedMesh||l.geometry.attributes.skinWeight.normalized||l.normalizeSkinWeights(),d.mode===m.TRIANGLE_STRIP?l.geometry=P(l.geometry,THREE.TriangleStripDrawMode):d.mode===m.TRIANGLE_FAN&&(l.geometry=P(l.geometry,THREE.TriangleFanDrawMode));else if(d.mode===m.LINES)l=new THREE.LineSegments(u,h);else if(d.mode===m.LINE_STRIP)l=new THREE.Line(u,h);else if(d.mode===m.LINE_LOOP)l=new THREE.LineLoop(u,h);else{if(d.mode!==m.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);l=new THREE.Points(u,h)}Object.keys(l.geometry.morphAttributes).length>0&&C(l,n),l.name=n.name||"mesh_"+e,o.length>1&&(l.name+="_"+s),T(l,n),t.assignFinalMaterial(l),a.push(l)}if(1===a.length)return a[0];for(var p=new THREE.Group,s=0,c=a.length;s<c;s++)p.add(a[s]);return p})})},L.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new THREE.PerspectiveCamera(THREE.Math.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new THREE.OrthographicCamera(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),void 0!==r.name&&(t.name=r.name),T(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},L.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return r.inverseBindMatrices=e,r})},L.prototype.loadAnimation=function(e){for(var t=this.json,r=t.animations[e],n=[],i=[],o=[],a=[],s=[],c=0,l=r.channels.length;c<l;c++){var u=r.channels[c],d=r.samplers[u.sampler],h=u.target,p=void 0!==h.node?h.node:h.id,m=void 0!==r.parameters?r.parameters[d.input]:d.input,g=void 0!==r.parameters?r.parameters[d.output]:d.output;n.push(this.getDependency("node",p)),i.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",g)),a.push(d),s.push(h)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(o),Promise.all(a),Promise.all(s)]).then(function(t){for(var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=[],l=0,u=n.length;l<u;l++){var d=n[l],h=i[l],p=o[l],m=a[l],g=s[l];if(void 0!==d){var v;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,w[g.path]){case w.weights:v=THREE.NumberKeyframeTrack;break;case w.rotation:v=THREE.QuaternionKeyframeTrack;break;case w.position:case w.scale:default:v=THREE.VectorKeyframeTrack}var y=d.name?d.name:d.uuid,b=void 0!==m.interpolation?E[m.interpolation]:THREE.InterpolateLinear,x=[];w[g.path]===w.weights?d.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&x.push(e.name?e.name:e.uuid)}):x.push(y);var A=p.array;if(p.normalized){var _;if(A.constructor===Int8Array)_=1/127;else if(A.constructor===Uint8Array)_=1/255;else if(A.constructor==Int16Array)_=1/32767;else{if(A.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");_=1/65535}for(var M=new Float32Array(A.length),S=0,T=A.length;S<T;S++)M[S]=A[S]*_;A=M}for(var S=0,T=x.length;S<T;S++){var C=new v(x[S]+"."+w[g.path],h.array,A,b);"CUBICSPLINE"===m.interpolation&&(C.createInterpolant=function(e){return new f(this.times,this.values,this.getValueSize()/3,e)},C.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(C)}}}var O=void 0!==r.name?r.name:"animation_"+e;return new THREE.AnimationClip(O,void 0,c)})},L.prototype.loadNode=function(e){var t,n=this.json,i=this.extensions,o=this,a=n.meshReferences,s=n.meshUses,c=n.nodes[e];return(t=[],void 0!==c.mesh&&t.push(o.getDependency("mesh",c.mesh).then(function(e){var t;if(a[c.mesh]>1){var r=s[c.mesh]++;(t=e.clone()).name+="_instance_"+r,t.onBeforeRender=e.onBeforeRender;for(var n=0,i=t.children.length;n<i;n++)t.children[n].name+="_instance_"+r,t.children[n].onBeforeRender=e.children[n].onBeforeRender}else t=e;return void 0!==c.weights&&t.traverse(function(e){if(e.isMesh)for(var t=0,r=c.weights.length;t<r;t++)e.morphTargetInfluences[t]=c.weights[t]}),t})),void 0!==c.camera&&t.push(o.getDependency("camera",c.camera)),c.extensions&&c.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==c.extensions[r.KHR_LIGHTS_PUNCTUAL].light&&t.push(o.getDependency("light",c.extensions[r.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then(function(e){var t;if((t=!0===c.isBone?new THREE.Bone:e.length>1?new THREE.Group:1===e.length?e[0]:new THREE.Object3D)!==e[0])for(var r=0,n=e.length;r<n;r++)t.add(e[r]);if(void 0!==c.name&&(t.userData.name=c.name,t.name=THREE.PropertyBinding.sanitizeNodeName(c.name)),T(t,c),c.extensions&&S(i,t,c),void 0!==c.matrix){var o=new THREE.Matrix4;o.fromArray(c.matrix),t.applyMatrix(o)}else void 0!==c.translation&&t.position.fromArray(c.translation),void 0!==c.rotation&&t.quaternion.fromArray(c.rotation),void 0!==c.scale&&t.scale.fromArray(c.scale);return t})},L.prototype.loadScene=function(){function e(t,r,n,i){var o=n.nodes[t];return i.getDependency("node",t).then(function(e){return void 0===o.skin?e:i.getDependency("skin",o.skin).then(function(e){for(var r=[],n=0,o=(t=e).joints.length;n<o;n++)r.push(i.getDependency("node",t.joints[n]));return Promise.all(r)}).then(function(r){return e.traverse(function(e){if(e.isMesh){for(var n=[],i=[],o=0,a=r.length;o<a;o++){var s=r[o];if(s){n.push(s);var c=new THREE.Matrix4;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*o),i.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new THREE.Skeleton(n,i),e.matrixWorld)}}),e});var t}).then(function(t){r.add(t);var a=[];if(o.children)for(var s=o.children,c=0,l=s.length;c<l;c++){var u=s[c];a.push(e(u,t,n,i))}return Promise.all(a)})}return function(t){var r=this.json,n=this.extensions,i=this.json.scenes[t],o=new THREE.Scene;void 0!==i.name&&(o.name=i.name),T(o,i),i.extensions&&S(n,o,i);for(var a=i.nodes||[],s=[],c=0,l=a.length;c<l;c++)s.push(e(a[c],o,r,this));return Promise.all(s).then(function(){return o})}}(),e}()},{}],60:[function(e,t,r){THREE.MTLLoader=function(e){THREE.Loader.call(this,e)},THREE.MTLLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.MTLLoader,load:function(e,t,r,n){var i=this,o=""===this.path?THREE.LoaderUtils.extractUrlBase(e):this.path,a=new THREE.FileLoader(this.manager);a.setPath(this.path),a.load(e,function(e){t(i.parse(e,o))},r,n)},setMaterialOptions:function(e){return this.materialOptions=e,this},parse:function(e,t){for(var r=e.split("\n"),n={},i=/\s+/,o={},a=0;a<r.length;a++){var s=r[a];if(0!==(s=s.trim()).length&&"#"!==s.charAt(0)){var c=s.indexOf(" "),l=c>=0?s.substring(0,c):s;l=l.toLowerCase();var u=c>=0?s.substring(c+1):"";if(u=u.trim(),"newmtl"===l)n={name:u},o[u]=n;else if("ka"===l||"kd"===l||"ks"===l||"ke"===l){var d=u.split(i,3);n[l]=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2])]}else n[l]=u}}var h=new THREE.MTLLoader.MaterialCreator(this.resourcePath||t,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(o),h}}),THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(e){return this.crossOrigin=e,this},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var r in e){var n=e[r],i={};for(var o in t[r]=i,n){var a=!0,s=n[o],c=o.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[c]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var t=this,r=this.materialsInfo[e],n={name:e,side:this.side};function i(e,r){if(!n[e]){var i,o,a=t.getTextureParams(r,n),s=t.loadTexture((i=t.baseUrl,"string"!=typeof(o=a.url)||""===o?"":/^https?:\/\//i.test(o)?o:i+o));s.repeat.copy(a.scale),s.offset.copy(a.offset),s.wrapS=t.wrap,s.wrapT=t.wrap,n[e]=s}}for(var o in r){var a,s=r[o];if(""!==s)switch(o.toLowerCase()){case"kd":n.color=(new THREE.Color).fromArray(s);break;case"ks":n.specular=(new THREE.Color).fromArray(s);break;case"ke":n.emissive=(new THREE.Color).fromArray(s);break;case"map_kd":i("map",s);break;case"map_ks":i("specularMap",s);break;case"map_ke":i("emissiveMap",s);break;case"norm":i("normalMap",s);break;case"map_bump":case"bump":i("bumpMap",s);break;case"map_d":i("alphaMap",s),n.transparent=!0;break;case"ns":n.shininess=parseFloat(s);break;case"d":(a=parseFloat(s))<1&&(n.opacity=a,n.transparent=!0);break;case"tr":a=parseFloat(s),this.options&&this.options.invertTrProperty&&(a=1-a),a>0&&(n.opacity=1-a,n.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(n),this.materials[e]},getTextureParams:function(e,t){var r,n={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},i=e.split(/\s+/);return(r=i.indexOf("-bm"))>=0&&(t.bumpScale=parseFloat(i[r+1]),i.splice(r,2)),(r=i.indexOf("-s"))>=0&&(n.scale.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),(r=i.indexOf("-o"))>=0&&(n.offset.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),n.url=i.join(" ").trim(),n},loadTexture:function(e,t,r,n,i){var o,a=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager,s=a.getHandler(e);return null===s&&(s=new THREE.TextureLoader(a)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),o=s.load(e,r,n,i),void 0!==t&&(o.mapping=t),o}}},{}],61:[function(e,t,r){THREE.OBJLoader=function(){var e=/^[og]\s*(.+)?/,t=/^mtllib /,r=/^usemtl /,n=/^usemap /;function i(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"==typeof r.clone){var n=r.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){var n=this.vertices,i=this.object.geometry.vertices;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[r+0],n[r+1],n[r+2])},addVertexPoint:function(e){var t=this.vertices,r=this.object.geometry.vertices;r.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices,r=this.object.geometry.vertices;r.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){var n=this.normals,i=this.object.geometry.normals;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[r+0],n[r+1],n[r+2])},addColor:function(e,t,r){var n=this.colors,i=this.object.geometry.colors;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[r+0],n[r+1],n[r+2])},addUV:function(e,t,r){var n=this.uvs,i=this.object.geometry.uvs;i.push(n[e+0],n[e+1]),i.push(n[t+0],n[t+1]),i.push(n[r+0],n[r+1])},addUVLine:function(e){var t=this.uvs,r=this.object.geometry.uvs;r.push(t[e+0],t[e+1])},addFace:function(e,t,r,n,i,o,a,s,c){var l=this.vertices.length,u=this.parseVertexIndex(e,l),d=this.parseVertexIndex(t,l),h=this.parseVertexIndex(r,l);if(this.addVertex(u,d,h),this.colors.length>0&&this.addColor(u,d,h),void 0!==n&&""!==n){var p=this.uvs.length;u=this.parseUVIndex(n,p),d=this.parseUVIndex(i,p),h=this.parseUVIndex(o,p),this.addUV(u,d,h)}if(void 0!==a&&""!==a){var f=this.normals.length;u=this.parseNormalIndex(a,f),d=a===s?u:this.parseNormalIndex(s,f),h=a===c?u:this.parseNormalIndex(c,f),this.addNormal(u,d,h)}},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,r=0,n=e.length;r<n;r++)this.addVertexPoint(this.parseVertexIndex(e[r],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var r=this.vertices.length,n=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],r));for(var a=0,o=t.length;a<o;a++)this.addUVLine(this.parseUVIndex(t[a],n))}};return e.startObject("",!1),e}function o(e){THREE.Loader.call(this,e),this.materials=null}return o.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:o,load:function(e,t,r,n){var i=this,o=new THREE.FileLoader(i.manager);o.setPath(this.path),o.load(e,function(e){t(i.parse(e))},r,n)},setMaterials:function(e){return this.materials=e,this},parse:function(o){console.time("OBJLoader");var a=new i;-1!==o.indexOf("\r\n")&&(o=o.replace(/\r\n/g,"\n")),-1!==o.indexOf("\\\n")&&(o=o.replace(/\\\n/g,""));for(var s=o.split("\n"),c="",l="",u=[],d="function"==typeof"".trimLeft,h=0,p=s.length;h<p;h++)if(c=s[h],0!==(c=d?c.trimLeft():c.trim()).length&&"#"!==(l=c.charAt(0)))if("v"===l){var f=c.split(/\s+/);switch(f[0]){case"v":a.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7&&a.colors.push(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6]));break;case"vn":a.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":a.uvs.push(parseFloat(f[1]),parseFloat(f[2]))}}else if("f"===l){for(var m=c.substr(1).trim(),g=m.split(/\s+/),v=[],y=0,b=g.length;y<b;y++){var x=g[y];if(x.length>0){var w=x.split("/");v.push(w)}}for(var E=v[0],y=1,b=v.length-1;y<b;y++){var A=v[y],_=v[y+1];a.addFace(E[0],A[0],_[0],E[1],A[1],_[1],E[2],A[2],_[2])}}else if("l"===l){var M=c.substring(1).trim().split(" "),S=[],T=[];if(-1===c.indexOf("/"))S=M;else for(var C=0,O=M.length;C<O;C++){var L=M[C].split("/");""!==L[0]&&S.push(L[0]),""!==L[1]&&T.push(L[1])}a.addLineGeometry(S,T)}else if("p"===l){var m=c.substr(1).trim(),R=m.split(" ");a.addPointGeometry(R)}else if(null!==(u=e.exec(c))){var P=(" "+u[0].substr(1).trim()).substr(1);a.startObject(P)}else if(r.test(c))a.object.startMaterial(c.substring(7).trim(),a.materialLibraries);else if(t.test(c))a.materialLibraries.push(c.substring(7).trim());else if(n.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else{if("s"!==l){if("\0"===c)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+c+'"')}if((u=c.split(" ")).length>1){var k=u[1].trim().toLowerCase();a.object.smooth="0"!==k&&"off"!==k}else a.object.smooth=!0;var j=a.object.currentMaterial();j&&(j.smooth=a.object.smooth)}a.finalize();var D=new THREE.Group;D.materialLibraries=[].concat(a.materialLibraries);for(var h=0,p=a.objects.length;h<p;h++){var I=a.objects[h],N=I.geometry,z=I.materials,B="Line"===N.type,F="Points"===N.type,U=!1;if(0!==N.vertices.length){var H=new THREE.BufferGeometry;H.setAttribute("position",new THREE.Float32BufferAttribute(N.vertices,3)),N.normals.length>0?H.setAttribute("normal",new THREE.Float32BufferAttribute(N.normals,3)):H.computeVertexNormals(),N.colors.length>0&&(U=!0,H.setAttribute("color",new THREE.Float32BufferAttribute(N.colors,3))),N.uvs.length>0&&H.setAttribute("uv",new THREE.Float32BufferAttribute(N.uvs,2));for(var G,V=[],W=0,q=z.length;W<q;W++){var X=z[W],j=void 0;if(null!==this.materials)if(j=this.materials.create(X.name),!B||!j||j instanceof THREE.LineBasicMaterial){if(F&&j&&!(j instanceof THREE.PointsMaterial)){var Y=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});THREE.Material.prototype.copy.call(Y,j),Y.color.copy(j.color),Y.map=j.map,j=Y}}else{var K=new THREE.LineBasicMaterial;THREE.Material.prototype.copy.call(K,j),K.color.copy(j.color),j=K}j||((j=B?new THREE.LineBasicMaterial:F?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial).name=X.name),j.flatShading=!X.smooth,j.vertexColors=U?THREE.VertexColors:THREE.NoColors,V.push(j)}if(V.length>1){for(var W=0,q=z.length;W<q;W++){var X=z[W];H.addGroup(X.groupStart,X.groupCount,W)}G=B?new THREE.LineSegments(H,V):F?new THREE.Points(H,V):new THREE.Mesh(H,V)}else G=B?new THREE.LineSegments(H,V[0]):F?new THREE.Points(H,V[0]):new THREE.Mesh(H,V[0]);G.name=I.name,D.add(G)}}return console.timeEnd("OBJLoader"),D}}),o}()},{}],62:[function(e,t,r){var n=e("layout-bmfont-text"),i=e("inherits"),o=e("quad-indices"),a=e("three-buffer-vertex-data"),s=e("object-assign"),c=e("./lib/vertices"),l=e("./lib/utils"),u=THREE.BufferGeometry;function d(e){u.call(this),"string"==typeof e&&(e={text:e}),this._opt=s({},e),e&&this.update(e)}t.exports=function(e){return new d(e)},i(d,u),d.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),!(e=s({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=n(e);var t=!1!==e.flipY,r=e.font,i=r.common.scaleW,l=r.common.scaleH,u=this.layout.glyphs.filter(function(e){var t=e.data;return t.width*t.height>0});this.visibleGlyphs=u;var d=c.positions(u),h=c.uvs(u,i,l,t),p=o({clockwise:!0,type:"uint16",count:u.length});if(a.index(this,p,1,"uint16"),a.attr(this,"position",d,2),a.attr(this,"uv",h,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var f=c.pages(u);a.attr(this,"page",f,1)}},d.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);l.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},d.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,r=this.attributes.position.itemSize;!t||!r||t.length<2?e.makeEmpty():l.computeBox(t,e)}},{"./lib/utils":63,"./lib/vertices":64,inherits:30,"layout-bmfont-text":36,"object-assign":39,"quad-indices":51,"three-buffer-vertex-data":65}],63:[function(e,t,r){var n=2,i={min:[0,0],max:[0,0]};function o(e){var t=e.length/n;i.min[0]=e[0],i.min[1]=e[1],i.max[0]=e[0],i.max[1]=e[1];for(var r=0;r<t;r++){var o=e[r*n+0],a=e[r*n+1];i.min[0]=Math.min(o,i.min[0]),i.min[1]=Math.min(a,i.min[1]),i.max[0]=Math.max(o,i.max[0]),i.max[1]=Math.max(a,i.max[1])}}t.exports.computeBox=function(e,t){o(e),t.min.set(i.min[0],i.min[1],0),t.max.set(i.max[0],i.max[1],0)},t.exports.computeSphere=function(e,t){o(e);var r=i.min[0],n=i.min[1],a=i.max[0],s=i.max[1],c=a-r,l=s-n,u=Math.sqrt(c*c+l*l);t.center.set(r+c/2,n+l/2,0),t.radius=u/2}},{}],64:[function(e,t,r){t.exports.pages=function(e){var t=new Float32Array(4*e.length*1),r=0;return e.forEach(function(e){var n=e.data.page||0;t[r++]=n,t[r++]=n,t[r++]=n,t[r++]=n}),t},t.exports.uvs=function(e,t,r,n){var i=new Float32Array(4*e.length*2),o=0;return e.forEach(function(e){var a=e.data,s=a.x+a.width,c=a.y+a.height,l=a.x/t,u=a.y/r,d=s/t,h=c/r;n&&(u=(r-a.y)/r,h=(r-c)/r),i[o++]=l,i[o++]=u,i[o++]=l,i[o++]=h,i[o++]=d,i[o++]=h,i[o++]=d,i[o++]=u}),i},t.exports.positions=function(e){var t=new Float32Array(4*e.length*2),r=0;return e.forEach(function(e){var n=e.data,i=e.position[0]+n.xoffset,o=e.position[1]+n.yoffset,a=n.width,s=n.height;t[r++]=i,t[r++]=o,t[r++]=i,t[r++]=o+s,t[r++]=i+a,t[r++]=o+s,t[r++]=i+a,t[r++]=o}),t}},{}],65:[function(e,t,r){var n=e("flatten-vertex-data");function i(e,t,r,i){return t=n(t=t||[],i),(e=new THREE.BufferAttribute(t,r)).itemSize=r,e.needsUpdate=!0,e}t.exports.attr=function(e,t,r,n,o){if("number"!=typeof n&&(n=3),"string"!=typeof o&&(o="float32"),Array.isArray(r)&&Array.isArray(r[0])&&r[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+r[0].length);var a=i(e.getAttribute(t),r,n,o);e.setAttribute(t,a)},t.exports.index=function(e,t,r,n){"number"!=typeof r&&(r=1),"string"!=typeof n&&(n="uint16");var o=!e.index&&"function"!=typeof e.setIndex,a=i(o?e.getAttribute("index"):e.index,t,r,n);a&&(o?e.addAttribute("index",a):e.index=a)}},{"flatten-vertex-data":23}],66:[function(e,t,r){(function(t,n){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function l(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof t?t:function(e){var t=c++,n=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof n?n:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":49,timers:66}],67:[function(e,t,n){(function(e){
/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():e.WebVRPolyfill=r()}(this,function(){"use strict";var t,r,n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},o=function(e,t){for(var r=0,n=e.length;r<n;r++)t[r]=e[r]},a=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},s=(function(e,t){
/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * gl-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * webvr-polyfill-dpdb
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
e.exports=function(){var e,t,r,i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(e,t,r){return e+(t-e)*r},c=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),l=function(){var e=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return e}}(),u=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),function(){var e=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return e}}()),d=(t=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),r=t?parseInt(t[1],10):null,function(){return r}),h=function(){var e=!1;if(65===d()){var t=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(t){var r=t[1].split("."),n=a(r,4),i=(n[0],n[1],n[2]),o=n[3];e=3325===parseInt(i,10)&&parseInt(o,10)<148}}return function(){return e}}(),p=function(){var e=-1!==navigator.userAgent.indexOf("R7 Build");return function(){return e}}(),f=function(){var e=90==window.orientation||-90==window.orientation;return p()?!e:e},m=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},g=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},v=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},y=function(e,t,r,n){var i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,t),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var a=e.createProgram();for(var s in e.attachShader(a,i),e.attachShader(a,o),n)e.bindAttribLocation(a,n[s],s);return e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),a},b=function(e,t){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i="",o=0;o<n;o++){var a=e.getActiveUniform(t,o);i=a.name.replace("[0]",""),r[i]=e.getUniformLocation(t,i)}return r},x=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},w=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},E=function(e){if(c()){var t=e.style.width,r=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(r)+"px",setTimeout(function(){e.style.width=t,e.style.height=r},100)}window.canvas=e},A=function(){var e=Math.PI/180,t=.25*Math.PI,r=new Float32Array([0,0,0,1]),n=new Float32Array([0,0,0]);function i(i,o,a,s,c,l){!function(r,n,i,o){var a=Math.tan(n?n.upDegrees*e:t),s=Math.tan(n?n.downDegrees*e:t),c=Math.tan(n?n.leftDegrees*e:t),l=Math.tan(n?n.rightDegrees*e:t),u=2/(c+l),d=2/(a+s);r[0]=u,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=d,r[6]=0,r[7]=0,r[8]=-(c-l)*u*.5,r[9]=(a-s)*d*.5,r[10]=o/(i-o),r[11]=-1,r[12]=0,r[13]=0,r[14]=o*i/(i-o),r[15]=0}(i,s||null,l.depthNear,l.depthFar);var u,d,h,p,f,m,g,v,y,b,x,w,E,A,_,M,S,T,C,O=a.orientation||r,L=a.position||n;u=o,h=L,p=(d=O)[0],f=d[1],m=d[2],g=d[3],x=p*(v=p+p),w=p*(y=f+f),E=p*(b=m+m),A=f*y,_=f*b,M=m*b,S=g*v,T=g*y,C=g*b,u[0]=1-(A+M),u[1]=w+C,u[2]=E-T,u[3]=0,u[4]=w-C,u[5]=1-(x+M),u[6]=_+S,u[7]=0,u[8]=E+T,u[9]=_-S,u[10]=1-(x+A),u[11]=0,u[12]=h[0],u[13]=h[1],u[14]=h[2],u[15]=1,c&&function(e,t,r){var n,i,o,a,s,c,l,u,d,h,p,f,m=r[0],g=r[1],v=r[2];t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=c,e[6]=l,e[7]=u,e[8]=d,e[9]=h,e[10]=p,e[11]=f,e[12]=n*m+s*g+d*v+t[12],e[13]=i*m+c*g+h*v+t[13],e[14]=o*m+l*g+p*v+t[14],e[15]=a*m+u*g+f*v+t[15])}(o,o,c),function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],g=t[14],v=t[15],y=r*s-n*a,b=r*c-i*a,x=r*l-o*a,w=n*c-i*s,E=n*l-o*s,A=i*l-o*c,_=u*m-d*f,M=u*g-h*f,S=u*v-p*f,T=d*g-h*m,C=d*v-p*m,O=h*v-p*g,L=y*O-b*C+x*T+w*S-E*M+A*_;if(!L)return null;L=1/L,e[0]=(s*O-c*C+l*T)*L,e[1]=(i*C-n*O-o*T)*L,e[2]=(m*A-g*E+v*w)*L,e[3]=(h*E-d*A-p*w)*L,e[4]=(c*S-a*O-l*M)*L,e[5]=(r*O-i*S+o*M)*L,e[6]=(g*x-f*A-v*b)*L,e[7]=(u*A-h*x+p*b)*L,e[8]=(a*C-s*S+l*_)*L,e[9]=(n*S-r*C-o*_)*L,e[10]=(f*E-m*x+v*y)*L,e[11]=(d*x-u*E-p*y)*L,e[12]=(s*M-a*T-c*_)*L,e[13]=(r*T-n*M+i*_)*L,e[14]=(m*b-f*w-g*y)*L,e[15]=(u*w-d*b+h*y)*L}(o,o)}return function(e,t,r){return!(!e||!t||(e.pose=t,e.timestamp=t.timestamp,i(e.leftProjectionMatrix,e.leftViewMatrix,t,r._getFieldOfView("left"),r._getEyeOffset("left"),r),i(e.rightProjectionMatrix,e.rightViewMatrix,t,r._getFieldOfView("right"),r._getEyeOffset("right"),r),0))}}(),_=function(e){var t,r=e.indexOf("://");t=-1!==r?r+3:0;var n=e.indexOf("/",t);return-1===n&&(n=e.length),e.substring(0,n)},M=(e={},function(t,r){void 0===e[t]&&(console.warn("webvr-polyfill: "+r),e[t]=!0)}),S=function(e,t){var r=t?"Please use "+t+" instead.":"";M(e,e+" has been deprecated. This may not work on native WebVR displays. "+r)},T=function(e,t,r){if(t){for(var n=[],i=null,o=0;o<t.length;++o){var a=t[o];switch(a){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),n.push(null,null);break}i||(i=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(s),n.push(e.getParameter(a),null);break;case e.ACTIVE_TEXTURE:i=e.getParameter(e.ACTIVE_TEXTURE),n.push(null);break;default:n.push(e.getParameter(a))}}r(e);for(var o=0;o<t.length;++o){var a=t[o],c=n[o];switch(a){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,c);break;case e.COLOR_CLEAR_VALUE:e.clearColor(c[0],c[1],c[2],c[3]);break;case e.COLOR_WRITEMASK:e.colorMask(c[0],c[1],c[2],c[3]);break;case e.CURRENT_PROGRAM:e.useProgram(c);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,c);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,c);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,c);break;case e.TEXTURE_BINDING_2D:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_2D,c);break;case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_CUBE_MAP,c);break;case e.VIEWPORT:e.viewport(c[0],c[1],c[2],c[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:c?e.enable(a):e.disable(a);break;default:console.log("No GL restore behavior for 0x"+a.toString(16))}i&&e.activeTexture(i)}}else r(e)},C=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),O=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function L(e,t,r,n){this.gl=e,this.cardboardUI=t,this.bufferScale=r,this.dirtySubmitFrameBindings=n,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,c()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=y(e,C,O,this.attribs),this.uniforms=b(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize()}L.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},L.prototype.onResize=function(){var e=this.gl,t=this,r=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];T(e,r,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},L.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,r=this.gl;c()||(t.width=m()*this.bufferScale,t.height=g()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(r){e.bufferWidth=r,e.realCanvasWidth.set.call(t,r),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(r){e.bufferHeight=r,e.realCanvasHeight.set.call(t,r),e.onResize()}})),this.lastBoundFramebuffer=r.getParameter(r.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,n){e.lastBoundFramebuffer=n||e.framebuffer,e.realBindFramebuffer.call(r,t,e.lastBoundFramebuffer)},this.cullFace=r.getParameter(r.CULL_FACE),this.depthTest=r.getParameter(r.DEPTH_TEST),this.blend=r.getParameter(r.BLEND),this.scissorTest=r.getParameter(r.SCISSOR_TEST),this.stencilTest=r.getParameter(r.STENCIL_TEST),r.enable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!0;break;case r.DEPTH_TEST:e.depthTest=!0;break;case r.BLEND:e.blend=!0;break;case r.SCISSOR_TEST:e.scissorTest=!0;break;case r.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(r,t)},r.disable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!1;break;case r.DEPTH_TEST:e.depthTest=!1;break;case r.BLEND:e.blend=!1;break;case r.SCISSOR_TEST:e.scissorTest=!1;break;case r.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(r,t)},this.colorMask=r.getParameter(r.COLOR_WRITEMASK),r.colorMask=function(t,n,i,o){e.colorMask[0]=t,e.colorMask[1]=n,e.colorMask[2]=i,e.colorMask[3]=o,e.realColorMask.call(r,t,n,i,o)},this.clearColor=r.getParameter(r.COLOR_CLEAR_VALUE),r.clearColor=function(t,n,i,o){e.clearColor[0]=t,e.clearColor[1]=n,e.clearColor[2]=i,e.clearColor[3]=o,e.realClearColor.call(r,t,n,i,o)},this.viewport=r.getParameter(r.VIEWPORT),r.viewport=function(t,n,i,o){e.viewport[0]=t,e.viewport[1]=n,e.viewport[2]=i,e.viewport[3]=o,e.realViewport.call(r,t,n,i,o)},this.isPatched=!0,E(t)}},L.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;c()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){E(t)},1)}},L.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},L.prototype.submitFrame=function(){var e=this.gl,t=this,r=[];if(this.dirtySubmitFrameBindings||r.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),T(e,r,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||c())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),t.dirtySubmitFrameBindings||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),c()){var n=e.canvas;n.width==t.bufferWidth&&n.height==t.bufferHeight||(t.bufferWidth=n.width,t.bufferHeight=n.height,t.onResize())}},L.prototype.updateDeviceInfo=function(e){var t=this.gl,r=this,n=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];T(t,n,function(t){var n=r.computeMeshVertices_(r.meshWidth,r.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,r.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),!r.indexCount){var i=r.computeMeshIndices_(r.meshWidth,r.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),r.indexCount=i.length}})},L.prototype.computeMeshVertices_=function(e,t,r){for(var n=new Float32Array(2*e*t*5),i=r.getLeftEyeVisibleTanAngles(),o=r.getLeftEyeNoLensTanAngles(),a=r.getLeftEyeVisibleScreenRect(o),c=0,l=0;l<2;l++){for(var u=0;u<t;u++)for(var d=0;d<e;d++,c++){var h=d/(e-1),p=u/(t-1),f=h,m=p,g=s(i[0],i[2],h),v=s(i[3],i[1],p),y=Math.sqrt(g*g+v*v),b=r.distortion.distortInverse(y),x=g*b/y,w=v*b/y;h=(x-o[0])/(o[2]-o[0]),p=(w-o[3])/(o[1]-o[3]),h=2*(a.x+h*a.width-.5),p=2*(a.y+p*a.height-.5),n[5*c+0]=h,n[5*c+1]=p,n[5*c+2]=f,n[5*c+3]=m,n[5*c+4]=l}var E=i[2]-i[0];i[0]=-(E+i[0]),i[2]=E-i[2],E=o[2]-o[0],o[0]=-(E+o[0]),o[2]=E-o[2],a.x=1-(a.x+a.width)}return n},L.prototype.computeMeshIndices_=function(e,t){for(var r=new Uint16Array(2*(e-1)*(t-1)*6),n=e/2,i=t/2,o=0,a=0,s=0;s<2;s++)for(var c=0;c<t;c++)for(var l=0;l<e;l++,o++)0!=l&&0!=c&&(l<=n==c<=i?(r[a++]=o,r[a++]=o-e-1,r[a++]=o-e,r[a++]=o-e-1,r[a++]=o,r[a++]=o-1):(r[a++]=o-1,r[a++]=o-e,r[a++]=o,r[a++]=o-e,r[a++]=o-1,r[a++]=o-e-1));return r},L.prototype.getOwnPropertyDescriptor_=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return void 0!==r.get&&void 0!==r.set||(r.configurable=!0,r.enumerable=!0,r.get=function(){return this.getAttribute(t)},r.set=function(e){this.setAttribute(t,e)}),r};var R=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),P=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),k=Math.PI/180,j=.3125;function D(e){this.gl=e,this.attribs={position:0},this.program=y(e,R,P,this.attribs),this.uniforms=b(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function I(e){this.coefficients=e}D.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},D.prototype.listen=function(e,t){var r=this.gl.canvas;this.listener=function(n){var i=r.clientWidth/2;n.clientX>i-42&&n.clientX<i+42&&n.clientY>r.clientHeight-42?e(n):n.clientX<42&&n.clientY<42&&t(n)},r.addEventListener("click",this.listener,!1)},D.prototype.onResize=function(){var e=this.gl,t=this,r=[e.ARRAY_BUFFER_BINDING];T(e,r,function(e){var r=[],n=e.drawingBufferWidth/2,i=Math.max(screen.width,screen.height)*window.devicePixelRatio,o=e.drawingBufferWidth/i,a=o*window.devicePixelRatio,s=4*a/2,c=42*a,l=28*a/2,u=14*a;function d(e,t){var i=(90-e)*k,o=Math.cos(i),a=Math.sin(i);r.push(j*o*l+n,j*a*l+l),r.push(t*o*l+n,t*a*l+l)}r.push(n-s,c),r.push(n-s,e.drawingBufferHeight),r.push(n+s,c),r.push(n+s,e.drawingBufferHeight),t.gearOffset=r.length/2;for(var h=0;h<=6;h++){var p=60*h;d(p,1),d(p+12,1),d(p+20,.75),d(p+40,.75),d(p+48,1)}function f(t,n){r.push(u+t,e.drawingBufferHeight-u-n)}t.gearVertexCount=r.length/2-t.gearOffset,t.arrowOffset=r.length/2;var m=s/Math.sin(45*k);f(0,l),f(l,0),f(l+m,m),f(m,l+m),f(m,l-m),f(0,l),f(l,2*l),f(l+m,2*l-m),f(m,l-m),f(0,l),f(m,l-s),f(28*a,l-s),f(m,l+s),f(28*a,l+s),t.arrowVertexCount=r.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)})},D.prototype.render=function(){var e=this.gl,t=this,r=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];T(e,r,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},D.prototype.renderNoState=function(){var e,t,r,n,i,o,a,s,c,l,u=this.gl;u.useProgram(this.program),u.bindBuffer(u.ARRAY_BUFFER,this.vertexBuffer),u.enableVertexAttribArray(this.attribs.position),u.vertexAttribPointer(this.attribs.position,2,u.FLOAT,!1,8,0),u.uniform4f(this.uniforms.color,1,1,1,1),e=this.projMat,t=0,r=u.drawingBufferWidth,n=0,i=u.drawingBufferHeight,s=1/(t-r),c=1/(n-i),l=1/((o=.1)-(a=1024)),e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*c,e[14]=(a+o)*l,e[15]=1,u.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),u.drawArrays(u.TRIANGLE_STRIP,0,4),u.drawArrays(u.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),u.drawArrays(u.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},I.prototype.distortInverse=function(e){for(var t=0,r=1,n=e-this.distort(t);Math.abs(r-t)>1e-4;){var i=e-this.distort(r),o=r-i*((r-t)/(i-n));t=r,r=o,n=i}return r},I.prototype.distort=function(e){for(var t=e*e,r=0,n=0;n<this.coefficients.length;n++)r=t*(r+this.coefficients[n]);return(r+1)*e};var N=Math.PI/180,z=180/Math.PI,B=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0};B.prototype={constructor:B,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*n-a*r,l=s*r+a*t-i*n,u=s*n+i*r-o*t,d=-i*t-o*r-a*n;return this.x=c*s+d*-i+l*-a-u*-o,this.y=l*s+d*-o+u*-i-c*-a,this.z=u*s+d*-a+c*-o-l*-i,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this}};var F,U,H=function(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1};function G(e){this.width=e.width||m(),this.height=e.height||g(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}H.prototype={constructor:H,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,r){var n=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(r/2),a=Math.sin(e/2),s=Math.sin(t/2),c=Math.sin(r/2);return this.x=a*i*o+n*s*c,this.y=n*s*o-a*i*c,this.z=n*i*c+a*s*o,this.w=n*i*o-a*s*c,this},setFromEulerYXZ:function(e,t,r){var n=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(r/2),a=Math.sin(e/2),s=Math.sin(t/2),c=Math.sin(r/2);return this.x=a*i*o+n*s*c,this.y=n*s*o-a*i*c,this.z=n*i*c-a*s*o,this.w=n*i*o+a*s*c,this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this.x=e.x*n,this.y=e.y*n,this.z=e.z*n,this.w=Math.cos(r),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e.x,n=e.y,i=e.z,o=e.w,a=t.x,s=t.y,c=t.z,l=t.w;return this.x=r*l+o*a+n*c-i*s,this.y=n*l+o*s+i*a-r*c,this.z=i*l+o*c+r*s-n*a,this.w=o*l-r*a-n*s-i*c,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this.x,n=this.y,i=this.z,o=this.w,a=o*e.w+r*e.x+n*e.y+i*e.z;if(a<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,a=-a):this.copy(e),a>=1)return this.w=o,this.x=r,this.y=n,this.z=i,this;var s=Math.acos(a),c=Math.sqrt(1-a*a);if(Math.abs(c)<.001)return this.w=.5*(o+this.w),this.x=.5*(r+this.x),this.y=.5*(n+this.y),this.z=.5*(i+this.z),this;var l=Math.sin((1-t)*s)/c,u=Math.sin(t*s)/c;return this.w=o*l+this.w*u,this.x=r*l+this.x*u,this.y=n*l+this.y*u,this.z=i*l+this.z*u,this},setFromUnitVectors:function(e,t){return void 0===F&&(F=new B),(U=e.dot(t)+1)<1e-6?(U=0,Math.abs(e.x)>Math.abs(e.z)?F.set(-e.y,e.x,0):F.set(0,-e.z,e.y)):F.crossVectors(e,t),this.x=F.x,this.y=F.y,this.z=F.z,this.w=U,this.normalize(),this}};var V=new G({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),W=new G({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),q={CardboardV1:new Y({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new Y({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function X(e,t){this.viewer=q.CardboardV2,this.updateDeviceParams(e),this.distortion=new I(this.viewer.distortionCoefficients);for(var r=0;r<t.length;r++){var n=t[r];q[n.id]=new Y(n)}}function Y(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}X.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},X.prototype.getDevice=function(){return this.device},X.prototype.setViewer=function(e){this.viewer=e,this.distortion=new I(this.viewer.distortionCoefficients)},X.prototype.determineDevice_=function(e){if(!e)return c()?(console.warn("Using fallback iOS device measurements."),W):(console.warn("Using fallback Android device measurements."),V);var t=.0254/e.xdpi,r=.0254/e.ydpi,n=m(),i=g();return new G({widthMeters:t*n,heightMeters:r*i,bevelMeters:.001*e.bevelMm})},X.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,r=this.distortion,n=e.screenLensDistance,i=(t.widthMeters-e.interLensDistance)/2,o=e.interLensDistance/2,a=e.baselineLensDistance-t.bevelMeters,s=t.heightMeters-a,c=z*Math.atan(r.distort(i/n)),l=z*Math.atan(r.distort(o/n)),u=z*Math.atan(r.distort(a/n)),d=z*Math.atan(r.distort(s/n));return{leftDegrees:Math.min(c,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(u,e.fov),upDegrees:Math.min(d,e.fov)}},X.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,n=Math.tan(-N*e.fov),i=Math.tan(N*e.fov),o=Math.tan(N*e.fov),a=Math.tan(-N*e.fov),s=t.widthMeters/4,c=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-c,u=e.interLensDistance/2-s,d=-l,h=e.screenLensDistance,p=r.distort((u-s)/h),f=r.distort((d+c)/h),m=r.distort((u+s)/h),g=r.distort((d-c)/h),v=new Float32Array(4);return v[0]=Math.max(n,p),v[1]=Math.min(i,f),v[2]=Math.min(o,m),v[3]=Math.max(a,g),v},X.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,n=new Float32Array(4),i=r.distortInverse(Math.tan(-N*e.fov)),o=r.distortInverse(Math.tan(N*e.fov)),a=r.distortInverse(Math.tan(N*e.fov)),s=r.distortInverse(Math.tan(-N*e.fov)),c=t.widthMeters/4,l=t.heightMeters/2,u=e.baselineLensDistance-t.bevelMeters-l,d=e.interLensDistance/2-c,h=-u,p=e.screenLensDistance,f=(d-c)/p,m=(h+l)/p,g=(d+c)/p,v=(h-l)/p;return n[0]=Math.max(i,f),n[1]=Math.min(o,m),n[2]=Math.min(a,g),n[3]=Math.max(s,v),n},X.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,r=this.device,n=t.screenLensDistance,i=(r.widthMeters-t.interLensDistance)/2,o=t.baselineLensDistance-r.bevelMeters,a=(e[0]*n+i)/r.widthMeters,s=(e[1]*n+o)/r.heightMeters,c=(e[2]*n+i)/r.widthMeters,l=(e[3]*n+o)/r.heightMeters;return{x:a,y:l,width:c-a,height:s-l}},X.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},X.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},X.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:z*Math.atan(e.outerDist),rightDegrees:z*Math.atan(e.innerDist),downDegrees:z*Math.atan(e.bottomDist),upDegrees:z*Math.atan(e.topDist)}},X.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,r=this.device,n=t.screenLensDistance,i=r.widthMeters/n,o=r.heightMeters/n,a=r.width/i,s=r.height/o,c=Math.round((e.eyePosX-e.outerDist)*a),l=Math.round((e.eyePosY-e.bottomDist)*s);return{x:c,y:l,width:Math.round((e.eyePosX+e.innerDist)*a)-c,height:Math.round((e.eyePosY+e.topDist)*s)-l}},X.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,r=this.distortion,n=e.screenLensDistance,i=e.interLensDistance/2/n,o=t.widthMeters/n,a=t.heightMeters/n,s=o/2-i,c=(e.baselineLensDistance-t.bevelMeters)/n,l=e.fov,u=r.distortInverse(Math.tan(N*l)),d=Math.min(s,u),h=Math.min(i,u),p=Math.min(c,u),f=Math.min(a-c,u);return{outerDist:d,innerDist:h,topDist:f,bottomDist:p,eyePosX:s,eyePosY:c}},X.Viewers=q;var K={format:1,last_updated:"2018-12-10T17:01:42Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function Q(e,t){if(this.dpdb=K,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var r=new XMLHttpRequest,n=this;r.open("GET",e,!0),r.addEventListener("load",function(){n.loading=!1,r.status>=200&&r.status<=299?(n.dpdb=JSON.parse(r.response),n.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),r.send()}}function Z(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}function J(e,t){this.set(e,t)}function $(e,t){this.kFilter=e,this.isDebug=t,this.currentAccelMeasurement=new J,this.currentGyroMeasurement=new J,this.previousGyroMeasurement=new J,c()?this.filterQ=new H(-1,0,0,1):this.filterQ=new H(1,0,0,1),this.previousFilterQ=new H,this.previousFilterQ.copy(this.filterQ),this.accelQ=new H,this.isOrientationInitialized=!1,this.estimatedGravity=new B,this.measuredGravity=new B,this.gyroIntegralQ=new H}function ee(e,t){this.predictionTimeS=e,this.isDebug=t,this.previousQ=new H,this.previousTimestampS=null,this.deltaQ=new H,this.outQ=new H}function te(e,t,r,n){this.yawOnly=r,this.accelerometer=new B,this.gyroscope=new B,this.filter=new $(e,n),this.posePredictor=new ee(t,n),this.isFirefoxAndroid=u(),this.isIOS=c();var i=d();this.isDeviceMotionInRadians=!this.isIOS&&i&&i<66,this.isWithoutDeviceMotion=h(),this.filterToWorldQ=new H,c()?this.filterToWorldQ.setFromAxisAngle(new B(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new B(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new H,this.worldToScreenQ=new H,this.originalPoseAdjustQ=new H,this.originalPoseAdjustQ.setFromAxisAngle(new B(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),f()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new H,this.orientationOut_=new Float32Array(4),this.start()}Q.prototype.getDeviceParams=function(){return this.deviceParams},Q.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},Q.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,r=m(),n=g();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var i=0;i<e.devices.length;i++){var o=e.devices[i];if(o.rules)if("ios"==o.type||"android"==o.type){if(c()==("ios"==o.type)){for(var a=!1,s=0;s<o.rules.length;s++){var l=o.rules[s];if(this.ruleMatches_(l,t,r,n)){a=!0;break}}if(a){var u=o.dpi[0]||o.dpi,d=o.dpi[1]||o.dpi;return new Z({xdpi:u,ydpi:d,bevelMm:o.bw})}}}else console.warn("Device["+i+"] has invalid type.");else console.warn("Device["+i+"] has no rules section.")}return console.warn("No DPDB device match."),null},Q.prototype.ruleMatches_=function(e,t,r,n){if(!e.ua&&!e.res)return!1;if(e.ua&&"SM"===e.ua.substring(0,2)&&(e.ua=e.ua.substring(0,7)),e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var i=e.res[0],o=e.res[1];if(Math.min(r,n)!=Math.min(i,o)||Math.max(r,n)!=Math.max(i,o))return!1}return!0},J.prototype.set=function(e,t){this.sample=e,this.timestampS=t},J.prototype.copy=function(e){this.set(e.sample,e.timestampS)},$.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},$.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var r,n=t-this.previousGyroMeasurement.timestampS;r=n,!(isNaN(r)||r<=.001||r>1)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},$.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var r=new H;r.copy(this.filterQ),r.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(r),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var n,i=new H;i.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),i.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",z*((n=i).w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(n.w)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var o=new H;o.copy(this.filterQ),o.multiply(i),this.filterQ.slerp(o,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},$.prototype.getOrientation=function(){return this.filterQ},$.prototype.accelToQuaternion_=function(e){var t=new B;t.copy(e),t.normalize();var r=new H;return r.setFromUnitVectors(new B(0,0,-1),t),r.inverse(),r},$.prototype.gyroToQuaternionDelta_=function(e,t){var r=new H,n=new B;return n.copy(e),n.normalize(),r.setFromAxisAngle(n,e.length()*t),r},ee.prototype.getPrediction=function(e,t,r){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=r,e;var n=new B;n.copy(t),n.normalize();var i=t.length();if(i<20*N)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(z*i).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var o=i*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(n,o),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=r,this.outQ},te.prototype.getPosition=function(){return null},te.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||(n=(new H).setFromAxisAngle(new B(0,0,-1),0),i=new H,-90===window.orientation?i.setFromAxisAngle(new B(0,1,0),Math.PI/-2):i.setFromAxisAngle(new B(0,1,0),Math.PI/2),n.multiply(i)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||((r=new H).setFromAxisAngle(new B(1,0,0),-Math.PI/2),r),e=this._deviceOrientationQ;var t=new H;return t.copy(e),t.multiply(this.deviceOrientationFilterToWorldQ),t.multiply(this.resetQ),t.multiply(this.worldToScreenQ),t.multiplyQuaternions(this.deviceOrientationFixQ,t),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_}var r,n,i,o=this.filter.getOrientation();e=this.posePredictor.getPrediction(o,this.gyroscope,this.previousTimestampS);var t=new H;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(e),t.multiply(this.worldToScreenQ),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},te.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),f()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},te.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new H;var t=e.alpha,r=e.beta,n=e.gamma;t=(t||0)*Math.PI/180,r=(r||0)*Math.PI/180,n=(n||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(r,t,-n)},te.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},te.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,r=e.rotationRate,n=e.timeStamp/1e3,i=n-this.previousTimestampS;return i<0?(M("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=n)):i<=.001||i>1?(M("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=n)):(this.accelerometer.set(-t.x,-t.y,-t.z),p()?this.gyroscope.set(-r.beta,r.alpha,r.gamma):this.gyroscope.set(r.alpha,r.beta,r.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,n),this.filter.addGyroMeasurement(this.gyroscope,n),void(this.previousTimestampS=n))},te.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},te.prototype.onMessage_=function(e){var t=e.data;if(t&&t.type){var r=t.type.toLowerCase();"devicemotion"===r&&this.updateDeviceMotion_(t.deviceMotionEvent)}},te.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new B(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new B(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},te.prototype.start=function(){var e,t,r;this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),c()&&(e=window.self!==window.top,t=_(document.referrer),r=_(window.location.href),e&&t!==r)&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},te.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var re=new B(1,0,0),ne=new B(0,0,1),ie=new H;ie.setFromAxisAngle(re,-Math.PI/2),ie.multiply((new H).setFromAxisAngle(ne,Math.PI/2));var oe=function(){function e(t){i(this,e),this.config=t,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new H,this._outQ=new H,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return o(e,[{key:"init",value:function(){var e=null;try{(e=new RelativeOrientationSensor({frequency:60,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(e){this.errors.push(e),"SecurityError"===e.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===e.name?this.useDeviceMotion():console.error(e)}e&&(this.api="sensor",this.sensor=e,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new te(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var e=this.sensor.quaternion;this._sensorQ.set(e[0],e[1],e[2],e[3]);var t=this._outQ;return t.copy(ie),t.multiply(this._sensorQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:"_onSensorError",value:function(e){this.errors.push(e.error),"NotAllowedError"===e.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===e.error.name?console.error("Sensor could not be read"):console.error(e.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),e}();function ae(){this.loadIcon_();var e=document.createElement("div"),t=e.style;t.position="fixed",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor="gray",t.fontFamily="sans-serif",t.zIndex=1e6;var r=document.createElement("img");r.src=this.icon;var t=r.style;t.marginLeft="25%",t.marginTop="25%",t.width="50%",e.appendChild(r);var n=document.createElement("div"),t=n.style;t.textAlign="center",t.fontSize="16px",t.lineHeight="24px",t.margin="24px 25%",t.width="50%",n.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(n);var i=document.createElement("div"),t=i.style;t.backgroundColor="#CFD8DC",t.position="fixed",t.bottom=0,t.width="100%",t.height="48px",t.padding="14px 24px",t.boxSizing="border-box",t.color="#656A6B",e.appendChild(i);var o=document.createElement("div");o.style.float="left",o.innerHTML="No Cardboard viewer?";var a=document.createElement("a");a.href="https://www.google.com/get/cardboard/get-cardboard/",a.innerHTML="get one",a.target="_blank";var t=a.style;t.float="right",t.fontWeight=600,t.textTransform="uppercase",t.borderLeft="1px solid gray",t.paddingLeft="24px",t.textDecoration="none",t.color="#656A6B",i.appendChild(o),i.appendChild(a),this.overlay=e,this.text=n,this.hide()}ae.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img"),r=t.style;f()?(r.width="20%",r.marginLeft="40%",r.marginTop="3%"):(r.width="50%",r.marginLeft="25%",r.marginTop="25%")},ae.prototype.hide=function(){this.overlay.style.display="none"},ae.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},ae.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},ae.prototype.update=function(){this.disableShowTemporarily(),!f()&&x()?this.show():this.hide()},ae.prototype.loadIcon_=function(){this.icon="data:image/svg+xml,"+encodeURIComponent("<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>")};var se="CardboardV1",ce="WEBVR_CARDBOARD_VIEWER";function le(e){try{this.selectedKey=localStorage.getItem(ce)}catch(e){console.error("Failed to load viewer profile: %s",e)}this.selectedKey||(this.selectedKey=e||se),this.dialog=this.createDialog_(X.Viewers),this.root=null,this.onChangeCallbacks_=[]}le.prototype.show=function(e){this.root=e,e.appendChild(this.dialog);var t=this.dialog.querySelector("#"+this.selectedKey);t.checked=!0,this.dialog.style.display="block"},le.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},le.prototype.getCurrentViewer=function(){return X.Viewers[this.selectedKey]},le.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},le.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},le.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},le.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&X.Viewers[this.selectedKey]){this.fireOnChange_(X.Viewers[this.selectedKey]);try{localStorage.setItem(ce,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},le.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add("webvr-polyfill-viewer-selector"),t.style.display="none";var r=document.createElement("div"),n=r.style;n.position="fixed",n.left=0,n.top=0,n.width="100%",n.height="100%",n.background="rgba(0, 0, 0, 0.3)",r.addEventListener("click",this.hide.bind(this));var i=document.createElement("div"),n=i.style;for(var o in n.boxSizing="border-box",n.position="fixed",n.top="24px",n.left="50%",n.marginLeft="-140px",n.width="280px",n.padding="24px",n.overflow="hidden",n.background="#fafafa",n.fontFamily="'Roboto', sans-serif",n.boxShadow="0px 5px 20px #666",i.appendChild(this.createH1_("Select your viewer")),e)i.appendChild(this.createChoice_(o,e[o].label));return i.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(r),t.appendChild(i),t},le.prototype.createH1_=function(e){var t=document.createElement("h1"),r=t.style;return r.color="black",r.fontSize="20px",r.fontWeight="bold",r.marginTop=0,r.marginBottom="24px",t.innerHTML=e,t},le.prototype.createChoice_=function(e,t){var r=document.createElement("div");r.style.marginTop="8px",r.style.color="black";var n=document.createElement("input");n.style.fontSize="30px",n.setAttribute("id",e),n.setAttribute("type","radio"),n.setAttribute("value",e),n.setAttribute("name","field");var i=document.createElement("label");return i.style.marginLeft="4px",i.setAttribute("for",e),i.innerHTML=t,r.appendChild(n),r.appendChild(i),r},le.prototype.createButton_=function(e,t){var r=document.createElement("button");r.innerHTML=e;var n=r.style;return n.float="right",n.textTransform="uppercase",n.color="#1094f7",n.fontSize="14px",n.letterSpacing=0,n.border=0,n.background="none",n.marginTop="16px",r.addEventListener("click",t),r},"undefined"!=typeof window?window:void 0!==n||"undefined"!=typeof self&&self;var ue,de,he=(function(e,t){var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",i),this.noSleepVideo.addEventListener("timeupdate",function(e){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return n(e,[{key:"enable",value:function(){o?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){o?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=a},function(e,t,r){e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},e.exports=r()}(de={exports:{}}),(ue=de.exports)&&ue.__esModule&&Object.prototype.hasOwnProperty.call(ue,"default")?ue.default:ue),pe=1e3,fe=[0,0,.5,1],me=[.5,0,.5,1],ge=window.requestAnimationFrame,ve=window.cancelAnimationFrame;function ye(e){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:e.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:e.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:e.canPresent},maxLayers:{writable:!1,enumerable:!0,value:e.maxLayers},hasOrientation:{enumerable:!0,get:function(){return S("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),e.hasOrientation}}})}function be(e){var t=!("wakelock"in(e=e||{}))||e.wakelock;this.isPolyfilled=!0,this.displayId=pe++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return S("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new ye({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,t&&x()&&(this.wakelock_=new he)}be.prototype.getFrameData=function(e){return A(e,this._getPose(),this)},be.prototype.getPose=function(){return S("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},be.prototype.resetPose=function(){return S("VRDisplay.prototype.resetPose"),this._resetPose()},be.prototype.getImmediatePose=function(){return S("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},be.prototype.requestAnimationFrame=function(e){return ge(e)},be.prototype.cancelAnimationFrame=function(e){return ve(e)},be.prototype.wrapForFullscreen=function(e){if(c())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=e,this.originalParent_=e.parentElement,this.originalParent_||document.body.appendChild(e),!this.fullscreenWrapper_.parentElement){var r=this.fullscreenElement_.parentElement;r.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),r.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var n=this;return function(){if(n.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];n.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}(),this.fullscreenWrapper_},be.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),this.originalParent_===t?t.insertBefore(e,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(e),t.removeChild(this.fullscreenWrapper_),e}},be.prototype.requestPresent=function(e){var t=this.isPresenting,r=this;return e instanceof Array||(S("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),e=[e]),new Promise(function(n,i){if(r.capabilities.canPresent)if(0==e.length||e.length>r.capabilities.maxLayers)i(new Error("Invalid number of layers."));else{var o=e[0];if(o.source){var a=o.leftBounds||fe,s=o.rightBounds||me;if(t){var u=r.layer_;u.source!==o.source&&(u.source=o.source);for(var d=0;d<4;d++)u.leftBounds[d]=a[d],u.rightBounds[d]=s[d];return r.wrapForFullscreen(r.layer_.source),r.updatePresent_(),void n()}if(r.layer_={predistorted:o.predistorted,source:o.source,leftBounds:a.slice(0),rightBounds:s.slice(0)},r.waitingForPresent_=!1,r.layer_&&r.layer_.source){var h=r.wrapForFullscreen(r.layer_.source);r.addFullscreenListeners_(h,function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;r.isPresenting=h===e,r.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),r.waitingForPresent_=!1,r.beginPresent_(),n()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),r.removeFullscreenWrapper(),r.disableWakeLock(),r.endPresent_(),r.removeFullscreenListeners_()),r.fireVRDisplayPresentChange_()},function(){r.waitingForPresent_&&(r.removeFullscreenWrapper(),r.removeFullscreenListeners_(),r.disableWakeLock(),r.waitingForPresent_=!1,r.isPresenting=!1,i(new Error("Unable to present.")))}),function(e){if(l())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0}(h)?(r.enableWakeLock(),r.waitingForPresent_=!0):(c()||l())&&(r.enableWakeLock(),r.isPresenting=!0,r.beginPresent_(),r.fireVRDisplayPresentChange_(),n())}r.waitingForPresent_||c()||(v(),i(new Error("Unable to present.")))}else n()}else i(new Error("VRDisplay is not capable of presenting."))})},be.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(r,n){e?(!v()&&c()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),l()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),r()):n(new Error("Was not presenting to VRDisplay."))})},be.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},be.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},be.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(e)},be.prototype.addFullscreenListeners_=function(e,t,r){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=r,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),r&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",r,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",r,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",r,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",r,!1))},be.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var r=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",r,!1),e.removeEventListener("webkitfullscreenerror",r,!1),document.removeEventListener("mozfullscreenerror",r,!1),e.removeEventListener("msfullscreenerror",r,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},be.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},be.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},be.prototype.beginPresent_=function(){},be.prototype.endPresent_=function(){},be.prototype.submitFrame=function(e){},be.prototype.getEyeParameters=function(e){return null};var xe={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},we={LEFT:"left",RIGHT:"right"};function Ee(e){var t=w({},xe);e=w(t,e||{}),be.call(this,{wakelock:e.MOBILE_WAKE_LOCK}),this.config=e,this.displayName="Cardboard VRDisplay",this.capabilities=new ye({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new oe(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new Q(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new X(this.dpdb_.getDeviceParams(),e.ADDITIONAL_VIEWERS),this.viewerSelector_=new le(e.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new ae),c()&&window.addEventListener("resize",this.onResize_.bind(this))}return Ee.prototype=Object.create(be.prototype),Ee.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Ee.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},Ee.prototype._getFieldOfView=function(e){var t;if(e==we.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=we.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},Ee.prototype._getEyeOffset=function(e){var t;if(e==we.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=we.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},Ee.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),r=this._getFieldOfView(e),n={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(n,"fieldOfView",{enumerable:!0,get:function(){return S("VRFieldOfView","VRFrameData's projection matrices"),r}}),n},Ee.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},Ee.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},Ee.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=m()*this.bufferScale_,e.canvas.height=g()*this.bufferScale_,this.cardboardUI_=new D(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new D(e)),this.distorter_=new L(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(f()&&x()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},Ee.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},Ee.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},Ee.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},Ee.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},Ee.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl");t.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),E(t.canvas)}},Ee.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},Ee.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},Ee.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},Ee.VRDisplay=be,Ee}()}(t={exports:{}}),t.exports),c=(r=s)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,l={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function u(e){this.config=a(a({},l),e),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&i())&&(this.enable(),this.getVRDisplays().then(function(e){e&&e[0]&&e[0].fireVRDisplayConnect_&&e[0].fireVRDisplayConnect_()}))}u.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(i()){var e=new c({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(e)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},u.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var e=this.native.VRFrameData,t=new this.native.VRFrameData,r=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(n){n instanceof e?r.call(this,n):(r.call(this,t),n.pose=t.pose,o(t.leftProjectionMatrix,n.leftProjectionMatrix),o(t.rightProjectionMatrix,n.rightProjectionMatrix),o(t.leftViewMatrix,n.leftViewMatrix),o(t.rightViewMatrix,n.rightViewMatrix))}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=c.VRDisplay,window.VRFrameData=c.VRFrameData},u.prototype.getVRDisplays=function(){var e=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(t){return t.length>0?t:e.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},u.version="0.10.10",u.VRFrameData=c.VRFrameData,u.VRDisplay=c.VRDisplay;var d=Object.freeze({default:u}),h=d&&u||d;void 0!==n&&n.window&&(n.document||(n.document=n.window.document),n.navigator||(n.navigator=n.window.navigator));var p=h;return p})}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(e,t,r){var n=/\n/,i="\n",o=/\s/;function a(e,t,r,n){var i=e.indexOf(t,r);return-1===i||i>n?n:i}function s(e){return o.test(e)}function c(e,t,r,n){var i=Math.min(n,r-t);return{start:t,end:t+i}}t.exports=function(e,r){var n=t.exports.lines(e,r);return n.map(function(t){return e.substring(t.start,t.end)}).join("\n")},t.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var r="number"==typeof t.width?t.width:Number.MAX_VALUE,o=Math.max(0,t.start||0),l="number"==typeof t.end?t.end:e.length,u=t.mode,d=t.measure||c;return"pre"===u?function(e,t,r,i,o){for(var a=[],s=r,c=r;c<i&&c<t.length;c++){var l=t.charAt(c),u=n.test(l);if(u||c===i-1){var d=u?c:c+1,h=e(t,s,d,o);a.push(h),s=c+1}}return a}(d,e,o,l,r):function(e,t,r,n,o,c){var l=[],u=o;for("nowrap"===c&&(u=Number.MAX_VALUE);r<n&&r<t.length;){for(var d=a(t,i,r,n);r<d&&s(t.charAt(r));)r++;var h=e(t,r,d,u),p=r+(h.end-h.start),f=p+i.length;if(p<d){for(;p>r&&!s(t.charAt(p));)p--;if(p===r)f>r+i.length&&f--,p=f;else for(f=p;p>r&&s(t.charAt(p-i.length));)p--}if(p>=r){var m=e(t,r,p,u);l.push(m)}r=f}return l}(d,e,o,l,r,u)}},{}],69:[function(e,t,r){"use strict";var n=e("global/window"),i=e("is-function"),o=e("parse-headers"),a=e("xtend");function s(e,t,r){var n=e;return i(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=a(t,{uri:e}),n.callback=r,n}function c(e,t,r){return l(t=s(e,t,r))}function l(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,i){t||(t=!0,e.callback(r,n,i))};function n(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),v)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,y)}function a(){if(!l){var t;clearTimeout(d),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=y,a=null;return 0!==t?(i={body:n(),statusCode:t,method:p,headers:{},url:h,rawRequest:u},u.getAllResponseHeaders&&(i.headers=o(u.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),r(a,i,i.body)}}var s,l,u=e.xhr||null;u||(u=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var d,h=u.url=e.uri||e.url,p=u.method=e.method||"GET",f=e.body||e.data,m=u.headers=e.headers||{},g=!!e.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:p,url:h,rawRequest:u};if("json"in e&&!1!==e.json&&(v=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(a,0)},u.onload=a,u.onerror=i,u.onprogress=function(){},u.onabort=function(){l=!0},u.ontimeout=i,u.open(p,h,!g,e.username,e.password),g||(u.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(d=setTimeout(function(){if(!l){l=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}},e.timeout)),u.setRequestHeader)for(s in m)m.hasOwnProperty(s)&&u.setRequestHeader(s,m[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}t.exports=c,t.exports.default=c,c.XMLHttpRequest=n.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(e){c["delete"===e?"del":e]=function(t,r,n){return(r=s(t,r,n)).method=e.toUpperCase(),l(r)}})},{"global/window":27,"is-function":33,"parse-headers":47,xtend:71}],70:[function(e,t,r){t.exports=void 0!==self.DOMParser?function(e){var t=new self.DOMParser;return t.parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{}],71:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},{}],72:[function(e,t,r){t.exports={name:"aframe",version:"1.0.1",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"shx mkdir -p build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-master.js.map > dist/aframe-master.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js",docs:"markserv --dir docs --port 9001",preghpages:"node ./scripts/preghpages.js",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy","lint:fix":"semistandard --fix",precommit:"npm run lint",prepush:"node scripts/testOnlyCheck.js",prerelease:"node scripts/release.js 0.9.2 1.0.0",start:"npm run dev","start:https":"cross-env SSL=true npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},repository:"aframevr/aframe",license:"MIT",files:["dist/*","docs/**/*","src/**/*","vendor/**/*"],dependencies:{"custom-event-polyfill":"^1.0.6",debug:"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7f3744be954574caf3072a5fd260ca90","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","super-animejs":"^3.1.0","super-three":"^0.111.5","three-bmfont-text":"dmarcos/three-bmfont-text#1babdf8507","webvr-polyfill":"^0.10.10"},devDependencies:{browserify:"^13.1.0","browserify-css":"^0.8.4","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^5.0.1",envify:"^3.4.1",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",jsdom:"^9.11.0",karma:"1.4.1","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.2.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"1.2.4",lolex:"^1.5.1",markserv:"github:sukima/markserv#feature/fix-broken-websoketio-link",minifyify:"^7.3.3",mocha:"^3.0.2","mozilla-download":"^1.1.1","replace-in-file":"^2.5.3",semistandard:"^9.0.0",shelljs:"^0.7.7",shx:"^0.2.2",sinon:"^1.17.5","sinon-chai":"2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],73:[function(e,t,r){var n=e("super-animejs"),i=e("../core/component").components,o=e("../core/component").registerComponent,a=e("../lib/three"),s=e("../utils"),c=new a.Color,l=new a.Color,u=s.entity.getComponentProperty,d=s.entity.setComponentProperty,h={},p="color",f="components",m="object3D";function g(e){e.x=a.Math.degToRad(e.x),e.y=a.Math.degToRad(e.y),e.z=a.Math.degToRad(e.z)}function v(e,t,r){var n;for(n=0;n<t.length;n++)e.addEventListener(t[n],r)}function y(e,t,r){var n;for(n=0;n<t.length;n++)e.removeEventListener(t[n],r)}function b(e,t){var r,n,i;for(n=w(t),i=e,r=0;r<n.length;r++)i=i[n[r]];if(void 0===i)throw console.log(e),new Error("[animation] property ("+t+") could not be found");return i}function x(e,t,r,n){var i,o,s,c;for(t.startsWith("object3D.rotation")&&(r=a.Math.degToRad(r)),o=w(t),c=e,i=0;i<o.length-1;i++)c=c[o[i]];s=o[o.length-1],n!==p?c[s]=r:"r"in c[s]?(c[s].r=r.r,c[s].g=r.g,c[s].b=r.b):(c[s].x=r.r,c[s].y=r.g,c[s].z=r.b)}function w(e){return e in h?h[e]:(h[e]=e.split("."),h[e])}function E(e){return e.isRawProperty||e.property.startsWith(f)||e.property.startsWith(m)}t.exports.Component=o("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&parseInt(e,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var e=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){e.animationIsPlaying=!1,e.el.emit("animationcomplete",e.eventDetail,!1),e.id&&e.el.emit("animationcomplete__"+e.id,e.eventDetail,!1)}}},update:function(e){var t=this.config,r=this.data;this.animationIsPlaying=!1,this.data.enabled&&r.property&&(t.autoplay=!1,t.direction=r.dir,t.duration=r.dur,t.easing=r.easing,t.elasticity=r.elasticity,t.loop=r.loop,t.round=r.round,this.createAndStartAnimation())},tick:function(e,t){this.animationIsPlaying&&(this.time+=t,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var e=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=n(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!e.autoplay||e.startEvents&&e.startEvents.length||(e.delay?setTimeout(this.beginAnimation,e.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=n(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var e,t,r,n=this.config,i=this.data,o=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(t in e=""===i.from?b(o,i.property):i.from,r=i.to,this.setColorConfig(e,r),e=this.fromColor,r=this.toColor,this.targetsArray.length=0,this.targetsArray.push(e),n.targets=this.targetsArray,r)n[t]=r[t];var a;n.update=(a={},function(e){var t;(t=e.animatables[0].target).r===a.r&&t.g===a.g&&t.b===a.b||x(o,i.property,t,i.type)})}},updateConfigForDefault:function(){var e,t,r,n,i=this.config,o=this.data,a=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(e=""===o.from?E(o)?b(a,o.property):u(a,o.property):o.from,r=o.to,isNaN(e||r)?(e=e?e.toString():e,r=r?r.toString():r):(e=parseFloat(e),r=parseFloat(r)),(t="true"===o.to||"false"===o.to||!0===o.to||!1===o.to)&&(e="true"===o.from||!0===o.from?1:0,r="true"===o.to||!0===o.to?1:0),this.targets.aframeProperty=e,i.targets=this.targets,i.aframeProperty=r,i.update=function(e){var r;(r=e.animatables[0].target.aframeProperty)!==n&&(n=r,t&&(r=r>=1),E(o)?x(a,o.property,r,o.type):d(a,o.property,r))})},updateConfigForVector:function(){var e,t,r,n,i=this.config,o=this.data,a=this.el;for(e in t=""!==o.from?s.coordinates.parse(o.from):u(a,o.property),r=s.coordinates.parse(o.to),"rotation"===o.property&&(g(t),g(r)),this.targetsArray.length=0,this.targetsArray.push(t),i.targets=this.targetsArray,r)i[e]=r[e];"position"!==o.property&&"rotation"!==o.property&&"scale"!==o.property?i.update=function(){var e={};return function(t){var r=t.animatables[0].target;r.x===e.x&&r.y===e.y&&r.z===e.z||(e.x=r.x,e.y=r.y,e.z=r.z,d(a,o.property,r))}}():i.update=(n={},function(e){var t=e.animatables[0].target;"scale"===o.property&&(t.x=Math.max(1e-4,t.x),t.y=Math.max(1e-4,t.y),t.z=Math.max(1e-4,t.z)),t.x===n.x&&t.y===n.y&&t.z===n.z||(n.x=t.x,n.y=t.y,n.z=t.z,a.object3D[o.property].set(t.x,t.y,t.z))})},updateConfig:function(){var e,t,r,n,o,a,s;t=this.el,r=this.data.property,a=r.split("."),o=a[0],s=a[1],e=(n=t.components[o]||i[o])?s&&!n.schema[s]?null:s?n.schema[s].type:n.schema.type:null,E(this.data)&&this.data.type===p?this.updateConfigForRawColor():"vec2"===e||"vec3"===e||"vec4"===e?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(e){var t,r=this.data,i=this.el,o=this;return""===r.from&&!!r.property.startsWith(f)&&(t=w(r.property)[1],!i.components[t]&&(i.addEventListener("componentinitialized",function r(a){a.detail.name===t&&(e(),o.animation=n(o.config),i.removeEventListener("componentinitialized",r))}),!0))},stopRelatedAnimations:function(){var e,t;for(t in this.el.components)e=this.el.components[t],t!==this.attrName&&"animation"===e.name&&e.animationIsPlaying&&e.data.property===this.data.property&&(e.animationIsPlaying=!1)},addEventListeners:function(){var e=this.data,t=this.el;v(t,e.startEvents,this.onStartEvent),v(t,e.pauseEvents,this.pauseAnimation),v(t,e.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var e=this.data,t=this.el;y(t,e.startEvents,this.onStartEvent),y(t,e.pauseEvents,this.pauseAnimation),y(t,e.resumeEvents,this.resumeAnimation)},setColorConfig:function(e,t){c.set(e),l.set(t),e=this.fromColor,t=this.toColor,e.r=c.r,e.g=c.g,e.b=c.b,t.r=l.r,t.g=l.g,t.b=l.b}})},{"../core/component":125,"../lib/three":173,"../utils":198,"super-animejs":56}],74:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=n("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var e,t=this.el;e=this.camera=new i.PerspectiveCamera,t.setObject3D("camera",e)},update:function(e){var t=this.data,r=this.camera;r.aspect=t.aspect||window.innerWidth/window.innerHeight,r.far=t.far,r.fov=t.fov,r.near=t.near,r.zoom=t.zoom,r.updateProjectionMatrix(),this.updateActiveCamera(e),this.updateSpectatorCamera(e)},updateActiveCamera:function(e){var t=this.data,r=this.el,n=this.system;e&&e.active===t.active||t.spectator||(t.active&&n.activeCameraEl!==r?n.setActiveCamera(r):t.active||n.activeCameraEl!==r||n.disableActiveCamera())},updateSpectatorCamera:function(e){var t=this.data,r=this.el,n=this.system;e&&e.spectator===t.spectator||(t.spectator&&n.spectatorCameraEl!==r?n.setSpectatorCamera(r):t.spectator||n.spectatorCameraEl!==r||n.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},{"../core/component":125,"../lib/three":173}],75:[function(e,t,r){var n,i,o,a,s=e("../core/component").registerComponent,c=e("../utils/"),l=c.bind,u={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},d={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},h={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]};t.exports.Component=s("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:c.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity"]}},init:function(){var e=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.updateCanvasBounds=c.debounce(function(){e.canvasBounds=e.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=l(this.onCursorDown,this),this.onCursorUp=l(this.onCursorUp,this),this.onIntersection=l(this.onIntersection,this),this.onIntersectionCleared=l(this.onIntersectionCleared,this),this.onMouseMove=l(this.onMouseMove,this)},update:function(e){this.data.rayOrigin!==e.rayOrigin&&this.updateMouseEventListeners()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var e=this.el;e.removeState(d.HOVERING),e.removeState(d.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(d.HOVERED),this.removeEventListeners()},addEventListeners:function(){var e,t=this.data,r=this.el,n=this;function i(){e=r.sceneEl.canvas,t.downEvents.length||t.upEvents.length||(h.DOWN.forEach(function(t){e.addEventListener(t,n.onCursorDown)}),h.UP.forEach(function(t){e.addEventListener(t,n.onCursorUp)}))}(e=r.sceneEl.canvas)?i():r.sceneEl.addEventListener("render-target-loaded",i),t.downEvents.forEach(function(e){r.addEventListener(e,n.onCursorDown)}),t.upEvents.forEach(function(e){r.addEventListener(e,n.onCursorUp)}),r.addEventListener("raycaster-intersection",this.onIntersection),r.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),r.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var e,t=this.data,r=this.el,n=this;!(e=r.sceneEl.canvas)||t.downEvents.length||t.upEvents.length||(h.DOWN.forEach(function(t){e.removeEventListener(t,n.onCursorDown)}),h.UP.forEach(function(t){e.removeEventListener(t,n.onCursorUp)})),t.downEvents.forEach(function(e){r.removeEventListener(e,n.onCursorDown)}),t.upEvents.forEach(function(e){r.removeEventListener(e,n.onCursorUp)}),r.removeEventListener("raycaster-intersection",this.onIntersection),r.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchstart",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),r.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var e,t=this.el;(e=t.sceneEl.canvas).removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),t.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(e.addEventListener("mousemove",this.onMouseMove,!1),e.addEventListener("touchmove",this.onMouseMove,!1),t.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:(n=new THREE.Vector3,i=new THREE.Vector2,o=new THREE.Vector3,a={origin:o,direction:n},function(e){var t,r,s,c=this.canvasBounds,l=this.el.sceneEl.camera;l.parent.updateMatrixWorld(),r="touchmove"===e.type||"touchstart"===e.type?e.touches.item(0):e,t=r.clientX-c.left,s=r.clientY-c.top,i.x=t/c.width*2-1,i.y=-s/c.height*2+1,o.setFromMatrixPosition(l.matrixWorld),n.set(i.x,i.y,.5).unproject(l).sub(o).normalize(),this.el.setAttribute("raycaster",a),"touchmove"===e.type&&e.preventDefault()}),onCursorDown:function(e){this.isCursorDown=!0,"mouse"===this.data.rayOrigin&&"touchstart"===e.type&&(this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),e.preventDefault()),this.twoWayEmit(u.MOUSEDOWN),this.cursorDownEl=this.intersectedEl},onCursorUp:function(e){if(this.isCursorDown){this.isCursorDown=!1;var t=this.data;this.twoWayEmit(u.MOUSEUP),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(u.MOUSEUP,this.intersectedEventDetail)),t.fuse&&"mouse"!==t.rayOrigin||!this.intersectedEl||this.cursorDownEl!==this.intersectedEl||this.twoWayEmit(u.CLICK),this.cursorDownEl=null,"touchend"===e.type&&e.preventDefault()}},onIntersection:function(e){var t,r,n,i,o=this.el;r=e.detail.els[0]===o?1:0,i=e.detail.intersections[r],(n=e.detail.els[r])&&this.intersectedEl!==n&&(this.intersectedEl&&(t=this.el.components.raycaster.getIntersection(this.intersectedEl))&&t.distance<=i.distance||(this.clearCurrentIntersection(!0),this.setIntersection(n,i)))},onIntersectionCleared:function(e){var t=e.detail.clearedEls;-1!==t.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},setIntersection:function(e,t){var r=this.el,n=this.data,i=this;this.intersectedEl!==e&&(this.intersectedEl=e,r.addState(d.HOVERING),e.addState(d.HOVERED),this.twoWayEmit(u.MOUSEENTER),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.add("a-mouse-cursor-hover"),0!==n.fuseTimeout&&n.fuse&&(r.addState(d.FUSING),this.twoWayEmit(u.FUSING),this.fuseTimeout=setTimeout(function(){r.removeState(d.FUSING),i.twoWayEmit(u.CLICK)},n.fuseTimeout)))},clearCurrentIntersection:function(e){var t,r,n,i=this.el;this.intersectedEl&&(this.intersectedEl.removeState(d.HOVERED),i.removeState(d.HOVERING),i.removeState(d.FUSING),this.twoWayEmit(u.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.remove("a-mouse-cursor-hover"),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==e&&0!==(n=this.el.components.raycaster.intersections).length&&(t=n[0].object.el===i?1:0,(r=n[t])&&this.setIntersection(r.object.el,r)))},twoWayEmit:function(e){var t,r=this.el,n=this.intersectedEl;t=this.el.components.raycaster.getIntersection(n),this.eventDetail.intersectedEl=n,this.eventDetail.intersection=t,r.emit(e,this.eventDetail),n&&(this.intersectedEventDetail.intersection=t,n.emit(e,this.intersectedEventDetail))}})},{"../core/component":125,"../utils/":198}],76:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,c=o.onButtonEvent,l=e("../utils/").device.isWebXRAvailable,u=l?"google-daydream":"Daydream Controller";t.exports.Component=n("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){c(t.detail.id,"down",e)},this.onButtonUp=function(t){c(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){c(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){c(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){a(this,u,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,hand:t.hand,idPrefix:u,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.obj",mtl:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,r=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).menu=r.getObjectByName("AppButton_AppButton_Cylinder.004"),t.system=r.getObjectByName("HomeButton_HomeButton_Cylinder.005"),t.trackpad=r.getObjectByName("TouchPad_TouchPad_Cylinder.003"),r.position.set(0,0,-.04))},onAxisMoved:function(e){s(this,this.mapping.axes,e)},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var r=this.buttonMeshes;if(r&&r[e]){var n;switch(t){case"down":n=this.data.buttonHighlightColor;break;case"touchstart":n=this.data.buttonTouchedColor;break;default:n=this.data.buttonColor}r[e].material.color.set(n)}}})},{"../core/component":125,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],77:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,c=o.onButtonEvent;t.exports.Component=n("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){c(t.detail.id,"down",e)},this.onButtonUp=function(t){c(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){c(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){c(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){a(this,"Gear VR",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,idPrefix:"Gear VR",orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.obj",mtl:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,r=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).trigger=r.children[2],t.trackpad=r.children[1])},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var r=this.buttonMeshes;if(r&&r[e]){var n;switch(t){case"down":n=this.data.buttonHighlightColor;break;case"touchstart":n=this.data.buttonTouchedColor;break;default:n=this.data.buttonColor}r[e].material.color.set(n)}}})},{"../core/component":125,"../utils/bind":192,"../utils/tracked-controls":206}],78:[function(e,t,r){var n=e("../core/geometry").geometries,i=e("../core/geometry").geometryNames,o=e("../core/component").registerComponent,a=e("../lib/three"),s=new a.Geometry;t.exports.Component=o("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:i,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t,r=this.data,n=this.el,i=this.system;this.geometry&&(i.unuseGeometry(e),this.geometry=null),this.geometry=i.getOrCreateGeometry(r),(t=n.getObject3D("mesh"))?t.geometry=this.geometry:((t=new a.Mesh).geometry=this.geometry,n.setObject3D("mesh",t))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=s,this.geometry=null},updateSchema:function(e){var t=this.oldData&&this.oldData.primitive,r=e.primitive,i=n[r]&&n[r].schema;if(!i)throw new Error("Unknown geometry schema `"+r+"`");t&&t===r||this.extendSchema(i)}})},{"../core/component":125,"../core/geometry":126,"../lib/three":173}],79:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../lib/three"),o=e("../utils/"),a=o.debug("components:gltf-model:warn");t.exports.Component=n("gltf-model",{schema:{type:"model"},init:function(){var e=this.system.getDRACOLoader();this.model=null,this.loader=new i.GLTFLoader,e&&this.loader.setDRACOLoader(e)},update:function(){var e=this,t=this.el,r=this.data;r&&(this.remove(),this.loader.load(r,function(r){e.model=r.scene||r.scenes[0],e.model.animations=r.animations,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})},void 0,function(e){var n=e&&e.message?e.message:"Failed to load glTF model";a(n),t.emit("model-error",{format:"gltf",src:r})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":125,"../lib/three":173,"../utils/":198}],80:[function(e,t,r){var n=e("../core/component").registerComponent,i={left:"https://cdn.aframe.io/controllers/hands/leftHand.glb",right:"https://cdn.aframe.io/controllers/hands/rightHand.glb"},o={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},a={};function s(e,t){var r;if(e)return"grip"===(r=a[e])?r+(t?"close":"open"):"point"===r?r+(t?"up":"down"):"pointing"===r||"pistol"===r?r+(t?"start":"end"):void 0}a[o.fist]="grip",a[o.thumbUp]="pistol",a[o.point]="pointing",t.exports.Component=n("hand-controls",{schema:{default:"left"},init:function(){var e=this,t=this.el;this.gesture=o.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){e.handleButton("grip","down")},this.onGripUp=function(){e.handleButton("grip","up")},this.onTrackpadDown=function(){e.handleButton("trackpad","down")},this.onTrackpadUp=function(){e.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){e.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){e.handleButton("trackpad","touchend")},this.onTriggerDown=function(){e.handleButton("trigger","down")},this.onTriggerUp=function(){e.handleButton("trigger","up")},this.onTriggerTouchStart=function(){e.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){e.handleButton("trigger","touchend")},this.onGripTouchStart=function(){e.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){e.handleButton("grip","touchend")},this.onThumbstickDown=function(){e.handleButton("thumbstick","down")},this.onThumbstickUp=function(){e.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){e.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){e.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){e.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){e.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){e.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){e.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected),t.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e,t){var r=this.el.getObject3D("mesh");r&&r.mixer&&r.mixer.update(t/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var e=this.el;e.addEventListener("gripdown",this.onGripDown),e.addEventListener("gripup",this.onGripUp),e.addEventListener("trackpaddown",this.onTrackpadDown),e.addEventListener("trackpadup",this.onTrackpadUp),e.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.addEventListener("triggerdown",this.onTriggerDown),e.addEventListener("triggerup",this.onTriggerUp),e.addEventListener("triggertouchstart",this.onTriggerTouchStart),e.addEventListener("triggertouchend",this.onTriggerTouchEnd),e.addEventListener("griptouchstart",this.onGripTouchStart),e.addEventListener("griptouchend",this.onGripTouchEnd),e.addEventListener("thumbstickdown",this.onThumbstickDown),e.addEventListener("thumbstickup",this.onThumbstickUp),e.addEventListener("abuttontouchstart",this.onAorXTouchStart),e.addEventListener("abuttontouchend",this.onAorXTouchEnd),e.addEventListener("bbuttontouchstart",this.onBorYTouchStart),e.addEventListener("bbuttontouchend",this.onBorYTouchEnd),e.addEventListener("xbuttontouchstart",this.onAorXTouchStart),e.addEventListener("xbuttontouchend",this.onAorXTouchEnd),e.addEventListener("ybuttontouchstart",this.onBorYTouchStart),e.addEventListener("ybuttontouchend",this.onBorYTouchEnd),e.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var e=this.el;e.removeEventListener("gripdown",this.onGripDown),e.removeEventListener("gripup",this.onGripUp),e.removeEventListener("trackpaddown",this.onTrackpadDown),e.removeEventListener("trackpadup",this.onTrackpadUp),e.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.removeEventListener("triggerdown",this.onTriggerDown),e.removeEventListener("triggerup",this.onTriggerUp),e.removeEventListener("triggertouchstart",this.onTriggerTouchStart),e.removeEventListener("triggertouchend",this.onTriggerTouchEnd),e.removeEventListener("griptouchstart",this.onGripTouchStart),e.removeEventListener("griptouchend",this.onGripTouchEnd),e.removeEventListener("thumbstickdown",this.onThumbstickDown),e.removeEventListener("thumbstickup",this.onThumbstickUp),e.removeEventListener("abuttontouchstart",this.onAorXTouchStart),e.removeEventListener("abuttontouchend",this.onAorXTouchEnd),e.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),e.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),e.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),e.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),e.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),e.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),e.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(e){var t,r=this.el,n=this.data,o=this;t={hand:n,model:!1,orientationOffset:{x:0,y:0,z:"left"===n?90:-90}},n!==e&&this.loader.load(i[n],function(e){var n=e.scene.children[0];n.mixer=new THREE.AnimationMixer(n),o.clips=e.animations,r.setObject3D("mesh",n),n.position.set(0,0,0),n.rotation.set(0,0,0),r.setAttribute("vive-controls",t),r.setAttribute("oculus-touch-controls",t),r.setAttribute("windows-motion-controls",t)})},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(e,t){var r,n="down"===t,i="touchstart"===t;if(0===t.indexOf("touch")){if(i===this.touchedButtons[e])return;this.touchedButtons[e]=i}else{if(n===this.pressedButtons[e])return;this.pressedButtons[e]=n}r=this.gesture,this.gesture=this.determineGesture(),this.gesture!==r&&(this.animateGesture(this.gesture,r),this.emitGestureEvents(this.gesture,r))},determineGesture:function(){var e,t,r,n=this.pressedButtons.grip,i=this.pressedButtons.surface||this.touchedButtons.surface,a=this.pressedButtons.trackpad||this.touchedButtons.trackpad,s=this.pressedButtons.trigger||this.touchedButtons.trigger,c=this.touchedButtons.AorX||this.touchedButtons.BorY,l=(t=this.el.components["tracked-controls"],(r=t&&t.controller)&&(r.id&&0===r.id.indexOf("OpenVR ")||r.profiles&&r.profiles[0]&&"htc-vive-controller-mv"===r.profiles[0]));return l?n||s?e=o.fist:a&&(e=o.point):n?e=i||c||a?s?o.fist:o.point:s?o.thumbUp:o.pointThumb:s&&(e=o.hold),e},getClip:function(e){var t,r;for(r=0;r<this.clips.length;r++)if((t=this.clips[r]).name===e)return t},animateGesture:function(e,t){e?this.playAnimation(e||o.open,t,!1):this.playAnimation(t,t,!0)},emitGestureEvents:function(e,t){var r,n=this.el;t!==e&&((r=s(t,!1))&&n.emit(r),(r=s(e,!0))&&n.emit(r))},playAnimation:function(e,t,r){var n,i,o,a=this.el.getObject3D("mesh");if(a){if(a.mixer.stopAllAction(),n=this.getClip(e),(o=a.mixer.clipAction(n)).clampWhenFinished=!0,o.loop=THREE.LoopRepeat,o.repetitions=0,o.timeScale=r?-1:1,o.time=r?n.duration:0,o.weight=1,!t||e===t)return a.mixer.stopAllAction(),void o.play();n=this.getClip(t),(i=a.mixer.clipAction(n)).weight=.15,i.play(),o.play(),i.crossFadeTo(o,.15,!0)}}})},{"../core/component":125}],81:[function(e,t,r){e("./animation"),e("./camera"),e("./cursor"),e("./daydream-controls"),e("./gearvr-controls"),e("./geometry"),e("./gltf-model"),e("./hand-controls"),e("./laser-controls"),e("./light"),e("./line"),e("./link"),e("./look-controls"),e("./material"),e("./obj-model"),e("./oculus-go-controls"),e("./oculus-touch-controls"),e("./position"),e("./raycaster"),e("./rotation"),e("./scale"),e("./shadow"),e("./sound"),e("./text"),e("./tracked-controls"),e("./tracked-controls-webvr"),e("./tracked-controls-webxr"),e("./visible"),e("./vive-controls"),e("./vive-focus-controls"),e("./wasd-controls"),e("./windows-motion-controls"),e("./scene/background"),e("./scene/debug"),e("./scene/device-orientation-permission-ui"),e("./scene/embedded"),e("./scene/inspector"),e("./scene/fog"),e("./scene/keyboard-shortcuts"),e("./scene/pool"),e("./scene/screenshot"),e("./scene/stats"),e("./scene/vr-mode-ui")},{"./animation":73,"./camera":74,"./cursor":75,"./daydream-controls":76,"./gearvr-controls":77,"./geometry":78,"./gltf-model":79,"./hand-controls":80,"./laser-controls":82,"./light":83,"./line":84,"./link":85,"./look-controls":86,"./material":87,"./obj-model":88,"./oculus-go-controls":89,"./oculus-touch-controls":90,"./position":91,"./raycaster":92,"./rotation":93,"./scale":94,"./scene/background":95,"./scene/debug":96,"./scene/device-orientation-permission-ui":97,"./scene/embedded":98,"./scene/fog":99,"./scene/inspector":100,"./scene/keyboard-shortcuts":101,"./scene/pool":102,"./scene/screenshot":103,"./scene/stats":104,"./scene/vr-mode-ui":105,"./shadow":106,"./sound":107,"./text":108,"./tracked-controls":111,"./tracked-controls-webvr":109,"./tracked-controls-webxr":110,"./visible":112,"./vive-controls":113,"./vive-focus-controls":114,"./wasd-controls":115,"./windows-motion-controls":116}],82:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/");n("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var e=this.config,t=this.data,r=this.el,n=this,o={hand:t.hand,model:t.model};function a(t){var o=e[t.detail.name];if(o){var a=i.extend({showLine:!0},o.raycaster||{});t.detail.rayOrigin&&(a.origin=t.detail.rayOrigin.origin,a.direction=t.detail.rayOrigin.direction,a.showLine=!0),t.detail.rayOrigin||!n.modelReady?r.setAttribute("raycaster",a):r.setAttribute("raycaster","showLine",!0),r.setAttribute("cursor",i.extend({fuse:!1},o.cursor))}}r.setAttribute("daydream-controls",o),r.setAttribute("gearvr-controls",o),r.setAttribute("oculus-go-controls",o),r.setAttribute("oculus-touch-controls",o),r.setAttribute("vive-controls",o),r.setAttribute("vive-focus-controls",o),r.setAttribute("windows-motion-controls",o),r.addEventListener("controllerconnected",a),r.addEventListener("controllerdisconnected",function(){r.setAttribute("raycaster","showLine",!1)}),r.addEventListener("controllermodelready",function(e){a(e),n.modelReady=!0})},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},{"../core/component":125,"../utils/":198}],83:[function(e,t,r){var n=e("../utils/bind"),i=e("../utils").diff,o=e("../utils/debug"),a=e("../core/component").registerComponent,s=e("../lib/three"),c=s.Math.degToRad,l=o("components:light:warn");t.exports.Component=a("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(e)},update:function(e){var t=this.data,r=i(t,e),o=this.light,a=this.rendererSystem,s=this;if(!o||"type"in r)this.setLight(this.data),this.updateShadow();else{var l=!1;Object.keys(r).forEach(function(e){var r=t[e];switch(e){case"color":o.color.set(r),a.applyColorCorrection(o.color);break;case"groundColor":o.groundColor.set(r),a.applyColorCorrection(o.groundColor);break;case"angle":o.angle=c(r);break;case"target":null===r?"spot"!==t.type&&"directional"!==t.type||(o.target=s.defaultTarget):r.hasLoaded?s.onSetTarget(r,o):r.addEventListener("loaded",n(s.onSetTarget,s,r,o));break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":l||(s.updateShadow(),l=!0);break;default:o[e]=r}})}},setLight:function(e){var t=this.el,r=this.getLight(e);r&&(this.light&&t.removeObject3D("light"),this.light=r,this.light.el=t,t.setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||t.getObject3D("light").translateY(-1),"spot"===e.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)))},updateShadow:function(){var e=this.el,t=this.data,r=this.light;r.castShadow=t.castShadow;var n=e.getObject3D("cameraHelper");if(t.shadowCameraVisible&&!n?e.setObject3D("cameraHelper",new s.CameraHelper(r.shadow.camera)):!t.shadowCameraVisible&&n&&e.removeObject3D("cameraHelper"),!t.castShadow)return r;r.shadow.bias=t.shadowBias,r.shadow.radius=t.shadowRadius,r.shadow.mapSize.height=t.shadowMapHeight,r.shadow.mapSize.width=t.shadowMapWidth,r.shadow.camera.near=t.shadowCameraNear,r.shadow.camera.far=t.shadowCameraFar,r.shadow.camera instanceof s.OrthographicCamera?(r.shadow.camera.top=t.shadowCameraTop,r.shadow.camera.right=t.shadowCameraRight,r.shadow.camera.bottom=t.shadowCameraBottom,r.shadow.camera.left=t.shadowCameraLeft):r.shadow.camera.fov=t.shadowCameraFov,r.shadow.camera.updateProjectionMatrix(),n&&n.update()},getLight:function(e){var t=e.angle,r=new s.Color(e.color);this.rendererSystem.applyColorCorrection(r),r=r.getHex();var i=e.decay,o=e.distance,a=new s.Color(e.groundColor);this.rendererSystem.applyColorCorrection(a),a=a.getHex();var u=e.intensity,d=e.type,h=e.target,p=null;switch(d.toLowerCase()){case"ambient":return new s.AmbientLight(r,u);case"directional":return p=new s.DirectionalLight(r,u),this.defaultTarget=p.target,h&&(h.hasLoaded?this.onSetTarget(h,p):h.addEventListener("loaded",n(this.onSetTarget,this,h,p))),p;case"hemisphere":return new s.HemisphereLight(r,a,u);case"point":return new s.PointLight(r,u,o,i);case"spot":return p=new s.SpotLight(r,u,o,c(t),e.penumbra,i),this.defaultTarget=p.target,h&&(h.hasLoaded?this.onSetTarget(h,p):h.addEventListener("loaded",n(this.onSetTarget,this,h,p))),p;default:l("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",d)}},onSetTarget:function(e,t){t.target=e.object3D},remove:function(){var e=this.el;e.removeObject3D("light"),e.getObject3D("cameraHelper")&&e.removeObject3D("cameraHelper")}})},{"../core/component":125,"../lib/three":173,"../utils":198,"../utils/bind":192,"../utils/debug":194}],84:[function(e,t,r){var n=e("../core/component").registerComponent;function i(e,t){return!(!e||!t)&&e.x===t.x&&e.y===t.y&&e.z===t.z}t.exports.Component=n("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var e,t,r=this.data;this.rendererSystem=this.el.sceneEl.systems.renderer,t=this.material=new THREE.LineBasicMaterial({color:r.color,opacity:r.opacity,transparent:r.opacity<1,visible:r.visible}),(e=this.geometry=new THREE.BufferGeometry).addAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(t.color),this.line=new THREE.Line(e,t),this.el.setObject3D(this.attrName,this.line)},update:function(e){var t=this.data,r=this.geometry,n=!1,o=this.material,a=r.attributes.position.array;i(t.start,e.start)||(a[0]=t.start.x,a[1]=t.start.y,a[2]=t.start.z,n=!0),i(t.end,e.end)||(a[3]=t.end.x,a[4]=t.end.y,a[5]=t.end.z,n=!0),n&&(r.attributes.position.needsUpdate=!0,r.computeBoundingSphere()),o.color.setStyle(t.color),this.rendererSystem.applyColorCorrection(o.color),o.opacity=t.opacity,o.transparent=t.opacity<1,o.visible=t.visible},remove:function(){this.el.removeObject3D("line",this.line)}})},{"../core/component":125}],85:[function(e,t,r){var n,i,o,a,s,c,l,u,d=e("../core/component").registerComponent,h=e("../core/shader").registerShader,p=e("../lib/three");t.exports.Component=d("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new p.Quaternion,this.hiddenEls=[]},update:function(e){var t,r,n=this.data,i=this.el;n.visualAspectEnabled&&(this.initVisualAspect(),t=n.highlighted?n.highlightedColor:n.backgroundColor,r=n.highlighted?n.highlightedColor:n.borderColor,i.setAttribute("material","backgroundColor",t),i.setAttribute("material","strokeColor",r),n.on!==e.on&&this.updateEventListener(),void 0!==e.peekMode&&n.peekMode!==e.peekMode&&this.updatePeekMode(),n.image&&e.image!==n.image&&i.setAttribute("material","pano","string"==typeof n.image?n.image:n.image.src))},updatePeekMode:function(){var e=this.el,t=this.sphereEl;this.data.peekMode?(this.hideAll(),e.getObject3D("mesh").visible=!1,t.setAttribute("visible",!0)):(this.showAll(),e.getObject3D("mesh").visible=!0,t.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var e=this.el;e.isPlaying&&(this.removeEventListener(),e.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var e=this.data.on;e&&this.el.removeEventListener(e,this.navigate)},initVisualAspect:function(){var e,t,r,n=this.el;this.data.visualAspectEnabled&&!this.visualAspectInitialized&&(r=this.textEl=this.textEl||document.createElement("a-entity"),t=this.sphereEl=this.sphereEl||document.createElement("a-entity"),e=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),n.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),n.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),r.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),r.setAttribute("position","0 1.5 0"),n.appendChild(r),e.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("rotation","0 180 0"),e.setAttribute("position","0 0 0"),e.setAttribute("visible",!1),n.appendChild(e),t.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("visible",!1),n.appendChild(t),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:(s=new p.Vector3,c=new p.Vector3,l=new p.Quaternion,u=new p.Vector3,function(){var e,t,r=this.el,n=r.object3D,i=r.sceneEl.camera,o=this.textEl;if(this.data.visualAspectEnabled)if(n.updateMatrixWorld(),i.parent.updateMatrixWorld(),i.updateMatrixWorld(),n.matrix.decompose(c,l,u),c.setFromMatrixPosition(n.matrixWorld),s.setFromMatrixPosition(i.matrixWorld),(t=c.distanceTo(s))>20)this.previousQuaternion||(this.quaternionClone.copy(l),this.previousQuaternion=this.quaternionClone),n.lookAt(s);else{if(e=this.calculateCameraPortalOrientation(),t<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;o.setAttribute("text","width",1.5),e<=0?(o.setAttribute("position","0 0 0.75"),o.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(o.setAttribute("position","0 0 -0.75"),o.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),r.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=e}else e<=0?o.setAttribute("rotation","0 180 0"):o.setAttribute("rotation","0 0 0"),o.setAttribute("text","width",5),o.setAttribute("position","0 1.5 0"),r.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(n.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}),hideAll:function(){var e=this.el,t=this.hiddenEls,r=this;t.length>0||e.sceneEl.object3D.traverse(function(n){n&&n.el&&n.el.hasAttribute("link-controls")||n.el&&n!==e.sceneEl.object3D&&n.el!==e&&n.el!==r.sphereEl&&n.el!==e.sceneEl.cameraEl&&!1!==n.el.getAttribute("visible")&&n.el!==r.textEl&&n.el!==r.semiSphereEl&&(n.el.setAttribute("visible",!1),t.push(n.el))})},showAll:function(){this.hiddenEls.forEach(function(e){e.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:(n=new p.Matrix4,i=new p.Vector3,o=new p.Vector3(0,0,1),a=new p.Vector3(0,0,0),function(){var e=this.el,t=e.sceneEl.camera;return i.set(0,0,0),o.set(0,0,1),a.set(0,0,0),e.object3D.matrixWorld.extractRotation(n),o.applyMatrix4(n),e.object3D.updateMatrixWorld(),e.object3D.localToWorld(a),t.parent.parent.updateMatrixWorld(),t.parent.updateMatrixWorld(),t.updateMatrixWorld(),t.localToWorld(i),i.sub(a).normalize(),o.normalize(),Math.sign(o.dot(i))}),remove:function(){this.removeEventListener()}}),h("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = saturate(direction.y * 0.5  + 0.5);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},{"../core/component":125,"../core/shader":135,"../lib/three":173}],86:[function(e,t,r){var n,i=e("../core/component").registerComponent,o=e("../lib/three"),a=e("../utils/"),s=a.bind,c=Math.PI/2;t.exports.Component=i("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0}},init:function(){this.previousHMDPosition=new o.Vector3,this.hmdQuaternion=new o.Quaternion,this.hmdEuler=new o.Euler,this.position=new o.Vector3,this.savedRotation=new o.Vector3,this.savedPosition=new o.Vector3,this.magicWindowObject=new o.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix(),this.setupMagicWindowControls(),this.savedPose={position:new o.Vector3,rotation:new o.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR()},setupMagicWindowControls:function(){var e;a.device.isMobile()&&(e=this.magicWindowControls=new o.DeviceOrientationControls(this.magicWindowObject),"undefined"!=typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&(e.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?e.enabled=!0:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){e.enabled=!0})))},update:function(e){var t=this.data;t.enabled!==e.enabled&&this.updateGrabCursor(t.enabled),!e||t.hmdEnabled||e.hmdEnabled||(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),e&&!t.pointerLockEnabled!==e.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(e){var t=this.data;t.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=s(this.onMouseDown,this),this.onMouseMove=s(this.onMouseMove,this),this.onMouseUp=s(this.onMouseUp,this),this.onTouchStart=s(this.onTouchStart,this),this.onTouchMove=s(this.onTouchMove,this),this.onTouchEnd=s(this.onTouchEnd,this),this.onEnterVR=s(this.onEnterVR,this),this.onExitVR=s(this.onExitVR,this),this.onPointerLockChange=s(this.onPointerLockChange,this),this.onPointerLockError=s(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new o.Object3D,this.yawObject=new o.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.addEventListener("enter-vr",this.onEnterVR),e.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):e.addEventListener("render-target-loaded",s(this.addEventListeners,this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:(n=new o.Matrix4,function(){var e,t=this.hmdEuler,r=this.el.object3D,i=this.pitchObject,o=this.yawObject,a=this.el.sceneEl;a.is("vr-mode")&&a.hasWebXR?(e=a.renderer.xr.getCameraPose())&&(n.elements=e.transform.matrix,n.decompose(r.position,r.rotation,r.scale)):r.updateMatrix(),a.is("vr-mode")&&a.checkHeadsetConnected()||(this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),t.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ")),r.rotation.x=t.x+i.rotation.x,r.rotation.y=t.y+o.rotation.y)}),onMouseMove:function(e){var t,r,n,i=this.pitchObject,o=this.previousMouseEvent,a=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(r=e.movementX||e.mozMovementX||0,n=e.movementY||e.mozMovementY||0):(r=e.screenX-o.screenX,n=e.screenY-o.screenY),this.previousMouseEvent=e,t=this.data.reverseMouseDrag?1:-1,a.rotation.y+=.002*r*t,i.rotation.x+=.002*n*t,i.rotation.x=Math.max(-c,Math.min(c,i.rotation.x)))},onMouseDown:function(e){if(this.data.enabled&&0===e.button){var t=this.el.sceneEl,r=t&&t.canvas;this.mouseDown=!0,this.previousMouseEvent=e,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(r.requestPointerLock?r.requestPointerLock():r.mozRequestPointerLock&&r.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(e){1===e.touches.length&&this.data.touchEnabled&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,r,n=this.el.sceneEl.canvas,i=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(r=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/n.clientWidth,t=this.data.reverseTouchDrag?1:-1,i.rotation.y-=.5*r*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.updateMatrix())},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0))},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(e){var t=this.el.sceneEl;function r(){t.canvas.classList.add("a-grab-cursor")}function n(){t.canvas.classList.remove("a-grab-cursor")}t.canvas?e?r():n():e?t.addEventListener("render-target-loaded",r):t.addEventListener("render-target-loaded",n)},saveCameraPose:function(){var e=this.el;this.savedPose.position.copy(e.object3D.position),this.savedPose.rotation.copy(e.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var e=this.el,t=this.savedPose;this.hasSavedPose&&(e.object3D.position.copy(t.position),e.object3D.rotation.copy(t.rotation),this.hasSavedPose=!1)}})},{"../core/component":125,"../lib/three":173,"../utils/":198}],87:[function(e,t,r){var n=e("../utils/"),i=e("../core/component"),o=e("../lib/three"),a=e("../core/shader"),s=n.debug("components:material:error"),c=i.registerComponent,l=a.shaders,u=a.shaderNames;function d(e,t){e.dispose(),t.unregisterMaterial(e)}t.exports.Component=c("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:u,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColors:{type:"string",default:"none",oneOf:["face","vertex"]},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial(e)},updateSchema:function(e){var t,r,n,i;r=e&&e.shader,t=this.oldData&&this.oldData.shader,(n=l[i=r||t]&&l[i].schema)||s("Unknown shader schema "+i),t&&r===t||(this.extendSchema(n),this.updateBehavior())},updateBehavior:function(){var e,t,r=this.el.sceneEl,n=this.schema,i=this;function o(e,r){var n;for(n in t)t[n]=e;i.shader.update(t)}for(e in this.tick=void 0,t={},n)"time"===n[e].type&&(this.tick=o,t[e]=!0);r&&(this.tick?r.addBehavior(this):r.removeBehavior(this))},updateShader:function(e){var t,r=this.data,n=l[e]&&l[e].Shader;if(!n)throw new Error("Unknown shader "+e);(t=this.shader=new n).el=this.el,t.init(r),this.setMaterial(t.material),this.updateSchema(r)},updateMaterial:function(e){var t,r=this.data,n=this.material;for(t in n.alphaTest=r.alphaTest,n.depthTest=!1!==r.depthTest,n.depthWrite=!1!==r.depthWrite,n.opacity=r.opacity,n.flatShading=r.flatShading,n.side=function(e){switch(e){case"back":return o.BackSide;case"double":return o.DoubleSide;default:return o.FrontSide}}(r.side),n.transparent=!1!==r.transparent||r.opacity<1,n.vertexColors=function(e){switch(e){case"face":return o.FaceColors;case"vertex":return o.VertexColors;default:return o.NoColors}}(r.vertexColors),n.visible=r.visible,n.blending=function(e){switch(e){case"none":return o.NoBlending;case"additive":return o.AdditiveBlending;case"subtractive":return o.SubtractiveBlending;case"multiply":return o.MultiplyBlending;default:return o.NormalBlending}}(r.blending),e)break;!t||e.alphaTest===r.alphaTest&&e.side===r.side&&e.vertexColors===r.vertexColors||(n.needsUpdate=!0)},remove:function(){var e=new o.MeshBasicMaterial,t=this.material,r=this.el.getObject3D("mesh");r&&(r.material=e),d(t,this.system)},setMaterial:function(e){var t,r=this.el,n=this.system;this.material&&d(this.material,n),this.material=e,n.registerMaterial(e),(t=r.getObject3D("mesh"))?t.material=e:r.addEventListener("object3dset",function t(n){"mesh"===n.detail.type&&n.target===r&&(r.getObject3D("mesh").material=e,r.removeEventListener("object3dset",t))})}})},{"../core/component":125,"../core/shader":135,"../lib/three":173,"../utils/":198}],88:[function(e,t,r){var n=e("../utils/debug"),i=e("../core/component").registerComponent,o=e("../lib/three"),a=n("components:obj-model:warn");t.exports.Component=i("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var e=this;this.model=null,this.objLoader=new o.OBJLoader,this.mtlLoader=new o.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(t){e.model&&"material"===t.detail.name&&e.applyMaterial()})},update:function(){var e=this.data;e.obj&&(this.resetMesh(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.resetMesh()},resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(e,t){var r=this,n=this.el,i=this.mtlLoader,o=this.objLoader,s=this.el.sceneEl.systems.renderer,c=t.substr(0,t.lastIndexOf("/")+1);if(t)return n.hasAttribute("material")&&a("Material component properties are ignored when a .MTL is provided"),i.setResourcePath(c),void i.load(t,function(t){t.preload(),o.setMaterials(t),o.load(e,function(e){r.model=e,r.model.traverse(function(e){if(e.isMesh){var t=e.material;t.color&&s.applyColorCorrection(t.color),t.map&&s.applyColorCorrection(t.map),t.emissive&&s.applyColorCorrection(t.emissive),t.emissiveMap&&s.applyColorCorrection(t.emissiveMap)}}),n.setObject3D("mesh",e),n.emit("model-loaded",{format:"obj",model:e})})});o.load(e,function(e){r.model=e,r.applyMaterial(),n.setObject3D("mesh",e),n.emit("model-loaded",{format:"obj",model:e})})},applyMaterial:function(){var e=this.el.components.material;e&&this.model.traverse(function(t){t instanceof o.Mesh&&(t.material=e.material)})}})},{"../core/component":125,"../lib/three":173,"../utils/debug":194}],89:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,c=o.onButtonEvent;t.exports.Component=n("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){c(t.detail.id,"down",e)},this.onButtonUp=function(t){c(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){c(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){c(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){a(this,"Oculus Go",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,hand:t.hand,idPrefix:"Oculus Go",orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,r=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).trigger=r.getObjectByName("oculus_go_button_trigger"),t.trackpad=r.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var r=this.buttonMeshes;if(r&&r[e]){var n,i;switch(t){case"down":n=this.data.buttonHighlightColor;break;case"touchstart":n=this.data.buttonTouchedColor;break;default:n=this.data.buttonColor}(i=r[e]).material.color.set(n),this.rendererSystem.applyColorCorrection(i.material.color)}}})},{"../core/component":125,"../utils/bind":192,"../utils/tracked-controls":206}],90:[function(e,t,r){var n=e("../utils/bind"),i=e("../core/component").registerComponent,o=e("../lib/three"),a=e("../utils/tracked-controls"),s=a.checkControllerPresentAndSetup,c=a.emitIfAxesChanged,l=a.onButtonEvent,u=e("../utils/").device.isOculusBrowser(),d=e("../utils/").device.isWebXRAvailable,h=d?"oculus-touch":"Oculus Touch",p="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",f={left:{modelUrl:p+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(-.005,.003,-.055),modelPivotRotation:new o.Euler(0,0,0)},right:{modelUrl:p+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(.005,.003,-.055),modelPivotRotation:new o.Euler(0,0,0)}},m={left:{modelUrl:p+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(-.005,.036,-.037),modelPivotRotation:new o.Euler(Math.PI/4.5,0,0)},right:{modelUrl:p+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(.005,.036,-.037),modelPivotRotation:new o.Euler(Math.PI/4.5,0,0)}},g=d?m:f,v={"oculus-touch":g,"oculus-touch-v2":{left:{modelUrl:"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-gen2-left.gltf",rayOrigin:{origin:{x:-.01,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(0,0,0),modelPivotRotation:new o.Euler(-Math.PI/4,0,0)},right:{modelUrl:"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-gen2-right.gltf",rayOrigin:{origin:{x:.01,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new o.Vector3(0,0,0),modelPivotRotation:new o.Euler(-Math.PI/4,0,0)}}},y=d?{left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}}:{left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}};t.exports.Component=i("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:y,bindMethods:function(){this.onModelLoaded=n(this.onModelLoaded,this),this.onControllersUpdate=n(this.onControllersUpdate,this),this.checkIfControllerPresent=n(this.checkIfControllerPresent,this),this.onAxisMoved=n(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=n(this.onButtonChanged,this),this.onButtonDown=function(t){l(t.detail.id,"down",e,e.data.hand)},this.onButtonUp=function(t){l(t.detail.id,"up",e,e.data.hand)},this.onButtonTouchStart=function(t){l(t.detail.id,"touchstart",e,e.data.hand)},this.onButtonTouchEnd=function(t){l(t.detail.id,"touchend",e,e.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){s(this,h,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(){var e=this.data;if(e.model){if(this.displayModel=v[e.controllerType]||v["oculus-touch"],"auto"===e.controllerType){var t=this.el.sceneEl.systems["tracked-controls-webvr"];if(t&&t.vrDisplay){var r=t.vrDisplay.displayName;/^Oculus Quest$/.test(r)&&(this.displayModel=v["oculus-touch-v2"])}u&&(this.displayModel=v["oculus-touch-v2"])}var n=this.displayModel[e.hand].modelUrl;this.el.setAttribute("gltf-model",n)}},injectTrackedControls:function(){var e=this.data,t="right"===e.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",r=d?"oculus-touch":t;this.el.setAttribute("tracked-controls",{id:r,hand:e.hand,orientationOffset:e.orientationOffset}),this.loadModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,r=this.mapping[this.data.hand].buttons[e.detail.id],n=this.buttonMeshes;r&&("trigger"!==r&&"grip"!==r||(t=e.detail.state.value),n&&("trigger"===r&&n.trigger&&(n.trigger.rotation.x=this.originalXRotationTrigger-t*(Math.PI/26)),"grip"===r&&n.grip&&(n.grip.position.x=this.originalXPositionGrip+("left"===this.data.hand?-1:1)*t*.004)),this.el.emit(r+"changed",e.detail.state))},onModelLoaded:function(e){var t,r=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).grip=r.getObjectByName("buttonHand"),this.originalXPositionGrip=t.grip.position.x,t.thumbstick=r.getObjectByName("stick"),t.trigger=r.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=t.trigger.rotation.x,t.xbutton=r.getObjectByName("buttonX"),t.abutton=r.getObjectByName("buttonA"),t.ybutton=r.getObjectByName("buttonY"),t.bbutton=r.getObjectByName("buttonB"),r.position.copy(this.displayModel[this.data.hand].modelPivotOffset),r.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin}))},onAxisMoved:function(e){c(this,this.mapping[this.data.hand].axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var r,n="up"===t||"touchend"===t?this.data.buttonColor:"touchstart"===t?this.data.buttonTouchColor:this.data.buttonHighlightColor,i=this.buttonMeshes;this.data.model&&i&&i[e]&&((r=i[e]).material.color.set(n),this.rendererSystem.applyColorCorrection(r.material.color))}})},{"../core/component":125,"../lib/three":173,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],91:[function(e,t,r){var n=e("../core/component").registerComponent;t.exports.Component=n("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},{"../core/component":125}],92:[function(e,t,r){var n,i,o=e("../core/component").registerComponent,a=e("../lib/three"),s=e("../utils/"),c=s.debug("components:raycaster:warn"),l=/^[\w\s-.,[\]#]*$/,u={childList:!0,attributes:!0,subtree:!0},d={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared"};function h(e,t){var r;for(e.length=t.length,r=0;r<t.length;r++)e[r]=t[r]}t.exports.Component=o("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new a.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new a.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new a.Vector3,this.otherLineEndVec3=new a.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(e){var t=this.data,r=this.el,n=this.raycaster;n.far=t.far,n.near=t.near,!t.showLine||t.far===e.far&&t.origin===e.origin&&t.direction===e.direction&&e.showLine||(this.unitLineEndVec3.copy(t.origin).add(t.direction).normalize(),this.drawLine()),!t.showLine&&e.showLine&&r.removeAttribute("line"),t.objects===e.objects||l.test(t.objects)||c('[raycaster] Selector "'+t.objects+'" may not update automatically with DOM changes.'),t.objects||c('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),t.autoRefresh!==e.autoRefresh&&r.isPlaying&&(t.autoRefresh?this.addEventListeners():this.removeEventListeners()),e.enabled&&!t.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,u),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var e,t=this.data;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(e),this.dirty=!1},tick:function(e){var t=this.data,r=this.prevCheckTime;t.enabled&&(r&&e-r<t.interval||(this.prevCheckTime=e,this.checkIntersections()))},checkIntersections:function(){var e,t,r=this.clearedIntersectedEls,n=this.el,i=this.data,o=this.intersectedEls,a=this.intersections,s=this.newIntersectedEls,c=this.newIntersections,l=this.prevIntersectedEls,u=this.rawIntersections;for(this.dirty&&this.refreshObjects(),h(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),u.length=0,this.raycaster.intersectObjects(this.objects,!0,u),a.length=0,o.length=0,e=0;e<u.length;e++)t=u[e],i.showLine&&t.object===n.getObject3D("line")||t.object.el&&(a.push(t),o.push(t.object.el));for(c.length=0,s.length=0,e=0;e<a.length;e++)-1===l.indexOf(a[e].object.el)&&(c.push(a[e]),s.push(a[e].object.el));for(r.length=0,e=0;e<l.length;e++)-1===o.indexOf(l[e])&&(l[e].emit(d.INTERSECT_CLEAR,this.intersectedClearedDetail),r.push(l[e]));for(r.length&&n.emit(d.INTERSECTION_CLEAR,this.intersectionClearedDetail),e=0;e<s.length;e++)s[e].emit(d.INTERSECT,this.intersectedDetail);c.length&&(this.intersectionDetail.els=s,this.intersectionDetail.intersections=c,n.emit(d.INTERSECTION,this.intersectionDetail)),i.showLine&&setTimeout(this.updateLine)},updateLine:function(){var e,t=this.el,r=this.intersections;r.length&&(e=r[0].object.el===t&&r[1]?r[1].distance:r[0].distance),this.drawLine(e)},getIntersection:function(e){var t,r;for(t=0;t<this.intersections.length;t++)if((r=this.intersections[t]).object.el===e)return r;return null},updateOriginDirection:(n=new a.Vector3,i=new a.Vector3,function(){var e=this.el,t=this.data;t.useWorldCoordinates?this.raycaster.set(t.origin,t.direction):(e.object3D.getWorldPosition(i),0===t.origin.x&&0===t.origin.y&&0===t.origin.z||(i=e.object3D.localToWorld(i.copy(t.origin))),n.copy(t.direction).transformDirection(e.object3D.matrixWorld).normalize(),this.raycaster.set(i,n))}),drawLine:function(e){var t,r=this.data,n=this.el;t=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===e&&(e=r.far===1/0?1e3:r.far),this.lineData.start=r.origin,this.lineData.end=t.copy(this.unitLineEndVec3).multiplyScalar(e),n.setAttribute("line",this.lineData)},flattenObject3DMaps:function(e){var t,r,n=this.objects;for(n.length=0,r=0;r<e.length;r++)if(e[r].isEntity&&e[r].object3D)for(t in e[r].object3DMap)n.push(e[r].getObject3D(t));return n},clearAllIntersections:function(){var e;for(e=0;e<this.intersectedEls.length;e++)this.intersectedEls[e].emit(d.INTERSECT_CLEAR,this.intersectedClearedDetail);h(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(d.INTERSECTION_CLEAR,this.intersectionClearedDetail)}})},{"../core/component":125,"../lib/three":173,"../utils/":198}],93:[function(e,t,r){var n=e("../lib/three").Math.degToRad,i=e("../core/component").registerComponent;t.exports.Component=i("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,t=this.el.object3D;t.rotation.set(n(e.x),n(e.y),n(e.z)),t.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},{"../core/component":125,"../lib/three":173}],94:[function(e,t,r){var n=e("../core/component").registerComponent;t.exports.Component=n("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data,t=this.el.object3D,r=0===e.x?1e-5:e.x,n=0===e.y?1e-5:e.y,i=0===e.z?1e-5:e.z;t.scale.set(r,n,i)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},{"../core/component":125}],95:[function(e,t,r){var n=e("../../core/component").registerComponent;t.exports.Component=n("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var e=this.data,t=this.el.object3D;e.transparent?t.background=null:t.background=new THREE.Color(e.color)}})},{"../../core/component":125}],96:[function(e,t,r){var n=e("../../core/component").registerComponent;t.exports.Component=n("debug",{schema:{default:!0}})},{"../../core/component":125}],97:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../utils/"),o=i.bind,a=e("../../constants/"),s="a-modal",c="a-dialog",l="a-dialog-text",u="a-dialog-text-container",d="a-dialog-buttons-container",h="a-dialog-button",p="a-dialog-allow-button",f="a-dialog-deny-button",m="a-dialog-ok-button";function g(e,t){var r,n;return(r=document.createElement("div")).classList.add(d),(n=document.createElement("button")).classList.add(h,m),n.setAttribute(a.AFRAME_INJECTED,""),n.innerHTML="Close",r.appendChild(n),n.addEventListener("click",function(e){e.stopPropagation(),t()}),v(e,r)}function v(e,t){var r,n,i,o;return(r=document.createElement("div")).classList.add(s),r.setAttribute(a.AFRAME_INJECTED,""),(n=document.createElement("div")).className=c,n.setAttribute(a.AFRAME_INJECTED,""),r.appendChild(n),(i=document.createElement("div")).classList.add(u),n.appendChild(i),(o=document.createElement("div")).classList.add(l),o.innerHTML=e,i.appendChild(o),n.appendChild(t),r}t.exports.Component=n("device-orientation-permission-ui",{schema:{enabled:{default:!0}},init:function(){var e=this;this.data.enabled&&("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"http:"===location.protocol&&this.showHTTPAlert(),i.device.isMobileDeviceRequestingDesktopSite()&&this.showMobileDesktopModeAlert(),"undefined"!=typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission?(this.onDeviceMotionDialogAllowClicked=o(this.onDeviceMotionDialogAllowClicked,this),this.onDeviceMotionDialogDenyClicked=o(this.onDeviceMotionDialogDenyClicked,this),DeviceOrientationEvent.requestPermission().catch(function(){var t,r,n,i,o,s;e.devicePermissionDialogEl=(t="This immersive website requires access to your device motion sensors.",r=e.onDeviceMotionDialogAllowClicked,n=e.onDeviceMotionDialogDenyClicked,(i=document.createElement("div")).classList.add(d),(o=document.createElement("button")).classList.add(h,f),o.setAttribute(a.AFRAME_INJECTED,""),o.innerHTML="Deny",i.appendChild(o),(s=document.createElement("button")).classList.add(h,p),s.setAttribute(a.AFRAME_INJECTED,""),s.innerHTML="Allow",i.appendChild(s),s.addEventListener("click",function(e){e.stopPropagation(),r()}),o.addEventListener("click",function(e){e.stopPropagation(),n()}),v(t,i)),e.el.appendChild(e.devicePermissionDialogEl)}).then(function(){e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0})):this.permissionGranted=!0)},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showMobileDesktopModeAlert:function(){var e=this,t=g("Set your browser to request the mobile version of the site and reload the page to enjoy immersive mode.",function(){e.el.removeChild(t)});this.el.appendChild(t)},showHTTPAlert:function(){var e=this,t=g("Access this site over HTTPS to enter VR mode and grant access to the device sensors.",function(){e.el.removeChild(t)});this.el.appendChild(t)},onDeviceMotionDialogAllowClicked:function(){var e=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(t){"granted"===t?(e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0):e.el.emit("deviceorientationpermissionrejected"),e.remove()}).catch(console.error)}})},{"../../constants/":117,"../../core/component":125,"../../utils/":198}],98:[function(e,t,r){var n=e("../../core/component").registerComponent;t.exports.Component=n("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var e=this.el,t=e.querySelector(".a-enter-vr");!0===this.data?(t&&t.classList.add("embedded"),e.removeFullScreenStyles()):(t&&t.classList.remove("embedded"),e.addFullScreenStyles())}})},{"../../core/component":125}],99:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../lib/three"),o=e("../../utils/debug"),a=o("components:fog:warn");t.exports.Component=n("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var e=this.data,t=this.el,r=this.el.object3D.fog;if(t.isScene)return r&&e.type===r.name?void Object.keys(this.schema).forEach(function(t){var n=e[t];"color"===t&&(n=new i.Color(n)),r[t]=n}):(t.object3D.fog=function(e){var t;return(t="exponential"===e.type?new i.FogExp2(e.color,e.density):new i.Fog(e.color,e.near,e.far)).name=e.type,t}(e),void t.systems.material.updateMaterials());a("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.far=0,e.near=.1)}})},{"../../core/component":125,"../../lib/three":173,"../../utils/debug":194}],100:[function(e,t,r){(function(r){var n,i,o=e("../../constants").AFRAME_INJECTED,a=e("../../../package"),s=e("../../core/component").registerComponent,c=e("../../utils/"),l="https://unpkg.com/aframe-inspector@"+(n=a.version,(i=n.split("."))[2]="x",i.join("."))+"/dist/aframe-inspector.min.js",u="dev"===r.env.INSPECTOR_VERSION?"https://aframe.io/aframe-inspector/dist/aframe-inspector.js":l;t.exports.Component=s("inspector",{schema:{url:{default:u}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var e;this.firstPlay&&"false"!==(e=c.getUrlParameter("inspector"))&&e&&(this.openInspector(),this.firstPlay=!1)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(e){var t=73===e.keyCode&&e.ctrlKey&&e.altKey;t&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.openInspector()},openInspector:function(e){var t,r=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected?AFRAME.INSPECTOR.open(e):(this.showLoader(),(t=document.createElement("script")).src=this.data.url,t.setAttribute("data-name","aframe-inspector"),t.setAttribute(o,""),t.onload=function(){AFRAME.INSPECTOR.open(e),r.hideLoader(),r.removeEventListeners()},t.onerror=function(){r.loadingMessageEl.innerHTML="Error loading Inspector"},document.head.appendChild(t),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,e("_process"))},{"../../../package":72,"../../constants":117,"../../core/component":125,"../../utils/":198,_process:49}],101:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../utils/").shouldCaptureKeyEvent;t.exports.Component=n("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(e){var t=this.el;i(e)&&(this.enterVREnabled&&70===e.keyCode&&t.enterVR(),this.enterVREnabled&&27===e.keyCode&&t.exitVR())}})},{"../../core/component":125,"../../utils/":198}],102:[function(e,t,r){var n=e("../../utils/debug"),i=e("../../core/component").registerComponent,o=n("components:pool:warn");t.exports.Component=i("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var e;for(this.availableEls=[],this.usedEls=[],this.data.mixin||o("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||o("Container "+this.data.container+" not found.")),this.container=this.container||this.el,e=0;e<this.data.size;++e)this.createEntity()},update:function(e){var t=this.data;e.mixin===t.mixin&&e.size===t.size||this.initPool()},createEntity:function(){var e;(e=document.createElement("a-entity")).play=this.wrapPlay(e.play),e.setAttribute("mixin",this.data.mixin),e.object3D.visible=!1,e.pause(),this.container.appendChild(e),this.availableEls.push(e)},wrapPlay:function(e){var t=this.usedEls;return function(){-1!==t.indexOf(this)&&e.call(this)}},requestEntity:function(){var e;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void o("Requested entity from empty pool: "+this.attrName);o("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName),this.createEntity()}return e=this.availableEls.shift(),this.usedEls.push(e),e.object3D.visible=!0,e},returnEntity:function(e){var t=this.usedEls.indexOf(e);if(-1!==t)return this.usedEls.splice(t,1),this.availableEls.push(e),e.object3D.visible=!1,e.pause(),e;o("The returned entity was not previously pooled from "+this.attrName)}})},{"../../core/component":125,"../../utils/debug":194}],103:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../lib/three"),o=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");t.exports.Component=n("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var e=this.el,t=this;function r(){var r=e.renderer.getContext();r&&(t.cubeMapSize=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),t.material=new i.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:o,fragmentShader:a,side:i.DoubleSide}),t.quad=new i.Mesh(new i.PlaneBufferGeometry(1,1),t.material),t.quad.visible=!1,t.camera=new i.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),t.canvas=document.createElement("canvas"),t.ctx=t.canvas.getContext("2d"),e.object3D.add(t.quad),t.onKeyDown=t.onKeyDown.bind(t))}e.renderer?r():e.addEventListener("render-target-loaded",r)},getRenderTarget:function(e,t){return new i.WebGLRenderTarget(e,t,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,wrapS:i.ClampToEdgeWrapping,wrapT:i.ClampToEdgeWrapping,format:i.RGBAFormat,type:i.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var r=e.shiftKey?"equirectangular":"perspective";this.capture(r)}},setCapture:function(e){var t,r,n,o=this.el;return"perspective"===e?(this.quad.visible=!1,r=this.data.camera&&this.data.camera.components.camera.camera||o.camera,t={width:this.data.width,height:this.data.height}):(r=this.camera,n=new i.CubeCamera(o.camera.near,o.camera.far,Math.min(this.cubeMapSize,2048)),o.camera.getWorldPosition(n.position),o.camera.getWorldQuaternion(n.quaternion),n.update(o.renderer,o.object3D),this.quad.material.uniforms.map.value=n.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:r,size:t,projection:e}},capture:function(e){var t,r=this.el.renderer.xr.enabled,n=this.el.renderer;n.xr.enabled=!1,t=this.setCapture(e),this.renderCapture(t.camera,t.size,t.projection),this.saveCapture(),n.xr.enabled=r},getCanvas:function(e){var t=this.el.renderer.xr.enabled,r=this.el.renderer,n=this.setCapture(e);return r.xr.enabled=!1,this.renderCapture(n.camera,n.size,n.projection),r.xr.enabled=t,this.canvas},renderCapture:function(e,t,r){var n,i,o,a=this.el.renderer.autoClear,s=this.el,c=s.renderer;i=this.getRenderTarget(t.width,t.height),o=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),c.autoClear=!0,c.clear(),c.setRenderTarget(i),c.render(s.object3D,e),c.autoClear=a,c.readRenderTargetPixels(i,0,0,t.width,t.height,o),c.setRenderTarget(null),"perspective"===r&&(o=this.flipPixelsVertically(o,t.width,t.height)),n=new ImageData(new Uint8ClampedArray(o),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(n,0,0)},flipPixelsVertically:function(e,t,r){for(var n=e.slice(0),i=0;i<t;++i)for(var o=0;o<r;++o)n[4*i+o*t*4]=e[4*i+(r-o)*t*4],n[4*i+1+o*t*4]=e[4*i+1+(r-o)*t*4],n[4*i+2+o*t*4]=e[4*i+2+(r-o)*t*4],n[4*i+3+o*t*4]=e[4*i+3+(r-o)*t*4];return n},saveCapture:function(){this.canvas.toBlob(function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",r=document.createElement("a"),n=URL.createObjectURL(e);r.href=n,r.setAttribute("download",t),r.innerHTML="downloading...",r.style.display="none",document.body.appendChild(r),setTimeout(function(){r.click(),document.body.removeChild(r)},1)},"image/png")}})},{"../../core/component":125,"../../lib/three":173}],104:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../../vendor/rStats"),o=e("../../utils");e("../../../vendor/rStats.extras"),e("../../lib/rStatsAframe");var a=window.aframeStats,s=o.bind,c=window.threeStats;t.exports.Component=n("stats",{schema:{default:!0},init:function(){var e=this.el;"false"!==o.getUrlParameter("stats")&&(this.stats=function(e){var t=new c(e.renderer),r=new a(e),n=e.isMobile?[]:[t,r];return new i({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:n})}(e),this.statsEl=document.querySelector(".rs-base"),this.hideBound=s(this.hide,this),this.showBound=s(this.show,this),e.addEventListener("enter-vr",this.hideBound),e.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e&&(e("rAF").tick(),e("FPS").frame(),e().update())},hide:function(){this.statsEl.classList.add("a-hidden")},show:function(){this.statsEl.classList.remove("a-hidden")}})},{"../../../vendor/rStats":209,"../../../vendor/rStats.extras":208,"../../core/component":125,"../../lib/rStatsAframe":172,"../../utils":198}],105:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../constants/"),o=e("../../utils/"),a=o.bind,s="a-enter-vr",c="a-enter-ar",l="a-enter-vr-button",u="a-enter-ar-button",d="a-hidden",h="a-orientation-modal";function p(e){e.addEventListener("touchstart",function(){e.classList.remove("resethover")}),e.addEventListener("touchend",function(){e.classList.add("resethover")})}t.exports.Component=n("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},enterVRButton:{default:""},enterARButton:{default:""}},init:function(){var e=this,t=this.el;"false"!==o.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),t.addEventListener("enter-vr",this.updateEnterInterfaces),t.addEventListener("exit-vr",this.updateEnterInterfaces),t.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(t){"loaderReady"===t.data.type&&(e.insideLoader=!0,e.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=a(this.onEnterVRButtonClick,this),this.onEnterARButtonClick=a(this.onEnterARButtonClick,this),this.onModalClick=a(this.onModalClick,this),this.toggleOrientationModalIfNeeded=a(this.toggleOrientationModalIfNeeded,this),this.updateEnterInterfaces=a(this.updateEnterInterfaces,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var e,t,r,n=this.data,a=this.el;if(!n.enabled||this.insideLoader||"false"===o.getUrlParameter("ui"))return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(n.enterVRButton?(this.enterVREl=document.querySelector(n.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=(e=this.onEnterVRButtonClick,(r=document.createElement("div")).classList.add(s),r.setAttribute(i.AFRAME_INJECTED,""),(t=document.createElement("button")).className=l,t.setAttribute("title","Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information."),t.setAttribute(i.AFRAME_INJECTED,""),o.device.isMobile()&&p(t),r.appendChild(t),t.addEventListener("click",function(t){e(),t.stopPropagation()}),r),a.appendChild(this.enterVREl)),n.enterARButton?(this.enterAREl=document.querySelector(n.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=function(e){var t,r;return(r=document.createElement("div")).classList.add(c),r.setAttribute(i.AFRAME_INJECTED,""),(t=document.createElement("button")).className=u,t.setAttribute("title","Enter AR mode with a headset or handheld device. Visit https://webvr.rocks or https://webvr.info for more information."),t.setAttribute(i.AFRAME_INJECTED,""),o.device.isMobile()&&p(t),r.appendChild(t),t.addEventListener("click",function(t){e(),t.stopPropagation()}),r}(this.onEnterARButtonClick),a.appendChild(this.enterAREl)),this.orientationModalEl=function(e){var t=document.createElement("div");t.className=h,t.classList.add(d),t.setAttribute(i.AFRAME_INJECTED,"");var r=document.createElement("button");return r.setAttribute(i.AFRAME_INJECTED,""),r.innerHTML="Exit VR",r.addEventListener("click",e),t.appendChild(r),t}(this.onModalClick),a.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is("vr-mode")?this.enterVREl.classList.add(d):this.enterVREl.classList.remove(d))},toggleEnterARButtonIfNeeded:function(){var e=this.el;this.enterAREl&&(e.is("vr-mode")||!o.device.checkARSupport()?this.enterAREl.classList.add(d):this.enterAREl.classList.remove(d))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!o.device.isLandscape()&&e.is("vr-mode")?t.classList.remove(d):t.classList.add(d))}})},{"../../constants/":117,"../../core/component":125,"../../utils/":198}],106:[function(e,t,r){var n=e("../core/component"),i=e("../lib/three"),o=e("../utils/bind"),a=n.registerComponent;t.exports.Component=a("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=o(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var e=this.data;this.updateDescendants(e.cast,e.receive)},remove:function(){var e=this.el;e.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(e,t){var r=this.el.sceneEl;this.el.object3D.traverse(function(n){if(n instanceof i.Mesh&&(n.castShadow=e,n.receiveShadow=t,r.hasLoaded&&n.material))for(var o=Array.isArray(n.material)?n.material:[n.material],a=0;a<o.length;a++)o[a].needsUpdate=!0})}})},{"../core/component":125,"../lib/three":173,"../utils/bind":192}],107:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/debug"),o=e("../lib/three"),a=i("components:sound:warn");t.exports.Component=n("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var e=this;this.listener=null,this.audioLoader=new o.AudioLoader,this.pool=new o.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){e.playSound()}},update:function(e){var t,r,n=this.data,i=n.src!==e.src;if(i){if(!n.src)return;this.setupSound()}for(t=0;t<this.pool.children.length;t++)r=this.pool.children[t],n.positional&&(r.setDistanceModel(n.distanceModel),r.setMaxDistance(n.maxDistance),r.setRefDistance(n.refDistance),r.setRolloffFactor(n.rolloffFactor)),r.setLoop(n.loop),r.setVolume(n.volume),r.isPaused=!1;if(n.on!==e.on&&this.updateEventListener(e.on),i){var a=this;this.loaded=!1,this.audioLoader.load(n.src,function(e){for(t=0;t<a.pool.children.length;t++)(r=a.pool.children[t]).setBuffer(e);a.loaded=!0,o.Cache.remove(n.src),(a.data.autoplay||a.mustPlay)&&a.playSound(),a.el.emit("sound-loaded",a.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var e;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(e=0;e<this.pool.children.length;e++)this.pool.children[e].disconnect()}catch(e){a("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSoundBound),t.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var e,t,r=this.el,n=r.sceneEl,i=this;this.pool.children.length>0&&(this.stopSound(),r.removeObject3D("sound"));var a=this.listener=n.audioListener||new o.AudioListener;for(n.audioListener=a,n.camera&&n.camera.add(a),n.addEventListener("camera-set-active",function(e){e.detail.cameraEl.getObject3D("camera").add(a)}),this.pool=new o.Group,e=0;e<this.data.poolSize;e++)t=this.data.positional?new o.PositionalAudio(a):new o.Audio(a),this.pool.add(t);for(r.setObject3D(this.attrName,this.pool),e=0;e<this.pool.children.length;e++)(t=this.pool.children[e]).onEnded=function(){this.isPlaying=!1,i.el.emit("sound-ended",i.evtDetail,!1)}},pauseSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++)(t=this.pool.children[e]).source&&t.source.buffer&&t.isPlaying&&!t.isPaused&&(t.isPaused=!0,t.pause())},playSound:function(e){var t,r,n;if(!this.loaded)return a("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);for(t=!1,this.isPlaying=!0,r=0;r<this.pool.children.length;r++)(n=this.pool.children[r]).isPlaying||!n.buffer||t||(e&&e(n),n.play(),n.isPaused=!1,t=!0);t?this.mustPlay=!1:a("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++){if(!(t=this.pool.children[e]).source||!t.source.buffer)return;t.stop()}}})},{"../core/component":125,"../lib/three":173,"../utils/debug":194}],108:[function(e,t,r){var n=e("three-bmfont-text"),i=e("load-bmfont"),o=e("../core/component").registerComponent,a=e("../core/shader"),s=e("../lib/three"),c=e("../utils/"),l=c.debug("components:text:error"),u=a.shaders,d=c.debug("components:text:warn"),h="https://cdn.aframe.io/fonts/",p={aileronsemibold:h+"Aileron-Semibold.fnt",dejavu:h+"DejaVu-sdf.fnt",exo2bold:h+"Exo2Bold.fnt",exo2semibold:h+"Exo2SemiBold.fnt",kelsonsans:h+"KelsonSans.fnt",monoid:h+"Monoid.fnt",mozillavr:h+"mozillavr.fnt",roboto:h+"Roboto-msdf.json",sourcecodepro:h+"SourceCodePro.fnt"},f=["roboto"];t.exports.FONTS=p;var m,g,v,y,b=new function(){var e=this.cache={};this.get=function(t,r){return t in e?e[t]:(e[t]=r(),e[t])}},x={},w={},E=/^\w+:/;function A(e,t,r){return e||(.5+t)*r}t.exports.Component=o("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:"roboto"},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:u},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=n(),this.createOrUpdateMaterial(),this.mesh=new s.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(e){var t=this.data,r=this.currentFont;w[t.font]?this.texture=w[t.font]:(this.texture=w[t.font]=new s.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),e.font===t.font?r&&(this.updateGeometry(this.geometry,r),this.updateLayout()):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var e,t,r,n=this.data,i=this.material,o=this.shaderData;if(r=n.shader,-1!==f.indexOf(n.font)||n.font.indexOf("-msdf.")>=0?r="msdf":n.font in p&&-1===f.indexOf(n.font)&&(r="sdf"),e=(this.shaderObject&&this.shaderObject.name)!==r,o.alphaTest=n.alphaTest,o.color=n.color,o.map=this.texture,o.opacity=n.opacity,o.side=function(e){switch(e){case"back":return s.FrontSide;case"double":return s.DoubleSide;default:return s.BackSide}}(n.side),o.transparent=n.transparent,o.negate=n.negate,!e)return this.shaderObject.update(o),i.transparent=o.transparent,void(i.side=o.side);t=function(e,t,r){var n,i;return(i=new u[t].Shader).el=e,i.init(r),i.update(r),(n=i.material).transparent=r.transparent,{material:n,shader:i}}(this.el,r,o),this.material=t.material,this.shaderObject=t.shader,this.material.side=o.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var e,t=this.data,r=this.el,n=this.geometry,o=this;t.font||d("No font specified. Using the default font."),this.mesh.visible=!1,e=this.lookupFont(t.font||"roboto")||t.font,b.get(e,function(){return r=e,n=t.yOffset,new Promise(function(e,t){i(r,function(i,o){if(i)return l("Error loading font",r),void t(i);r.indexOf("/Roboto-msdf.json")>=0&&(n=30),n&&o.chars.map(function(e){e.yoffset+=n}),e(o)})});var r,n}).then(function(i){var a;if(1!==i.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");x[e]||(i.widthFactor=x[i]=function(e){var t=0,r=0,n=0;return e.chars.map(function(e){t+=e.xadvance,e.id>=48&&e.id<=57&&(n++,r+=e.xadvance)}),n?r/n:t/e.chars.length}(i)),o.updateGeometry(n,i),o.currentFont=i,o.updateLayout(),a=o.getFontImageSrc(),b.get(a,function(){return e=a,new Promise(function(t,r){(new s.ImageLoader).load(e,function(e){t(e)},void 0,function(){l("Error loading font image",e),r(null)})});var e}).then(function(e){var n=o.texture;n.image=e,n.needsUpdate=!0,w[t.font]=n,o.texture=n,o.mesh.visible=!0,r.emit("textfontset",{font:t.font,fontObj:i})}).catch(function(e){l(e.message),l(e.stack)})}).catch(function(e){l(e.message),l(e.stack)})},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var e=this.lookupFont(this.data.font||"roboto")||this.data.font,t=this.currentFont.pages[0];return t.match(E)&&0!==t.indexOf("http")?e.replace(/(\.fnt)|(\.json)/,".png"):s.LoaderUtils.extractUrlBase(e)+t},updateLayout:function(){var e,t,r,n,i,o,a,s,c,l,u=this.el,d=this.data,h=this.geometry,p=this.mesh;if(h.layout){if(r=u.getAttribute("geometry"),s=d.width||r&&r.width||1,o=A(d.wrapPixels,d.wrapCount,this.currentFont.widthFactor),a=s/o,i=h.layout,n=a*(i.height+i.descender),r&&"plane"===r.primitive&&(r.width||u.setAttribute("geometry","width",s),r.height||u.setAttribute("geometry","height",n)),"left"===(e="align"===d.anchor?d.align:d.anchor))c=0;else if("right"===e)c=-1*i.width;else{if("center"!==e)throw new TypeError("Invalid text.anchor property value",e);c=-1*i.width/2}if("bottom"===(t=d.baseline))l=0;else if("top"===t)l=-1*i.height+i.ascender;else{if("center"!==t)throw new TypeError("Invalid text.baseline property value",t);l=-1*i.height/2}p.position.x=c*a+d.xOffset,p.position.y=l*a,p.position.z=d.zOffset,p.scale.set(a,-1*a,a)}},lookupFont:function(e){return p[e]},updateGeometry:(m={},g={},v=/\\n/g,y=/\\t/g,function(e,t){var r=this.data;g.font=t,g.lineHeight=r.lineHeight&&isFinite(r.lineHeight)?r.lineHeight:t.common.lineHeight,g.text=r.value.toString().replace(v,"\n").replace(y,"\t"),g.width=A(r.wrapPixels,r.wrapCount,t.widthFactor),e.update(c.extend(m,r,g))})})},{"../core/component":125,"../core/shader":135,"../lib/three":173,"../utils/":198,"load-bmfont":37,"three-bmfont-text":62}],109:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/tracked-controls"),o=e("../constants").DEFAULT_CAMERA_HEIGHT,a=e("../lib/three"),s=e("../constants").DEFAULT_HANDEDNESS,c={x:.175,y:-.3,z:-.03},l={x:0,y:0,z:-.175},u={touches:[]},d={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};t.exports.Component=n("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new a.Vector3,this.controllerQuaternion=new a.Quaternion,this.controllerEuler=new a.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(e,t){var r=this.el.getObject3D("mesh");r&&r.update&&r.update(t/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return o},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var e=this.data,t=i.findMatchingControllerWebVR(this.system.controllers,e.id,e.idPrefix,e.hand,e.controller);this.controller=t,this.el.components["tracked-controls"].controller=t,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(e){var t,r,n,i,o,a=this.controller,u=this.controllerEuler,d=this.controllerQuaternion,h=this.deltaControllerPosition;r=this.getHeadElement(),n=r.object3D,o=this.defaultUserHeight(),i=a.pose,t=(a?a.hand:void 0)||s,e.copy(n.position),h.set(c.x*("left"===t?-1:"right"===t?1:0),c.y,c.z),h.multiplyScalar(o),h.applyAxisAngle(n.up,n.rotation.y),e.add(h),h.set(l.x,l.y,l.z),h.multiplyScalar(o),i.orientation?d.fromArray(i.orientation):d.copy(n.quaternion),u.setFromQuaternion(d),u.set(u.x,u.y,0),h.applyEuler(u),e.add(h)},updatePose:function(){var e,t,r=this.controller,n=this.data,i=this.el.object3D,o=this.system.vrDisplay;r&&((e=r.pose).position?i.position.fromArray(e.position):n.armModel&&this.applyArmModel(i.position),e.orientation&&i.quaternion.fromArray(e.orientation),o&&e.position&&(t=this.el.sceneEl.renderer.xr.getStandingMatrix(),i.matrix.compose(i.position,i.quaternion,i.scale),i.matrix.multiplyMatrices(t,i.matrix),i.matrix.decompose(i.position,i.quaternion,i.scale)),i.rotateX(this.data.orientationOffset.x*a.Math.DEG2RAD),i.rotateY(this.data.orientationOffset.y*a.Math.DEG2RAD),i.rotateZ(this.data.orientationOffset.z*a.Math.DEG2RAD))},updateButtons:function(){var e,t,r=this.controller;if(r){for(t=0;t<r.buttons.length;++t)this.buttonStates[t]||(this.buttonStates[t]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[t]||(this.buttonEventDetails[t]={id:t,state:this.buttonStates[t]}),e=r.buttons[t],this.handleButton(t,e);this.handleAxes()}},handleButton:function(e,t){return!!(this.handlePress(e,t)|this.handleTouch(e,t)|this.handleValue(e,t))&&(this.el.emit(d.BUTTONCHANGED,this.buttonEventDetails[e],!1),!0)},handleAxes:function(){var e,t=!1,r=this.controller.axes,n=this.axis,i=this.changedAxes;for(this.changedAxes.length=0,e=0;e<r.length;++e)i.push(n[e]!==r[e]),i[e]&&(t=!0);if(!t)return!1;for(this.axis.length=0,e=0;e<r.length;e++)this.axis.push(r[e]);return this.el.emit(d.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(e,t){var r,n=this.buttonStates[e];return t.pressed!==n.pressed&&(r=t.pressed?d.BUTTONDOWN:d.BUTTONUP,this.el.emit(r,this.buttonEventDetails[e],!1),n.pressed=t.pressed,!0)},handleTouch:function(e,t){var r,n=this.buttonStates[e];return t.touched!==n.touched&&(r=t.touched?d.TOUCHSTART:d.TOUCHEND,this.el.emit(r,this.buttonEventDetails[e],!1,u),n.touched=t.touched,!0)},handleValue:function(e,t){var r=this.buttonStates[e];return t.value!==r.value&&(r.value=t.value,!0)}})},{"../constants":117,"../core/component":125,"../lib/three":173,"../utils/tracked-controls":206}],110:[function(e,t,r){var n=e("../utils/tracked-controls"),i=e("../core/component").registerComponent,o={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};t.exports.Component=i("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},index:{type:"int",default:-1}},init:function(){this.addSessionEventListeners=this.addSessionEventListeners.bind(this),this.updateController=this.updateController.bind(this),this.emitButtonUpEvent=this.emitButtonUpEvent.bind(this),this.emitButtonDownEvent=this.emitButtonDownEvent.bind(this),this.selectEventDetails={id:"trigger",state:{pressed:!1}},this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},play:function(){var e=this.el.sceneEl;this.updateController(),this.addSessionEventListeners(),e.addEventListener("enter-vr",this.addSessionEventListeners),e.addEventListener("controllersupdated",this.updateController)},pause:function(){var e=this.el.sceneEl;this.removeSessionEventListeners(),e.removeEventListener("enter-vr",this.addSessionEventListeners),e.removeEventListener("controllersupdated",this.updateController)},addSessionEventListeners:function(){var e=this.el.sceneEl;e.xrSession&&(e.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),e.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},removeSessionEventListeners:function(){var e=this.el.sceneEl;e.xrSession&&(e.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),e.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},emitButtonDownEvent:function(e){this.controller&&e.inputSource.handedness===this.data.hand&&(this.controller.gamepad||(this.selectEventDetails.state.pressed=!0,this.el.emit("buttondown",this.selectEventDetails),this.el.emit("buttonchanged",this.selectEventDetails),this.el.emit("triggerdown")))},emitButtonUpEvent:function(e){this.controller&&e.inputSource.handedness===this.data.hand&&(this.controller.gamepad||(this.selectEventDetails.state.pressed=!1,this.el.emit("buttonup",this.selectEventDetails),this.el.emit("buttonchanged",this.selectEventDetails),this.el.emit("triggerup")))},updateController:function(){this.controller=n.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var e=this.el.sceneEl;this.controller&&e.frame&&(this.pose=e.frame.getPose(this.controller.targetRaySpace,this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var e=this.el.object3D,t=this.pose;t&&(e.matrix.elements=t.transform.matrix,e.matrix.decompose(e.position,e.rotation,e.scale))},updateButtons:function(){var e,t,r,n=this.controller;if(n&&n.gamepad){for(r=n.gamepad,t=0;t<r.buttons.length;++t)this.buttonStates[t]||(this.buttonStates[t]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[t]||(this.buttonEventDetails[t]={id:t,state:this.buttonStates[t]}),e=r.buttons[t],this.handleButton(t,e);this.handleAxes()}},handleButton:function(e,t){return!!(this.handlePress(e,t)|this.handleTouch(e,t)|this.handleValue(e,t))&&(this.el.emit(o.BUTTONCHANGED,this.buttonEventDetails[e],!1),!0)},handleAxes:function(){var e,t=!1,r=this.controller.gamepad.axes,n=this.axis,i=this.changedAxes;for(this.changedAxes.length=0,e=0;e<r.length;++e)i.push(n[e]!==r[e]),i[e]&&(t=!0);if(!t)return!1;for(this.axis.length=0,e=0;e<r.length;e++)this.axis.push(r[e]);return this.el.emit(o.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(e,t){var r,n=this.buttonStates[e];return t.pressed!==n.pressed&&(r=t.pressed?o.BUTTONDOWN:o.BUTTONUP,this.el.emit(r,this.buttonEventDetails[e],!1),n.pressed=t.pressed,!0)},handleTouch:function(e,t){var r,n=this.buttonStates[e];return t.touched!==n.touched&&(r=t.touched?o.TOUCHSTART:o.TOUCHEND,this.el.emit(r,this.buttonEventDetails[e],!1),n.touched=t.touched,!0)},handleValue:function(e,t){var r=this.buttonStates[e];return t.value!==r.value&&(r.value=t.value,!0)}})},{"../core/component":125,"../utils/tracked-controls":206}],111:[function(e,t,r){var n=e("../core/component").registerComponent;t.exports.Component=n("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},update:function(){var e=this.data,t=this.el;t.sceneEl.hasWebXR?t.setAttribute("tracked-controls-webxr",{id:e.id,hand:e.hand,index:e.controller}):t.setAttribute("tracked-controls-webvr",e)}})},{"../core/component":125}],112:[function(e,t,r){var n=e("../core/component").registerComponent;t.exports.Component=n("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":125}],113:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,c=o.onButtonEvent,l=e("../utils/").device.isWebXRAvailable,u=l?"htc-vive-controller-mv":"OpenVR ",d=l?{axes:{thumbstick:[0,1]},buttons:["trigger","grip","trackpad","none","menu"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]};t.exports.Component=n("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:d,init:function(){var e=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){c(t.detail.id,"down",e)},this.onButtonUp=function(t){c(t.detail.id,"up",e)},this.onButtonTouchEnd=function(t){c(t.detail.id,"touchend",e)},this.onButtonTouchStart=function(t){c(t.detail.id,"touchstart",e)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;a(this,u,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:u,hand:t.hand,controller:this.controllerIndex,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",mtl:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,r=this.mapping.buttons[e.detail.id],n=this.buttonMeshes;r&&("trigger"===r&&(t=e.detail.state.value,n&&n.trigger&&(n.trigger.rotation.x=-t*(Math.PI/12))),this.el.emit(r+"changed",e.detail.state))},onModelLoaded:function(e){var t,r=e.detail.model,n=this;this.data.model&&((t=this.buttonMeshes={}).grip={left:r.getObjectByName("leftgrip"),right:r.getObjectByName("rightgrip")},t.menu=r.getObjectByName("menubutton"),t.system=r.getObjectByName("systembutton"),t.trackpad=r.getObjectByName("touchpad"),t.trigger=r.getObjectByName("trigger"),Object.keys(t).forEach(function(e){n.setButtonColor(e,n.data.buttonColor)}),r.position.set(0,-.015,.04))},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){var r;this.data.model&&(-1!==t.indexOf("touch")||(r="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(e,r)))},setButtonColor:function(e,t){var r=this.buttonMeshes,n=this.rendererSystem;if(r){if("grip"===e)return r.grip.left.material.color.set(t),r.grip.right.material.color.set(t),n.applyColorCorrection(r.grip.left.material.color),void n.applyColorCorrection(r.grip.right.material.color);r[e].material.color.set(t),n.applyColorCorrection(r[e].material.color)}}})},{"../core/component":125,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],114:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls"),a=o.checkControllerPresentAndSetup,s=o.emitIfAxesChanged,c=o.onButtonEvent;t.exports.Component=n("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){c(t.detail.id,"down",e)},this.onButtonUp=function(t){c(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){c(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){c(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){a(this,"HTC Vive Focus",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,idPrefix:"HTC Vive Focus",orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,r=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).trigger=r.getObjectByName("BumperKey"),t.triggerPressed=r.getObjectByName("BumperKey_Press"),t.triggerPressed&&(t.triggerPressed.visible=!1),t.trackpad=r.getObjectByName("TouchPad"),t.trackpadPressed=r.getObjectByName("TouchPad_Press"),t.trackpadPressed&&(t.trackpadPressed.visible=!1))},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var r=this.buttonMeshes,n=e+"Pressed";if(r&&r[e]&&r[n]){var i;switch(t){case"down":i=this.data.buttonHighlightColor;break;case"touchstart":i=this.data.buttonTouchedColor}i&&r[n].material.color.set(i),r[n].visible=!!i,r[e].visible=!i}}})},{"../core/component":125,"../utils/bind":192,"../utils/tracked-controls":206}],115:[function(e,t,r){var n,i,o=e("../constants").keyboardevent.KEYCODE_TO_CODE,a=e("../core/component").registerComponent,s=e("../lib/three"),c=e("../utils/"),l=c.bind,u=c.shouldCaptureKeyEvent,d=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];t.exports.Component=a("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new s.Vector3,this.onBlur=l(this.onBlur,this),this.onFocus=l(this.onFocus,this),this.onKeyDown=l(this.onKeyDown,this),this.onKeyUp=l(this.onKeyUp,this),this.onVisibilityChange=l(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var r=this.data,n=this.el,i=this.velocity;(i[r.adAxis]||i[r.wsAxis]||!function(e){var t;for(t in e)return!1;return!0}(this.keys))&&(t/=1e3,this.updateVelocity(t),(i[r.adAxis]||i[r.wsAxis])&&n.object3D.position.add(this.getMovementVector(t)))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,r,n,i,o,a=this.data,s=this.keys,c=this.velocity;if(r=a.adAxis,i=a.wsAxis,e>.2)return c[r]=0,void(c[i]=0);var l=Math.pow(1/this.easing,60*e);0!==c[r]&&(c[r]-=c[r]*l),0!==c[i]&&(c[i]-=c[i]*l),Math.abs(c[r])<1e-5&&(c[r]=0),Math.abs(c[i])<1e-5&&(c[i]=0),a.enabled&&(t=a.acceleration,a.adEnabled&&(n=a.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(c[r]-=n*t*e),(s.KeyD||s.ArrowRight)&&(c[r]+=n*t*e)),a.wsEnabled&&(o=a.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(c[i]-=o*t*e),(s.KeyS||s.ArrowDown)&&(c[i]+=o*t*e)))},getMovementVector:(n=new s.Vector3(0,0,0),i=new s.Euler(0,0,0,"YXZ"),function(e){var t,r=this.el.getAttribute("rotation"),o=this.velocity;return n.copy(o),n.multiplyScalar(e),r?(t=this.data.fly?r.x:0,i.set(s.Math.degToRad(t),s.Math.degToRad(r.y),0),n.applyEuler(i),n):n}),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;u(e)&&(t=e.code||o[e.keyCode],-1!==d.indexOf(t)&&(this.keys[t]=!0))},onKeyUp:function(e){var t;t=e.code||o[e.keyCode],delete this.keys[t]}})},{"../constants":117,"../core/component":125,"../lib/three":173,"../utils/":198}],116:[function(e,t,r){var n,i=e("../core/component").registerComponent,o=e("../utils/bind"),a=e("../utils/tracked-controls"),s=a.checkControllerPresentAndSetup,c=a.emitIfAxesChanged,l=a.onButtonEvent,u=e("../utils/"),d=u.debug("components:windows-motion-controls:debug"),h=u.debug("components:windows-motion-controls:warn"),p=e("../constants").DEFAULT_HANDEDNESS,f={left:"left.glb",right:"right.glb",default:"universal.glb"},m=e("../utils/").device.isWebXRAvailable,g=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,v=m?"windows-mixed-reality":"Spatial Controller (Spatial Interaction Source) ",y=m?{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"}:{axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"};t.exports.Component=i("windows-motion-controls",{schema:{hand:{default:p},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:y,bindMethods:function(){this.onModelError=o(this.onModelError,this),this.onModelLoaded=o(this.onModelLoaded,this),this.onControllersUpdate=o(this.onControllersUpdate,this),this.checkIfControllerPresent=o(this.checkIfControllerPresent,this),this.onAxisMoved=o(this.onAxisMoved,this)},init:function(){var e=this,t=this.el;this.onButtonChanged=o(this.onButtonChanged,this),this.onButtonDown=function(t){l(t.detail.id,"down",e)},this.onButtonUp=function(t){l(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){l(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){l(t.detail.id,"touchend",e)},this.onControllerConnected=function(){e.setModelVisibility(!0)},this.onControllerDisconnected=function(){e.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-error",this.onModelError),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-error",this.onModelError),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){s(this,v,{hand:this.data.hand,index:this.data.pair})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(this.data.model&&!this.rayOrigin.createdFromMesh){var e=this.createControllerModelUrl();this.loadModel(e)}else this.modelReady()},createControllerModelUrl:function(e){var t=this.el.components["tracked-controls"],r=t?t.controller:null,n="default",i=this.data.hand;if(r&&!window.hasNativeWebXRImplementation&&(i=r.hand,!e)){var o=r.id.match(g);n=o&&o[0]||n}return"https://cdn.aframe.io/controllers/microsoft/"+n+"/"+(f[i]||f.default)},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{idPrefix:v,controller:e.pair,hand:e.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(e){var t=this.createControllerModelUrl(!0);e.detail.src!==t?(h("Failed to load controller model for device, attempting to load default."),this.loadModel(t)):h("Failed to load default controller model.")},loadModel:function(e){this.el.setAttribute("gltf-model","url("+e+")")},onModelLoaded:function(e){var t,r,n,i,o=this.controllerModel=e.detail.model,a=this.loadedMeshInfo;if(d("Processing model"),a.buttonMeshes={},a.axisMeshes={},o){for(t=0;t<this.mapping.buttons.length;t++)(r=this.mapping.buttonMeshNames[this.mapping.buttons[t]])?(n=o.getObjectByName(r))?(i={index:t,value:s(n,"VALUE"),pressed:s(n,"PRESSED"),unpressed:s(n,"UNPRESSED")}).value&&i.pressed&&i.unpressed?a.buttonMeshes[this.mapping.buttons[t]]=i:h("Missing button submesh under mesh with name: "+r+"(VALUE: "+!!i.value+", PRESSED: "+!!i.pressed+", UNPRESSED:"+!!i.unpressed+")"):h("Missing button mesh with name: "+r):d("Skipping unknown button at index: "+t+" with mapped name: "+this.mapping.buttons[t]);for(t=0;t<this.mapping.axisMeshNames.length;t++)(r=this.mapping.axisMeshNames[t])?(n=o.getObjectByName(r))?(i={index:t,value:s(n,"VALUE"),min:s(n,"MIN"),max:s(n,"MAX")}).value&&i.min&&i.max?a.axisMeshes[t]=i:h("Missing axis submesh under mesh with name: "+r+"(VALUE: "+!!i.value+", MIN: "+!!i.min+", MAX:"+!!i.max+")"):h("Missing axis mesh with name: "+r):d("Skipping unknown axis at index: "+t);this.calculateRayOriginFromMesh(o),this.setModelVisibility()}function s(e,t){for(var r=0,n=e.children.length;r<n;r++){var i=e.children[r];if(i&&i.name===t)return i}}d("Model load complete.")},calculateRayOriginFromMesh:(n=new THREE.Quaternion,function(e){var t;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,t=e.getObjectByName(this.mapping.pointingPoseMeshName)){var r=e.parent;r&&(e.parent=null,e.updateMatrixWorld(!0),e.parent=r),t.getWorldPosition(this.rayOrigin.origin),t.getWorldQuaternion(n),this.rayOrigin.direction.applyQuaternion(n),r&&e.updateMatrixWorld(!0)}else d("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}),lerpAxisTransform:function(){var e=new THREE.Quaternion;return function(t,r){var n=this.loadedMeshInfo.axisMeshes[t];if(n){var i=n.min,o=n.max,a=n.value,s=.5*r+.5;a.setRotationFromQuaternion(e.copy(i.quaternion).slerp(o.quaternion,s)),a.position.lerpVectors(i.position,o.position,s)}}}(),lerpButtonTransform:function(){var e=new THREE.Quaternion;return function(t,r){var n=this.loadedMeshInfo.buttonMeshes[t];if(n){var i=n.unpressed,o=n.pressed,a=n.value;a.setRotationFromQuaternion(e.copy(i.quaternion).slerp(o.quaternion,r)),a.position.lerpVectors(i.position,o.position,r)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(t,e.detail.state.value),this.el.emit(t+"changed",e.detail.state))},onAxisMoved:function(e){var t=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var r=0;r<t;r++)this.lerpAxisTransform(r,e.detail.axis[r]||0);c(this,this.mapping.axes,e)},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");e=void 0!==e?e:this.modelVisible,this.modelVisible=e,t&&(t.visible=e)}})},{"../constants":117,"../core/component":125,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],117:[function(e,t,r){t.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:e("./keyboardevent")}},{"./keyboardevent":118}],118:[function(e,t,r){t.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],119:[function(e,t,r){var n=e("./a-node"),i=e("../utils/bind"),o=e("../utils/debug"),a=e("./a-register-element").registerElement,s=e("../lib/three"),c=new s.FileLoader,l=o("core:a-assets:warn");function u(e){if(e.hasAttribute("autoplay")||"auto"===e.getAttribute("preload"))return new Promise(function(t,r){if(4===e.readyState)return t();if(e.error)return r();function n(){for(var r=0,n=0;n<e.buffered.length;n++)r+=e.buffered.end(n)-e.buffered.start(n);r>=e.duration&&("VIDEO"===e.tagName&&(s.Cache.files[e.getAttribute("src")]=e),t())}e.addEventListener("loadeddata",n,!1),e.addEventListener("progress",n,!1),e.addEventListener("error",r,!1)})}function d(e){var t=function(e){var t,r,n;if(e.hasAttribute("crossorigin"))return e;if(null!==(t=e.getAttribute("src"))){if(-1===t.indexOf("://"))return e;if((n=(r=t).indexOf("://")>-1?r.split("/")[2]:r.split("/")[0]).substring(0,n.indexOf(":"))===window.location.host)return e}return l('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',t),e.crossOrigin="anonymous",e.cloneNode(!0)}(e);return t.tagName&&"video"===t.tagName.toLowerCase()&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function h(e){var t=p(e),r=t.lastIndexOf(".");if(r>=0){var n=t.slice(r,e.search(/\?|#|$/));if(".glb"===n)return"arraybuffer"}return"text"}function p(e){var t=document.createElement("a");t.href=e;var r=t.search.replace(/^\?/,""),n=e.replace(r,"").replace("?","");return n.substring(n.lastIndexOf("/")+1)}t.exports=a("a-assets",{prototype:Object.create(n.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=c,this.timeout=null}},attachedCallback:{value:function(){var e,t,r,n,o,a,c=this,h=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(o=this.querySelectorAll("img"),e=0;e<o.length;e++)n=d(o[e]),h.push(new Promise(function(t,r){s.Cache.files[o[e].getAttribute("src")]=n,n.onload=t,n.onerror=r}));for(r=this.querySelectorAll("audio, video"),e=0;e<r.length;e++)(t=d(r[e])).src||t.srcObject||l("Audio/video asset has neither `src` nor `srcObject` attributes."),h.push(u(t));Promise.all(h).then(i(this.load,this)),a=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){c.hasLoaded||(l("Asset loading timed out in ",a,"ms"),c.emit("timeout"),c.load())},a)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){n.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute("src")})}}})}),a("a-asset-item",{prototype:Object.create(n.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var e=this,t=this.getAttribute("src");c.setResponseType(this.getAttribute("response-type")||h(t)),c.load(t,function(t){e.data=t,setTimeout(function(){n.prototype.load.call(e)})},function(t){e.emit("progress",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})},function(t){e.emit("error",{xhr:t})})}}})}),t.exports.inferResponseType=h,t.exports.getFileNameFromURL=p},{"../lib/three":173,"../utils/bind":192,"../utils/debug":194,"./a-node":123,"./a-register-element":124}],120:[function(e,t,r){var n=e("../utils/debug"),i=e("./a-register-element").registerElement,o=n("core:cubemap:warn");t.exports=i("a-cubemap",{prototype:Object.create(window.HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll("[src]"),r=[];if(6===t.length){for(e=0;e<t.length;e++)r.push(t[e].getAttribute("src"));return r}o("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":194,"./a-register-element":124}],121:[function(e,t,r){var n,i,o,a=e("./a-node"),s=e("./component").components,c=e("./a-register-element").registerElement,l=e("../lib/three"),u=e("../utils/"),d=u.debug("core:a-entity:debug"),h=u.debug("core:a-entity:warn"),p="__",f=["position","rotation","scale","visible"],m={once:!0},g=Object.create(a.prototype,{createdCallback:{value:function(){this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new l.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}},attributeChangedCallback:{value:function(e,t,r){var n=this.components[e];n&&n.justInitialized&&""===r?delete n.justInitialized:(n||null!==r)&&this.setEntityAttribute(e,t,r)}},attachedCallback:{value:function(){var e,t=this.sceneEl,r=this;this.addToParent(),this.isScene||(t?!(e=t.querySelector("a-assets"))||e.hasLoaded?this.load():e.addEventListener("loaded",function(){r.load()}):this.load())}},detachedCallback:{value:function(){var e;if(this.parentEl){for(e in this.components)this.removeComponent(e,!1);this.isScene||(this.removeFromParent(),a.prototype.detachedCallback.call(this),this.object3D.el=null)}}},getObject3D:{value:function(e){return this.object3DMap[e]}},setObject3D:{value:function(e,t){var r,n=this;if(!(t instanceof l.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(r=this.getObject3D(e))&&this.object3D.remove(r),t.el=this,t.children.length&&t.traverse(function(e){e.el=n}),this.object3D.add(t),this.object3DMap[e]=t,this.emit("object3dset",{object:t,type:e})}},removeObject3D:{value:function(e){var t=this.getObject3D(e);t?(this.object3D.remove(t),delete this.object3DMap[e],this.emit("object3dremove",{type:e})):h("Tried to remove `Object3D` of type:",e,"which was not defined.")}},getOrCreateObject3D:{value:function(e,t){var r=this.getObject3D(e);return!r&&t&&(r=new t,this.setObject3D(e,r)),h("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),r}},add:{value:function(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(e.object3D),this.emit("child-attached",{el:e})}},addToParent:{value:function(){var e=this.parentEl=this.parentNode;e&&e.add&&!this.attachedToParent&&(e.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var e=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,e.emit("child-detached",{el:this})}},load:{value:function(){var e=this;!this.hasLoaded&&this.parentEl&&a.prototype.load.call(this,function(){e.parentEl&&(e.updateComponents(),(e.isScene||e.parentEl.isPlaying)&&e.play())})},writable:window.debug},remove:{value:function(e){e?this.object3D.remove(e.object3D):this.parentNode.removeChild(this)}},getChildEntities:{value:function(){for(var e=this.children,t=[],r=0;r<e.length;r++){var i=e[r];i instanceof n&&t.push(i)}return t}},initComponent:{value:function(e,t,r){var n,i,o,a;if(o=u.split(e,p),a=o[0],i=o.length>2?o.slice(1).join("__"):o[1],s[a]&&(v(this,e)||void 0!==t||r)&&!(e in this.components)){if(this.initComponentDependencies(a),i&&!s[a].multiple)throw new Error("Trying to initialize multiple components of type `"+a+"`. There can only be one component of this type per entity.");n=new s[a].Component(this,t,i),this.isPlaying&&n.play(),this.hasAttribute(e)||(n.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,e,"")),d("Component initialized: %s",e)}},writable:window.debug},initComponentDependencies:{value:function(e){var t,r,n=s[e];if(n&&(t=s[e].dependencies))for(r=0;r<t.length;r++)this.initComponent(t[r],window.HTMLElement.prototype.getAttribute.call(this,t[r])||void 0,!0)}},removeComponent:{value:function(e,t){var r;(r=this.components[e])&&(r.initialized?(r.pause(),r.remove(),t&&(r.destroy(),delete this.components[e]),this.emit("componentremoved",r.evtDetail,!1)):this.addEventListener("componentinitialized",function r(n){n.detail.name===e&&(this.removeComponent(e,t),this.removeEventListener("componentinitialized",r))}))},writable:window.debug},updateComponents:{value:function(){var e,t,r,n,i,o,a=this.componentsToUpdate;if(this.hasLoaded){for(r=0;r<this.mixinEls.length;r++)for(n in this.mixinEls[r].componentCache)y(n)&&(a[n]=!0);if(this.getExtraComponents)for(n in t=this.getExtraComponents())y(n)&&(a[n]=!0);for(r=0;r<this.attributes.length;++r)n=this.attributes[r].name,-1===f.indexOf(n)&&y(n)&&(a[n]=!0);for(r=0;r<f.length;r++)n=f[r],this.hasAttribute(n)&&this.updateComponent(n,this.getDOMAttribute(n));for(n in a)i=this.getDOMAttribute(n),o=t&&t[n],e=o?o.constructor===Object?u.extend(o,u.styleParser.parse(i||{})):i||o:i,this.updateComponent(n,e),delete a[n]}},writable:window.debug},updateComponent:{value:function(e,t,r){var n=this.components[e];if(n)return null!==t||v(this,e)?void n.updateProperties(t,r):void this.removeComponent(e,!0);this.initComponent(e,t,!1)}},removeAttribute:{value:function(e,t){var r=this.components[e];r&&void 0===t&&this.removeComponent(e,!0),r&&void 0!==t?r.resetProperty(t):("mixin"===e&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,e))}},play:{value:function(){var e,t,r;if(!this.isPlaying&&this.hasLoaded){for(r in this.isPlaying=!0,this.components)this.components[r].play();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].play();this.emit("play")}},writable:!0},pause:{value:function(){var e,t,r;if(this.isPlaying){for(r in this.isPlaying=!1,this.components)this.components[r].pause();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].pause();this.emit("pause")}},writable:!0},setEntityAttribute:{value:function(e,t,r){if(s[e]||this.components[e])this.updateComponent(e,r);else if("mixin"===e){if(r===this.computedMixinStr)return;this.mixinUpdate(r,t)}}},mixinUpdate:{value:(o=[],function(e,t){var r,n,i,a,s=this;if(this.hasLoaded){for(t=t||this.getAttribute("mixin"),i=this.updateMixins(e,t),o.length=0,a=0;a<this.mixinEls.length;a++)for(r in this.mixinEls[a].componentCache)-1===o.indexOf(r)&&(this.components[r]?this.components[r].handleMixinUpdate():this.initComponent(r,null),o.push(r));for(a=0;a<i.oldMixinIds.length;a++)if(n=document.getElementById(i.oldMixinIds[a]))for(r in n.componentCache)-1===o.indexOf(r)&&this.components[r]&&(this.getDOMAttribute(r)?this.components[r].handleMixinUpdate():this.removeComponent(r,!0))}else this.addEventListener("loaded",function(){s.mixinUpdate(e,t)},m)})},setAttribute:{value:(i={},function(e,t,r){var n,o,c,l,d;if(l=e.indexOf(p),c=l>0?e.substring(0,l):e,!s[c])return"mixin"===e&&this.mixinUpdate(t),void a.prototype.setAttribute.call(this,e,t);if(!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),void 0!==r&&"string"==typeof t&&t.length>0&&"string"==typeof u.styleParser.parse(t)){for(d in i)delete i[d];(n=i)[t]=r,o=!1}else n=t,o=!0===r;this.updateComponent(e,n,o),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM()}),writable:window.debug},flushToDOM:{value:function(e){var t,r,n,i=this.components,o=this.children;for(n in i)i[n].flushToDOM();if(e)for(r=0;r<o.length;++r)(t=o[r]).flushToDOM&&t.flushToDOM(e)}},getAttribute:{value:function(e){var t,r,n,i,o;return"position"===e?this.object3D.position:"rotation"===e?(r=this,n=l.Math.radToDeg,i=r.object3D.rotation,(o=r.rotationObj).x=n(i.x),o.y=n(i.y),o.z=n(i.z),o):"scale"===e?this.object3D.scale:"visible"===e?this.object3D.visible:(t=this.components[e])?t.data:window.HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},getDOMAttribute:{value:function(e){var t=this.components[e];return t?t.attrValue:window.HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},addState:{value:function(e){this.is(e)||(this.states.push(e),this.emit("stateadded",e))}},removeState:{value:function(e){var t=this.states.indexOf(e);-1!==t&&(this.states.splice(t,1),this.emit("stateremoved",e))}},is:{value:function(e){return-1!==this.states.indexOf(e)}},inspect:{value:function(){this.sceneEl.components.inspector.openInspector(this)}},destroy:{value:function(){var e;if(this.parentNode)h("Entity can only be destroyed if detached from scenegraph.");else for(e in this.components)this.components[e].destroy()}}});function v(e,t){return!(!e.components[t]||!e.components[t].attrValue)||function(e,t){var r,n=!1;for(r=0;r<t.length&&!(n=t[r].hasAttribute(e));++r);return n}(t,e.mixinEls)}function y(e){return-1!==e.indexOf(p)&&(e=u.split(e,p)[0]),!!s[e]}n=c("a-entity",{prototype:g}),t.exports=n},{"../lib/three":173,"../utils/":198,"./a-node":123,"./a-register-element":124,"./component":125}],122:[function(e,t,r){var n=e("./a-node"),i=e("./a-register-element").registerElement,o=e("./component").components,a=e("../utils");t.exports=i("a-mixin",{prototype:Object.create(n.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id"),this.isMixin=!0}},attributeChangedCallback:{value:function(e,t,r){this.cacheAttribute(e,r),this.updateEntities()}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(e,t){window.HTMLElement.prototype.setAttribute.call(this,e,t),this.cacheAttribute(e,t)}},cacheAttribute:{value:function(e,t){var r,n;n=a.split(e,"__")[0],(r=o[n])&&(void 0===t&&(t=window.HTMLElement.prototype.getAttribute.call(this,e)),this.componentCache[e]=r.parseAttrValueForCache(t))}},getAttribute:{value:function(e){return this.componentCache[e]||window.HTMLElement.prototype.getAttribute.call(this,e)}},cacheAttributes:{value:function(){var e,t,r=this.attributes;for(t=0;t<r.length;t++)e=r[t].name,this.cacheAttribute(e)}},updateEntities:{value:function(){var e,t,r;if(this.sceneEl)for(t=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),r=0;r<t.length;r++)(e=t[r]).hasLoaded&&!e.isMixin&&e.mixinUpdate(this.id)}}})})},{"../utils":198,"./a-node":123,"./a-register-element":124,"./component":125}],123:[function(e,t,r){var n,i,o,a,s=e("./a-register-element").registerElement,c=e("./a-register-element").isNode,l=e("../utils/"),u=l.debug("core:a-node:warn"),d=l.debug("core:a-node:error");t.exports=s("a-node",{prototype:Object.create(window.HTMLElement.prototype,{createdCallback:{value:function(){this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]},writable:window.debug},attachedCallback:{value:function(){var e;this.sceneEl=this.closestScene(),this.sceneEl||u("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(e=this.getAttribute("mixin"))&&this.updateMixins(e)},writable:window.debug},attributeChangedCallback:{value:function(e,t,r){r!==this.computedMixinStr&&("mixin"!==e||this.isMixin||this.updateMixins(r,t))}},closestScene:{value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},closest:{value:function(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,r=this;r&&!t.call(r,e);)r=r.parentElement;return r}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(e,t){var r,n,i=this;this.hasLoaded||(t=t||c,r=this.getChildren(),n=r.filter(t).map(function(e){return new Promise(function(t){if(e.hasLoaded)return t();e.addEventListener("loaded",t)})}),Promise.all(n).then(function(){i.hasLoaded=!0,e&&e(),i.emit("loaded",void 0,!1)}).catch(function(e){d("Failure loading node: ",e)}))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:(i=[],o=[],a={},function(e,t){var r,n,s;for(i.length=0,o.length=0,n=e?l.split(e.trim(),/\s+/):i,s=t?l.split(t.trim(),/\s+/):o,a.newMixinIds=n,a.oldMixinIds=s,r=0;r<s.length;r++)-1===n.indexOf(s[r])&&this.unregisterMixin(s[r]);for(this.computedMixinStr="",this.mixinEls.length=0,r=0;r<n.length;r++)this.registerMixin(document.getElementById(n[r]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),a})},registerMixin:{value:function(e){var t,r,n;if(e){if(n=e.getAttribute("mixin"))for(t=l.split(n.trim(),/\s+/),r=0;r<t.length;r++)this.registerMixin(document.getElementById(t[r]));this.computedMixinStr=this.computedMixinStr+" "+e.id,this.mixinEls.push(e)}}},setAttribute:{value:function(e,t){"mixin"===e&&this.updateMixins(t),window.HTMLElement.prototype.setAttribute.call(this,e,t)}},unregisterMixin:{value:function(e){var t,r,n=this.mixinEls;for(t=0;t<n.length;++t)if(r=n[t],e===r.id){n.splice(t,1);break}}},emit:{value:(n={},function(e,t,r,i){void 0===r&&(r=!0),n.bubbles=!!r,n.detail=t,i&&(n=l.extend({},i,n)),this.dispatchEvent(new CustomEvent(e,n))}),writable:window.debug}})})},{"../utils/":198,"./a-register-element":124}],124:[function(e,t,r){var n,i;e("document-register-element");var o=t.exports.knownTags={};function a(e,t,r,n){t.forEach(function(t){!function(e,t,r,n){var i=r[t],o=n[t];i&&o&&i!==o&&(e[t]={value:function(){return o.apply(this,arguments),i.apply(this,arguments)},writable:window.debug})}(e,t,r,n)})}function s(e,t){var r=Object.getOwnPropertyNames(e);r.forEach(function(r){var n;t[r]||(n=Object.getOwnPropertyDescriptor(e,r),t[r]={value:e[r],writable:n.writable})})}t.exports.isNode=function(e){return e.tagName.toLowerCase()in o||e.isNode},t.exports.registerElement=function(e,t){var r=Object.getPrototypeOf(t.prototype),c=t,l=n&&r===n.prototype,u=i&&r===i.prototype;return(l||u)&&function(e){o[e.toLowerCase()]=!0}(e),l&&(c=function(e){var t={};return a(t,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],e,n.prototype),s(e,t),t}(t.prototype),c={prototype:Object.create(r,c)}),u&&(c=function(e){var t={};return a(t,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],e,n.prototype),a(t,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],e,i.prototype),s(e,t),t}(t.prototype),c={prototype:Object.create(r,c)}),Object.getOwnPropertyNames(c.prototype).forEach(function(e){var t=c.prototype[e];"function"==typeof t&&(t.displayName=e)}),document.registerElement(e,c)},t.exports.wrapMethods=a,n=e("./a-node"),i=e("./a-entity")},{"./a-entity":121,"./a-node":123,"document-register-element":12}],125:[function(e,t,r){var n=e("./schema"),i=e("./scene/scenes"),o=e("./system"),a=e("../utils/"),s=t.exports.components={},c=n.parseProperties,l=n.parseProperty,u=n.process,d=n.isSingleProperty,h=n.stringifyProperties,p=n.stringifyProperty,f=a.styleParser,m=a.debug("core:component:warn"),g=document.currentScript,v=new RegExp("[A-Z]+"),y={},b=t.exports.Component=function(e,t,r){var n=this;this.el=e,this.id=r,this.attrName=this.name+(r?"__"+r:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.isSingleProperty=d(this.schema),this.isSinglePropertyObject=this.isSingleProperty&&_(l(void 0,this.schema))&&!(this.schema.default instanceof window.HTMLElement),this.isObjectBased=!this.isSingleProperty||this.isSinglePropertyObject,this.el.components[this.attrName]=this,this.objectPool=y[this.name];const i=this.events;this.events={},function(e,t){var r;for(r in t)e.events[r]=t[r].bind(e)}(this,i),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),a.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=a.throttle(function(){e.emit("componentchanged",n.evtDetail,!1)},200),this.updateProperties(t)};if(b.prototype={schema:{},init:function(){},events:{},update:function(e){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var r=this.schema;return this.isSingleProperty?l(e,r):c(f.parse(e),r,!0,this.name,t)},stringify:function(e){var t=this.schema;return"string"==typeof e?e:this.isSingleProperty?p(e,t):(e=h(e,t),f.stringify(e))},updateCachedAttrValue:function(e,t){var r,n,i;if(void 0!==e){if(null===e)return this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),void(this.attrValue=void 0);if(e instanceof Object&&!(e instanceof window.HTMLElement)?(n=this.objectPool.use(),r=a.extend(n,e)):r=this.parseAttrValueForCache(e),this.isObjectBased&&!t&&this.attrValue)for(i in this.attrValue)void 0===r[i]&&(r[i]=this.attrValue[i]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),a.objectPool.clearObject(this.attrValue),this.attrValue=E(this.attrValue,r,this.isObjectBased),a.objectPool.clearObject(n)}},parseAttrValueForCache:function(e){var t;return"string"!=typeof e?e:(this.isSingleProperty?"string"==typeof(t=this.schema.parse(e))&&(t=e):(a.objectPool.clearObject(this.parsingAttrValue),t=f.parse(e,this.parsingAttrValue)),t)},flushToDOM:function(e){var t=e?this.data:this.attrValue;null!=t&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e,t){var r=this.el;r.hasLoaded?(null!==e&&(e=this.parseAttrValueForCache(e)),this.updateCachedAttrValue(e,t),this.initialized?(this.updateComponent(e,t),this.callUpdateHandler()):this.initComponent()):this.updateCachedAttrValue(e)},initComponent:function(){var e,t=this.el;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),t.initializingComponents[this.name]||(t.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete t.initializingComponents[this.name],this.oldData=E(this.oldData,this.data,this.isObjectBased),e=this.isObjectBased?this.objectPool.use():void 0,this.update(e),this.isObjectBased&&this.objectPool.recycle(e),t.isPlaying&&this.play(),t.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(e,t){var r,n;if(t)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));if(this.isSingleProperty)return this.isObjectBased&&l(e,this.schema),void(this.data=e);if(c(e,this.schema,!0,this.name),this.schemaChangeKeys.length)for(r in e)if(this.schema[r].schemaChange){n=!0;break}if(n)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));for(r in e)void 0!==e[r]&&(this.data[r]=e[r])},callUpdateHandler:function(){var e;this.previousOldData instanceof Object&&a.objectPool.clearObject(this.previousOldData),this.isObjectBased?w(this.previousOldData,this.oldData):this.previousOldData=this.oldData,e=!a.deepEqual(this.oldData,this.data),(this.isPositionRotationScale||e)&&(this.oldData instanceof Object&&a.objectPool.clearObject(this.oldData),this.oldData=E(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:function(){this.data=this.buildData(this.attrValue),this.callUpdateHandler()},resetProperty:function(e){if(this.isObjectBased){if(!(e in this.attrValue))return;delete this.attrValue[e],this.data[e]=this.schema[e].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(e){var t;t=a.extend({},s[this.name].schema),a.extend(t,e),this.schema=u(t),this.el.emit("schemachanged",this.evtDetail)},buildData:function(e,t,r){var n,i,o,s,u,d,h,p=this.nextData,f=this.schema,m=this.el.mixinEls;if(n=e&&e.constructor===Array?e.length:null!=e,this.isObjectBased&&a.objectPool.clearObject(p),this.isSingleProperty)i=this.isObjectBased?w(p,f.default):M(f.default)?a.clone(f.default):f.default;else for(s in h=!t&&this.attrValue,i=h instanceof Object?w(p,h):p,f)o=f[s].default,void 0===i[s]&&(i[s]=M(o)?a.clone(o):o);for(d=0;d<m.length;d++)(u=m[d].getAttribute(this.attrName))&&(i=E(i,u,this.isObjectBased));if(n){if(this.isSingleProperty)return _(e)?(w(this.parsingAttrValue,e),l(this.parsingAttrValue,f)):l(e,f);i=E(i,e,this.isObjectBased)}else if(this.isSingleProperty)return l(i,f);return c(i,f,void 0,this.name,r)},eventsAttach:function(){var e;for(e in this.eventsDetach(),this.events)this.el.addEventListener(e,this.events[e])},eventsDetach:function(){var e;for(e in this.events)this.el.removeEventListener(e,this.events[e])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}},window.debug)var x=t.exports.registrationOrderWarnings={};function w(e,t){var r,n;for(n in t)void 0!==t[n]&&(r=t[n],e[n]=M(r)?a.clone(r):r);return e}function E(e,t,r){var n;if(r&&t.constructor===Object){for(n in t)void 0!==t[n]&&(t[n]&&t[n].constructor===Object?e[n]=a.clone(t[n]):e[n]=t[n]);return e}return t}function A(e){return e.tick||e.tock}function _(e){return e&&e.constructor===Object&&!(e instanceof window.HTMLElement)}function M(e){return e&&(e.constructor===Object||e.constructor===Array)&&!(e instanceof window.HTMLElement)}t.exports.registerComponent=function(e,t){var r,n,c,l,h,p,f={};if(document.currentScript&&document.currentScript!==g&&i.forEach(function(t){t.hasLoaded||document.currentScript.compareDocumentPosition(t)!==Node.DOCUMENT_POSITION_FOLLOWING&&(m("The component `"+e+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(x[e]=!0))}),!0===v.test(e)&&m("The component name `"+e+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+e.toLowerCase()+"`"),-1!==e.indexOf("__"))throw new Error("The component name `"+e+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(t).forEach(function(e){f[e]={value:t[e],writable:!0}}),s[e])throw new Error("The component `"+e+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(((r=function(e,t,r){b.call(this,e,t,r)}).prototype=Object.create(b.prototype,f)).name=e,r.prototype.isPositionRotationScale="position"===e||"rotation"===e||"scale"===e,r.prototype.constructor=r,r.prototype.system=o&&o.systems[e],r.prototype.play=(h=r.prototype.play,function(){var e=this.el.sceneEl,t=this.el.isPlaying&&!this.isPlaying;this.initialized&&t&&(h.call(this),this.isPlaying=!0,this.eventsAttach(),A(this)&&e.addBehavior(this))}),r.prototype.pause=(p=r.prototype.pause,function(){var e=this.el.sceneEl;this.isPlaying&&(p.call(this),this.isPlaying=!1,this.eventsDetach(),A(this)&&e.removeBehavior(this))}),c=a.extend(u(r.prototype.schema,r.prototype.name)),!(l=d(r.prototype.schema)))for(n in r.prototype.schemaChangeKeys=[],c)c[n].schemaChange&&r.prototype.schemaChangeKeys.push(n);return y[e]=a.objectPool.createPool(),s[e]={Component:r,dependencies:r.prototype.dependencies,isSingleProp:l,multiple:r.prototype.multiple,name:e,parse:r.prototype.parse,parseAttrValueForCache:r.prototype.parseAttrValueForCache,schema:c,stringify:r.prototype.stringify,type:r.prototype.type},r}},{"../utils/":198,"./scene/scenes":132,"./schema":134,"./system":136}],126:[function(e,t,r){var n=e("./schema"),i=n.process,o=t.exports.geometries={},a=t.exports.geometryNames=[],s=e("../lib/three"),c=t.exports.Geometry=function(){};c.prototype={schema:{},init:function(e){return this.geometry=new s.Geometry,this.geometry},update:function(e){}},t.exports.registerGeometry=function(e,t){var r,n={};if(Object.keys(t).forEach(function(e){n[e]={value:t[e],writable:!0}}),o[e])throw new Error("The geometry `"+e+"` has been already registered");return((r=function(){c.call(this)}).prototype=Object.create(c.prototype,n)).name=e,r.prototype.constructor=r,o[e]={Geometry:r,schema:i(r.prototype.schema)},a.push(e),r}},{"../lib/three":173,"./schema":134}],127:[function(e,t,r){var n=e("../utils/coordinates"),i=e("debug"),o=i("core:propertyTypes:warn"),a=i("core:propertyTypes:warn"),s=t.exports.propertyTypes={},c=/[,> .[\]:]/,l=/\url\((.+)\)/;function u(e,t,r,n){"type"in s?o("Property type "+e+" is already registered."):s[e]={default:t,parse:r||h,stringify:n||p}}function d(e){var t,r;return"string"!=typeof e?e:(r=e.match(l))?r[1]:"#"===e.charAt(0)?(t=document.getElementById(e.substring(1)))?"CANVAS"===t.tagName||"VIDEO"===t.tagName||"IMG"===t.tagName?t:t.getAttribute("src"):void a('"'+e+'" asset not found.'):e}function h(e){return e}function p(e){return null===e?"null":e.toString()}function f(e){return parseInt(e,10)}function m(e){return n.parse(e,this.default)}function g(e,t){if(null===e)return!0;if("object"!=typeof e)return!1;if(Object.keys(e).length!==t)return!1;var r=e.x,n=e.y,i=e.z,o=e.w;return!("number"!=typeof r||"number"!=typeof n||t>2&&"number"!=typeof i||t>3&&"number"!=typeof o)}u("audio","",d),u("array",[],function(e){return Array.isArray(e)?e:e&&"string"==typeof e?e.split(",").map(function(e){return e.trim()}):[]},function(e){return e.join(", ")}),u("asset","",d),u("boolean",!1,function(e){return"false"!==e&&!1!==e}),u("color","#FFF",h,p),u("int",0,f),u("number",0,function(e){return parseFloat(e,10)}),u("map","",d),u("model","",d),u("selector",null,function(e){return e?"string"!=typeof e?e:"#"!==e[0]||c.test(e)?document.querySelector(e):document.getElementById(e.substring(1)):null},function(e){return e.getAttribute?"#"+e.getAttribute("id"):p(e)}),u("selectorAll",null,function(e){return e?"string"!=typeof e?e:Array.prototype.slice.call(document.querySelectorAll(e),0):null},function(e){return e instanceof Array?e.map(function(e){return"#"+e.getAttribute("id")}).join(", "):p(e)}),u("src","",function(e){return a("`src` property type is deprecated. Use `asset` instead."),d(e)}),u("string","",h,p),u("time",0,f),u("vec2",{x:0,y:0},m,n.stringify),u("vec3",{x:0,y:0,z:0},m,n.stringify),u("vec4",{x:0,y:0,z:0,w:1},m,n.stringify),t.exports.registerPropertyType=u,t.exports.isValidDefaultValue=function(e,t){return("audio"!==e||"string"==typeof t)&&!("array"===e&&!Array.isArray(t))&&("asset"!==e||"string"==typeof t)&&("boolean"!==e||"boolean"==typeof t)&&("color"!==e||"string"==typeof t)&&("int"!==e||"number"==typeof t)&&("number"!==e||"number"==typeof t)&&("map"!==e||"string"==typeof t)&&("model"!==e||"string"==typeof t)&&("selector"!==e||"string"==typeof t||null===t)&&("selectorAll"!==e||"string"==typeof t||null===t)&&("src"!==e||"string"==typeof t)&&("string"!==e||"string"==typeof t)&&("time"!==e||"number"==typeof t)&&("vec2"===e?g(t,2):"vec3"===e?g(t,3):"vec4"!==e||g(t,4))},t.exports.isValidDefaultCoordinate=g},{"../utils/coordinates":193,debug:8}],128:[function(e,t,r){var n=e("./metaTags").inject,i=e("./wakelock"),o=e("./loadingScreen"),a=e("../a-register-element"),s=e("./scenes"),c=e("../system").systems,l=e("../../lib/three"),u=e("../../utils/"),d=e("../a-entity"),h=e("../a-node"),p=e("./postMessage"),f=u.bind,m=u.device.isIOS(),g=u.device.isMobile(),v=u.device.isWebXRAvailable,y=a.registerElement,b=u.debug("core:a-scene:warn");function x(e,t,r,n){return t?{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth}:function(e,t){var r,n,i=window.devicePixelRatio;return n={height:document.body.offsetHeight,width:document.body.offsetWidth},!e||t||-1===e.width&&-1===e.height?n:n.width*i<e.width&&n.height*i<e.height?n:(r=n.width/n.height,n.width*i>e.width&&-1!==e.width&&(n.width=Math.round(e.width/i),n.height=Math.round(e.width/r/i)),n.height*i>e.height&&-1!==e.height&&(n.height=Math.round(e.height/i),n.width=Math.round(e.height*r/i)),n)}(r,n)}function w(e){var t;function r(){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;t||e.exitVR(),document.activeElement.blur(),document.body.focus()}(t=document.createElement("canvas")).classList.add("a-canvas"),t.dataset.aframeCanvas=!0,e.appendChild(t),document.addEventListener("fullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),t.addEventListener("touchmove",function(e){e.preventDefault()}),e.canvas=t,e.emit("render-target-loaded",{target:t}),setTimeout(f(e.resize,e),0)}t.exports.AScene=y("a-scene",{prototype:Object.create(d.prototype,{createdCallback:{value:function(){this.clock=new l.Clock,this.isIOS=m,this.isMobile=g,this.hasWebXR=v,this.isAR=!1,this.isScene=!0,this.object3D=new l.Scene;var e=this;this.object3D.onAfterRender=function(t,r,n){e.isPlaying&&e.tock(e.time,e.delta,n)},this.render=f(this.render,this),this.systems={},this.systemNames=[],this.time=this.delta=0,this.behaviors={tick:[],tock:[]},this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui",""),this.setAttribute("device-orientation-permission-ui","")}},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-fullscreen")}},removeFullScreenStyles:{value:function(){document.documentElement.classList.remove("a-fullscreen")}},attachedCallback:{value:function(){var e=this,t=this.hasAttribute("embedded");w(this),this.setupRenderer(),this.resize(),t||this.addFullScreenStyles(),p(this),n(this),i(this),this.onVRPresentChangeBound=f(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){e.enterVR()},this.exitVRBound=function(){e.exitVR()},this.exitVRTrueBound=function(){e.exitVR(!0)},this.pointerRestrictedBound=function(){e.pointerRestricted()},this.pointerUnrestrictedBound=function(){e.pointerUnrestricted()},v||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),this.addEventListener("cameraready",function(){e.attachedCallbackPostCamera()}),this.initSystems()}},attachedCallbackPostCamera:{value:function(){var e,t=this;e=f(this.resize,this),window.addEventListener("load",e),window.addEventListener("resize",function(){t.isIOS?setTimeout(e,100):e()}),this.play(),s.push(this)},writable:window.debug},initSystems:{value:function(){var e;for(e in this.initSystem("camera"),c)"camera"!==e&&this.initSystem(e)}},initSystem:{value:function(e){this.systems[e]||(this.systems[e]=new c[e](this),this.systemNames.push(e))}},detachedCallback:{value:function(){var e=s.indexOf(this);s.splice(e,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)}},addBehavior:{value:function(e){var t,r,n=this.behaviors;for(r in n)e[r]&&-1===(t=this.behaviors[r]).indexOf(e)&&t.push(e)}},getPointerLockElement:{value:function(){return document.pointerLockElement},writable:window.debug},checkHeadsetConnected:{value:u.device.checkHeadsetConnected,writable:window.debug},enterAR:{value:function(){if(!this.hasWebXR)throw new Error("Failed to enter AR mode, WebXR not supported.");this.enterVR(!0)}},enterVR:{value:function(e){var t,r=this,n=r.renderer.xr;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(n.enabled=!0,!this.hasWebXR){if(t=u.device.getVRDisplay(),n.setDevice(t),t.isPresenting&&!window.hasNativeWebVRImplementation)return a(),Promise.resolve();var i=this.getAttribute("renderer"),o={highRefreshRate:i.highRefreshRate,foveationLevel:i.foveationLevel};return t.requestPresent([{source:this.canvas,attributes:o}]).then(a,function(e){throw e&&e.message?new Error("Failed to enter VR mode (`requestPresent`): "+e.message):new Error("Failed to enter VR mode (`requestPresent`).")})}return this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound),navigator.xr.requestSession(e?"immersive-ar":"immersive-vr",{requiredFeatures:["local-floor"],optionalFeatures:["bounded-floor"]}).then(function(t){r.xrSession=t,n.setSession(t),t.addEventListener("end",r.exitVRBound),e&&r.addState("ar-mode"),a()}),Promise.resolve()}return a(),Promise.resolve();function a(){var e,t;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(e=new CustomEvent("vrdisplaypresentchange",{detail:{display:u.device.getVRDisplay()}}),window.dispatchEvent(e)),r.addState("vr-mode"),r.emit("enter-vr",{target:r}),!v&&r.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),r.addFullScreenStyles(),r.isMobile||r.checkHeadsetConnected()||((t=r.canvas).requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen).apply(t,[{navigationUI:"hide"}]),r.renderer.setAnimationLoop(r.render),r.resize()}},writable:!0},exitVR:{value:function(){var e,t=this,r=this.renderer.xr;if(!this.is("vr-mode"))return Promise.resolve("Not in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(r.enabled=!1,e=u.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0,r.setSession(null);else if(e.isPresenting)return e.exitPresent().then(n,function(e){throw e&&e.message?new Error("Failed to exit VR mode (`exitPresent`): "+e.message):new Error("Failed to exit VR mode (`exitPresent`).")})}else(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen());return n(),Promise.resolve();function n(){t.removeState("vr-mode"),t.removeState("ar-mode"),t.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),t.hasAttribute("embedded")&&t.removeFullScreenStyles(),t.resize(),t.isIOS&&u.forceCanvasResizeSafariMobile(t.canvas),t.renderer.setPixelRatio(window.devicePixelRatio),t.emit("exit-vr",{target:t})}},writable:!0},pointerRestricted:{value:function(){if(this.canvas){var e=this.getPointerLockElement();e&&e!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}},pointerUnrestricted:{value:function(){var e=this.getPointerLockElement();e&&e===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},onVRPresentChange:{value:function(e){var t=e.display||e.detail.display;t&&t.isPresenting?this.enterVR():this.exitVR()}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:d.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){b("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:d.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,r){var n=this.systems[e];if(n)return h.prototype.setAttribute.call(this,e,t),void n.updateProperties(t);d.prototype.setAttribute.call(this,e,t,r)}},removeBehavior:{value:function(e){var t,r,n,i=this.behaviors;for(r in i)e[r]&&(t=this.behaviors[r],-1!==(n=t.indexOf(e))&&t.splice(n,1))}},resize:{value:function(){var e,t,r,n=this.camera,i=this.canvas,o=this.renderer.xr.isPresenting();t=this.renderer.xr.enabled&&o,!n||!i||this.is("vr-mode")&&(this.isMobile||t)||(e=this.getAttribute("embedded")&&!this.is("vr-mode"),r=x(i,e,this.maxCanvasSize,this.is("vr-mode")),n.aspect=r.width/r.height,n.updateProjectionMatrix(),this.renderer.setSize(r.width,r.height,!1),this.emit("rendererresize",null,!1))},writable:!0},setupRenderer:{value:function(){var e,t,r,n,i=this;n={alpha:!0,antialias:!g,canvas:this.canvas,logarithmicDepthBuffer:!1},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(r=this.getAttribute("renderer"),(t=u.styleParser.parse(r)).precision&&(n.precision=t.precision+"p"),t.antialias&&"auto"!==t.antialias&&(n.antialias="true"===t.antialias),t.logarithmicDepthBuffer&&"auto"!==t.logarithmicDepthBuffer&&(n.logarithmicDepthBuffer="true"===t.logarithmicDepthBuffer),t.alpha&&(n.alpha="true"===t.alpha),this.maxCanvasSize={width:t.maxCanvasWidth?parseInt(t.maxCanvasWidth):this.maxCanvasSize.width,height:t.maxCanvasHeight?parseInt(t.maxCanvasHeight):this.maxCanvasSize.height}),(e=this.renderer=new l.WebGLRenderer(n)).setPixelRatio(window.devicePixelRatio),e.sortObjects=!1,this.camera&&e.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){e.xr.setPoseTarget(i.camera.el.object3D)}),o.setup(this,x)},writable:window.debug},play:{value:function(){var e=this,t=this;this.renderStarted?d.prototype.play.call(this):(this.addEventListener("loaded",function(){var e,r=this.renderer,n=this.renderer.xr;d.prototype.play.call(this),t.renderStarted||(t.resize(),t.renderer&&(window.performance&&window.performance.mark("render-started"),o.remove(),(e=u.device.getVRDisplay())&&e.isPresenting&&(n.setDevice(e),n.enabled=!0,t.enterVR()),r.setAnimationLoop(this.render),t.renderStarted=!0,t.emit("renderstart")))}),setTimeout(function(){d.prototype.load.call(e)}))}},updateComponent:{value:function(e){e in c||d.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(e,t){var r,n=this.systems;for(r=0;r<this.behaviors.tick.length;r++)this.behaviors.tick[r].el.isPlaying&&this.behaviors.tick[r].tick(e,t);for(r=0;r<this.systemNames.length;r++)n[this.systemNames[r]].tick&&n[this.systemNames[r]].tick(e,t)}},tock:{value:function(e,t,r){var n,i=this.systems;for(n=0;n<this.behaviors.tock.length;n++)this.behaviors.tock[n].el.isPlaying&&this.behaviors.tock[n].tock(e,t,r);for(n=0;n<this.systemNames.length;n++)i[this.systemNames[n]].tock&&i[this.systemNames[n]].tock(e,t,r)}},render:{value:function(e,t){var r=this.renderer;this.frame=t,this.delta=1e3*this.clock.getDelta(),this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta);var n=null;this.is("ar-mode")&&(n=this.object3D.background,this.object3D.background=null),r.render(this.object3D,this.camera),n&&(this.object3D.background=n)},writable:!0}})}),t.exports.setupCanvas=w},{"../../lib/three":173,"../../utils/":198,"../a-entity":121,"../a-node":123,"../a-register-element":124,"../system":136,"./loadingScreen":129,"./metaTags":130,"./postMessage":131,"./scenes":132,"./wakelock":133}],129:[function(e,t,r){var n,i,o,a=e("../../utils/"),s=a.styleParser,c="a-loader-title";function l(e){var t=n.hasAttribute("embedded"),r=o(n.canvas,t,n.maxCanvasSize,n.is("vr-mode"));e.aspect=r.width/r.height,e.updateProjectionMatrix(),n.renderer.setSize(r.width,r.height,!1)}t.exports.setup=function(e,t){o=t;var r,a,u,d,h,p,f,m,g,v,y=(n=e).hasAttribute("loading-screen")?s.parse(n.getAttribute("loading-screen")):void 0,b=y&&y.dotsColor||"white",x=y&&y.backgroundColor||"#24CAFF",w=void 0===y||"true"===y.enabled||void 0===y.enabled;w&&(r=new THREE.Scene,a=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),u=new THREE.MeshBasicMaterial({color:b}),d=new THREE.Mesh(a,u),h=d.clone(),p=d.clone(),f=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),m=new THREE.Clock,g=0,v=function(){n.renderer.render(r,f),g=m.getElapsedTime()%4,d.visible=g>=1,h.visible=g>=2,p.visible=g>=3},r.background=new THREE.Color(x),r.add(f),d.position.set(-1,0,-15),h.position.set(0,0,-15),p.position.set(1,0,-15),f.add(d),f.add(h),f.add(p),(i=document.createElement("div")).className=c,i.innerHTML=document.title,i.style.display="none",n.appendChild(i),setTimeout(function(){n.hasLoaded||(l(f),i.style.display="block",window.addEventListener("resize",function(){l(f)}),n.renderer.setAnimationLoop(v))},200))},t.exports.remove=function(){window.removeEventListener("resize",l),i&&(i.style.display="none")}},{"../../utils/":198}],130:[function(e,t,r){var n,i=e("../../constants/"),o=e("../../utils").extend,a=t.exports.MOBILE_HEAD_TAGS=[c({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),c({name:"mobile-web-app-capable",content:"yes"}),c({name:"theme-color",content:"black"})],s=[c({name:"apple-mobile-web-app-capable",content:"yes"}),c({name:"apple-mobile-web-app-status-bar-style",content:"black"}),(n={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},{tagName:"link",attributes:n,exists:function(){return document.querySelector('link[rel="'+n.rel+'"]')}})];function c(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}t.exports.inject=function(e){var t,r=document.head,n=r.querySelector("script"),c=[];return a.forEach(l),e.isIOS&&s.forEach(l),c;function l(e){e&&!e.exists()&&(t=function(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(i.AFRAME_INJECTED,""),o(t,e.attributes)}}(e))&&(n?n.parentNode.insertBefore(t,n):r.appendChild(t),c.push(t))}}},{"../../constants/":117,"../../utils":198}],131:[function(e,t,r){var n=e("../../utils/bind"),i=e("../../utils/").isIframed;function o(e){if(e.data)switch(e.data.type){case"vr":switch(e.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}}t.exports=function(e){i()&&window.addEventListener("message",n(o,e))}},{"../../utils/":198,"../../utils/bind":192}],132:[function(e,t,r){t.exports=[]},{}],133:[function(e,t,r){var n=e("../../../vendor/wakelock/wakelock");t.exports=function(e){if(e.isMobile){var t=e.wakelock=new n;e.addEventListener("enter-vr",function(){t.request()}),e.addEventListener("exit-vr",function(){t.release()})}}},{"../../../vendor/wakelock/wakelock":212}],134:[function(e,t,r){var n,i=e("../utils/"),o=e("./propertyTypes"),a=i.debug,s=o.isValidDefaultValue,c=o.propertyTypes,l=a("core:schema:warn");function u(e){return"type"in e?"string"==typeof e.type:"default"in e}function d(e,t){var r,n,i=e.default,o=e.type;return e.type?"bool"===e.type?o="boolean":"float"===e.type&&(o="number"):o=void 0===i||"boolean"!=typeof i&&"number"!=typeof i?Array.isArray(i)?"array":"string":typeof i,(n=c[o])||l("Unknown property type for component `"+t+"`: "+o),r=!!e.parse,e.parse=e.parse||n.parse,e.stringify=e.stringify||n.stringify,e.type=o,"default"in e?r||s(o,i)||l("Default value `"+i+"` does not match type `"+o+"` in component `"+t+"`"):e.default=n.default,e}function h(e,t){return null!=e&&""!==e||(e=t.default,Array.isArray(e)&&(e=e.slice())),t.parse(e,t.default)}function p(e,t){return"object"!=typeof e?e:t&&null!==e?t.stringify(e):JSON.stringify(e)}t.exports.isSingleProperty=u,t.exports.process=function(e,t){var r;if(u(e))return d(e,t);for(r in e)e[r]=d(e[r],t);return e},t.exports.processPropertyDefinition=d,t.exports.parseProperties=(n=[],function(e,t,r,i,o){var a,s,c,u;for(s in n.length=0,r?e:t)r&&void 0===e[s]||n.push(s);if(null===e||"object"!=typeof e)return e;for(s in e)void 0===e[s]||t[s]||o||l("Unknown property `"+s+"` for component/system `"+i+"`.");for(a=0;a<n.length;a++){if(s=n[a],c=t[s],u=e[s],!t[s])return;e[s]=h(u,c)}return e}),t.exports.parseProperty=h,t.exports.stringifyProperties=function(e,t){var r,n,i,o,a={};for(r in e)n=t[r],i=e[r],"object"==typeof(o=i)&&(o=p(i,n),n||l("Unknown component property: "+r)),a[r]=o;return a},t.exports.stringifyProperty=p},{"../utils/":198,"./propertyTypes":127}],135:[function(e,t,r){var n=e("./schema"),i=n.process,o=t.exports.shaders={},a=t.exports.shaderNames=[],s=e("../lib/three"),c=e("../utils"),l={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},u=t.exports.Shader=function(){};u.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new(this.raw?s.RawShaderMaterial:s.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,t){var r,n,i=this.schema,o={};for(r in i)i[r].is===t&&(n=l[i[r].type],o[r]={type:n,value:void 0});return o},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,t){var r,n,i,o=this.schema;for(r in i="uniform"===t?this.uniforms:this.attributes,e)if(o[r]&&o[r].is===t)if("map"!==o[r].type)i[r].value=this.parseValue(o[r].type,e[r]),i[r].needsUpdate=!0;else{if(!i[r]||i[r].value===e[r])continue;n="_texture_"+r,this.setMapOnTextureLoad(i,r,n),c.material.updateMapMaterialFromData(n,r,this,e)}},parseValue:function(e,t){var r;switch(e){case"vec2":return new s.Vector2(t.x,t.y);case"vec3":return new s.Vector3(t.x,t.y,t.z);case"vec4":return new s.Vector4(t.x,t.y,t.z,t.w);case"color":return r=new s.Color(t),new s.Vector3(r.r,r.g,r.b);case"map":return s.ImageUtils.loadTexture(t);default:return t}},setMapOnTextureLoad:function(e,t,r){var n=this;this.el.addEventListener("materialtextureloaded",function(){e[t].value=n.material[r],e[t].needsUpdate=!0})}},t.exports.registerShader=function(e,t){var r,n={};if(Object.keys(t).forEach(function(e){n[e]={value:t[e],writable:!0}}),o[e])throw new Error("The shader "+e+" has been already registered");return((r=function(){u.call(this)}).prototype=Object.create(u.prototype,n)).name=e,r.prototype.constructor=r,o[e]={Shader:r,schema:i(r.prototype.schema)},a.push(e),r}},{"../lib/three":173,"../utils":198,"./schema":134}],136:[function(e,t,r){var n=e("./component"),i=e("./schema"),o=e("../utils/"),a=i.parseProperties,s=i.parseProperty,c=i.process,l=i.isSingleProperty,u=o.styleParser,d=t.exports.systems={},h=t.exports.System=function(e){var t=n&&n.components[this.name];this.el=e,this.sceneEl=e,t&&(t.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};h.prototype={schema:{},init:function(){},update:function(e){},updateProperties:function(e){var t=this.data;Object.keys(i).length&&(this.buildData(e),this.update(t))},buildData:function(e){var t=this.schema;Object.keys(t).length&&(e=e||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),l(t)?this.data=s(e,t):this.data=a(u.parse(e)||{},t))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},t.exports.registerSystem=function(e,t){var r,n,i={},a=o.findAllScenes(document);if(Object.keys(t).forEach(function(e){i[e]={value:t[e],writable:!0}}),d[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(((n=function(e){h.call(this,e)}).prototype=Object.create(h.prototype,i)).name=e,n.prototype.constructor=n,n.prototype.schema=o.extend(c(n.prototype.schema)),d[e]=n,r=0;r<a.length;r++)a[r].initSystem(e)}},{"../utils/":198,"./component":125,"./schema":134}],137:[function(e,t,r){e("./pivot")},{"./pivot":138}],138:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../lib/three"),o=new i.Vector3,a=new i.Vector3;n("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var e=this.data,t=this.el,r=t.object3D.parent,n=t.object3D,s=new i.Group;o.copy(n.position),a.copy(n.rotation),r.remove(n),s.add(n),r.add(s),t.object3D=s,n.position.set(-1*e.x,-1*e.y,-1*e.z),s.position.set(e.x+o.x,e.y+o.y,e.z+o.z),s.rotation.copy(n.rotation),n.rotation.set(0,0,0)}})},{"../../core/component":125,"../../lib/three":173}],139:[function(e,t,r){var n=e("../../core/component").components,i=e("../../core/shader").shaders,o=e("../../utils/"),a={};function s(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(t="material-fog"),"visible"===e&&(t="material-visible"),a[t]="material."+e}Object.keys(n.material.schema).forEach(s),Object.keys(i.standard.schema).forEach(s),t.exports=function(){return{defaultComponents:{material:{}},mappings:o.extend({},a)}}},{"../../core/component":125,"../../core/shader":135,"../../utils/":198}],140:[function(e,t,r){e("./primitives/a-camera"),e("./primitives/a-cursor"),e("./primitives/a-curvedimage"),e("./primitives/a-gltf-model"),e("./primitives/a-image"),e("./primitives/a-light"),e("./primitives/a-link"),e("./primitives/a-obj-model"),e("./primitives/a-sky"),e("./primitives/a-sound"),e("./primitives/a-text"),e("./primitives/a-video"),e("./primitives/a-videosphere"),e("./primitives/meshPrimitives")},{"./primitives/a-camera":142,"./primitives/a-cursor":143,"./primitives/a-curvedimage":144,"./primitives/a-gltf-model":145,"./primitives/a-image":146,"./primitives/a-light":147,"./primitives/a-link":148,"./primitives/a-obj-model":149,"./primitives/a-sky":150,"./primitives/a-sound":151,"./primitives/a-text":152,"./primitives/a-video":153,"./primitives/a-videosphere":154,"./primitives/meshPrimitives":155}],141:[function(e,t,r){var n=e("../../core/a-entity"),i=e("../../core/component").components,o=e("../../core/a-register-element").registerElement,a=e("../../utils/"),s=a.debug,c=a.entity.setComponentProperty,l=s("extras:primitives:debug"),u=s("extras:primitives:warn"),d=t.exports.primitives={};t.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),l("Registering <%s>",e),t.defaultAttributes&&u("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var r=o(e,{prototype:Object.create(n.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var e=this.mappings,t=this;Object.keys(e).forEach(function(r){var n;r!==r.toLowerCase()&&u("Mapping keys should be specified in lower case. The mapping key "+r+" may not be recognized"),i[r]&&(n=e[r].replace(".","-"),e[n]=e[r],delete e[r],console.warn("The primitive "+t.tagName.toLowerCase()+" has a mapping collision. The attribute "+r+" has the same name as a registered component and has been renamed to "+n))})}},getExtraComponents:{value:function(){var e,t,r,n,i,o,s=this;for(t=a.clone(this.defaultComponentsFromPrimitive),(i=this.getAttribute("mixin"))&&(i=i.trim().split(" ")).forEach(function(e){var r=s.sceneEl.querySelector("#"+e).componentCache;Object.keys(r).forEach(function(e){var n,i;t[e]=(n=t[e],i=r[e],c(n)?l(i):c(i)?l(n):u(n)&&u(i)?a.extendDeep(n,i):l(i))})}),r=0;r<this.attributes.length;r++)e=this.attributes[r],(n=this.mappings[e.name])&&((o=a.entity.getComponentPropertyPath(n)).constructor===Array?(t[o[0]]=t[o[0]]||{},t[o[0]][o[1]]=e.value.trim()):t[o]=e.value.trim());return t;function c(e){return void 0===e}function l(e){return u(e)?a.extendDeep({},e):e}function u(e){return null!==e&&e.constructor===Object}}},attributeChangedCallback:{value:function(e,t,r){var n=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&n&&c(this,n,r)}}})});return d[e]=r,r},t.exports.definePrimitive=function(e,r,n){n=n||{},Object.keys(r).map(function(e){!function(e,t){var r=i[e].schema;Object.keys(r).map(function(r){var n=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==t[n]&&(n=e+"-"+r),t[n]=e+"."+r})}(e,n)}),t.exports.registerPrimitive(e,a.extendDeep({},null,{defaultComponents:r,mappings:n}))}},{"../../core/a-entity":121,"../../core/a-register-element":124,"../../core/component":125,"../../utils/":198}],142:[function(e,t,r){var n=e("../primitives").registerPrimitive;n("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},{"../primitives":141}],143:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-cursor",o.extendDeep({},n(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],144:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-curvedimage",o.extendDeep({},n(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],145:[function(e,t,r){var n=e("../primitives").registerPrimitive;n("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":141}],146:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-image",o.extendDeep({},n(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],147:[function(e,t,r){var n=e("../primitives").registerPrimitive;n("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":141}],148:[function(e,t,r){var n=e("../primitives").registerPrimitive;n("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},{"../primitives":141}],149:[function(e,t,r){var n=e("../getMeshMixin")(),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-obj-model",o.extendDeep({},n,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],150:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/"),a=e("./meshPrimitives");i("a-sky",o.extendDeep({},n(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:o.extendDeep({},a["a-sphere"].prototype.mappings)}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141,"./meshPrimitives":155}],151:[function(e,t,r){var n=e("../primitives").registerPrimitive;n("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":141}],152:[function(e,t,r){var n=e("../primitives").definePrimitive;n("a-text",{text:{anchor:"align",width:5}})},{"../primitives":141}],153:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-video",o.extendDeep({},n(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],154:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-videosphere",o.extendDeep({},n(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],155:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../../../core/geometry").geometries,o=e("../../../core/geometry").geometryNames,a=e("../primitives").registerPrimitive,s=e("../../../utils/"),c=t.exports={};function l(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}o.forEach(function(e){var t=i[e],r=l(e),o={};Object.keys(t.schema).forEach(function(e){o[l(e)]="geometry."+e});var u="a-"+r,d=a(u,s.extendDeep({},n(),{defaultComponents:{geometry:{primitive:e}},mappings:o}));c[u]=d})},{"../../../core/geometry":126,"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],156:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three");n("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.BoxGeometry(e.width,e.height,e.depth,e.segmentsWidth,e.segmentsHeight,e.segmentsDepth)}})},{"../core/geometry":126,"../lib/three":173}],157:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;n("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CircleGeometry(e.radius,e.segments,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],158:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;n("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],159:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;n("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],160:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three");n("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.DodecahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":126,"../lib/three":173}],161:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three");n("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.IcosahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":126,"../lib/three":173}],162:[function(e,t,r){e("./box.js"),e("./circle.js"),e("./cone.js"),e("./cylinder.js"),e("./dodecahedron.js"),e("./icosahedron.js"),e("./octahedron.js"),e("./plane.js"),e("./ring.js"),e("./sphere.js"),e("./tetrahedron.js"),e("./torus.js"),e("./torusKnot.js"),e("./triangle.js")},{"./box.js":156,"./circle.js":157,"./cone.js":158,"./cylinder.js":159,"./dodecahedron.js":160,"./icosahedron.js":161,"./octahedron.js":163,"./plane.js":164,"./ring.js":165,"./sphere.js":166,"./tetrahedron.js":167,"./torus.js":168,"./torusKnot.js":169,"./triangle.js":170}],163:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three");n("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.OctahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":126,"../lib/three":173}],164:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three");n("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.PlaneGeometry(e.width,e.height,e.segmentsWidth,e.segmentsHeight)}})},{"../core/geometry":126,"../lib/three":173}],165:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;n("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],166:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;n("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new i.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,o(e.phiStart),o(e.phiLength),o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],167:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three");n("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.TetrahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":126,"../lib/three":173}],168:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;n("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,o(e.arc))}})},{"../core/geometry":126,"../lib/three":173}],169:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three");n("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}})},{"../core/geometry":126,"../lib/three":173}],170:[function(e,t,r){var n=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=new i.Quaternion,a=new i.Vector3(0,0,1),s=new i.Vector2,c=new i.Vector2,l=new i.Vector2;n("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(e){var t,r,n,u,d,h;(n=new i.Triangle).a.set(e.vertexA.x,e.vertexA.y,e.vertexA.z),n.b.set(e.vertexB.x,e.vertexB.y,e.vertexB.z),n.c.set(e.vertexC.x,e.vertexC.y,e.vertexC.z),r=n.getNormal(new i.Vector3),o.setFromUnitVectors(r,a),u=n.a.clone().applyQuaternion(o),d=n.b.clone().applyQuaternion(o),h=n.c.clone().applyQuaternion(o),s.set(Math.min(u.x,d.x,h.x),Math.min(u.y,d.y,h.y)),c.set(Math.max(u.x,d.x,h.x),Math.max(u.y,d.y,h.y)),l.set(0,0).subVectors(c,s),u=(new i.Vector2).subVectors(u,s).divide(l),d=(new i.Vector2).subVectors(d,s).divide(l),h=(new i.Vector2).subVectors(h,s).divide(l),(t=this.geometry=new i.Geometry).vertices.push(n.a),t.vertices.push(n.b),t.vertices.push(n.c),t.faces.push(new i.Face3(0,1,2,r)),t.faceVertexUvs[0]=[[u,d,h]]}})},{"../core/geometry":126,"../lib/three":173}],171:[function(e,t,r){if(window.Promise=window.Promise||e("promise-polyfill"),window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=void 0!==navigator.xr,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var n=e("./utils/isIOSOlderThan10"),i=n(window.navigator.userAgent)?1/window.devicePixelRatio:1,o=e("webvr-polyfill"),a={BUFFER_SCALE:i,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0};window.webvrpolyfill=new o(a)}var s=e("./utils/"),c=s.debug;s.isIE11&&(e("custom-event-polyfill"),e("../vendor/starts-with-polyfill"));var l=c("A-Frame:error"),u=c("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&u("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),"file:"===window.location.protocol&&l("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),e("present"),s.device.isBrowserEnvironment&&(e("./style/aframe.css"),e("./style/rStats.css"));var d=e("./core/scene/a-scene").AScene,h=e("./core/component").components,p=e("./core/component").registerComponent,f=e("./core/geometry").registerGeometry,m=e("./extras/primitives/primitives").registerPrimitive,g=e("./core/shader").registerShader,v=e("./core/system").registerSystem,y=e("./core/shader").shaders,b=e("./core/system").systems,x=window.THREE=e("./lib/three"),w=e("../package");e("./components/index"),e("./geometries/index"),e("./shaders/index"),e("./systems/index");var E=e("./core/a-node"),A=e("./core/a-entity");e("./core/a-assets"),e("./core/a-cubemap"),e("./core/a-mixin"),e("./extras/components/"),e("./extras/primitives/"),console.log("A-Frame Version: 1.0.1 (Date 2019-12-20, Commit #7b1a50f7)"),console.log("three Version (https://github.com/supermedium/three.js):",w.dependencies["super-three"]),console.log("WebVR Polyfill Version:",w.dependencies["webvr-polyfill"]),t.exports=window.AFRAME={AComponent:e("./core/component").Component,AEntity:A,ANode:E,ANIME:e("super-animejs"),AScene:d,components:h,coreComponents:Object.keys(h),geometries:e("./core/geometry").geometries,registerComponent:p,registerElement:e("./core/a-register-element").registerElement,registerGeometry:f,registerPrimitive:m,registerShader:g,registerSystem:v,primitives:{getMeshMixin:e("./extras/primitives/getMeshMixin"),primitives:e("./extras/primitives/primitives").primitives},scenes:e("./core/scene/scenes"),schema:e("./core/schema"),shaders:y,systems:b,THREE:x,utils:s,version:w.version}},{"../package":72,"../vendor/starts-with-polyfill":210,"./components/index":81,"./core/a-assets":119,"./core/a-cubemap":120,"./core/a-entity":121,"./core/a-mixin":122,"./core/a-node":123,"./core/a-register-element":124,"./core/component":125,"./core/geometry":126,"./core/scene/a-scene":128,"./core/scene/scenes":132,"./core/schema":134,"./core/shader":135,"./core/system":136,"./extras/components/":137,"./extras/primitives/":140,"./extras/primitives/getMeshMixin":139,"./extras/primitives/primitives":141,"./geometries/index":162,"./lib/three":173,"./shaders/index":175,"./style/aframe.css":180,"./style/rStats.css":181,"./systems/index":185,"./utils/":198,"./utils/isIOSOlderThan10":200,"custom-event-polyfill":7,present:48,"promise-polyfill":50,"super-animejs":56,"webvr-polyfill":67}],172:[function(e,t,r){window.aframeStats=function(e){var t=null,r=e;return{update:function(){var e;t("te").set((e=r.querySelectorAll("*"),Array.prototype.slice.call(e).filter(function(e){return e.isEntity}),e.length)),window.performance.getEntriesByName&&t("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(e){t=e},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"==typeof t&&(t.exports={aframeStats:window.aframeStats})},{}],173:[function(e,t,n){(function(r){var n=r.THREE=e("super-three");n.TextureLoader&&(n.TextureLoader.prototype.crossOrigin="anonymous"),n.ImageLoader&&(n.ImageLoader.prototype.crossOrigin="anonymous"),n.Cache&&(n.Cache.enabled=!0),e("../../vendor/DeviceOrientationControls"),e("super-three/examples/js/loaders/DRACOLoader"),e("super-three/examples/js/loaders/GLTFLoader"),e("super-three/examples/js/loaders/OBJLoader"),e("super-three/examples/js/loaders/MTLLoader"),n.DRACOLoader.prototype.crossOrigin="anonymous",n.GLTFLoader.prototype.crossOrigin="anonymous",n.MTLLoader.prototype.crossOrigin="anonymous",n.OBJLoader.prototype.crossOrigin="anonymous",t.exports=n}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../vendor/DeviceOrientationControls":207,"super-three":57,"super-three/examples/js/loaders/DRACOLoader":58,"super-three/examples/js/loaders/GLTFLoader":59,"super-three/examples/js/loaders/MTLLoader":60,"super-three/examples/js/loaders/OBJLoader":61}],174:[function(e,t,r){var n=e("../core/shader").registerShader,i=e("../lib/three"),o=e("../utils/");function a(e,t){return t.color.set(e.color),t.fog=e.fog,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t}t.exports.Shader=n("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color},this.textureSrc=null,a(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new i.MeshBasicMaterial(this.materialData),o.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),o.material.updateMap(this,e)},updateMaterial:function(e){var t;for(t in a(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.materialData)this.material[t]=this.materialData[t]}})},{"../core/shader":135,"../lib/three":173,"../utils/":198}],175:[function(e,t,r){e("./flat"),e("./standard"),e("./sdf"),e("./msdf"),e("./ios10hls")},{"./flat":174,"./ios10hls":176,"./msdf":177,"./sdf":178,"./standard":179}],176:[function(e,t,r){var n=e("../core/shader").registerShader;t.exports.Shader=n("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")})},{"../core/shader":135}],177:[function(e,t,r){var n=e("../core/shader").registerShader;t.exports.Shader=n("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sample = texture2D(map, vUV).rgb;","  if (negate) { sample = 1.0 - sample; }","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n")})},{"../core/shader":135}],178:[function(e,t,r){var n=e("../core/shader").registerShader;t.exports.Shader=n("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture2D(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture2D(map, box.xy).a, width)","        + contour(texture2D(map, box.zw).a, width)","        + contour(texture2D(map, box.xw).a, width)","        + contour(texture2D(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture2D(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":135}],179:[function(e,t,r){var n=e("../core/shader").registerShader,i=e("../lib/three"),o=e("../utils/"),a=new i.CubeTextureLoader,s={};function c(e,t){return t.color.set(e.color),t.emissive.set(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.fog=e.fog,t.metalness=e.metalness,t.roughness=e.roughness,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}t.exports.Shader=n("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color,emissive:new i.Color},c(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new i.MeshStandardMaterial(this.materialData),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&o.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&o.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&o.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&o.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var t,r=this.material;for(t in c(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.materialData)r[t]=this.materialData[t]},updateEnvMap:function(e){var t=this,r=this.material,n=e.envMap,c=e.sphericalEnvMap;if(!n&&!c||this.isLoadingEnvMap)return r.envMap=null,void(r.needsUpdate=!0);this.isLoadingEnvMap=!0,c?this.el.sceneEl.systems.material.loadTexture(c,{src:c},function(e){t.isLoadingEnvMap=!1,e.mapping=i.SphericalReflectionMapping,r.envMap=e,o.material.handleTextureEvents(t.el,e),r.needsUpdate=!0}):s[n]?s[n].then(function(e){t.isLoadingEnvMap=!1,r.envMap=e,o.material.handleTextureEvents(t.el,e),r.needsUpdate=!0}):s[n]=new Promise(function(e){o.srcLoader.validateCubemapSrc(n,function(n){a.load(n,function(n){t.isLoadingEnvMap=!1,r.envMap=n,o.material.handleTextureEvents(t.el,n),e(n)})})})}})},{"../core/shader":135,"../lib/three":173,"../utils/":198}],180:[function(e,t,r){var n="html.a-fullscreen{bottom:0;left:0;position:fixed;right:0;top:0}html.a-fullscreen body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}html.a-fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;position:fixed!important}html:not(.a-fullscreen) .a-enter-ar,html:not(.a-fullscreen) .a-enter-vr{right:5px;bottom:5px}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}canvas.a-canvas.a-mouse-cursor-hover:hover{cursor:pointer}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:204px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-ar,.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;position:absolute;right:20px;bottom:20px}.a-enter-ar{right:80px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff;user-select:none;outline:0}.a-enter-vr-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.35)}.a-enter-ar-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.2)}.a-enter-ar-button,.a-enter-vr-button{background-size:90% 90%;border:0;bottom:0;cursor:pointer;min-width:58px;min-height:34px;padding-right:0;padding-top:0;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999;border-radius:8px;touch-action:manipulation}.a-enter-ar-button{background-size:100% 90%;margin-right:10px;border-radius:7px}.a-enter-ar-button:active,.a-enter-ar-button:hover,.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#ef2d5e}.a-enter-vr-button.resethover{background-color:rgba(0,0,0,.35)}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}.a-loader-title{background-color:rgba(0,0,0,.6);font-family:sans-serif,monospace;text-align:center;font-size:20px;height:50px;font-weight:300;line-height:50px;position:absolute;right:0;left:0;top:0;color:#fff}.a-modal{background:0 0/50% 50% rgba(0,0,0,.6);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-dialog{position:relative;left:50%;top:50%;transform:translate(-50%,-50%);z-index:199995;width:300px;height:200px;background-size:contain;background-color:#fff;font-family:sans-serif,monospace;font-size:20px;border-radius:3px;padding:6px}.a-dialog-text-container{width:100%;height:70%;align-self:flex-start;display:flex;justify-content:center;align-content:center;flex-direction:column}.a-dialog-text{display:inline-block;font-weight:400;font-size:14pt;margin:8px}.a-dialog-buttons-container{display:inline-flex;align-self:flex-end;width:100%;height:30%}.a-dialog-button{cursor:pointer;align-self:center;opacity:.9;height:80%;width:50%;font-size:12pt;margin:4px;border-radius:2px;text-align:center;border:none;display:inline-block;-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out;box-shadow:0 1px 3px rgba(0,0,0,.1),0 1px 2px rgba(0,0,0,.2);user-select:none}.a-dialog-permission-button:hover{box-shadow:0 7px 14px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.2)}.a-dialog-allow-button{background-color:#00ceff}.a-dialog-deny-button{background-color:#ff005b}.a-dialog-ok-button{background-color:#00ceff;width:100%}";e("browserify-css").createStyle(n,{href:"src/style/aframe.css"}),t.exports=n},{"browserify-css":4}],181:[function(e,t,r){var n=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";e("browserify-css").createStyle(n,{href:"src/style/rStats.css"}),t.exports=n},{"browserify-css":4}],182:[function(e,t,r){var n=e("../constants/"),i=e("../core/system").registerSystem,o="data-aframe-default-camera";t.exports.System=i("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var e,t,r=this.sceneEl,n=this;if(!r.camera||r.camera.el.getAttribute("camera").spectator)if((e=r.querySelectorAll("a-camera, [camera]")).length)for(this.numUserCameras=e.length,t=0;t<e.length;t++)e[t].addEventListener("object3dset",function(e){"camera"===e.detail.type&&n.checkUserCamera(this)}),e[t].isNode?e[t].load():e[t].addEventListener("nodeready",function(){this.load()});else this.createDefaultCamera();else r.emit("cameraready",{cameraEl:r.camera.el})},checkUserCamera:function(e){var t,r=this.el.sceneEl;this.numUserCamerasChecked++,this.initialCameraFound||((t=e.getAttribute("camera")).active&&!t.spectator?(this.initialCameraFound=!0,r.camera=e.getObject3D("camera"),r.emit("cameraready",{cameraEl:e})):this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera())},createDefaultCamera:function(){var e,t=this.sceneEl;(e=document.createElement("a-entity")).setAttribute("camera",{active:!0}),e.setAttribute("position",{x:0,y:n.DEFAULT_CAMERA_HEIGHT,z:0}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(n.AFRAME_INJECTED,""),e.addEventListener("object3dset",function(r){"camera"===r.detail.type&&(t.camera=r.detail.object,t.emit("cameraready",{cameraEl:e}))}),t.appendChild(e)},disableActiveCamera:function(){var e;(e=this.sceneEl.querySelectorAll("[camera]"))[e.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,r,n,i,a=this.activeCameraEl,s=this.sceneEl;if((i=e.getObject3D("camera"))&&e!==this.activeCameraEl){var c=s.querySelector("["+o+"]"),l=c&&c.querySelector("[camera]");for(e!==l&&function(e){var t;e.camera&&(t=e.querySelector("["+o+"]"))&&e.removeChild(t)}(s),this.activeCameraEl=e,this.activeCameraEl.play(),s.camera=i,a&&a.setAttribute("camera","active",!1),r=s.querySelectorAll("[camera]"),n=0;n<r.length;n++)(t=r[n]).isEntity&&e!==t&&(t.setAttribute("camera","active",!1),t.pause());s.emit("camera-set-active",{cameraEl:e})}},setSpectatorCamera:function(e){var t,r=this.spectatorCameraEl,n=this.sceneEl;e.getObject3D("camera")&&e!==this.spectatorCameraEl&&(r&&r.setAttribute("camera","spectator",!1),t=this.spectatorCameraEl=e,n.addEventListener("enter-vr",this.wrapRender),n.addEventListener("exit-vr",this.unwrapRender),t.setAttribute("camera","active",!1),t.play(),n.emit("camera-set-spectator",{cameraEl:e}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){this.spectatorCameraEl&&(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(e,t){var r,n,i=this.sceneEl;r=i.renderer.xr.enabled,this.originalRender.call(i.renderer,e,t),this.spectatorCameraEl&&!i.isMobile&&r&&(n=this.spectatorCameraEl.components.camera.camera,i.renderer.xr.enabled=!1,this.originalRender.call(i.renderer,e,n),i.renderer.xr.enabled=r)}})},{"../constants/":117,"../core/system":136}],183:[function(e,t,r){var n=e("../core/geometry").geometries,i=e("../core/system").registerSystem,o=e("../lib/three");function a(e){var t,r,i=e.primitive,a=n[i]&&n[i].Geometry,s=new a;if(!a)throw new Error("Unknown geometry `"+i+"`");return s.init(e),t=s.geometry,e.buffer?((r=(new o.BufferGeometry).fromGeometry(t)).metadata={type:t.type,parameters:t.parameters||{}},t.dispose(),r):t}t.exports.System=i("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,r,n=this.cache;return e.skipCache?a(e):(r=this.hash(e),t=n[r],function(e,t){e[t]=void 0===e[t]?1:e[t]+1}(this.cacheCount,r),t||(t=a(e),n[r]=t,t))},unuseGeometry:function(e){var t,r=this.cache,n=this.cacheCount;e.skipCache||(t=this.hash(e),r[t]&&(function(e,t){e[t]--}(n,t),n[t]>0||(r[t].dispose(),delete r[t],delete n[t])))},hash:function(e){return JSON.stringify(e)}})},{"../core/geometry":126,"../core/system":136,"../lib/three":173}],184:[function(e,t,r){var n=e("../core/system").registerSystem,i=e("../lib/three");t.exports.System=n("gltf-model",{schema:{dracoDecoderPath:{default:""}},init:function(){var e=this.data.dracoDecoderPath;this.dracoLoader=new i.DRACOLoader,this.dracoLoader.setDecoderPath(e)},update:function(){var e;this.dracoLoader||(e=this.data.dracoDecoderPath,this.dracoLoader=new i.DRACOLoader,this.dracoLoader.setDecoderPath(e))},getDRACOLoader:function(){return this.dracoLoader}})},{"../core/system":136,"../lib/three":173}],185:[function(e,t,r){e("./camera"),e("./geometry"),e("./gltf-model"),e("./light"),e("./material"),e("./renderer"),e("./shadow"),e("./tracked-controls-webvr"),e("./tracked-controls-webxr")},{"./camera":182,"./geometry":183,"./gltf-model":184,"./light":186,"./material":187,"./renderer":188,"./shadow":189,"./tracked-controls-webvr":190,"./tracked-controls-webxr":191}],186:[function(e,t,r){var n=e("../core/system").registerSystem,i=e("../utils/bind"),o=e("../constants/");t.exports.System=n("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",i(this.setupDefaultLights,this))},registerLight:function(e){e.hasAttribute("data-aframe-default-light")||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var e,t=this.sceneEl;if(this.defaultLights){e=document.querySelectorAll("[data-aframe-default-light]");for(var r=0;r<e.length;r++)t.removeChild(e[r]);this.defaultLights=!1}},setupDefaultLights:function(){var e,t,r=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((e=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),e.setAttribute("data-aframe-default-light",""),e.setAttribute(o.AFRAME_INJECTED,""),r.appendChild(e),(t=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),t.setAttribute("position",{x:-.5,y:1,z:1}),t.setAttribute("data-aframe-default-light",""),t.setAttribute(o.AFRAME_INJECTED,""),r.appendChild(t),this.defaultLights=!0)}})},{"../constants/":117,"../core/system":136,"../utils/bind":192}],187:[function(e,t,r){var n=e("../core/system").registerSystem,i=e("../lib/three"),o=e("../utils/"),a=e("../utils/material").isHLS,s=o.bind,c=o.debug,l=c("components:texture:error"),u=new i.TextureLoader,d=c("components:texture:warn");function h(e,t){var r=t.offset||{x:0,y:0},n=t.repeat||{x:1,y:1},o=t.npot||!1;o&&(e.wrapS=i.ClampToEdgeWrapping,e.wrapT=i.ClampToEdgeWrapping,e.magFilter=i.LinearFilter,e.minFilter=i.LinearFilter),1===n.x&&1===n.y||(e.wrapS=i.RepeatWrapping,e.wrapT=i.RepeatWrapping,e.repeat.set(n.x,n.y)),0===r.x&&0===r.y||e.offset.set(r.x,r.y)}u.setCrossOrigin("anonymous"),t.exports.System=n("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",s(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,r){var n=this;if("CANVAS"!==e.tagName){if("VIDEO"===e.tagName)return e.src||e.srcObject||e.childElementCount||d("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(e,t,r);o.srcLoader.validateSrc(e,function(e){n.loadImage(e,t,r)},function(e){n.loadVideo(e,t,r)})}else this.loadCanvas(e,t,r)},loadImage:function(e,t,r){var n=this.hash(t),o=this.textureCache;o[n]?o[n].then(r):(o[n]=function(e,t){return new Promise(function(r,n){function o(e){h(e,t),e.needsUpdate=!0,r(e)}"string"==typeof e?u.load(e,o,function(){},function(e){l("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)}):o(new i.Texture(e))})}(e,t),o[n].then(r))},loadCanvas:function(e,t,r){var n;h(n=new i.CanvasTexture(e),t),r(n)},loadVideo:function(e,t,r){var n,o,s,c,l=this.textureCache;function u(e){e.texture.needsUpdate=!0,r(e.texture,e.videoEl)}if("string"!=typeof e){if(s=e,n=this.hashVideo(t,s),l[n])return void l[n].then(u);!function(e){e.autoplay=e.hasAttribute("autoplay")&&"false"!==e.getAttribute("autoplay"),e.controls=e.hasAttribute("controls")&&"false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop"),"false"===e.getAttribute("preload")&&(e.preload="none"),e.crossOrigin=e.crossOrigin||"anonymous",e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")}(s)}s=s||function(e,t,r){var n=document.createElement("video");return n.width=t,n.height=r,n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.autoplay=!0,n.loop=!0,n.crossOrigin="anonymous",n.addEventListener("error",function(){d("`$s` is not a valid video",e)},!0),n.src=e,n}(e,t.width,t.height),n=this.hashVideo(t,s),l[n]?l[n].then(u):((o=new i.VideoTexture(s)).minFilter=i.LinearFilter,h(o,t),this.sceneEl.isIOS&&a(s.src||s.getAttribute("src"),s.type||s.getAttribute("type"))&&(o.format=i.RGBAFormat,o.needsCorrectionBGRA=!0,o.flipY=!1,o.needsCorrectionFlipY=!0),c={texture:o,videoEl:s},l[n]=Promise.resolve(c),u(c))},hash:function(e){return e.src.tagName&&((e=o.extendDeep({},e)).src=e.src.src),JSON.stringify(e)},hashVideo:function(e,t){return function(e,t){var r,n,i,o=t.getAttribute("id");if(o)return o;for(n="",i=e||{},r=0;r<t.attributes.length;r++)i[t.attributes[r].name]=t.attributes[r].value;return Object.keys(i).sort().forEach(function(e){n+=e+":"+i[e]+";"}),n}(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid];var t=this.textureCounts;Object.keys(e).filter(function(t){return e[t]&&e[t].isTexture}).forEach(function(r){t[e[r].uuid]--,t[e[r].uuid]<=0&&e[r].dispose()})},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})},onMaterialTextureLoaded:function(e){this.textureCounts[e.detail.texture.uuid]||(this.textureCounts[e.detail.texture.uuid]=0),this.textureCounts[e.detail.texture.uuid]++}})},{"../core/system":136,"../lib/three":173,"../utils/":198,"../utils/material":201}],188:[function(e,t,r){var n=e("../core/system").registerSystem,i=e("../utils/"),o=e("../lib/three"),a=i.debug,s=a("components:renderer:warn");t.exports.System=n("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:i.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:0}},init:function(){var e=this.data,t=this.el,r=t.renderer;r.sortObjects=e.sortObjects,r.physicallyCorrectLights=e.physicallyCorrectLights,(e.colorManagement||e.gammaOutput)&&(r.gammaOutput=!0,r.gammaFactor=2.2,e.gammaOutput&&s('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),t.hasAttribute("antialias")&&s('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),t.hasAttribute("logarithmicDepthBuffer")&&s('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},applyColorCorrection:function(e){this.data.colorManagement&&e&&(e.isColor?e.convertSRGBToLinear():e.isTexture&&(e.encoding=o.sRGBEncoding))}})},{"../core/system":136,"../lib/three":173,"../utils/":198}],189:[function(e,t,r){var n=e("../core/system").registerSystem,i=e("../lib/three"),o={basic:i.BasicShadowMap,pcf:i.PCFShadowMap,pcfsoft:i.PCFSoftShadowMap};t.exports.System=n("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var e=this.sceneEl,t=this.data;this.shadowMapEnabled=!1,e.renderer&&(e.renderer.shadowMap.type=o[t.type],e.renderer.shadowMap.autoUpdate=t.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:function(e){e.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.data.enabled)},setShadowMapEnabled:function(e){var t=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&e,t&&(t.shadowMap.enabled=this.shadowMapEnabled)}})},{"../core/system":136,"../lib/three":173}],190:[function(e,t,r){var n=e("../core/system").registerSystem,i=e("../utils"),o=i.device.isWebXRAvailable;t.exports.System=n("tracked-controls-webvr",{init:function(){var e=this;this.controllers=[],this.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),this.updateControllerList(),this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this),o||navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(t){t.length&&(e.vrDisplay=t[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var e,t,r,n,i=this.controllers;if(t=navigator.getGamepads&&navigator.getGamepads()){for(n=i.length,i.length=0,r=0;r<t.length;++r)(e=t[r])&&e.pose&&i.push(e);i.length!==n&&this.el.emit("controllersupdated",void 0,!1)}}})},{"../core/system":136,"../utils":198}],191:[function(e,t,r){var n=e("../core/system").registerSystem,i=e("../utils");t.exports.System=n("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this)},tick:function(){this.throttledUpdateControllerList()},updateControllerList:function(){var e=this.el.xrSession,t=this;e&&(this.controllers=this.el.xrSession.inputSources,this.oldControllersLength!==this.controllers.length&&(this.oldControllersLength=this.controllers.length,e.requestReferenceSpace("local-floor").then(function(e){t.referenceSpace=e}),this.el.emit("controllersupdated",void 0,!1)))}})},{"../core/system":136,"../utils":198}],192:[function(e,t,r){t.exports=function(e,t){return r=Array.prototype.slice.call(arguments,2),function(){var n=r.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,n)};var r}},{}],193:[function(e,t,r){var n=e("./debug"),i=e("object-assign"),o=n("utils:coordinates:warn"),a=["x","y","z","w"],s=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;t.exports.regex=s;var c="object",l=/\s+/g;function u(e){return s.test(e)}function d(e){return null!=e&&e.constructor===String?parseFloat(e,10):e}t.exports.parse=function(e,t){var r,n,o,s,u,h,p,f,m;if(e&&e instanceof Object)return h=void 0===e.x?t&&t.x:e.x,p=void 0===e.y?t&&t.y:e.y,f=void 0===e.z?t&&t.z:e.z,m=void 0===e.w?t&&t.w:e.w,null!=h&&(e.x=d(h)),null!=p&&(e.y=d(p)),null!=f&&(e.z=d(f)),null!=m&&(e.w=d(m)),e;if(null==e)return typeof t===c?i({},t):t;for(r=e.trim().split(l),u={},s=0;s<a.length;s++)if(o=a[s],r[s])u[o]=parseFloat(r[s],10);else{if(void 0===(n=t&&t[o]))continue;u[o]=d(n)}return u},t.exports.stringify=function(e){var t;return typeof e!==c?e:(t=e.x+" "+e.y,null!=e.z&&(t+=" "+e.z),null!=e.w&&(t+=" "+e.w),t)},t.exports.isCoordinates=u,t.exports.isCoordinate=function(e){return o("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),u(e)},t.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)}},{"./debug":194,"object-assign":39}],194:[function(e,t,r){(function(r){var n=e("debug"),i=e("object-assign"),o={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},a=function(e){var t=n(e);return t.color=function(e){var t=function(e){var t=e.split(":");return t[t.length-1]}(e);return o.colors&&o.colors[t]||null}(e),t};i(a,n);var s=function(){try{return window.localStorage}catch(e){}}();s&&(parseInt(s.logs,10)||"true"===s.logs)?a.enable("*"):a.enable("*:error,*:info,*:warn"),r.browser&&(window.logs=a),t.exports=a}).call(this,e("_process"))},{_process:49,debug:8,"object-assign":39}],195:[function(e,t,r){(function(r){var n,i=e("debug")("device:error"),o=!1,a=!1,s=t.exports.isWebXRAvailable=!window.debug&&void 0!==navigator.xr;if(window.addEventListener("vrdisplayactivate",function(e){var t;s||(t=document.createElement("canvas"),n=e.display,t.getContext("webgl",{}),n.requestPresent([{source:t}]).then(function(){},function(){}))}),s){var c=function(){var e=document.querySelector("a-scene");e.hasLoaded?e.components["vr-mode-ui"].updateEnterInterfaces():e.addEventListener("loaded",c)},l=function(e){i("WebXR session support error: "+e.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(e){o=e,c()}).catch(l),navigator.xr.isSessionSupported("immersive-ar").then(function(e){a=e,c()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){o=!0,c()}).catch(l),navigator.xr.supportsSession("immersive-ar").then(function(){a=!0,c()}).catch(function(){})):i("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(e){var t=document.querySelector("a-scene");n=e.length&&e[0],t&&t.emit("displayconnected",{vrDisplay:n})});function u(){return n}t.exports.getVRDisplay=u,t.exports.checkHeadsetConnected=function(){return o||a||!!u()},t.exports.checkARSupport=function(){return a};var d,h,p=(h=!1,d=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,4)))&&(h=!0),(m()||f()||b())&&(h=!0),y()&&(h=!1),function(){return h});function f(e){var t=e||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t)}function m(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function g(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}function v(){return/(Mobile VR)/i.test(window.navigator.userAgent)}function y(){return g()||v()}function b(){return/R7 Build/.test(window.navigator.userAgent)}t.exports.isMobile=p,t.exports.isTablet=f,t.exports.isIOS=m,t.exports.isMobileDeviceRequestingDesktopSite=function(){return!p()&&!y()&&void 0!==window.orientation},t.exports.isOculusBrowser=g,t.exports.isFirefoxReality=v,t.exports.isMobileVR=y,t.exports.isR7=b,t.exports.isLandscape=function(){var e=window.orientation;return b()&&(e+=90),90===e||-90===e},t.exports.isBrowserEnvironment=!(r&&!r.browser),t.exports.isNodeEnvironment=!t.exports.isBrowserEnvironment}).call(this,e("_process"))},{_process:49,debug:8}],196:[function(e,t,r){var n={};function i(e,t){return n[t=t||"."]||(n[t]={}),-1!==e.indexOf(t)?n[t][e]=e.split(t):n[t][e]=e,n[t][e]}t.exports.getComponentPropertyPath=i,t.exports.propertyPathCache=n,t.exports.getComponentProperty=function(e,t,r){var n;return r=r||".",-1!==t.indexOf(r)?(n=i(t,r)).constructor===String?e.getAttribute(n):e.getAttribute(n[0])[n[1]]:e.getAttribute(t)},t.exports.setComponentProperty=function(e,t,r,n){var o;n=n||".",-1===t.indexOf(n)?e.setAttribute(t,r):(o=i(t,n)).constructor===String?e.setAttribute(o,r):e.setAttribute(o[0],o[1],r)}},{}],197:[function(e,t,r){t.exports=function(e){var t=e.style.width,r=e.style.height;e.style.width=parseInt(t,10)+1+"px",e.style.height=parseInt(r,10)+1+"px",setTimeout(function(){e.style.width=t,e.style.height=r},200)}},{}],198:[function(e,t,r){var n=e("./debug"),i=e("deep-assign"),o=e("./device"),a=e("object-assign"),s=e("./object-pool"),c=n("utils:warn");t.exports.bind=e("./bind"),t.exports.coordinates=e("./coordinates"),t.exports.debug=n,t.exports.device=o,t.exports.entity=e("./entity"),t.exports.forceCanvasResizeSafariMobile=e("./forceCanvasResizeSafariMobile"),t.exports.isIE11=e("./is-ie11"),t.exports.material=e("./material"),t.exports.objectPool=s,t.exports.split=e("./split").split,t.exports.styleParser=e("./styleParser"),t.exports.trackedControls=e("./tracked-controls"),t.exports.checkHeadsetConnected=function(){return c("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),o.checkHeadsetConnected(arguments)},t.exports.isGearVR=t.exports.device.isGearVR=function(){c("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},t.exports.isIOS=function(){return c("`utils.isIOS` has moved to `utils.device.isIOS`"),o.isIOS(arguments)},t.exports.isOculusGo=t.exports.device.isOculusGo=function(){c("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},t.exports.isMobile=function(){return c("`utils.isMobile has moved to `utils.device.isMobile`"),o.isMobile(arguments)},t.exports.throttle=function(e,r,n){var i;return n&&(e=t.exports.bind(e,n)),function(){var t=Date.now(),n=void 0===i?r:t-i;(void 0===i||n>=r)&&(i=t,e.apply(null,arguments))}},t.exports.throttleTick=function(e,r,n){var i;return n&&(e=t.exports.bind(e,n)),function(t,n){var o=void 0===i?n:t-i;(void 0===i||o>=r)&&(i=t,e(t,o))}},t.exports.debounce=function(e,t,r){var n;return function(){var i=this,o=arguments,a=r&&!n;clearTimeout(n),n=setTimeout(function(){n=null,r||e.apply(i,o)},t),a&&e.apply(i,o)}},t.exports.extend=a,t.exports.extendDeep=i,t.exports.clone=function(e){return JSON.parse(JSON.stringify(e))};var l,u,d=(l=s.createPool(function(){return[]}),function(e,t){var r,n,i,o,a,s;if(void 0===e||void 0===t||null===e||null===t||!(e&&t&&e.constructor===Object&&t.constructor===Object||e.constructor===Array&&t.constructor===Array))return e===t;for(r in n=l.use(),i=l.use(),n.length=0,i.length=0,e)n.push(r);for(r in t)i.push(r);if(n.length!==i.length)return l.recycle(n),l.recycle(i),!1;for(o=0;o<n.length;++o)if(a=e[n[o]],s=t[n[o]],"object"==typeof a||"object"==typeof s||Array.isArray(a)&&Array.isArray(s)){if(a===s)continue;if(!d(a,s))return l.recycle(n),l.recycle(i),!1}else if(a!==s)return l.recycle(n),l.recycle(i),!1;return l.recycle(n),l.recycle(i),!0});t.exports.deepEqual=d,t.exports.diff=(u=[],function(e,t,r){var n,i,o,a,s,c,l;for(s in a=r||{},u.length=0,e)u.push(s);if(!t)return a;for(o in t)-1===u.indexOf(o)&&u.push(o);for(c=0;c<u.length;c++)s=u[c],n=e[s],i=t[s],((l=n&&i&&n.constructor===Object&&i.constructor===Object)&&!d(n,i)||!l&&n!==i)&&(a[s]=i);return a}),t.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},t.exports.splitString=function(e,t){void 0===t&&(t=" ");var r=new RegExp(t,"g");return(e=(e||"").replace(r,t)).split(t)},t.exports.getElData=function(e,t){t=t||{};var r={};return Object.keys(t).forEach(function(t){e.hasAttribute(t)&&(r[t]=e.getAttribute(t))}),r},t.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},t.exports.isIframed=function(){return window.top!==window.self},t.exports.findAllScenes=function(e){for(var t=[],r=e.getElementsByTagName("*"),n=0,i=r.length;n<i;n++)r[n].isScene&&t.push(r[n]);return t},t.exports.srcLoader=e("./src-loader")},{"./bind":192,"./coordinates":193,"./debug":194,"./device":195,"./entity":196,"./forceCanvasResizeSafariMobile":197,"./is-ie11":199,"./material":201,"./object-pool":202,"./split":203,"./src-loader":204,"./styleParser":205,"./tracked-controls":206,"deep-assign":10,"object-assign":39}],199:[function(e,t,r){var n,i;t.exports=11===(n=-1,i=navigator.userAgent,"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(i)&&(n=parseFloat(RegExp.$1)):"Netscape"===navigator.appName&&null!=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(i)&&(n=parseFloat(RegExp.$1)),n)},{}],200:[function(e,t,r){t.exports=function(e){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(e)}},{}],201:[function(e,t,r){var n=e("../lib/three"),i=["application/x-mpegurl","application/vnd.apple.mpegurl"],o=new Set(["emissiveMap","envMap","map","specularMap"]);function a(e,t){t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",function(){e.components&&e.components.material&&(t.needsCorrectionBGRA&&t.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(e.components.material.data.shader)&&e.setAttribute("material","shader","ios10hls"),e.emit("materialvideoloadeddata",{src:t.image,texture:t}))}),t.image.addEventListener("ended",function(){e.emit("materialvideoended",{src:t.image,texture:t})})))}t.exports.updateMapMaterialFromData=function(e,t,r,i){var s=r.el,c=r.material,l=s.sceneEl.systems.renderer,u=i[t];if(r.materialSrcs||(r.materialSrcs={}),!u)return delete r.materialSrcs[e],void d(null);function d(t){c[e]=t,t&&o.has(e)&&l.applyColorCorrection(t),c.needsUpdate=!0,a(s,t)}u!==r.materialSrcs[e]&&(r.materialSrcs[e]=u,u instanceof n.Texture?d(u):s.sceneEl.systems.material.loadTexture(u,{src:u,repeat:i.repeat,offset:i.offset,npot:i.npot},function(t){r.materialSrcs[e]===u&&d(t)}))},t.exports.updateMap=function(e,r){return t.exports.updateMapMaterialFromData("map","src",e,r)},t.exports.updateDistortionMap=function(e,t,r){var n=e;"ambientOcclusion"===e&&(n="ao");var i=t.el,s=t.material,c=i.sceneEl.systems.renderer,l=r[e+"Map"],u={};if(u.src=l,u.offset=r[e+"TextureOffset"],u.repeat=r[e+"TextureRepeat"],u.wrap=r[e+"TextureWrap"],l){if(l===t[e+"TextureSrc"])return;return t[e+"TextureSrc"]=l,void i.sceneEl.systems.material.loadTexture(l,u,d)}function d(e){var t=n+"Map";s[t]=e,e&&o.has(t)&&c.applyColorCorrection(e),s.needsUpdate=!0,a(i,e)}s.map&&d(null)},t.exports.handleTextureEvents=a,t.exports.isHLS=function(e,t){return!(!t||!i.includes(t.toLowerCase()))||!!(e&&e.toLowerCase().indexOf(".m3u8")>0)}},{"../lib/three":173}],202:[function(e,t,r){var n=Object.freeze(Object.create(null));function i(){return{}}function o(e){var t;if(e&&e.constructor===Object)for(t in e)e[t]=void 0}t.exports.createPool=function(e){var t=[],r=null;function a(n){var i,o;if((n=void 0===n?t.length:n)>0&&null==r&&(r=0),n>0)for(i=t.length,t.length+=Number(n),o=i;o<t.length;o++)t[o]=e();return t.length}return e=e||i,{grow:a,pool:t,recycle:function(e){e instanceof Object&&(null!==r&&-1!==r?t[--r]=e:t[t.length]=e)},size:function(){return t.length},use:function(){var e;return null!==r&&r!==t.length||a(t.length||5),e=t[r],t[r++]=n,o(e),e}}},t.exports.clearObject=o,t.exports.removeUnusedKeys=function(e,t){var r;if(e&&e.constructor===Object)for(r in e)r in t||delete e[r]}},{}],203:[function(e,t,r){var n;t.exports.split=(n={},function(e,t){return t in n||(n[t]={}),e in n[t]?n[t][e]:(n[t][e]=e.split(t),n[t][e])})},{}],204:[function(e,t,r){var n=e("./debug"),i=n("utils:src-loader:warn");function o(e,t,r){!function(e,t){var r;e.tagName?t("IMG"===e.tagName):((r=new XMLHttpRequest).open("HEAD",e),r.addEventListener("load",function(n){var i;r.status>=200&&r.status<300?null==(i=r.getResponseHeader("Content-Type"))?s(e,t):i.startsWith("image")?t(!0):t(!1):s(e,t),r.abort()}),r.send())}(e,function(n){n?t(e):r(e)})}function a(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1]}function s(e,t){var r=new Image;r.addEventListener("load",function(){t(!0)}),r.addEventListener("error",function(){t(!1)}),r.src=e}t.exports={parseUrl:a,validateSrc:o,validateCubemapSrc:function(e,t){var r,n,s,c="",l=[];for(n=0;n<5;n++)c+="(url\\((?:[^\\)]+)\\),\\s*)";function u(e){l.push(e),6===l.length&&t(l)}if(c+="(url\\((?:[^\\)]+)\\)\\s*)",s=e.match(new RegExp(c)))for(n=1;n<7;n++)o(a(s[n]),u);else if(r=function(e){try{var t=document.querySelector(e);return t||i('No element was found matching the selector: "%s"',e),t}catch(t){return void i('"%s" is not a valid selector',e)}}(e))return"A-CUBEMAP"===r.tagName&&r.srcs?t(r.srcs):void i('Selector "%s" does not point to <a-cubemap>',e)}}},{"./debug":194}],205:[function(e,t,r){var n=/-([a-z])/g;function i(e){return e.replace(n,l)}function o(e){var t,r;for(r in e)t=i(r),r!==t&&(e[t]=e[r],delete e[r]);return e}t.exports.parse=function(e,t){var r;return"string"!=typeof e?e:(r=function(e,t){var r,n,i,o,a,s;for(t=t||{},r=c(e),n=0;n<r.length;n++)(i=r[n])&&(o=i.indexOf(":"),a=i.substr(0,o).trim(),s=i.substr(o+1).trim(),t[a]=s);return t}(e,t))[""]?e:o(r)},t.exports.stringify=function(e){return"string"==typeof e?e:function(e){var t,r=0,n=0,i="";for(t in e)r++;for(t in e)i+=t+": "+e[t],n<r-1&&(i+="; "),n++;return i}(e)},t.exports.toCamelCase=i,t.exports.transformKeysToCamelCase=o;var a,s,c=(a=[],s=/url\([^)]+$/,function(e){var t,r="",n=0;for(a.length=0;n<e.length;)-1===(t=e.indexOf(";",n))&&(t=e.length),r+=e.substring(n,t),s.test(r)?(r+=";",n=t+1):(a.push(r.trim()),r="",n=t+1);return a});function l(e){return e[1].toUpperCase()}},{}],206:[function(e,t,r){var n=e("../constants").DEFAULT_HANDEDNESS,i=["x","y","z","w"],o=2;function a(e,t,r){var n,i,o=e.el.sceneEl,a=r.index||0;return!!(t&&(i=o&&o.systems["tracked-controls-webvr"])&&(n=i.controllers).length&&c(n,null,t,r.hand,a))}function s(e,t,r){var n,i=e.el.sceneEl,o=i&&i.systems["tracked-controls-webxr"];return!!o&&!(!(n=o.controllers)||!n.length)&&l(n,t,r.hand,r.index)}function c(e,t,r,i,a){var s,c,l=0;for(c=0;c<e.length;c++)if(s=e[c],(!r||s.id.startsWith(r))&&(r||s.id===t)&&(!i||!s.hand||i===s.hand)){if(!i||s.hand)return s;if(l===o*a+(i===n?0:1))return s;++l}}function l(e,t,r,n){var i,o,a,s,c=!1;for(i=0;i<e.length;i++){for(a=e[i],s=a.profiles,o=0;o<s.length&&!(c=s[o].startsWith(t));o++);if(c)if("right"===a.handedness||"left"===a.handedness){if(a.handedness===r)return e[i]}else if(i===n)return e[i]}}t.exports.checkControllerPresentAndSetup=function(e,t,r){var n,i,o=e.el,c=o.sceneEl.hasWebXR,l=c?s:a;if(n=l(e,t,r),i=!!n,!e.controllerPresent||e.controllerEventsActive||c||e.addEventListeners(),i===e.controllerPresent)return i;e.controllerPresent=i,i?(e.injectTrackedControls(),e.addEventListeners(),o.emit("controllerconnected",{name:e.name,component:e})):(e.removeEventListeners(),o.emit("controllerdisconnected",{name:e.name,component:e}))},t.exports.isControllerPresentWebVR=a,t.exports.isControllerPresentWebXR=s,t.exports.findMatchingControllerWebVR=c,t.exports.findMatchingControllerWebXR=l,t.exports.emitIfAxesChanged=function(e,t,r){var n,o,a,s,c;for(o in t){for(n=t[o],a=!1,c=0;c<n.length;c++)r.detail.changed[n[c]]&&(a=!0);if(a){for(s={},c=0;c<n.length;c++)s[i[c]]=r.detail.axis[n[c]];e.el.emit(o+"moved",s)}}},t.exports.onButtonEvent=function(e,t,r,n){var i=n?r.mapping[n]:r.mapping,o=i.buttons[e];r.el.emit(o+t),r.updateModel&&r.updateModel(o,t)}},{"../constants":117}],207:[function(e,t,r){THREE.DeviceOrientationControls=function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var r,n,i,o,a=function(e){t.deviceOrientation=e},s=function(){t.screenOrientation=window.orientation||0},c=(r=new THREE.Vector3(0,0,1),n=new THREE.Euler,i=new THREE.Quaternion,o=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(e,t,a,s,c){n.set(a,t,-s,"YXZ"),e.setFromEuler(n),e.multiply(o),e.multiply(i.setFromAxisAngle(r,-c))});this.connect=function(){window.addEventListener("orientationchange",s,!1),window.addEventListener("deviceorientation",a,!1),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",s,!1),window.removeEventListener("deviceorientation",a,!1),t.enabled=!1},this.update=function(){if(!1!==t.enabled){var e=t.deviceOrientation;if(e){var r=e.alpha?THREE.Math.degToRad(e.alpha)+t.alphaOffset:0,n=e.beta?THREE.Math.degToRad(e.beta):0,i=e.gamma?THREE.Math.degToRad(e.gamma):0,o=t.screenOrientation?THREE.Math.degToRad(t.screenOrientation):0;c(t.object.quaternion,r,n,i,o)}}},this.dispose=function(){t.disconnect()},this.connect()}},{}],208:[function(e,t,r){window.glStats=function(){var e=null,t=0,r=0,n=0,i=0,o=0,a=0,s=0;function c(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}return WebGLRenderingContext.prototype.drawArrays=c(WebGLRenderingContext.prototype.drawArrays,function(){t++,arguments[0]==this.POINTS?a+=arguments[2]:o+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=c(WebGLRenderingContext.prototype.drawElements,function(){r++,i+=arguments[1]/3,o+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=c(WebGLRenderingContext.prototype.useProgram,function(){n++}),WebGLRenderingContext.prototype.bindTexture=c(WebGLRenderingContext.prototype.bindTexture,function(){s++}),{update:function(){e("allcalls").set(t+r),e("drawElements").set(r),e("drawArrays").set(t),e("bindTexture").set(s),e("useProgram").set(n),e("glfaces").set(i),e("glvertices").set(o),e("glpoints").set(a)},start:function(){t=0,r=0,n=0,i=0,o=0,a=0,s=0},end:function(){},attach:function(t){e=t},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){var t=null;return{update:function(){t("renderer.info.memory.geometries").set(e.info.memory.geometries),t("renderer.info.programs").set(e.info.programs.length),t("renderer.info.memory.textures").set(e.info.memory.textures),t("renderer.info.render.calls").set(e.info.render.calls),t("renderer.info.render.triangles").set(e.info.render.triangles),t("renderer.info.render.points").set(e.info.render.points)},start:function(){},end:function(){},attach:function(e){t=e},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],fractions:[]}},window.BrowserStats=function(){var e=null,t=0,r=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var n=Math.log(1024);function i(e){var t=Math.floor(Math.log(e)/n);return Math.round(100*e/Math.pow(1024,t))/100}return{update:function(){t=i(performance.memory.usedJSHeapSize),r=i(performance.memory.totalJSHeapSize),e("memory").set(t),e("total").set(r)},start:function(){t=0},end:function(){},attach:function(t){e=t},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},"object"==typeof t&&(t.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],209:[function(e,t,r){"use strict";!function(){"performance"in window==0&&(window.performance={});var e=window.performance;if("now"in e==0){var t=Date.now();e.timing&&e.timing.navigationStart&&(t=e.timing.navigationStart),e.now=function(){return Date.now()-t}}e.mark||(e.mark=function(){}),e.measure||(e.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var r=Object.keys(e),n=0,i=r.length;n<i;n++)t(r[n])}var r=e||{},n=r.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],i=(r.CSSPath?r.CSSPath:"")+"rStats.css",o=r.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",i];o.forEach(function(e){var t,r;t=e,(r=document.createElement("link")).href=t,r.rel="stylesheet",r.type="text/css",document.getElementsByTagName("head")[0].appendChild(r)}),r.values||(r.values={});var a,s,c=10,l=200,u={};function d(e,t,r){var n=r||{},i=document.createElement("canvas"),o=i.getContext("2d"),a=0,s=0,u=n.color?n.color:"#666666",d=document.createElement("canvas"),h=d.getContext("2d");d.width=1,d.height=2*c,h.fillStyle="#444444",h.fillRect(0,0,1,2*c),h.fillStyle=u,h.fillRect(0,c,1,c),h.fillStyle="#ffffff",h.globalAlpha=.5,h.fillRect(0,c,1,1),h.globalAlpha=1;var p=document.createElement("canvas"),f=p.getContext("2d");return p.width=1,p.height=2*c,f.fillStyle="#444444",f.fillRect(0,0,1,2*c),f.fillStyle="#b70000",f.fillRect(0,c,1,c),f.globalAlpha=.5,f.fillStyle="#ffffff",f.fillRect(0,c,1,1),f.globalAlpha=1,i.width=l,i.height=c,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height),{draw:function(e,t){(s+=.1*(e-s))>(a*=.99)&&(a=s),o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?o.drawImage(p,i.width-1,i.height-s*i.height/a-c):o.drawImage(d,i.width-1,i.height-s*i.height/a-c)}}}function h(e,r){var i=document.createElement("canvas"),o=i.getContext("2d");return i.width=l,i.height=c*r,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height),{draw:function(e){o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height);var r=0;t(e,function(t){var a=e[t]*i.height;o.fillStyle=n[t],o.fillRect(i.width-1,r,1,a),r+=a})}}}function p(e,t){var n,i=e,o=0,a=0,c=0,l=0,u=performance.now(),h=0,p=document.createElement("div"),f=document.createElement("span"),m=document.createElement("div"),g=document.createTextNode(""),v=r?r.values[i.toLowerCase()]:null,y=new d(p,i,v),b=!1;function x(e){if(v&&v.average){l+=e,h++;var t=performance.now();t-u>=(v.avgMs||1e3)&&(c=l/h,l=0,u=t,h=0)}}function w(){n=performance.now(),r.userTimingAPI&&performance.mark(i+"-start"),b=!0}function E(){o=performance.now()-n,r.userTimingAPI&&(performance.mark(i+"-end"),b&&performance.measure(i,i+"-start",i+"-end")),x(o)}return f.className="rs-counter-id",f.textContent=v&&v.caption?v.caption:i,m.className="rs-counter-value",m.appendChild(g),p.appendChild(f),p.appendChild(m),t?t.div.appendChild(p):s.appendChild(p),n=performance.now(),{set:function(e){x(o=e)},start:w,tick:function(){E(),w()},end:E,frame:function(){var e=performance.now(),t=e-n;a++,t>1e3&&(o=v&&!1===v.interpolate?a:1e3*a/t,a=0,n=e,x(o))},value:function(){return o},draw:function(){var e=v&&v.average?c:o;g.nodeValue=Math.round(100*e)/100;var t=v&&(v.below&&o<v.below||v.over&&o>v.over);y.draw(o,t),p.className=t?"rs-counter-base alarm":"rs-counter-base"}}}function f(e){var n=e.toLowerCase();if(void 0===n&&(n="default"),u[n])return u[n];var i=null;r&&r.groups&&t(r.groups,function(e){var t=r.groups[parseInt(e,10)];i||-1===t.values.indexOf(n.toLowerCase())||(i=t)});var o=new p(n,i);return u[n]=o,o}function m(){t(r.plugins,function(e){r.plugins[e].update()}),t(u,function(e){u[e].draw()}),r&&r.fractions&&t(r.fractions,function(e){var n=r.fractions[parseInt(e,10)],i=[],o=u[n.base.toLowerCase()];o&&(o=o.value(),t(r.fractions[e].steps,function(t){var n=r.fractions[e].steps[parseInt(t,10)].toLowerCase(),a=u[n];a&&i.push(a.value()/o)})),n.graph.draw(i)})}return function(){if(r.plugins){r.values||(r.values={}),r.groups||(r.groups=[]),r.fractions||(r.fractions=[]);for(var e=0;e<r.plugins.length;e++)r.plugins[e].attach(f),t(r.plugins[e].values,function(t){r.values[t]=r.plugins[e].values[t]}),r.groups=r.groups.concat(r.plugins[e].groups),r.fractions=r.fractions.concat(r.plugins[e].fractions)}else r.plugins={};(a=document.createElement("div")).className="rs-base",(s=document.createElement("div")).className="rs-container",s.style.height="auto",a.appendChild(s),document.body.appendChild(a),r&&(r.groups&&t(r.groups,function(e){var t=r.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;var i=document.createElement("h1");i.textContent=t.caption,i.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),s.appendChild(i),s.appendChild(n)}),r.fractions&&t(r.fractions,function(e){var i=r.fractions[parseInt(e,10)],o=document.createElement("div");o.className="rs-fraction";var a=document.createElement("div");a.className="rs-legend";var l=0;t(r.fractions[e].steps,function(t){var i=document.createElement("p");i.textContent=r.fractions[e].steps[t],i.style.color=n[l],a.appendChild(i),l++}),o.appendChild(a),o.style.height=l*c+"px",i.div=o;var u=new h(o,l);i.graph=u,s.appendChild(o)}))}(),function(e){return e?f(e):{element:a,update:m}}},"object"==typeof t&&(t.exports=window.rStats)},{}],210:[function(e,t,r){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})},{}],211:[function(e,t,r){var n={base64:function(e,t){return"data:"+e+";base64,"+t},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},appendQueryParameter:function(e,t,r){var n=e.indexOf("?")<0?"?":"&";return e+=n+t+"="+r},getQueryParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};t.exports=n},{}],212:[function(e,t,r){var n,i=e("./util.js");function o(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=i.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}function a(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){e&&(clearInterval(e),e=null)}}t.exports=(n=navigator.userAgent||navigator.vendor||window.opera).match(/iPhone/i)||n.match(/iPod/i)?a:o},{"./util.js":211}]},{},[171])(171)}).call(this,n(82))},function(e,t,r){r(800),r(810),r(819),r(828),r(833)},function(e,t,r){r(801),r(802),r(805),r(807),r(808),r(809)},function(e,t){e.exports=AFRAME.registerComponent("checkpoint-controls",{schema:{enabled:{default:!0},mode:{default:"teleport",oneOf:["teleport","animate"]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(e){const t=this.el;this.active&&this.checkpoint!==e&&(this.checkpoint&&t.emit("navigation-end",{checkpoint:this.checkpoint}),this.checkpoint=e,this.sync(),this.position.distanceTo(this.targetPosition)<.1?this.checkpoint=null:(t.emit("navigation-start",{checkpoint:e}),"teleport"===this.data.mode&&(this.el.setAttribute("position",this.targetPosition),this.checkpoint=null,t.emit("navigation-end",{checkpoint:e}),t.components["movement-controls"].updateNavLocation())))},isVelocityActive:function(){return!(!this.active||!this.checkpoint)},getVelocity:function(){if(!this.active)return;const e=this.data,t=this.offset,r=this.position,n=this.targetPosition,i=this.checkpoint;return this.sync(),r.distanceTo(n)<.1?(this.checkpoint=null,this.el.emit("navigation-end",{checkpoint:i}),t.set(0,0,0)):(t.setLength(e.animateSpeed),t)},sync:function(){const e=this.offset,t=this.position,r=this.targetPosition;t.copy(this.el.getAttribute("position")),this.checkpoint.object3D.getWorldPosition(r),r.add(this.checkpoint.components.checkpoint.getOffset()),e.copy(r).sub(t)}})},function(e,t,r){const n=r(803),i=r(804);e.exports=AFRAME.registerComponent("gamepad-controls",{GamepadButton:n,schema:{controller:{default:0,oneOf:[0,1,2,3]},enabled:{default:!0},debug:{default:!1},camera:{default:"[camera]",type:"selector"},rotationSensitivity:{default:2}},init:function(){const e=this.el.sceneEl;this.prevTime=window.performance.now(),this.buttons={};const t=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=THREE.Math.degToRad(t.x),this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=THREE.Math.degToRad(t.y),this.yaw.add(this.pitch),e.addBehavior(this)},update:function(){this.tick()},tick:function(e,t){this.updateButtonState(),this.updateRotation(t)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const e=this.getDpad(),t=this.getJoystick(0),r=e.x||t.x,n=e.y||t.y;return Math.abs(r)>.2||Math.abs(n)>.2},getVelocityDelta:function(){const e=this.getDpad(),t=this.getJoystick(0),r=e.x||t.x,n=e.y||t.y,i=new THREE.Vector3;return Math.abs(r)>.2&&(i.x+=r),Math.abs(n)>.2&&(i.z+=n),i},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const e=this.getJoystick(1);return Math.abs(e.x)>.2||Math.abs(e.y)>.2},updateRotation:function(e){if(!this.isRotationActive())return;const t=this.data,r=this.yaw,n=this.pitch,i=t.camera.components["look-controls"],o=i&&i.pitchObject&&i.yawObject;o&&(n.rotation.copy(i.pitchObject.rotation),r.rotation.copy(i.yawObject.rotation));const a=this.getJoystick(1);Math.abs(a.x)<=.2&&(a.x=0),Math.abs(a.y)<=.2&&(a.y=0),a.multiplyScalar(t.rotationSensitivity*e/1e3),r.rotation.y-=a.x,n.rotation.x-=a.y,n.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,n.rotation.x)),t.camera.object3D.rotation.set(n.rotation.x,r.rotation.y,0),o&&(i.pitchObject.rotation.copy(n.rotation),i.yawObject.rotation.copy(r.rotation))},updateButtonState:function(){const e=this.getGamepad();if(this.data.enabled&&e)for(var t=0;t<e.buttons.length;t++)e.buttons[t].pressed&&!this.buttons[t]?this.emit(new i("gamepadbuttondown",t,e.buttons[t])):!e.buttons[t].pressed&&this.buttons[t]&&this.emit(new i("gamepadbuttonup",t,e.buttons[t])),this.buttons[t]=e.buttons[t].pressed;else Object.keys(this.buttons)&&(this.buttons={})},emit:function(e){this.el.emit(e.type,e),this.el.emit(e.type+":"+e.index,new i(e.type,e.index,e))},getGamepad:function(){const e=navigator.getGamepads&&navigator.getGamepads()[this.data.controller],t=this.el.sceneEl.components["proxy-controls"];return t&&t.isConnected()&&t.getGamepad(this.data.controller)||e},getButton:function(e){return this.getGamepad().buttons[e]},getAxis:function(e){return this.getGamepad().axes[e]},getJoystick:function(e){const t=this.getGamepad();switch(e){case 0:return new THREE.Vector2(t.axes[0],t.axes[1]);case 1:return new THREE.Vector2(t.axes[2],t.axes[3]);default:throw new Error('Unexpected joystick index "%d".',e)}},getDpad:function(){const e=this.getGamepad();return e.buttons[n.DPAD_RIGHT]?new THREE.Vector2((e.buttons[n.DPAD_RIGHT].pressed?1:0)+(e.buttons[n.DPAD_LEFT].pressed?-1:0),(e.buttons[n.DPAD_UP].pressed?-1:0)+(e.buttons[n.DPAD_DOWN].pressed?1:0)):new THREE.Vector2},isConnected:function(){const e=this.getGamepad();return!(!e||!e.connected)},getID:function(){return this.getGamepad().id}})},function(e,t){e.exports=Object.assign(function(){},{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16})},function(e,t){e.exports=function(e,t,r){this.type=e,this.index=t,this.pressed=r.pressed,this.value=r.value}},function(e,t,r){r(806);const n=window.KeyboardEvent;e.exports=AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)},this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){const e=this.data,t=this.getKeys();return this.dVelocity.set(0,0,0),e.enabled&&((t.KeyW||t.ArrowUp)&&(this.dVelocity.z-=1),(t.KeyA||t.ArrowLeft)&&(this.dVelocity.x-=1),(t.KeyS||t.ArrowDown)&&(this.dVelocity.z+=1),(t.KeyD||t.ArrowRight)&&(this.dVelocity.x+=1)),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener("keydown",this.listeners.keydown,!1),window.addEventListener("keyup",this.listeners.keyup,!1),window.addEventListener("blur",this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown),window.removeEventListener("keyup",this.listeners.keyup),window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&&(this.localKeys[e.code]=!0,this.emit(e))},onKeyUp:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&&(delete this.localKeys[e.code],this.emit(e))},onBlur:function(){for(let e in this.localKeys)this.localKeys.hasOwnProperty(e)&&delete this.localKeys[e]},emit:function(e){"__keyboard-controls-proxy"in e&&this.el.emit(e.type,e),this.el.emit(e.type+":"+e.code,new n(e.type,e)),this.data.debug&&console.log(e.type+":"+e.code)},isPressed:function(e){return e in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){const e=this.el.sceneEl.components["proxy-controls"];return e&&e.isConnected()}})},function(e,t,r){!function(e){var t="KeyboardEvent"in e;t||(e.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),"DOM_KEY_LOCATION_STANDARD"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),"DOM_KEY_LOCATION_LEFT"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),"DOM_KEY_LOCATION_RIGHT"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),"DOM_KEY_LOCATION_NUMPAD"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var r=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,n=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,i=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,o=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function a(e,t){return-1!==String(e).indexOf(t)}var s=a(navigator.platform,"Win")?"win":a(navigator.platform,"Mac")?"mac":a(navigator.platform,"CrOS")?"cros":a(navigator.platform,"Linux")?"linux":a(navigator.userAgent,"iPad")||a(navigator.platform,"iPod")||a(navigator.platform,"iPhone")?"ios":"",c=a(navigator.userAgent,"Chrome/")?"chrome":a(navigator.vendor,"Apple")?"safari":a(navigator.userAgent,"MSIE")?"ie":a(navigator.userAgent,"Gecko/")?"moz":a(navigator.userAgent,"Opera/")?"opera":"",l=c+"-"+s;function u(e,t,r){l!==t&&c!==t&&s!==t||Object.keys(r).forEach(function(t){e[t]=r[t]})}var d={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"HangulMode"},23:{code:"JunjaMode"},24:{code:"FinalMode"},25:{code:"KanjiMode"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"OSLeft",location:n},92:{code:"OSRight",location:i},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:o},97:{code:"Numpad1",keyCap:"1",location:o},98:{code:"Numpad2",keyCap:"2",location:o},99:{code:"Numpad3",keyCap:"3",location:o},100:{code:"Numpad4",keyCap:"4",location:o},101:{code:"Numpad5",keyCap:"5",location:o},102:{code:"Numpad6",keyCap:"6",location:o},103:{code:"Numpad7",keyCap:"7",location:o},104:{code:"Numpad8",keyCap:"8",location:o},105:{code:"Numpad9",keyCap:"9",location:o},106:{code:"NumpadMultiply",keyCap:"*",location:o},107:{code:"NumpadAdd",keyCap:"+",location:o},108:{code:"NumpadComma",keyCap:",",location:o},109:{code:"NumpadSubtract",keyCap:"-",location:o},110:{code:"NumpadDecimal",keyCap:".",location:o},111:{code:"NumpadDivide",keyCap:"/",location:o},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:o},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:n},161:{code:"ShiftRight",location:i},162:{code:"ControlLeft",location:n},163:{code:"ControlRight",location:i},164:{code:"AltLeft",location:n},165:{code:"AltRight",location:i},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"VolumeMute"},174:{code:"VolumeDown"},175:{code:"VolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};u(d,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:o},189:{code:"NumpadSubtract",keyCap:"-",location:o}}),u(d,"moz-mac",{12:{code:"NumLock",location:o},173:{code:"Minus",keyCap:"-"}}),u(d,"moz-win",{173:{code:"Minus",keyCap:"-"}}),u(d,"chrome-mac",{93:{code:"OSRight",location:i}}),u(d,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),u(d,"ios",{10:{code:"Enter",location:r}}),u(d,"safari-mac",{91:{code:"OSLeft",location:n},93:{code:"OSRight",location:i},229:{code:"KeyQ",keyCap:"Q"}});var h={};"cros"===s&&(h["U+00A0"]={code:"ShiftLeft",location:n},h["U+00A1"]={code:"ShiftRight",location:i},h["U+00A2"]={code:"ControlLeft",location:n},h["U+00A3"]={code:"ControlRight",location:i},h["U+00A4"]={code:"AltLeft",location:n},h["U+00A5"]={code:"AltRight",location:i}),"chrome-mac"===l&&(h["U+0010"]={code:"ContextMenu"}),"safari-mac"===l&&(h["U+0010"]={code:"ContextMenu"}),"ios"===s&&(h["U+0010"]={code:"Function"},h["U+001C"]={code:"ArrowLeft"},h["U+001D"]={code:"ArrowRight"},h["U+001E"]={code:"ArrowUp"},h["U+001F"]={code:"ArrowDown"},h["U+0001"]={code:"Home"},h["U+0004"]={code:"End"},h["U+000B"]={code:"PageUp"},h["U+000C"]={code:"PageDown"});var p=[];p[n]={16:{code:"ShiftLeft",location:n},17:{code:"ControlLeft",location:n},18:{code:"AltLeft",location:n}},p[i]={16:{code:"ShiftRight",location:i},17:{code:"ControlRight",location:i},18:{code:"AltRight",location:i}},p[o]={13:{code:"NumpadEnter",location:o}},u(p[o],"moz",{109:{code:"NumpadSubtract",location:o},107:{code:"NumpadAdd",location:o}}),u(p[n],"moz-mac",{224:{code:"OSLeft",location:n}}),u(p[i],"moz-mac",{224:{code:"OSRight",location:i}}),u(p[i],"moz-win",{91:{code:"OSRight",location:i}}),u(p[i],"mac",{93:{code:"OSRight",location:i}}),u(p[o],"chrome-mac",{12:{code:"NumLock",location:o}}),u(p[o],"safari-mac",{12:{code:"NumLock",location:o},187:{code:"NumpadAdd",location:o},189:{code:"NumpadSubtract",location:o},190:{code:"NumpadDecimal",location:o},191:{code:"NumpadDivide",location:o}});var f={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},OSLeft:{key:"OS"},OSRight:{key:"OS"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};u(f,"mac",{OSLeft:{key:"Meta"},OSRight:{key:"Meta"}});var m,g,v,y={Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},b=(m=d,g="code",v={},Object.keys(m).forEach(function(e){var t=m[e];g in t&&(v[t[g]]=t)}),v);try{var x=t&&"location"in new KeyboardEvent("")}catch(e){}function w(e){var t="keyCode"in e?e.keyCode:"which"in e?e.which:0,r=function(){if(x||"keyLocation"in e){var r=x?e.location:e.keyLocation;if(r&&t in p[r])return p[r][t]}return"keyIdentifier"in e&&e.keyIdentifier in h?h[e.keyIdentifier]:t in d?d[t]:null}();if(!r)return null;var n,i=(n=f[r.code])?e.shiftKey&&"shiftKey"in n?n.shiftKey:n.key:r.code;return{code:r.code,key:i,location:r.location,keyCap:r.keyCap}}"KeyboardEvent"in e&&"defineProperty"in Object&&function(){function e(e,t,r){t in e||Object.defineProperty(e,t,r)}if(e(KeyboardEvent.prototype,"code",{get:function(){var e=w(this);return e?e.code:""}}),"key"in KeyboardEvent.prototype){var t=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var e=t.get.call(this);return y.hasOwnProperty(e)?y[e]:e}})}e(KeyboardEvent.prototype,"key",{get:function(){var e=w(this);return e&&"key"in e?e.key:"Unidentified"}}),e(KeyboardEvent.prototype,"location",{get:function(){var e=w(this);return e&&"location"in e?e.location:r}}),e(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in e.KeyboardEvent||(e.KeyboardEvent.queryKeyCap=function(e,t){if(e=String(e),!b.hasOwnProperty(e))return"Undefined";if(t&&"en-us"!==String(t).toLowerCase())throw Error("Unsupported locale");var r=b[e];return r.keyCap||r.code||"Undefined"}),e.identifyKey=function(e){if(!("code"in e)){var t=w(e);e.code=t?t.code:"",e.key=t&&"key"in t?t.key:"Unidentified",e.location="location"in e?e.location:"keyLocation"in e?e.keyLocation:t&&"location"in t?t.location:r,e.locale=""}}}(window)},function(e,t){e.exports=AFRAME.registerComponent("touch-controls",{schema:{enabled:{default:!0},reverseEnabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods(),this.direction=0},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("touchstart",this.onTouchStart),t.addEventListener("touchend",this.onTouchEnd)):e.addEventListener("render-target-loaded",this.addEventListeners.bind(this))},removeEventListeners:function(){const e=this.el.sceneEl&&this.el.sceneEl.canvas;e&&(e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchend",this.onTouchEnd))},isVelocityActive:function(){return this.data.enabled&&!!this.direction},getVelocityDelta:function(){return this.dVelocity.z=this.direction,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},onTouchStart:function(e){this.direction=-1,this.data.reverseEnabled&&2===e.touches.length&&(this.direction=1),e.preventDefault()},onTouchEnd:function(e){this.direction=0,e.preventDefault()}})},function(e,t){e.exports=AFRAME.registerComponent("movement-controls",{dependencies:["rotation"],schema:{enabled:{default:!0},controls:{default:["gamepad","trackpad","keyboard","touch"]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:"[movement-controls] [camera]",type:"selector"}},init:function(){const e=this.el;this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.navGroup=null,this.navNode=null,e.sceneEl.hasLoaded?this.injectControls():e.sceneEl.addEventListener("loaded",this.injectControls.bind(this))},update:function(e){const t=this.el,r=this.data,n=t.sceneEl.systems.nav;t.sceneEl.hasLoaded&&this.injectControls(),n&&r.constrainToNavMesh!==e.constrainToNavMesh&&(r.constrainToNavMesh?n.addAgent(this):n.removeAgent(this))},injectControls:function(){const e=this.data;var t;for(let r=0;r<e.controls.length;r++)t=e.controls[r]+"-controls",this.el.components[t]||this.el.setAttribute(t,"")},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){const e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(n,i){if(!i)return;const o=this.el,a=this.data;if(!a.enabled)return;this.updateVelocityCtrl();const s=this.velocityCtrl,c=this.velocity;if(s)if(i/1e3>.2?c.set(0,0,0):this.updateVelocity(i),a.constrainToNavMesh&&!1!==s.isNavMeshConstrained){if(c.lengthSq()<1e-5)return;e.copy(o.object3D.position),t.copy(c).multiplyScalar(i/1e3).add(e);const n=o.sceneEl.systems.nav;this.navGroup=null===this.navGroup?n.getGroup(e):this.navGroup,this.navNode=this.navNode||n.getNode(e,this.navGroup),this.navNode=n.clampStep(e,t,this.navGroup,this.navNode,r),o.object3D.position.copy(r)}else o.hasAttribute("velocity")?o.setAttribute("velocity",c):(o.object3D.position.x+=c.x*i/1e3,o.object3D.position.y+=c.y*i/1e3,o.object3D.position.z+=c.z*i/1e3)}}(),updateVelocityCtrl:function(){const e=this.data;if(e.enabled){for(let t=0,r=e.controls.length;t<r;t++){const r=this.el.components[e.controls[t]+"-controls"];if(r&&r.isVelocityActive())return void(this.velocityCtrl=r)}this.velocityCtrl=null}},updateVelocity:function(){const e=new THREE.Vector2,t=new THREE.Quaternion;return function(r){let n;const i=this.el,o=this.velocityCtrl,a=this.velocity,s=this.data;if(o){if(!o.getVelocityDelta){if(o.getVelocity)return void a.copy(o.getVelocity());if(o.getPositionDelta)return void a.copy(o.getPositionDelta(r).multiplyScalar(1e3/r));throw new Error("Incompatible movement controls: ",o)}n=o.getVelocityDelta(r)}if(i.hasAttribute("velocity")&&!s.constrainToNavMesh&&a.copy(this.el.getAttribute("velocity")),n&&s.enabled){const r=s.camera;t.copy(r.object3D.quaternion),t.premultiply(i.object3D.quaternion),n.applyQuaternion(t);const o=n.length();s.fly?(a.copy(n),a.multiplyScalar(16.66667*this.data.speed)):(e.set(n.x,n.z),e.setLength(o*this.data.speed*16.66667),a.x=e.x,a.z=e.y)}}}()})},function(e,t){e.exports=AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:"touch",oneOf:["swipe","touch","press"]}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.xVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const e=this.data,t=this.el.sceneEl;switch(t.addEventListener("axismove",this.onAxisMove),e.mode){case"swipe":case"touch":t.addEventListener("trackpadtouchstart",this.onTouchStart),t.addEventListener("trackpadtouchend",this.onTouchEnd);break;case"press":t.addEventListener("trackpaddown",this.onTouchStart),t.addEventListener("trackpadup",this.onTouchEnd)}},removeEventListeners:function(){const e=this.el.sceneEl;e.removeEventListener("axismove",this.onAxisMove),e.removeEventListener("trackpadtouchstart",this.onTouchStart),e.removeEventListener("trackpadtouchend",this.onTouchEnd),e.removeEventListener("trackpaddown",this.onTouchStart),e.removeEventListener("trackpadup",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.x=this.isMoving?this.xVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(e){switch(this.data.mode){case"swipe":this.canRecordAxis=!0,this.startingAxisData=[];break;case"touch":case"press":this.isMoving=!0}e.preventDefault()},onTouchEnd:function(e){"swipe"==this.data.mode&&(this.startingAxisData=[]),this.isMoving=!1,e.preventDefault()},onAxisMove:function(e){switch(this.data.mode){case"swipe":return this.handleSwipeAxis(e);case"touch":case"press":return this.handleTouchAxis(e)}},handleSwipeAxis:function(e){const t=this.data,r=e.detail.axis;if(0===this.startingAxisData.length&&this.canRecordAxis&&(this.canRecordAxis=!1,this.startingAxisData[0]=r[0],this.startingAxisData[1]=r[1]),this.startingAxisData.length>0){let e=0,n=0;t.enableNegX&&r[0]<this.startingAxisData[0]&&(e=-1),t.enablePosX&&r[0]>this.startingAxisData[0]&&(e=1),t.enablePosZ&&r[1]>this.startingAxisData[1]&&(n=-1),t.enableNegZ&&r[1]<this.startingAxisData[1]&&(n=1);const i=Math.abs(this.startingAxisData[1]-r[1]);Math.abs(this.startingAxisData[0]-r[0])>i?(this.zVel=0,this.xVel=e,this.isMoving=!0):(this.xVel=0,this.zVel=n,this.isMoving=!0)}},handleTouchAxis:function(e){const t=this.data,r=e.detail.axis;let n=0,i=0;t.enableNegX&&r[0]<0&&(n=-1),t.enablePosX&&r[0]>0&&(n=1),t.enablePosZ&&r[1]>0&&(i=-1),t.enableNegZ&&r[1]<0&&(i=1),Math.abs(r[0])>Math.abs(r[1])?(this.zVel=0,this.xVel=n):(this.xVel=0,this.zVel=i)}})},function(e,t,r){r(811),r(812),r(814),r(816),r(818)},function(e,t){const r={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};function n(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}e.exports=AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},duration:{default:0},clampWhenFinished:{default:!1,type:"boolean"},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(r)},repetitions:{default:1/0,min:0},timeScale:{default:1}},init:function(){this.model=null,this.mixer=null,this.activeActions=[];const e=this.el.getObject3D("mesh");e?this.load(e):this.el.addEventListener("model-loaded",e=>{this.load(e.detail.model)})},load:function(e){const t=this.el;this.model=e,this.mixer=new THREE.AnimationMixer(e),this.mixer.addEventListener("loop",e=>{t.emit("animation-loop",{action:e.action,loopDelta:e.loopDelta})}),this.mixer.addEventListener("finished",e=>{t.emit("animation-finished",{action:e.action,direction:e.direction})}),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(e){if(!e)return;const t=this.data,n=AFRAME.utils.diff(t,e);if("clip"in n)return this.stopAction(),void(t.clip&&this.playAction());this.activeActions.forEach(e=>{"duration"in n&&t.duration&&e.setDuration(t.duration),"clampWhenFinished"in n&&(e.clampWhenFinished=t.clampWhenFinished),("loop"in n||"repetitions"in n)&&e.setLoop(r[t.loop],t.repetitions),"timeScale"in n&&e.setEffectiveTimeScale(t.timeScale)})},stopAction:function(){const e=this.data;for(let t=0;t<this.activeActions.length;t++)e.crossFadeDuration?this.activeActions[t].fadeOut(e.crossFadeDuration):this.activeActions[t].stop();this.activeActions.length=0},playAction:function(){if(!this.mixer)return;const e=this.model,t=this.data,i=e.animations||(e.geometry||{}).animations||[];if(!i.length)return;const o=(a=t.clip,new RegExp("^"+a.split(/\*+/).map(n).join(".*")+"$"));var a;for(let n,a=0;n=i[a];a++)if(n.name.match(o)){const i=this.mixer.clipAction(n,e);i.enabled=!0,i.clampWhenFinished=t.clampWhenFinished,t.duration&&i.setDuration(t.duration),1!==t.timeScale&&i.setEffectiveTimeScale(t.timeScale),i.setLoop(r[t.loop],t.repetitions).fadeIn(t.crossFadeDuration).play(),this.activeActions.push(i)}},tick:function(e,t){this.mixer&&!isNaN(t)&&this.mixer.update(t/1e3)}})},function(e,t,r){THREE.ColladaLoader=r(813),e.exports.Component=AFRAME.registerComponent("collada-model-legacy",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader},update:function(){var e=this,t=this.el,r=this.data,n=this.el.sceneEl.systems.renderer;r&&(this.remove(),this.loader.load(r,function(r){e.model=r.scene,e.model.traverse(function(e){if(e.isMesh){var t=e.material;t.color&&n.applyColorCorrection(t.color),t.map&&n.applyColorCorrection(t.map),t.emissive&&n.applyColorCorrection(t.emissive),t.emissiveMap&&n.applyColorCorrection(t.emissiveMap)}}),t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"collada",model:e.model})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},function(e,t){e.exports=THREE.ColladaLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"anonymous",load:function(e,t,r,n){var i=this,o=void 0===i.path?THREE.LoaderUtils.extractUrlBase(e):i.path,a=new THREE.FileLoader(i.manager);a.setPath(i.path),a.load(e,function(e){t(i.parse(e,o))},r,n)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){function r(e,t){for(var r=[],n=e.childNodes,i=0,o=n.length;i<o;i++){var a=n[i];a.nodeName===t&&r.push(a)}return r}function n(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=t[n];return r}function i(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=parseFloat(t[n]);return r}function o(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=parseInt(t[n]);return r}function a(e){return e.substring(1)}function s(e){return 0===Object.keys(e).length}function c(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function l(e){return void 0!==e?e.textContent:"Y_UP"}function u(e,t,n,i){var o=r(e,t)[0];if(void 0!==o)for(var a=r(o,n),s=0;s<a.length;s++)i(a[s])}function d(e,t){for(var r in e){e[r].build=t(e[r])}}function h(e,t){return void 0!==e.build?e.build:(e.build=t(e),e.build)}function p(e){for(var t={inputs:{}},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"input":var o=a(i.getAttribute("source")),s=i.getAttribute("semantic");t.inputs[s]=o}}return t}function f(e){var t={},r=e.getAttribute("target").split("/"),n=r.shift(),i=r.shift(),o=-1!==i.indexOf("("),s=-1!==i.indexOf(".");if(s)r=i.split("."),i=r.shift(),t.member=r.shift();else if(o){var c=i.split("(");i=c.shift();for(var l=0;l<c.length;l++)c[l]=parseInt(c[l].replace(/\)/,""));t.indices=c}return t.id=n,t.sid=i,t.arraySyntax=o,t.memberSyntax=s,t.sampler=a(e.getAttribute("source")),t}function m(e){var t=[],r=e.channels,n=e.samplers,i=e.sources;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o],s=n[a.sampler],c=s.inputs.INPUT,l=s.inputs.OUTPUT;w(v(a,i[c],i[l]),t)}return t}function g(e){return h(qe.animations[e],m)}function v(e,t,r){var n,i,o,a,s,c,l=qe.nodes[e.id],u=De(l.id),d=l.transforms[e.sid],h=l.matrix.clone().transpose(),p={};switch(d){case"matrix":for(o=0,a=t.array.length;o<a;o++)if(n=t.array[o],i=o*r.stride,void 0===p[n]&&(p[n]={}),!0===e.arraySyntax){var f=r.array[i],m=e.indices[0]+4*e.indices[1];p[n][m]=f}else for(s=0,c=r.stride;s<c;s++)p[n][s]=r.array[i+s];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',d)}var g=function(e,t){var r=[];for(var n in e)r.push({time:parseFloat(n),value:e[n]});r.sort(function(e,t){return e.time-t.time});for(var i=0;i<16;i++)E(r,i,t.elements[i]);return r}(p,h);return{name:u.uuid,keyframes:g}}var y=new THREE.Vector3,b=new THREE.Vector3,x=new THREE.Quaternion;function w(e,t){for(var r=e.keyframes,n=e.name,i=[],o=[],a=[],s=[],c=0,l=r.length;c<l;c++){var u=r[c],d=u.time,h=u.value;_e.fromArray(h).transpose(),_e.decompose(y,x,b),i.push(d),o.push(y.x,y.y,y.z),a.push(x.x,x.y,x.z,x.w),s.push(b.x,b.y,b.z)}return o.length>0&&t.push(new THREE.VectorKeyframeTrack(n+".position",i,o)),a.length>0&&t.push(new THREE.QuaternionKeyframeTrack(n+".quaternion",i,a)),s.length>0&&t.push(new THREE.VectorKeyframeTrack(n+".scale",i,s)),t}function E(e,t,r){var n,i,o,a=!0;for(i=0,o=e.length;i<o;i++)void 0===(n=e[i]).value[t]?n.value[t]=null:a=!1;if(!0===a)for(i=0,o=e.length;i<o;i++)(n=e[i]).value[t]=r;else!function(e,t){for(var r,n,i=0,o=e.length;i<o;i++){var a=e[i];if(null===a.value[t]){if(r=A(e,i,t),n=_(e,i,t),null===r){a.value[t]=n.value[t];continue}if(null===n){a.value[t]=r.value[t];continue}M(a,r,n,t)}}}(e,t)}function A(e,t,r){for(;t>=0;){var n=e[t];if(null!==n.value[r])return n;t--}return null}function _(e,t,r){for(;t<e.length;){var n=e[t];if(null!==n.value[r])return n;t++}return null}function M(e,t,r,n){r.time-t.time!=0?e.value[n]=(e.time-t.time)*(r.value[n]-t.value[n])/(r.time-t.time)+t.value[n]:e.value[n]=t.value[n]}function S(e){for(var t=[],r=e.name,n=e.end-e.start||-1,i=e.animations,o=0,a=i.length;o<a;o++)for(var s=g(i[o]),c=0,l=s.length;c<l;c++)t.push(s[c]);return new THREE.AnimationClip(r,n,t)}function T(e){return h(qe.clips[e],S)}function C(e){for(var t={sources:{}},r=0,n=e.childNodes.length;r<n;r++){var o=e.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=i(o.textContent);break;case"source":var a=o.getAttribute("id");t.sources[a]=ie(o);break;case"joints":t.joints=O(o);break;case"vertex_weights":t.vertexWeights=L(o)}}return t}function O(e){for(var t={inputs:{}},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"input":var o=i.getAttribute("semantic"),s=a(i.getAttribute("source"));t.inputs[o]=s}}return t}function L(e){for(var t={inputs:{}},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"input":var s=i.getAttribute("semantic"),c=a(i.getAttribute("source")),l=parseInt(i.getAttribute("offset"));t.inputs[s]={id:c,offset:l};break;case"vcount":t.vcount=o(i.textContent);break;case"v":t.v=o(i.textContent)}}return t}function R(e){var t={id:e.id},r=qe.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){var t,r,n,i={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},o=e.sources,a=e.vertexWeights,s=a.vcount,c=a.v,l=a.inputs.JOINT.offset,u=a.inputs.WEIGHT.offset,d=e.sources[e.joints.inputs.JOINT],h=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=o[a.inputs.WEIGHT.id].array,f=0;for(t=0,n=s.length;t<n;t++){var m=s[t],g=[];for(r=0;r<m;r++){var v=c[f+l],y=c[f+u],b=p[y];g.push({index:v,weight:b}),f+=2}for(g.sort(A),r=0;r<4;r++){var x=g[r];void 0!==x?(i.indices.array.push(x.index),i.weights.array.push(x.weight)):(i.indices.array.push(0),i.weights.array.push(0))}}e.bindShapeMatrix?i.bindMatrix=(new THREE.Matrix4).fromArray(e.bindShapeMatrix).transpose():i.bindMatrix=(new THREE.Matrix4).identity();for(t=0,n=d.array.length;t<n;t++){var w=d.array[t],E=(new THREE.Matrix4).fromArray(h.array,t*h.stride).transpose();i.joints.push({name:w,boneInverse:E})}return i;function A(e,t){return t.weight-e.weight}}(e.skin),r.sources.skinIndices=t.skin.indices,r.sources.skinWeights=t.skin.weights),t}function P(e){return void 0!==e.build?e.build:e.init_from}function k(e){var t=qe.images[e];return void 0!==t?h(t,P):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function j(e){for(var t={surfaces:{},samplers:{}},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"newparam":D(i,t);break;case"technique":t.technique=z(i);break;case"extra":t.extra=V(i)}}return t}function D(e,t){for(var r=e.getAttribute("sid"),n=0,i=e.childNodes.length;n<i;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"surface":t.surfaces[r]=I(o);break;case"sampler2D":t.samplers[r]=N(o)}}}function I(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"init_from":t.init_from=i.textContent}}return t}function N(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"source":t.source=i.textContent}}return t}function z(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=i.nodeName,t.parameters=B(i)}}return t}function B(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[i.nodeName]=F(i);break;case"transparent":t[i.nodeName]={opaque:i.getAttribute("opaque"),data:F(i)}}}return t}function F(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var o=e.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"color":t[o.nodeName]=i(o.textContent);break;case"float":t[o.nodeName]=parseFloat(o.textContent);break;case"texture":t[o.nodeName]={id:o.getAttribute("texture"),extra:U(o)}}}return t}function U(e){for(var t={technique:{}},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"extra":H(i,t)}}return t}function H(e,t){for(var r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"technique":G(i,t)}}}function G(e,t){for(var r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[i.nodeName]=parseFloat(i.textContent);break;case"wrapU":case"wrapV":"TRUE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=1:"FALSE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=0:t.technique[i.nodeName]=parseInt(i.textContent)}}}function V(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"technique":t.technique=W(i)}}return t}function W(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"double_sided":t[i.nodeName]=parseInt(i.textContent)}}return t}function q(e){return e}function X(e){var t,r,n=(t=e.url,h(qe.effects[t],q)),i=n.profile.technique,o=n.profile.extra;switch(i.type){case"phong":case"blinn":r=new THREE.MeshPhongMaterial;break;case"lambert":r=new THREE.MeshLambertMaterial;break;default:r=new THREE.MeshBasicMaterial}function a(e){var t=n.profile.samplers[e.id],r=null;void 0!==t?r=k(n.profile.surfaces[t.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),r=k(e.id));if(null!==r){var i=function(e){var t,r=e.slice(2+(e.lastIndexOf(".")-1>>>0));switch(r=r.toLowerCase()){case"tga":t=Fe;break;default:t=He}return t}(r);if(void 0!==i){var o=i.load(r),a=e.extra;if(void 0!==a&&void 0!==a.technique&&!1===s(a.technique)){var c=a.technique;o.wrapS=c.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,o.wrapT=c.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,o.offset.set(c.offsetU||0,c.offsetV||0),o.repeat.set(c.repeatU||1,c.repeatV||1)}else o.wrapS=THREE.RepeatWrapping,o.wrapT=THREE.RepeatWrapping;return o}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",r),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}r.name=e.name;var c=i.parameters;for(var l in c){var u=c[l];switch(l){case"diffuse":u.color&&r.color.fromArray(u.color),u.texture&&(r.map=a(u.texture));break;case"specular":u.color&&r.specular&&r.specular.fromArray(u.color),u.texture&&(r.specularMap=a(u.texture));break;case"bump":u.texture&&(r.normalMap=a(u.texture));break;case"ambient":u.texture&&(r.lightMap=a(u.texture));break;case"shininess":u.float&&r.shininess&&(r.shininess=u.float);break;case"emission":u.color&&r.emissive&&r.emissive.fromArray(u.color),u.texture&&(r.emissiveMap=a(u.texture))}}var d=c.transparent,p=c.transparency;if(void 0===p&&d&&(p={float:1}),void 0===d&&p&&(d={opaque:"A_ONE",data:{color:[1,1,1,1]}}),d&&p)if(d.data.texture)r.transparent=!0;else{var f=d.data.color;switch(d.opaque){case"A_ONE":r.opacity=f[3]*p.float;break;case"RGB_ZERO":r.opacity=1-f[0]*p.float;break;case"A_ZERO":r.opacity=1-f[3]*p.float;break;case"RGB_ONE":r.opacity=f[0]*p.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',d.opaque)}r.opacity<1&&(r.transparent=!0)}return void 0!==o&&void 0!==o.technique&&1===o.technique.double_sided&&(r.side=THREE.DoubleSide),r}function Y(e){return h(qe.materials[e],X)}function K(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"technique_common":return Q(r)}}return{}}function Q(e){for(var t={},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];switch(n.nodeName){case"perspective":case"orthographic":t.technique=n.nodeName,t.parameters=Z(n)}}return t}function Z(e){for(var t={},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];switch(n.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[n.nodeName]=parseFloat(n.textContent)}}return t}function J(e){var t;switch(e.optics.technique){case"perspective":t=new THREE.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var r=e.optics.parameters.ymag,n=e.optics.parameters.xmag,i=e.optics.parameters.aspect_ratio;n=void 0===n?r*i:n,r=void 0===r?n/i:r,n*=.5,r*=.5,t=new THREE.OrthographicCamera(-n,n,r,-r,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=e.name,t}function $(e){var t=qe.cameras[e];return void 0!==t?h(t,J):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function ee(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=i.nodeName,t.parameters=te(i)}}return t}function te(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var o=e.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"color":var a=i(o.textContent);t.color=(new THREE.Color).fromArray(a);break;case"falloff_angle":t.falloffAngle=parseFloat(o.textContent);break;case"quadratic_attenuation":var s=parseFloat(o.textContent);t.distance=s?Math.sqrt(1/s):0}}return t}function re(e){var t;switch(e.technique){case"directional":t=new THREE.DirectionalLight;break;case"point":t=new THREE.PointLight;break;case"spot":t=new THREE.SpotLight;break;case"ambient":t=new THREE.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function ne(e){var t=qe.lights[e];return void 0!==t?h(t,re):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function ie(e){for(var t={array:[],stride:3},o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1===a.nodeType)switch(a.nodeName){case"float_array":t.array=i(a.textContent);break;case"Name_array":t.array=n(a.textContent);break;case"technique_common":var s=r(a,"accessor")[0];void 0!==s&&(t.stride=parseInt(s.getAttribute("stride")))}}return t}function oe(e){for(var t={},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];1===n.nodeType&&(t[n.getAttribute("semantic")]=a(n.getAttribute("source")))}return t}function ae(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"input":var s=a(i.getAttribute("source")),c=i.getAttribute("semantic"),l=parseInt(i.getAttribute("offset")),u=parseInt(i.getAttribute("set")),d=u>0?c+u:c;t.inputs[d]={id:s,offset:l},t.stride=Math.max(t.stride,l+1),"TEXCOORD"===c&&(t.hasUV=!0);break;case"vcount":t.vcount=o(i.textContent);break;case"p":t.p=o(i.textContent)}}return t}function se(e){for(var t=0,r=0,n=e.length;r<n;r++){!0===e[r].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function ce(e){var t={},r=e.sources,n=e.vertices,i=e.primitives;if(0===i.length)return{};var o=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];void 0===t[n.type]&&(t[n.type]=[]),t[n.type].push(n)}return t}(i);for(var a in o){var s=o[a];se(s),t[a]=le(s,r,n)}return t}function le(e,t,r){for(var n={},i={array:[],stride:0},o={array:[],stride:0},a={array:[],stride:0},s={array:[],stride:0},c={array:[],stride:0},l=[],u=4,d=[],h=4,p=new THREE.BufferGeometry,f=[],m=0,g=0;g<e.length;g++){var v=e[g],y=v.inputs,b=0;switch(v.type){case"lines":case"linestrips":b=2*v.count;break;case"triangles":b=3*v.count;break;case"polylist":for(var x=0;x<v.count;x++){var w=v.vcount[x];switch(w){case 3:b+=3;break;case 4:b+=6;break;default:b+=3*(w-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",v.type)}for(var E in p.addGroup(m,b,g),m+=b,v.material&&f.push(v.material),y){var A=y[E];switch(E){case"VERTEX":for(var _ in r){var M=r[_];switch(_){case"POSITION":var S=i.array.length;if(ue(v,t[M],A.offset,i.array),i.stride=t[M].stride,t.skinWeights&&t.skinIndices&&(ue(v,t.skinIndices,A.offset,l),ue(v,t.skinWeights,A.offset,d)),!1===v.hasUV&&!0===e.uvsNeedsFix){b=(i.array.length-S)/i.stride;for(var T=0;T<b;T++)a.array.push(0,0)}break;case"NORMAL":ue(v,t[M],A.offset,o.array),o.stride=t[M].stride;break;case"COLOR":ue(v,t[M],A.offset,c.array),c.stride=t[M].stride;break;case"TEXCOORD":ue(v,t[M],A.offset,a.array),a.stride=t[M].stride;break;case"TEXCOORD1":ue(v,t[M],A.offset,s.array),a.stride=t[M].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',_)}}break;case"NORMAL":ue(v,t[A.id],A.offset,o.array),o.stride=t[A.id].stride;break;case"COLOR":ue(v,t[A.id],A.offset,c.array),c.stride=t[A.id].stride;break;case"TEXCOORD":ue(v,t[A.id],A.offset,a.array),a.stride=t[A.id].stride;break;case"TEXCOORD1":ue(v,t[A.id],A.offset,s.array),s.stride=t[A.id].stride}}}return i.array.length>0&&p.addAttribute("position",new THREE.Float32BufferAttribute(i.array,i.stride)),o.array.length>0&&p.addAttribute("normal",new THREE.Float32BufferAttribute(o.array,o.stride)),c.array.length>0&&p.addAttribute("color",new THREE.Float32BufferAttribute(c.array,c.stride)),a.array.length>0&&p.addAttribute("uv",new THREE.Float32BufferAttribute(a.array,a.stride)),s.array.length>0&&p.addAttribute("uv2",new THREE.Float32BufferAttribute(s.array,s.stride)),l.length>0&&p.addAttribute("skinIndex",new THREE.Float32BufferAttribute(l,u)),d.length>0&&p.addAttribute("skinWeight",new THREE.Float32BufferAttribute(d,h)),n.data=p,n.type=e[0].type,n.materialKeys=f,n}function ue(e,t,r,n){var i=e.p,o=e.stride,a=e.vcount;function s(e){for(var t=i[e+r]*l,o=t+l;t<o;t++)n.push(c[t])}var c=t.array,l=t.stride;if(void 0!==e.vcount)for(var u=0,d=0,h=a.length;d<h;d++){var p=a[d];if(4===p){var f=u+1*o,m=u+2*o,g=u+3*o;s(u+0*o),s(f),s(g),s(f),s(m),s(g)}else if(3===p){f=u+1*o,m=u+2*o;s(u+0*o),s(f),s(m)}else if(p>4)for(var v=1,y=p-2;v<=y;v++){f=u+o*v,m=u+o*(v+1);s(u+0*o),s(f),s(m)}u+=o*p}else for(d=0,h=i.length;d<h;d+=o)s(d)}function de(e){return h(qe.geometries[e],ce)}function he(e){return void 0!==e.build?e.build:e}function pe(e,t){for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"joint":t.joints[n.getAttribute("sid")]=fe(n);break;case"link":t.links.push(ge(n))}}}function fe(e){for(var t,r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"prismatic":case"revolute":t=me(n)}}return t}function me(e,t){t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"axis":var o=i(n.textContent);t.axis.fromArray(o);break;case"limits":var a=n.getElementsByTagName("max")[0],s=n.getElementsByTagName("min")[0];t.limits.max=parseFloat(a.textContent),t.limits.min=parseFloat(s.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function ge(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"attachment_full":t.attachments.push(ve(n));break;case"matrix":case"translate":case"rotate":t.transforms.push(ye(n))}}return t}function ve(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"link":t.links.push(ge(n));break;case"matrix":case"translate":case"rotate":t.transforms.push(ye(n))}}return t}function ye(e){var t={type:e.nodeName},r=i(e.textContent);switch(t.type){case"matrix":t.obj=new THREE.Matrix4,t.obj.fromArray(r).transpose();break;case"translate":t.obj=new THREE.Vector3,t.obj.fromArray(r);break;case"rotate":t.obj=new THREE.Vector3,t.obj.fromArray(r),t.angle=THREE.Math.degToRad(r[3])}return t}function be(e,t){for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"technique_common":xe(n,t)}}}function xe(e,t){for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"inertia":t.inertia=i(n.textContent);break;case"mass":t.mass=i(n.textContent)[0]}}}function we(e){for(var t={target:e.getAttribute("target").split("/").pop()},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"axis":var i=n.getElementsByTagName("param")[0];t.axis=i.textContent;var o=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=o.substr(0,o.length-1)}}return t}function Ee(e){return void 0!==e.build?e.build:e}function Ae(e){for(var t=[],r=ze.querySelector('[id="'+e.id+'"]'),n=0;n<r.childNodes.length;n++){var o=r.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"matrix":var a=i(o.textContent),s=(new THREE.Matrix4).fromArray(a).transpose();t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:s});break;case"translate":case"scale":a=i(o.textContent);var c=(new THREE.Vector3).fromArray(a);t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:c});break;case"rotate":a=i(o.textContent),c=(new THREE.Vector3).fromArray(a);var l=THREE.Math.degToRad(a[3]);t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:c,angle:l})}}return t}var _e=new THREE.Matrix4,Me=new THREE.Vector3;function Se(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"node":t.nodes.push(n.getAttribute("id")),Se(n);break;case"instance_camera":t.instanceCameras.push(a(n.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Te(n));break;case"instance_light":t.instanceLights.push(a(n.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Te(n));break;case"instance_node":t.instanceNodes.push(a(n.getAttribute("url")));break;case"matrix":var o=i(n.textContent);t.matrix.multiply(_e.fromArray(o).transpose()),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"translate":o=i(n.textContent);Me.fromArray(o),t.matrix.multiply(_e.makeTranslation(Me.x,Me.y,Me.z)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"rotate":o=i(n.textContent);var s=THREE.Math.degToRad(o[3]);t.matrix.multiply(_e.makeRotationAxis(Me.fromArray(o),s)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"scale":o=i(n.textContent);t.matrix.scale(Me.fromArray(o)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"extra":break;default:console.log(n)}}return je(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):qe.nodes[t.id]=t,t}function Te(e){for(var t={id:a(e.getAttribute("url")),materials:{},skeletons:[]},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];switch(n.nodeName){case"bind_material":for(var i=n.getElementsByTagName("instance_material"),o=0;o<i.length;o++){var s=i[o],c=s.getAttribute("symbol"),l=s.getAttribute("target");t.materials[c]=a(l)}break;case"skeleton":t.skeletons.push(a(n.textContent))}}return t}function Ce(e,t){var r,n,i,o=[],a=[];for(r=0;r<e.length;r++){var s=e[r];if(je(s))Oe(De(s),t,o);else if(i=s,void 0!==qe.visualScenes[i])for(var c=qe.visualScenes[s].children,l=0;l<c.length;l++){var u=c[l];if("JOINT"===u.type)Oe(De(u.id),t,o)}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",s)}for(r=0;r<t.length;r++)for(l=0;l<o.length;l++)if((n=o[l]).bone.name===t[r].name){a[r]=n,n.processed=!0;break}for(r=0;r<o.length;r++)!1===(n=o[r]).processed&&(a.push(n),n.processed=!0);var d=[],h=[];for(r=0;r<a.length;r++)n=a[r],d.push(n.bone),h.push(n.boneInverse);return new THREE.Skeleton(d,h)}function Oe(e,t,r){e.traverse(function(e){if(!0===e.isBone){for(var n,i=0;i<t.length;i++){var o=t[i];if(o.name===e.name){n=o.boneInverse;break}}void 0===n&&(n=new THREE.Matrix4),r.push({bone:e,boneInverse:n,processed:!1})}})}function Le(e){for(var t,r=[],n=e.matrix,i=e.nodes,o=e.type,a=e.instanceCameras,s=e.instanceControllers,c=e.instanceLights,l=e.instanceGeometries,u=e.instanceNodes,d=0,p=i.length;d<p;d++)r.push(De(i[d]));for(d=0,p=a.length;d<p;d++){var f=$(a[d]);null!==f&&r.push(f.clone())}for(d=0,p=s.length;d<p;d++)for(var m=s[d],g=(t=m.id,h(qe.controllers[t],R)),v=ke(de(g.id),m.materials),y=Ce(m.skeletons,g.skin.joints),b=0,x=v.length;b<x;b++){var w;(w=v[b]).isSkinnedMesh&&(w.bind(y,g.skin.bindMatrix),w.normalizeSkinWeights()),r.push(w)}for(d=0,p=c.length;d<p;d++){var E=ne(c[d]);null!==E&&r.push(E.clone())}for(d=0,p=l.length;d<p;d++)for(b=0,x=(v=ke(de((m=l[d]).id),m.materials)).length;b<x;b++)r.push(v[b]);for(d=0,p=u.length;d<p;d++)r.push(De(u[d]).clone());if(0===i.length&&1===r.length)w=r[0];else{w="JOINT"===o?new THREE.Bone:new THREE.Group;for(d=0;d<r.length;d++)w.add(r[d])}return""===w.name&&(w.name="JOINT"===o?e.sid:e.name),w.matrix.copy(n),w.matrix.decompose(w.position,w.quaternion,w.scale),w}var Re=new THREE.MeshBasicMaterial({color:16711935});function Pe(e,t){for(var r=[],n=0,i=e.length;n<i;n++){var o=t[e[n]];void 0===o?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[n]),r.push(Re)):r.push(Y(o))}return r}function ke(e,t){var r=[];for(var n in e){var i=e[n],o=Pe(i.materialKeys,t);0===o.length&&("lines"===n||"linestrips"===n?o.push(new THREE.LineBasicMaterial):o.push(new THREE.MeshPhongMaterial));var a=void 0!==i.data.attributes.skinIndex;if(a)for(var s=0,c=o.length;s<c;s++)o[s].skinning=!0;var l,u=1===o.length?o[0]:o;switch(n){case"lines":l=new THREE.LineSegments(i.data,u);break;case"linestrips":l=new THREE.Line(i.data,u);break;case"triangles":case"polylist":l=a?new THREE.SkinnedMesh(i.data,u):new THREE.Mesh(i.data,u)}r.push(l)}return r}function je(e){return void 0!==qe.nodes[e]}function De(e){return h(qe.nodes[e],Le)}function Ie(e){var t=new THREE.Group;t.name=e.name;for(var r=e.children,n=0;n<r.length;n++){var i=r[n];t.add(De(i.id))}return t}function Ne(e){return h(qe.visualScenes[e],Ie)}if(0===e.length)return{scene:new THREE.Scene};var ze=r((new DOMParser).parseFromString(e,"application/xml"),"COLLADA")[0],Be=ze.getAttribute("version");console.log("THREE.ColladaLoader: File version",Be);var Fe,Ue=function(e){return{unit:c(r(e,"unit")[0]),upAxis:l(r(e,"up_axis")[0])}}(r(ze,"asset")[0]),He=new THREE.TextureLoader(this.manager);He.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),THREE.TGALoader&&(Fe=new THREE.TGALoader(this.manager)).setPath(this.resourcePath||t);var Ge=[],Ve={},We=0,qe={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};u(ze,"library_animations","animation",function(e){for(var t={sources:{},samplers:{},channels:{}},r=0,n=e.childNodes.length;r<n;r++){var i,o=e.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"source":i=o.getAttribute("id"),t.sources[i]=ie(o);break;case"sampler":i=o.getAttribute("id"),t.samplers[i]=p(o);break;case"channel":i=o.getAttribute("target"),t.channels[i]=f(o);break;default:console.log(o)}}qe.animations[e.getAttribute("id")]=t}),u(ze,"library_animation_clips","animation_clip",function(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"instance_animation":t.animations.push(a(i.getAttribute("url")))}}qe.clips[e.getAttribute("id")]=t}),u(ze,"library_controllers","controller",function(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"skin":t.id=a(i.getAttribute("source")),t.skin=C(i);break;case"morph":t.id=a(i.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}qe.controllers[e.getAttribute("id")]=t}),u(ze,"library_images","image",function(e){var t={init_from:r(e,"init_from")[0].textContent};qe.images[e.getAttribute("id")]=t}),u(ze,"library_effects","effect",function(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"profile_COMMON":t.profile=j(i)}}qe.effects[e.getAttribute("id")]=t}),u(ze,"library_materials","material",function(e){for(var t={name:e.getAttribute("name")},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"instance_effect":t.url=a(i.getAttribute("url"))}}qe.materials[e.getAttribute("id")]=t}),u(ze,"library_cameras","camera",function(e){for(var t={name:e.getAttribute("name")},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"optics":t.optics=K(i)}}qe.cameras[e.getAttribute("id")]=t}),u(ze,"library_lights","light",function(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"technique_common":t=ee(i)}}qe.lights[e.getAttribute("id")]=t}),u(ze,"library_geometries","geometry",function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},n=r(e,"mesh")[0];if(void 0!==n){for(var i=0;i<n.childNodes.length;i++){var o=n.childNodes[i];if(1===o.nodeType){var a=o.getAttribute("id");switch(o.nodeName){case"source":t.sources[a]=ie(o);break;case"vertices":t.vertices=oe(o);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",o.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ae(o));break;default:console.log(o)}}}qe.geometries[e.getAttribute("id")]=t}}),u(ze,"library_nodes","node",Se),u(ze,"library_visual_scenes","visual_scene",function(e){var t={name:e.getAttribute("name"),children:[]};!function(e){for(var t=e.getElementsByTagName("node"),r=0;r<t.length;r++){var n=t[r];!1===n.hasAttribute("id")&&n.setAttribute("id","three_default_"+We++)}}(e);for(var n=r(e,"node"),i=0;i<n.length;i++)t.children.push(Se(n[i]));qe.visualScenes[e.getAttribute("id")]=t}),u(ze,"library_kinematics_models","kinematics_model",function(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"technique_common":pe(n,t)}}qe.kinematicsModels[e.getAttribute("id")]=t}),u(ze,"library_physics_models","physics_model",function(e){for(var t={name:e.getAttribute("name")||"",rigidBodies:{}},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"rigid_body":t.rigidBodies[n.getAttribute("name")]={},be(n,t.rigidBodies[n.getAttribute("name")])}}qe.physicsModels[e.getAttribute("id")]=t}),u(ze,"scene","instance_kinematics_scene",function(e){for(var t={bindJointAxis:[]},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"bind_joint_axis":t.bindJointAxis.push(we(n))}}qe.kinematicsScenes[a(e.getAttribute("url"))]=t}),d(qe.animations,m),d(qe.clips,S),d(qe.controllers,R),d(qe.images,P),d(qe.effects,q),d(qe.materials,X),d(qe.cameras,J),d(qe.lights,re),d(qe.geometries,ce),d(qe.visualScenes,Ie),function(){var e=qe.clips;if(!0===s(e)){if(!1===s(qe.animations)){var t=[];for(var r in qe.animations)for(var n=g(r),i=0,o=n.length;i<o;i++)t.push(n[i]);Ge.push(new THREE.AnimationClip("default",-1,t))}}else for(var r in e)Ge.push(T(r))}(),function(){var e=Object.keys(qe.kinematicsModels)[0],t=Object.keys(qe.kinematicsScenes)[0],r=Object.keys(qe.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var n,i=(n=e,h(qe.kinematicsModels[n],he)),o=function(e){return h(qe.kinematicsScenes[e],Ee)}(t),a=Ne(r),s=o.bindJointAxis,c={},l=0,u=s.length;l<u;l++){var d=s[l],p=ze.querySelector('[sid="'+d.target+'"]');if(p){var f=p.parentElement;g(d.jointIndex,f)}}var m=new THREE.Matrix4;Ve={joints:i&&i.joints,getJointValue:function(e){var t=c[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var r=c[e];if(r){var n=r.joint;if(t>n.limits.max||t<n.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+n.limits.min+", max: "+n.limits.max+").");else if(n.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var i=r.object,o=n.axis,a=r.transforms;_e.identity();for(var s=0;s<a.length;s++){var l=a[s];if(l.sid&&-1!==l.sid.indexOf(e))switch(n.type){case"revolute":_e.multiply(m.makeRotationAxis(o,THREE.Math.degToRad(t)));break;case"prismatic":_e.multiply(m.makeTranslation(o.x*t,o.y*t,o.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+n.type)}else switch(l.type){case"matrix":_e.multiply(l.obj);break;case"translate":_e.multiply(m.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"scale":_e.scale(l.obj);break;case"rotate":_e.multiply(m.makeRotationAxis(l.obj,l.angle))}}i.matrix.copy(_e),i.matrix.decompose(i.position,i.quaternion,i.scale),c[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function g(e,t){var r=t.getAttribute("name"),n=i.joints[e];a.traverse(function(i){i.name===r&&(c[e]={object:i,transforms:Ae(t),joint:n,position:n.zeroPosition})})}}();var Xe=function(e){return Ne(a(r(e,"instance_visual_scene")[0].getAttribute("url")))}(r(ze,"scene")[0]);return"Z_UP"===Ue.upAxis&&Xe.quaternion.setFromEuler(new THREE.Euler(-Math.PI/2,0,0)),Xe.scale.multiplyScalar(Ue.unit),{animations:Ge,kinematics:Ve,library:qe,scene:Xe}}}},function(e,t,r){THREE.FBXLoader=r(815),e.exports=AFRAME.registerComponent("fbx-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){const e=this.data;if(!e.src)return;this.remove();const t=new THREE.FBXLoader;e.crossorigin&&t.setCrossOrigin(e.crossorigin),t.load(e.src,this.load.bind(this))},load:function(e){this.model=e,this.el.setObject3D("mesh",e),this.el.emit("model-loaded",{format:"fbx",model:e})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},function(e,t){e.exports=THREE.FBXLoader=function(){var e,t,r;function n(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function i(e){this.textureLoader=e}function o(){}function a(){}function s(){}function c(){}function l(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function u(){}function d(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function h(e){return e/46186158e3}n.prototype={constructor:n,crossOrigin:"anonymous",load:function(e,t,r,n){var i=this,o=THREE.LoaderUtils.extractUrlBase(e),a=new THREE.FileLoader(this.manager);a.setResponseType("arraybuffer"),a.load(e,function(r){try{var a=i.parse(r,o);t(a)}catch(t){setTimeout(function(){n&&n(t),i.manager.itemError(e)},0)}},r,n)},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(t,r){if(a="Kaydara FBX Binary  \0",(o=t).byteLength>=a.length&&a===A(o,0,a.length))e=(new c).parse(t);else{var n=A(t);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],r=0;function n(t){var n=e[t-1];return e=e.slice(r+t),r++,n}for(var i=0;i<t.length;++i){var o=n(1);if(o===t[i])return!1}return!0}(n))throw new Error("THREE.FBXLoader: Unknown format.");if(d(n)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+d(n));e=(new s).parse(n)}var o,a;return new i(new THREE.TextureLoader(this.manager).setPath(r).setCrossOrigin(this.crossOrigin)).parse(e)}},i.prototype={constructor:i,parse:function(){t=this.parseConnections();var e=this.parseImages(),n=this.parseTextures(e),i=this.parseMaterials(n),a=this.parseDeformers(),s=(new o).parse(a);return this.parseScene(a,s,i),r},parseConnections:function(){var t=new Map;"Connections"in e&&e.Connections.connections.forEach(function(e){var r=e[0],n=e[1],i=e[2];t.has(r)||t.set(r,{parents:[],children:[]});var o={ID:n,relationship:i};t.get(r).parents.push(o),t.has(n)||t.set(n,{parents:[],children:[]});var a={ID:r,relationship:i};t.get(n).children.push(a)});return t},parseImages:function(){var t={},r={};if("Video"in e.Objects){var n=e.Objects.Video;for(var i in n){var o=n[i];if(t[l=parseInt(i)]=o.RelativeFilename||o.Filename,"Content"in o){var a=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,s="string"==typeof o.Content&&""!==o.Content;if(a||s){var c=this.parseImage(n[i]);r[o.RelativeFilename||o.Filename]=c}}}}for(var l in t){var u=t[l];void 0!==r[u]?t[l]=r[u]:t[l]=t[l].split("\\").pop()}return t},parseImage:function(e){var t,r=e.Content,n=e.RelativeFilename||e.Filename,i=n.slice(n.lastIndexOf(".")+1).toLowerCase();switch(i){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":if("function"!=typeof THREE.TGALoader)return void console.warn("FBXLoader: THREE.TGALoader is required to load TGA textures");null===THREE.Loader.Handlers.get(".tga")&&THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+i+'" is not supported.')}if("string"==typeof r)return"data:"+t+";base64,"+r;var o=new Uint8Array(r);return window.URL.createObjectURL(new Blob([o],{type:t}))},parseTextures:function(t){var r=new Map;if("Texture"in e.Objects){var n=e.Objects.Texture;for(var i in n){var o=this.parseTexture(n[i],t);r.set(parseInt(i),o)}}return r},parseTexture:function(e,t){var r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;var n=e.WrapModeU,i=e.WrapModeV,o=void 0!==n?n.value:0,a=void 0!==i?i.value:0;if(r.wrapS=0===o?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,r.wrapT=0===a?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,"Scaling"in e){var s=e.Scaling.value;r.repeat.x=s[0],r.repeat.y=s[1]}return r},loadTexture:function(e,r){var n,i,o=this.textureLoader.path,a=t.get(e.id).children;void 0!==a&&a.length>0&&void 0!==r[a[0].ID]&&(0!==(n=r[a[0].ID]).indexOf("blob:")&&0!==n.indexOf("data:")||this.textureLoader.setPath(void 0));var s=e.FileName.slice(-3).toLowerCase();if("tga"===s){var c=THREE.Loader.Handlers.get(".tga");null===c?(console.warn("FBXLoader: TGALoader not found, creating empty placeholder texture for",n),i=new THREE.Texture):i=c.load(n)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating empty placeholder texture for",n),i=new THREE.Texture):i=this.textureLoader.load(n);return this.textureLoader.setPath(o),i},parseMaterials:function(t){var r=new Map;if("Material"in e.Objects){var n=e.Objects.Material;for(var i in n){var o=this.parseMaterial(n[i],t);null!==o&&r.set(parseInt(i),o)}}return r},parseMaterial:function(e,r){var n=e.id,i=e.attrName,o=e.ShadingModel;if("object"==typeof o&&(o=o.value),!t.has(n))return null;var a,s=this.parseParameters(e,r,n);switch(o.toLowerCase()){case"phong":a=new THREE.MeshPhongMaterial;break;case"lambert":a=new THREE.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),a=new THREE.MeshPhongMaterial({color:3342591})}return a.setValues(s),a.name=i,a},parseParameters:function(e,r,n){var i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new THREE.Color).fromArray(e.Diffuse.value):e.DiffuseColor&&"Color"===e.DiffuseColor.type&&(i.color=(new THREE.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new THREE.Color).fromArray(e.Emissive.value):e.EmissiveColor&&"Color"===e.EmissiveColor.type&&(i.emissive=(new THREE.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new THREE.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new THREE.Color).fromArray(e.SpecularColor.value));var o=this;return t.get(n).children.forEach(function(e){var t=e.relationship;switch(t){case"Bump":i.bumpMap=o.getTexture(r,e.ID);break;case"DiffuseColor":i.map=o.getTexture(r,e.ID);break;case"DisplacementColor":i.displacementMap=o.getTexture(r,e.ID);break;case"EmissiveColor":i.emissiveMap=o.getTexture(r,e.ID);break;case"NormalMap":i.normalMap=o.getTexture(r,e.ID);break;case"ReflectionColor":i.envMap=o.getTexture(r,e.ID),i.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case"SpecularColor":i.specularMap=o.getTexture(r,e.ID);break;case"TransparentColor":i.alphaMap=o.getTexture(r,e.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",t)}}),i},getTexture:function(r,n){return"LayeredTexture"in e.Objects&&n in e.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),n=t.get(n).children[0].ID),r.get(n)},parseDeformers:function(){var r={},n={};if("Deformer"in e.Objects){var i=e.Objects.Deformer;for(var o in i){var a=i[o],s=t.get(parseInt(o));if("Skin"===a.attrType){var c=this.parseSkeleton(s,i);c.ID=o,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),c.geometryID=s.parents[0].ID,r[o]=c}else if("BlendShape"===a.attrType){var l={id:o};l.rawTargets=this.parseMorphTargets(s,i),l.id=o,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),n[o]=l}}}return{skeletons:r,morphTargets:n}},parseSkeleton:function(e,t){var r=[];return e.children.forEach(function(e){var n=t[e.ID];if("Cluster"===n.attrType){var i={ID:e.ID,indices:[],weights:[],transform:(new THREE.Matrix4).fromArray(n.Transform.a),transformLink:(new THREE.Matrix4).fromArray(n.TransformLink.a),linkMode:n.Mode};"Indexes"in n&&(i.indices=n.Indexes.a,i.weights=n.Weights.a),r.push(i)}}),{rawBones:r,bones:[]}},parseMorphTargets:function(e,r){for(var n=[],i=0;i<e.children.length;i++){if(8===i){console.warn("FBXLoader: maximum of 8 morph targets supported. Ignoring additional targets.");break}var o=e.children[i],a=r[o.ID],s={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;t.get(parseInt(o.ID)).children.forEach(function(e){void 0===e.relationship&&(s.geoID=e.ID)}),n.push(s)}return n},parseScene:function(n,i,o){r=new THREE.Group;var s=this.parseModels(n.skeletons,i,o),c=e.Objects.Model,l=this;s.forEach(function(e){var n=c[e.ID];l.setLookAtProperties(e,n),t.get(e.ID).parents.forEach(function(t){var r=s.get(t.ID);void 0!==r&&r.add(e)}),null===e.parent&&r.add(e)}),this.bindSkeleton(n.skeletons,i,s),this.createAmbientLight(),this.setupMorphMaterials();var u=(new a).parse();1===r.children.length&&r.children[0].isGroup&&(r.children[0].animations=u,r=r.children[0]),r.animations=u},parseModels:function(r,n,i){var o=new Map,a=e.Objects.Model;for(var s in a){var c=parseInt(s),l=a[s],u=t.get(c),d=this.buildSkeleton(u,r,c,l.attrName);if(!d){switch(l.attrType){case"Camera":d=this.createCamera(u);break;case"Light":d=this.createLight(u);break;case"Mesh":d=this.createMesh(u,n,i);break;case"NurbsCurve":d=this.createCurve(u,n);break;case"LimbNode":case"Null":default:d=new THREE.Group}d.name=THREE.PropertyBinding.sanitizeNodeName(l.attrName),d.ID=c}this.setModelTransforms(d,l),o.set(c,d)}return o},buildSkeleton:function(e,t,r,n){var i=null;return e.parents.forEach(function(e){for(var o in t){var a=t[o];a.rawBones.forEach(function(t,o){if(t.ID===e.ID){var s=i;(i=new THREE.Bone).matrixWorld.copy(t.transformLink),i.name=THREE.PropertyBinding.sanitizeNodeName(n),i.ID=r,a.bones[o]=i,null!==s&&i.add(s)}})}}),i},createCamera:function(t){var r,n;if(t.children.forEach(function(t){var r=e.Objects.NodeAttribute[t.ID];void 0!==r&&(n=r)}),void 0===n)r=new THREE.Object3D;else{var i=0;void 0!==n.CameraProjectionType&&1===n.CameraProjectionType.value&&(i=1);var o=1;void 0!==n.NearPlane&&(o=n.NearPlane.value/1e3);var a=1e3;void 0!==n.FarPlane&&(a=n.FarPlane.value/1e3);var s=window.innerWidth,c=window.innerHeight;void 0!==n.AspectWidth&&void 0!==n.AspectHeight&&(s=n.AspectWidth.value,c=n.AspectHeight.value);var l=s/c,u=45;void 0!==n.FieldOfView&&(u=n.FieldOfView.value);var d=n.FocalLength?n.FocalLength.value:null;switch(i){case 0:r=new THREE.PerspectiveCamera(u,l,o,a),null!==d&&r.setFocalLength(d);break;case 1:r=new THREE.OrthographicCamera(-s/2,s/2,c/2,-c/2,o,a);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),r=new THREE.Object3D}}return r},createLight:function(t){var r,n;if(t.children.forEach(function(t){var r=e.Objects.NodeAttribute[t.ID];void 0!==r&&(n=r)}),void 0===n)r=new THREE.Object3D;else{var i;i=void 0===n.LightType?0:n.LightType.value;var o=16777215;void 0!==n.Color&&(o=(new THREE.Color).fromArray(n.Color.value));var a=void 0===n.Intensity?1:n.Intensity.value/100;void 0!==n.CastLightOnObject&&0===n.CastLightOnObject.value&&(a=0);var s=0;void 0!==n.FarAttenuationEnd&&(s=void 0!==n.EnableFarAttenuation&&0===n.EnableFarAttenuation.value?0:n.FarAttenuationEnd.value);switch(i){case 0:r=new THREE.PointLight(o,a,s,1);break;case 1:r=new THREE.DirectionalLight(o,a);break;case 2:var c=Math.PI/3;void 0!==n.InnerAngle&&(c=THREE.Math.degToRad(n.InnerAngle.value));var l=0;void 0!==n.OuterAngle&&(l=THREE.Math.degToRad(n.OuterAngle.value),l=Math.max(l,1)),r=new THREE.SpotLight(o,a,s,c,l,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a THREE.PointLight."),r=new THREE.PointLight(o,a)}void 0!==n.CastShadows&&1===n.CastShadows.value&&(r.castShadow=!0)}return r},createMesh:function(e,t,r){var n,i=null,o=null,a=[];return e.children.forEach(function(e){t.has(e.ID)&&(i=t.get(e.ID)),r.has(e.ID)&&a.push(r.get(e.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new THREE.MeshPhongMaterial({color:13421772}),a.push(o)),"color"in i.attributes&&a.forEach(function(e){e.vertexColors=THREE.VertexColors}),i.FBX_Deformer?(a.forEach(function(e){e.skinning=!0}),n=new THREE.SkinnedMesh(i,o)):n=new THREE.Mesh(i,o),n},createCurve:function(e,t){var r=e.children.reduce(function(e,r){return t.has(r.ID)&&(e=t.get(r.ID)),e},null),n=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(r,n)},setModelTransforms:function(e,t){var r={};"RotationOrder"in t&&(r.eulerOrder=parseInt(t.RotationOrder.value)),"Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value);var n=x(r);e.applyMatrix(n)},setLookAtProperties:function(n,i){"LookAtProperty"in i&&t.get(n.ID).children.forEach(function(t){if("LookAtProperty"===t.relationship){var i=e.Objects.Model[t.ID];if("Lcl_Translation"in i){var o=i.Lcl_Translation.value;void 0!==n.target?(n.target.position.fromArray(o),r.add(n.target)):n.lookAt((new THREE.Vector3).fromArray(o))}}})},bindSkeleton:function(e,r,n){var i=this.parsePoseNodes();for(var o in e){var a=e[o];t.get(parseInt(a.ID)).parents.forEach(function(e){if(r.has(e.ID)){var o=e.ID;t.get(o).parents.forEach(function(e){n.has(e.ID)&&n.get(e.ID).bind(new THREE.Skeleton(a.bones),i[e.ID])})}})}},parsePoseNodes:function(){var t={};if("Pose"in e.Objects){var r=e.Objects.Pose;for(var n in r)if("BindPose"===r[n].attrType){var i=r[n].PoseNode;Array.isArray(i)?i.forEach(function(e){t[e.Node]=(new THREE.Matrix4).fromArray(e.Matrix.a)}):t[i.Node]=(new THREE.Matrix4).fromArray(i.Matrix.a)}}return t},createAmbientLight:function(){if("GlobalSettings"in e&&"AmbientColor"in e.GlobalSettings){var t=e.GlobalSettings.AmbientColor.value,n=t[0],i=t[1],o=t[2];if(0!==n||0!==i||0!==o){var a=new THREE.Color(n,i,o);r.add(new THREE.AmbientLight(a,1))}}},setupMorphMaterials:function(){r.traverse(function(e){if(e.isMesh&&(e.geometry.morphAttributes.position||e.geometry.morphAttributes.normal)){var t=e.uuid,n=e.material.uuid,i=!1;r.traverse(function(e){e.isMesh&&e.material.uuid===n&&e.uuid!==t&&(i=!0)}),!0===i&&(e.material=e.material.clone()),e.material.morphTargets=!0}})}},o.prototype={constructor:o,parse:function(r){var n=new Map;if("Geometry"in e.Objects){var i=e.Objects.Geometry;for(var o in i){var a=t.get(parseInt(o)),s=this.parseGeometry(a,i[o],r);n.set(parseInt(o),s)}}return n},parseGeometry:function(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(t,r,n){var i=n.skeletons,o=n.morphTargets,a=t.parents.map(function(t){return e.Objects.Model[t.ID]});if(0!==a.length){var s=t.children.reduce(function(e,t){return void 0!==i[t.ID]&&(e=i[t.ID]),e},null),c=t.children.reduce(function(e,t){return void 0!==o[t.ID]&&(e=o[t.ID]),e},null),l=a[0],u={};"RotationOrder"in l&&(u.eulerOrder=l.RotationOrder.value),"GeometricTranslation"in l&&(u.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(u.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(u.scale=l.GeometricScaling.value);var d=x(u);return this.genGeometry(r,s,c,d)}},genGeometry:function(e,t,r,n){var i=new THREE.BufferGeometry;e.attrName&&(i.name=e.attrName);var o=this.parseGeoNode(e,t),a=this.genBuffers(o),s=new THREE.Float32BufferAttribute(a.vertex,3);if(n.applyToBufferAttribute(s),i.addAttribute("position",s),a.colors.length>0&&i.addAttribute("color",new THREE.Float32BufferAttribute(a.colors,3)),t&&(i.addAttribute("skinIndex",new THREE.Uint16BufferAttribute(a.weightsIndices,4)),i.addAttribute("skinWeight",new THREE.Float32BufferAttribute(a.vertexWeights,4)),i.FBX_Deformer=t),a.normal.length>0){var c=new THREE.Float32BufferAttribute(a.normal,3);(new THREE.Matrix3).getNormalMatrix(n).applyToBufferAttribute(c),i.addAttribute("normal",c)}if(a.uvs.forEach(function(e,t){var r="uv"+(t+1).toString();0===t&&(r="uv"),i.addAttribute(r,new THREE.Float32BufferAttribute(a.uvs[t],2))}),o.material&&"AllSame"!==o.material.mappingType){var l=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(e,t){e!==l&&(i.addGroup(u,t-u,l),l=e,u=t)}),i.groups.length>0){var d=i.groups[i.groups.length-1],h=d.start+d.count;h!==a.materialIndex.length&&i.addGroup(h,a.materialIndex.length-h,l)}0===i.groups.length&&i.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(i,e,r,n),i},parseGeoNode:function(e,t){var r={};if(r.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],r.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];for(var n=0;e.LayerElementUV[n];)r.uv.push(this.parseUVs(e.LayerElementUV[n])),n++}return r.weightTable={},null!==t&&(r.skeleton=t,t.rawBones.forEach(function(e,t){e.indices.forEach(function(n,i){void 0===r.weightTable[n]&&(r.weightTable[n]=[]),r.weightTable[n].push({id:t,weight:e.weights[i]})})})),r},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},r=0,n=0,i=!1,o=[],a=[],s=[],c=[],l=[],u=[],d=this;return e.vertexIndices.forEach(function(h,p){var m=!1;h<0&&(h^=-1,m=!0);var g=[],v=[];if(o.push(3*h,3*h+1,3*h+2),e.color){var y=f(p,r,h,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach(function(e){v.push(e.weight),g.push(e.id)}),v.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);var b=[0,0,0,0],x=[0,0,0,0];v.forEach(function(e,t){var r=e,n=g[t];x.forEach(function(e,t,i){if(r>e){i[t]=r,r=e;var o=b[t];b[t]=n,n=o}})}),g=b,v=x}for(;v.length<4;)v.push(0),g.push(0);for(var w=0;w<4;++w)l.push(v[w]),u.push(g[w])}if(e.normal){y=f(p,r,h,e.normal);a.push(y[0],y[1],y[2])}if(e.material&&"AllSame"!==e.material.mappingType)var E=f(p,r,h,e.material)[0];e.uv&&e.uv.forEach(function(e,t){var n=f(p,r,h,e);void 0===c[t]&&(c[t]=[]),c[t].push(n[0]),c[t].push(n[1])}),n++,m&&(d.genFace(t,e,o,E,a,s,c,l,u,n),r++,n=0,o=[],a=[],s=[],c=[],l=[],u=[])}),t},genFace:function(e,t,r,n,i,o,a,s,c,l){for(var u=2;u<l;u++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[3*(u-1)]]),e.vertex.push(t.vertexPositions[r[3*(u-1)+1]]),e.vertex.push(t.vertexPositions[r[3*(u-1)+2]]),e.vertex.push(t.vertexPositions[r[3*u]]),e.vertex.push(t.vertexPositions[r[3*u+1]]),e.vertex.push(t.vertexPositions[r[3*u+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(u-1)]),e.vertexWeights.push(s[4*(u-1)+1]),e.vertexWeights.push(s[4*(u-1)+2]),e.vertexWeights.push(s[4*(u-1)+3]),e.vertexWeights.push(s[4*u]),e.vertexWeights.push(s[4*u+1]),e.vertexWeights.push(s[4*u+2]),e.vertexWeights.push(s[4*u+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[4*(u-1)]),e.weightsIndices.push(c[4*(u-1)+1]),e.weightsIndices.push(c[4*(u-1)+2]),e.weightsIndices.push(c[4*(u-1)+3]),e.weightsIndices.push(c[4*u]),e.weightsIndices.push(c[4*u+1]),e.weightsIndices.push(c[4*u+2]),e.weightsIndices.push(c[4*u+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[3*(u-1)]),e.colors.push(o[3*(u-1)+1]),e.colors.push(o[3*(u-1)+2]),e.colors.push(o[3*u]),e.colors.push(o[3*u+1]),e.colors.push(o[3*u+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(n),e.materialIndex.push(n),e.materialIndex.push(n)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(u-1)]),e.normal.push(i[3*(u-1)+1]),e.normal.push(i[3*(u-1)+2]),e.normal.push(i[3*u]),e.normal.push(i[3*u+1]),e.normal.push(i[3*u+2])),t.uv&&t.uv.forEach(function(t,r){void 0===e.uvs[r]&&(e.uvs[r]=[]),e.uvs[r].push(a[r][0]),e.uvs[r].push(a[r][1]),e.uvs[r].push(a[r][2*(u-1)]),e.uvs[r].push(a[r][2*(u-1)+1]),e.uvs[r].push(a[r][2*u]),e.uvs[r].push(a[r][2*u+1])})},addMorphTargets:function(t,r,n,i){if(null!==n){t.morphAttributes.position=[],t.morphAttributes.normal=[];var o=this;n.rawTargets.forEach(function(n){var a=e.Objects.Geometry[n.geoID];void 0!==a&&o.genMorphGeometry(t,r,a,i)})}},genMorphGeometry:function(e,t,r,n){var i=new THREE.BufferGeometry;r.attrName&&(i.name=r.attrName);for(var o=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],a=void 0!==t.Vertices?t.Vertices.a.slice():[],s=void 0!==r.Vertices?r.Vertices.a:[],c=void 0!==r.Indexes?r.Indexes.a:[],l=0;l<c.length;l++){var u=3*c[l];a[u]+=s[3*l],a[u+1]+=s[3*l+1],a[u+2]+=s[3*l+2]}var d={vertexIndices:o,vertexPositions:a},h=this.genBuffers(d),p=new THREE.Float32BufferAttribute(h.vertex,3);p.name=r.attrName,n.applyToBufferAttribute(p),e.morphAttributes.position.push(p)},parseNormals:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.Normals.a,i=[];return"IndexToDirect"===r&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:n,indices:i,mappingType:t,referenceType:r}},parseUVs:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.UV.a,i=[];return"IndexToDirect"===r&&(i=e.UVIndex.a),{dataSize:2,buffer:n,indices:i,mappingType:t,referenceType:r}},parseVertexColors:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.Colors.a,i=[];return"IndexToDirect"===r&&(i=e.ColorIndex.a),{dataSize:4,buffer:n,indices:i,mappingType:t,referenceType:r}},parseMaterialIndices:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};for(var n=e.Materials.a,i=[],o=0;o<n.length;++o)i.push(o);return{dataSize:1,buffer:n,indices:i,mappingType:t,referenceType:r}},parseNurbsGeometry:function(e){if(void 0===THREE.NURBSCurve)return console.error("THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new THREE.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new THREE.BufferGeometry;for(var r,n,i=t-1,o=e.KnotVector.a,a=[],s=e.Points.a,c=0,l=s.length;c<l;c+=4)a.push((new THREE.Vector4).fromArray(s,c));if("Closed"===e.Form)a.push(a[0]);else if("Periodic"===e.Form){r=i,n=o.length-1-r;for(c=0;c<i;++c)a.push(a[c])}var u=new THREE.NURBSCurve(i,o,a,r,n).getPoints(7*a.length),d=new Float32Array(3*u.length);u.forEach(function(e,t){e.toArray(d,3*t)});var h=new THREE.BufferGeometry;return h.addAttribute("position",new THREE.BufferAttribute(d,3)),h}},a.prototype={constructor:a,parse:function(){var e=[],t=this.parseClips();if(void 0===t)return e;for(var r in t){var n=t[r],i=this.addClip(n);e.push(i)}return e},parseClips:function(){if(void 0!==e.Objects.AnimationCurve){var t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);var r=this.parseAnimationLayers(t);return this.parseAnimStacks(r)}},parseAnimationCurveNodes:function(){var t=e.Objects.AnimationCurveNode,r=new Map;for(var n in t){var i=t[n];if(null!==i.attrName.match(/S|R|T|DeformPercent/)){var o={id:i.id,attr:i.attrName,curves:{}};r.set(o.id,o)}}return r},parseAnimationCurves:function(r){var n=e.Objects.AnimationCurve;for(var i in n){var o={id:n[i].id,times:n[i].KeyTime.a.map(h),values:n[i].KeyValueFloat.a},a=t.get(o.id);if(void 0!==a){var s=a.parents[0].ID,c=a.parents[0].relationship;c.match(/X/)?r.get(s).curves.x=o:c.match(/Y/)?r.get(s).curves.y=o:c.match(/Z/)?r.get(s).curves.z=o:c.match(/d|DeformPercent/)&&r.has(s)&&(r.get(s).curves.morph=o)}}},parseAnimationLayers:function(r){var n=e.Objects.AnimationLayer,i=new Map;for(var o in n){var a=[],s=t.get(parseInt(o));if(void 0!==s){var c=s.children,l=this;c.forEach(function(n,i){if(r.has(n.ID)){var o=r.get(n.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===a[i]){t.get(n.ID).parents.forEach(function(e){void 0!==e.relationship&&(p=e.ID)});var s=e.Objects.Model[p.toString()],c={modelName:THREE.PropertyBinding.sanitizeNodeName(s.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1],transform:l.getModelAnimTransform(s)};"PreRotation"in s&&(c.preRotations=s.PreRotation.value),"PostRotation"in s&&(c.postRotations=s.PostRotation.value),a[i]=c}a[i][o.attr]=o}else if(void 0!==o.curves.morph){if(void 0===a[i]){var u;t.get(n.ID).parents.forEach(function(e){void 0!==e.relationship&&(u=e.ID)});var d=t.get(u).parents[0].ID,h=t.get(d).parents[0].ID,p=t.get(h).parents[0].ID;s=e.Objects.Model[p],c={modelName:THREE.PropertyBinding.sanitizeNodeName(s.attrName),morphName:e.Objects.Deformer[u].attrName};a[i]=c}a[i][o.attr]=o}}}),i.set(parseInt(o),a)}}return i},getModelAnimTransform:function(e){var t={};return"RotationOrder"in e&&(t.eulerOrder=parseInt(e.RotationOrder.value)),"Lcl_Translation"in e&&(t.translation=e.Lcl_Translation.value),"RotationOffset"in e&&(t.rotationOffset=e.RotationOffset.value),"Lcl_Rotation"in e&&(t.rotation=e.Lcl_Rotation.value),"PreRotation"in e&&(t.preRotation=e.PreRotation.value),"PostRotation"in e&&(t.postRotation=e.PostRotation.value),"Lcl_Scaling"in e&&(t.scale=e.Lcl_Scaling.value),x(t)},parseAnimStacks:function(r){var n=e.Objects.AnimationStack,i={};for(var o in n){var a=t.get(parseInt(o)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=r.get(a[0].ID);i[o]={name:n[o].attrName,layer:s}}return i},addClip:function(e){var t=[],r=this;return e.layer.forEach(function(e){t=t.concat(r.generateTracks(e))}),new THREE.AnimationClip(e.name,-1,t)},generateTracks:function(e){var t=[],r=new THREE.Vector3,n=new THREE.Quaternion,i=new THREE.Vector3;if(e.transform&&e.transform.decompose(r,n,i),r=r.toArray(),n=(new THREE.Euler).setFromQuaternion(n).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");void 0!==o&&t.push(o)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var a=this.generateRotationTrack(e.modelName,e.R.curves,n,e.preRotations,e.postRotations);void 0!==a&&t.push(a)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var c=this.generateMorphTrack(e);void 0!==c&&t.push(c)}return t},generateVectorTrack:function(e,t,r,n){var i=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(i,t,r);return new THREE.VectorKeyframeTrack(e+"."+n,i,o)},generateRotationTrack:function(e,t,r,n,i){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(THREE.Math.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(THREE.Math.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(THREE.Math.degToRad));var o=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(o,t,r);void 0!==n&&((n=n.map(THREE.Math.degToRad)).push("ZYX"),n=(new THREE.Euler).fromArray(n),n=(new THREE.Quaternion).setFromEuler(n)),void 0!==i&&((i=i.map(THREE.Math.degToRad)).push("ZYX"),i=(new THREE.Euler).fromArray(i),i=(new THREE.Quaternion).setFromEuler(i).inverse());for(var s=new THREE.Quaternion,c=new THREE.Euler,l=[],u=0;u<a.length;u+=3)c.set(a[u],a[u+1],a[u+2],"ZYX"),s.setFromEuler(c),void 0!==n&&s.premultiply(n),void 0!==i&&s.multiply(i),s.toArray(l,u/3*4);return new THREE.QuaternionKeyframeTrack(e+".quaternion",o,l)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,n=t.values.map(function(e){return e/100}),i=r.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new THREE.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+i+"]",t.times,n)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort(function(e,t){return e-t}).filter(function(e,t,r){return r.indexOf(e)==t})},getKeyframeTrackValues:function(e,t,r){var n=r,i=[],o=-1,a=-1,s=-1;return e.forEach(function(e){if(t.x&&(o=t.x.times.indexOf(e)),t.y&&(a=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==o){var r=t.x.values[o];i.push(r),n[0]=r}else i.push(n[0]);if(-1!==a){var c=t.y.values[a];i.push(c),n[1]=c}else i.push(n[1]);if(-1!==s){var l=t.z.values[s];i.push(l),n[2]=l}else i.push(n[2])}),i},interpolateRotations:function(e){for(var t=1;t<e.values.length;t++){var r=e.values[t-1],n=e.values[t]-r,i=Math.abs(n);if(i>=180){for(var o=i/180,a=n/o,s=r+a,c=e.times[t-1],l=(e.times[t]-c)/o,u=c+l,d=[],h=[];u<e.times[t];)d.push(u),u+=l,h.push(s),s+=a;e.times=_(e.times,t,d),e.values=_(e.values,t,h)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,console.log("FBXTree: ",u),this.allNodes=new u,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,r=e.split(/[\r\n]+/);return r.forEach(function(e,n){var i=e.match(/^[\s\t]*;/),o=e.match(/^[\s\t]*$/);if(!i&&!o){var a=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=e.match("^\\t{"+(t.currentIndent-1)+"}}");a?t.parseNodeBegin(e,a):s?t.parseNodeProperty(e,s,r[++n]):c?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}}),this.allNodes},parseNodeBegin:function(e,t){var r=t[1].trim().replace(/^"/,"").replace(/"$/,""),n=t[2].split(",").map(function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")}),i={name:r},o=this.parseNodeAttr(n),a=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(r,i):r in a?("PoseNode"===r?a.PoseNode.push(i):void 0!==a[r].id&&(a[r]={},a[r][a[r].id]=a[r]),""!==o.id&&(a[r][o.id]=i)):"number"==typeof o.id?(a[r]={},a[r][o.id]=i):"Properties70"!==r&&(a[r]="PoseNode"===r?[i]:i),"number"==typeof o.id&&(i.id=o.id),""!==o.name&&(i.attrName=o.name),""!==o.type&&(i.attrType=o.type),this.pushStack(i)},parseNodeAttr:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var r="",n="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),n=e[2]),{id:t,name:r,type:n}},parseNodeProperty:function(e,t,r){var n=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===n&&","===i&&(i=r.replace(/"/g,"").replace(/,$/,"").trim());var o=this.getCurrentNode();if("Properties70"!==o.name){if("C"===n){var a=i.split(",").slice(1),s=parseInt(a[0]),c=parseInt(a[1]),l=i.split(",").slice(3);n="connections",function(e,t){for(var r=0,n=e.length,i=t.length;r<i;r++,n++)e[n]=t[r]}(i=[s,c],l=l.map(function(e){return e.trim().replace(/^"/,"")})),void 0===o[n]&&(o[n]=[])}"Node"===n&&(o.id=i),n in o&&Array.isArray(o[n])?o[n].push(i):"a"!==n?o[n]=i:o.a=i,this.setCurrentProp(o,n),"a"===n&&","!==i.slice(-1)&&(o.a=E(i))}else this.parseNodeSpecialProperty(e,n,i)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=E(t.a))},parseNodeSpecialProperty:function(e,t,r){var n=r.split('",').map(function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")}),i=n[0],o=n[1],a=n[2],s=n[3],c=n[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=E(c)}this.getPrevNode()[i]={type:o,type2:a,flag:s,value:c},this.setCurrentProp(this.getPrevNode(),i)}},c.prototype={constructor:c,parse:function(e){var t=new l(e);t.skip(23);var r=t.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+r);for(var n=new u;!this.endOfContent(t);){var i=this.parseNode(t,r);null!==i&&n.add(i.name,i)}return n},endOfContent:function(e){return e.size()%16==0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()},parseNode:function(e,t){var r={},n=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32(),o=(t>=7500?e.getUint64():e.getUint32(),e.getUint8()),a=e.getString(o);if(0===n)return null;for(var s=[],c=0;c<i;c++)s.push(this.parseProperty(e));var l=s.length>0?s[0]:"",u=s.length>1?s[1]:"",d=s.length>2?s[2]:"";for(r.singleProperty=1===i&&e.getOffset()===n;n>e.getOffset();){var h=this.parseNode(e,t);null!==h&&this.parseSubNode(a,r,h)}return r.propertyList=s,"number"==typeof l&&(r.id=l),""!==u&&(r.attrName=u),""!==d&&(r.attrType=d),""!==a&&(r.name=a),r},parseSubNode:function(e,t,r){if(!0===r.singleProperty){var n=r.propertyList[0];Array.isArray(n)?(t[r.name]=r,r.a=n):t[r.name]=n}else if("Connections"===e&&"C"===r.name){var i=[];r.propertyList.forEach(function(e,t){0!==t&&i.push(e)}),void 0===t.connections&&(t.connections=[]),t.connections.push(i)}else if("Properties70"===r.name){Object.keys(r).forEach(function(e){t[e]=r[e]})}else if("Properties70"===e&&"P"===r.name){var o,a=r.propertyList[0],s=r.propertyList[1],c=r.propertyList[2],l=r.propertyList[3];0===a.indexOf("Lcl ")&&(a=a.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),o="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:r.propertyList[4],t[a]={type:s,type2:c,flag:l,value:o}}else void 0===t[r.name]?"number"==typeof r.id?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:"PoseNode"===r.name?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):void 0===t[r.name][r.id]&&(t[r.name][r.id]=r)},parseProperty:function(e){var t=e.getString(1);switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":var r=e.getUint32();return e.getArrayBuffer(r);case"S":r=e.getUint32();return e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var n=e.getUint32(),i=e.getUint32(),o=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(n);case"d":return e.getFloat64Array(n);case"f":return e.getFloat32Array(n);case"i":return e.getInt32Array(n);case"l":return e.getInt64Array(n)}"undefined"==typeof Zlib&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var a=new l(new Zlib.Inflate(new Uint8Array(e.getArrayBuffer(o))).decompress().buffer);switch(t){case"b":case"c":return a.getBooleanArray(n);case"d":return a.getFloat64Array(n);case"f":return a.getFloat32Array(n);case"i":return a.getInt32Array(n);case"l":return a.getInt64Array(n)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}},l.prototype={constructor:l,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],r=0;r<e;r++)t[r]=this.getUint8();var n=t.indexOf(0);return n>=0&&(t=t.slice(0,n)),THREE.LoaderUtils.decodeText(new Uint8Array(t))}},u.prototype={constructor:u,add:function(e,t){this[e]=t}};var p=[];function f(e,t,r,n){var i;switch(n.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=r;break;case"AllSame":i=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}"IndexToDirect"===n.referenceType&&(i=n.indices[i]);var o=i*n.dataSize,a=o+n.dataSize;return function(e,t,r,n){for(var i=r,o=0;i<n;i++,o++)e[o]=t[i];return e}(p,n.buffer,o,a)}var m=new THREE.Matrix4,g=new THREE.Euler,v=new THREE.Vector3,y=new THREE.Vector3,b=new THREE.Matrix4;function x(e){var t=new THREE.Matrix4;y.set(0,0,0),b.identity();var r,n=e.eulerOrder?w(e.eulerOrder):w(0);(e.translation&&y.fromArray(e.translation),e.rotationOffset&&y.add(v.fromArray(e.rotationOffset)),e.rotation)&&((r=e.rotation.map(THREE.Math.degToRad)).push(n),b.makeRotationFromEuler(g.fromArray(r)));e.preRotation&&((r=e.preRotation.map(THREE.Math.degToRad)).push(n),m.makeRotationFromEuler(g.fromArray(r)),b.premultiply(m));e.postRotation&&((r=e.postRotation.map(THREE.Math.degToRad)).push(n),m.makeRotationFromEuler(g.fromArray(r)),m.getInverse(m),b.multiply(m));return e.scale&&t.scale(v.fromArray(e.scale)),t.setPosition(y),t.multiply(b),t}function w(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===e?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function E(e){return e.split(",").map(function(e){return parseFloat(e)})}function A(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=e.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(e,t,r))}function _(e,t,r){return e.slice(0,t).concat(r).concat(e.slice(t))}return n}()},function(e,t,r){const n=r(817)(),i=function(){let e;return function(){return e=e||n("https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js")}}();e.exports=AFRAME.registerComponent("gltf-model-legacy",{schema:{type:"model"},init:function(){this.model=null,this.loader=null,this.loaderPromise=i().then(()=>{this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("Anonymous")})},update:function(){const e=this,t=this.el,r=this.data;r&&(this.remove(),this.loaderPromise.then(()=>{this.loader.load(r,function(r){e.model=r.scene,e.model.animations=r.animations,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},function(e,t){function r(e){const t=document.getElementById(e),r=t.parentNode;try{r&&r.removeChild(t)}catch(e){}}function n(e,t,n){return new n(function(n,i){const o=t.timeout||5e3,a="script_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),s=function(e,t){var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.id=t,r.src=e,r}(e,a),c=setTimeout(function(){i(new Error("Script request to "+e+" timed out")),r(a)},o),l=function(e){clearTimeout(e)};s.addEventListener("load",function(e){n({ok:!0}),l(c),r(a)}),s.addEventListener("error",function(t){i(new Error("Script request to "+e+" failed "+t)),l(c),r(a)}),function(e){const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(s)})}e.exports=function(e){return e=e||{},function(t,r){return n(t,r=r||{},e.Promise||Promise)}}},function(e,t){e.exports=AFRAME.registerComponent("object-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){let e;const t=this.data;t.src&&(this.remove(),e=new THREE.ObjectLoader,t.crossorigin&&e.setCrossOrigin(t.crossorigin),e.load(t.src,e=>{e.traverse(e=>{e instanceof THREE.SkinnedMesh&&e.material&&(e.material.skinning=!!(e.geometry&&e.geometry.bones||[]).length)}),this.load(e)}))},load:function(e){this.model=e,this.el.setObject3D("mesh",e),this.el.emit("model-loaded",{format:"json",model:e})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},function(e,t,r){r(820),r(821),r(822),r(823),r(824),r(825),r(826),r(827)},function(e,t){e.exports=AFRAME.registerComponent("checkpoint",{schema:{offset:{default:{x:0,y:0,z:0},type:"vec3"}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener("click",this.fire)},pause:function(){this.el.removeEventListener("click",this.fire)},remove:function(){this.pause()},fire:function(){const e=this.el.sceneEl.querySelector("[checkpoint-controls]");if(!e)throw new Error("No `checkpoint-controls` component found.");e.components["checkpoint-controls"].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}})},function(e,t){function r(e,t,r,n){e&&(t=t||[],e.traverse(e=>{if(!e.isMesh)return;(function(e){return e?Array.isArray(e)?e:e.materials?e.materials:[e]:[]})(e.material).forEach(e=>{(!e||"envMap"in e)&&(t.length&&-1===t.indexOf(e.name)||(e.envMap=r,e.reflectivity=n,e.needsUpdate=!0))})}))}e.exports=AFRAME.registerComponent("cube-env-map",{multiple:!0,schema:{path:{default:""},extension:{default:"jpg",oneOf:["jpg","png"]},format:{default:"RGBFormat",oneOf:["RGBFormat","RGBAFormat"]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){const e=this.data;this.texture=(new THREE.CubeTextureLoader).load([e.path+"posx."+e.extension,e.path+"negx."+e.extension,e.path+"posy."+e.extension,e.path+"negy."+e.extension,e.path+"posz."+e.extension,e.path+"negz."+e.extension]),this.texture.format=THREE[e.format],this.object3dsetHandler=(()=>{const e=this.el.getObject3D("mesh"),t=this.data;r(e,t.materials,this.texture,t.reflectivity)}),this.el.addEventListener("object3dset",this.object3dsetHandler)},update:function(e){const t=this.data,n=this.el.getObject3D("mesh");let i=[],o=[];if(t.materials.length&&(e.materials?(i=t.materials.filter(t=>!e.materials.includes(t)),o=e.materials.filter(e=>!t.materials.includes(e))):i=t.materials),i.length&&r(n,i,this.texture,t.reflectivity),o.length&&r(n,o,null,1),e.materials&&t.reflectivity!==e.reflectivity){const i=t.materials.filter(t=>e.materials.includes(t));i.length&&r(n,i,this.texture,t.reflectivity)}this.data.enableBackground&&!e.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&&e.enableBackground&&this.setBackground(null)},remove:function(){this.el.removeEventListener("object3dset",this.object3dsetHandler);const e=this.el.getObject3D("mesh"),t=this.data;r(e,t.materials,null,1),t.enableBackground&&this.setBackground(null)},setBackground:function(e){this.el.sceneEl.object3D.background=e}})},function(e,t){e.exports=AFRAME.registerComponent("grab",{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE="grabbed",this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){const e=this.el;e.addEventListener("hit",this.onHit),e.addEventListener("gripdown",this.onGripClose),e.addEventListener("gripup",this.onGripOpen),e.addEventListener("trackpaddown",this.onGripClose),e.addEventListener("trackpadup",this.onGripOpen),e.addEventListener("triggerdown",this.onGripClose),e.addEventListener("triggerup",this.onGripOpen)},pause:function(){const e=this.el;e.removeEventListener("hit",this.onHit),e.removeEventListener("gripdown",this.onGripClose),e.removeEventListener("gripup",this.onGripOpen),e.removeEventListener("trackpaddown",this.onGripClose),e.removeEventListener("trackpadup",this.onGripOpen),e.removeEventListener("triggerdown",this.onGripClose),e.removeEventListener("triggerup",this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){const e=this.hitEl;this.grabbing=!1,e&&(e.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(e){const t=e.detail.el;t&&!t.is(this.GRABBED_STATE)&&this.grabbing&&!this.hitEl&&(t.addState(this.GRABBED_STATE),this.hitEl=t,this.constraint=new CANNON.LockConstraint(this.el.body,t.body),this.system.addConstraint(this.constraint))}})},function(e,t){e.exports=AFRAME.registerComponent("jump-ability",{dependencies:["velocity"],schema:{on:{default:"keydown:Space gamepadbuttondown:0"},playerHeight:{default:1.764},maxJumps:{default:1},distance:{default:5},debug:{default:!1}},init:function(){this.velocity=0,this.numJumps=0;const e=this.beginJump.bind(this),t=this.data.on.split(" ");this.bindings={};for(let r=0;r<t.length;r++)this.bindings[t[r]]=e,this.el.addEventListener(t[r],e);this.bindings.collide=this.onCollide.bind(this),this.el.addEventListener("collide",this.bindings.collide)},remove:function(){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&(this.el.removeEventListener(e,this.bindings[e]),delete this.bindings[e]);this.el.removeEventListener("collide",this.bindings.collide),delete this.bindings.collide},beginJump:function(){if(this.numJumps<this.data.maxJumps){const e=this.data,t=Math.sqrt(-2*e.distance*-24.8),r=this.el.getAttribute("velocity");this.el.setAttribute("velocity",{x:r.x,y:t,z:r.z}),this.numJumps++,this.el.emit("jumpstart")}},onCollide:function(){this.numJumps>0&&this.el.emit("jumpend"),this.numJumps=0}})},function(e,t){e.exports=AFRAME.registerComponent("kinematic-body",{dependencies:["velocity"],schema:{mass:{default:5},radius:{default:1.3},linearDamping:{default:.05},enableSlopes:{default:!0},enableJumps:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.physics,this.system.addComponent(this);const e=this.el,t=this.data,r=(new CANNON.Vec3).copy(e.object3D.getWorldPosition(new THREE.Vector3));this.body=new CANNON.Body({material:this.system.getMaterial("staticMaterial"),position:r,mass:t.mass,linearDamping:t.linearDamping,fixedRotation:!0}),this.body.addShape(new CANNON.Sphere(t.radius),new CANNON.Vec3(0,t.radius,0)),this.body.el=this.el,this.el.body=this.body,this.system.addBody(this.body),e.hasAttribute("wasd-controls")&&console.warn("[kinematic-body] Not compatible with wasd-controls, use movement-controls.")},remove:function(){this.system.removeBody(this.body),this.system.removeComponent(this),delete this.el.body},beforeStep:function(e,t){if(!t)return;const r=this.el,n=this.data,i=this.body;n.enableJumps||i.velocity.set(0,0,0),i.position.copy(r.getAttribute("position"))},step:function(){const e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3,n=new THREE.Vector3;return function(i,o){if(!o)return;let a,s,c=this.body,l=this.data,u=!1,d=-1/0,h=this.system.getContacts();o=Math.min(o,1e3*this.system.data.maxInterval),n.set(0,0,0),e.copy(this.el.getAttribute("velocity")),c.velocity.copy(e);for(var p,f=0;p=h[f];f++)if(p.enabled){if(c.id===p.bi.id)p.ni.negate(r);else{if(c.id!==p.bj.id)continue;r.copy(p.ni)}(u=c.velocity.dot(r)<-1e-6)&&r.y<=.5?e.projectOnPlane(r):r.y>.5&&(a=c.id===p.bi.id?Math.abs(p.rj.y+p.bj.position.y):Math.abs(p.ri.y+p.bi.position.y))>d&&(d=a,n.copy(r),s=c.id===p.bi.id?p.bj:p.bi)}t.copy(e).normalize(),s&&(!l.enableJumps||t.y<.5)?(l.enableSlopes?n.y<1-1e-6&&n.copy(this.raycastToGround(s,n)):n.set(0,1,0),e.projectOnPlane(n)):this.system.driver.world&&e.add(this.system.driver.world.gravity.scale(4*o/1e3)),c.velocity.copy(e),this.el.setAttribute("velocity",c.velocity),this.el.setAttribute("position",c.position)}}(),raycastToGround:function(e,t){let r,n,i=this.body.position,o=this.body.position.clone();return(r=new CANNON.Ray(i,o))._updateDirection(),r.intersectBody(e),r.hasHit?(n=r.result.hitNormalWorld,Math.abs(n.y)>Math.abs(t.y)?n:t):t}})},function(e,t){e.exports=AFRAME.registerComponent("mesh-smooth",{init:function(){this.el.addEventListener("model-loaded",e=>{e.detail.model.traverse(e=>{e.isMesh&&e.geometry.computeVertexNormals()})})}})},function(e,t){e.exports=AFRAME.registerComponent("normal-material",{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener("object3dset",this.applyMaterial)},remove:function(){this.el.removeEventListener("object3dset",this.applyMaterial)},applyMaterial:function(){this.el.object3D.traverse(e=>{e.isMesh&&(e.material=this.material)})}})},function(e,t){e.exports=AFRAME.registerComponent("sphere-collider",{schema:{objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},remove:function(){this.pause()},play:function(){const e=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(e,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){const e=this.data;let t;t=e.objects?this.el.sceneEl.querySelectorAll(e.objects):this.el.sceneEl.children,this.els=Array.prototype.slice.call(t)},tick:function(){const e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3,n=new THREE.Vector3,i=new THREE.Box3,o=new Map;return function(){const a=this.el,s=this.data,c=a.getObject3D("mesh"),l=[];let u;var d;c&&(o.clear(),a.object3D.getWorldPosition(e),a.object3D.getWorldScale(r),u=s.radius*(d=r,Math.max.apply(null,d.toArray())),this.els.forEach(function(r){let a,s,c,d;if(!r.isEntity)return;if(!(s=r.getObject3D("mesh")))return;if(i.setFromObject(s).getSize(n),d=Math.max(n.x,n.y,n.z)/2,a=Math.sqrt(2*d*d),i.getCenter(t),!a)return;(c=e.distanceTo(t))<a+u&&(l.push(r),o.set(r,c))}),l.sort((e,t)=>o.get(e)>o.get(t)?1:-1).forEach(this.handleHit),0===l.length&&a.emit("hit",{el:null}),this.collisions.filter(e=>!o.has(e)).forEach(this.handleHitEnd),this.collisions=l)}}(),handleHit:function(e){e.emit("hit"),e.addState(this.data.state),this.el.emit("hit",{el:e})},handleHitEnd:function(e){e.emit("hitend"),e.removeState(this.data.state),this.el.emit("hitend",{el:e})}})},function(e,t,r){r(829),r(830),r(831)},function(e,t){e.exports=AFRAME.registerComponent("nav-mesh",{init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){const e=this.el.getObject3D("mesh"),t=this.el.sceneEl.object3D;if(!e)return;let r;if(e.traverse(e=>{e.isMesh&&(r=e)}),!r)return;const n=r.geometry.isBufferGeometry?(new THREE.Geometry).fromBufferGeometry(r.geometry):r.geometry.clone();t.updateMatrixWorld(),n.applyMatrix(r.matrixWorld),this.system.setNavMeshGeometry(n),this.hasLoadedNavMesh=!0}})},function(e,t){e.exports=AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){const e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(n,i){const o=this.el,a=this.data,s=this.raycaster,c=a.speed*i/1e3;if(!a.active)return;if(!this.path.length){const t=this.el.object3D.position;this.group=this.group||this.system.getGroup(t),this.path=this.system.getPath(t,e.copy(a.destination),this.group)||[],o.emit("navigation-start")}if(!this.path.length)return console.warn("[nav] Unable to find path to %o.",a.destination),this.el.setAttribute("nav-agent",{active:!1}),void o.emit("navigation-end");const l=o.object3D.position,u=this.path[0];let d;if(t.subVectors(u,l),t.length()<c){if(this.path.shift(),!this.path.length)return this.el.setAttribute("nav-agent",{active:!1}),void o.emit("navigation-end");r.copy(l),d=this.path[0]}else r.copy(t.setLength(c)).add(l),d=u;d.y=l.y,o.object3D.lookAt(d),s.ray.origin.copy(r),s.ray.origin.y+=1.5,s.ray.direction.y=-1;const h=s.intersectObject(this.system.getNavMesh());h.length?(t.subVectors(h[0].point,l),l.add(t.setLength(c))):l.copy(r)}}()})},function(e,t,r){const{Pathfinding:n}=r(832),i=new n,o="level";e.exports=AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(e){this.navMesh=new THREE.Mesh(e),i.setZoneData(o,n.createZone(e)),Array.from(this.agents).forEach(e=>e.updateNavLocation())},getNavMesh:function(){return this.navMesh},addAgent:function(e){this.agents.add(e)},removeAgent:function(e){this.agents.delete(e)},getPath:function(e,t,r){return this.navMesh?i.findPath(e,t,o,r):null},getGroup:function(e){return this.navMesh?i.getGroup(o,e):null},getNode:function(e,t){return this.navMesh?i.getClosestNode(e,o,t,!0):null},clampStep:function(e,t,r,n,a){return this.navMesh?n?i.clampStep(e,t,n,o,r,a):(a.copy(t),this.getNode(t,r)):(a.copy(t),null)}})},function(e,t,r){"use strict";r.r(t),r.d(t,"Pathfinding",function(){return m});var n=function(){};n.computeCentroids=function(e){var t,r,n;for(t=0,r=e.faces.length;t<r;t++)(n=e.faces[t]).centroid=new THREE.Vector3(0,0,0),n.centroid.add(e.vertices[n.a]),n.centroid.add(e.vertices[n.b]),n.centroid.add(e.vertices[n.c]),n.centroid.divideScalar(3)},n.roundNumber=function(e,t){return Number(e.toFixed(t))},n.sample=function(e){return e[Math.floor(Math.random()*e.length)]},n.mergeVertexIds=function(e,t){var r=[];if(e.forEach(function(e){t.indexOf(e)>=0&&r.push(e)}),r.length<2)return[];r.includes(e[0])&&r.includes(e[e.length-1])&&e.push(e.shift()),r.includes(t[0])&&r.includes(t[t.length-1])&&t.push(t.shift()),r=[],e.forEach(function(e){t.includes(e)&&r.push(e)});for(var n=r[1],i=r[0],o=e.slice();o[0]!==n;)o.push(o.shift());for(var a=0,s=t.slice();s[0]!==i;)if(s.push(s.shift()),a++>10)throw new Error("Unexpected state");return s.shift(),s.pop(),o.concat(s)},n.setPolygonCentroid=function(e,t){var r=new THREE.Vector3,n=t.vertices;e.vertexIds.forEach(function(e){r.add(n[e])}),r.divideScalar(e.vertexIds.length),e.centroid.copy(r)},n.cleanPolygon=function(e,t){for(var r=[],n=t.vertices,i=0;i<e.vertexIds.length;i++){var o,a,s,c=n[e.vertexIds[i]];0===i?(o=e.vertexIds[1],a=e.vertexIds[e.vertexIds.length-1]):i===e.vertexIds.length-1?(o=e.vertexIds[0],a=e.vertexIds[e.vertexIds.length-2]):(o=e.vertexIds[i+1],a=e.vertexIds[i-1]),s=n[a];var l=n[o].clone().sub(c),u=s.clone().sub(c),d=l.angleTo(u);if(d>Math.PI-.01&&d<Math.PI+.01){var h=[];e.neighbours.forEach(function(t){t.vertexIds.includes(e.vertexIds[i])||h.push(t)}),e.neighbours=h}else r.push(e.vertexIds[i])}e.vertexIds=r,this.setPolygonCentroid(e,t)},n.isConvex=function(e,t){var r=t.vertices;if(e.vertexIds.length<3)return!1;for(var n=!0,i=[],o=0;o<e.vertexIds.length;o++){var a,s,c=r[e.vertexIds[o]];0===o?(a=r[e.vertexIds[1]],s=r[e.vertexIds[e.vertexIds.length-1]]):o===e.vertexIds.length-1?(a=r[e.vertexIds[0]],s=r[e.vertexIds[e.vertexIds.length-2]]):(a=r[e.vertexIds[o+1]],s=r[e.vertexIds[o-1]]);var l=a.clone().sub(c),u=s.clone().sub(c),d=l.angleTo(u);if(d===Math.PI||0===d)return!1;var h=l.cross(u).y;i.push(h)}return i.forEach(function(e){0===e&&(n=!1)}),i.forEach(i[0]>0?function(e){e<0&&(n=!1)}:function(e){e>0&&(n=!1)}),n},n.distanceToSquared=function(e,t){var r=e.x-t.x,n=e.y-t.y,i=e.z-t.z;return r*r+n*n+i*i},n.isPointInPoly=function(e,t){for(var r=!1,n=-1,i=e.length,o=i-1;++n<i;o=n)(e[n].z<=t.z&&t.z<e[o].z||e[o].z<=t.z&&t.z<e[n].z)&&t.x<(e[o].x-e[n].x)*(t.z-e[n].z)/(e[o].z-e[n].z)+e[n].x&&(r=!r);return r},n.isVectorInPolygon=function(e,t,r){var n=1e5,i=-1e5,o=[];return t.vertexIds.forEach(function(e){n=Math.min(r[e].y,n),i=Math.max(r[e].y,i),o.push(r[e])}),!!(e.y<i+.5&&e.y>n-.5&&this.isPointInPoly(o,e))},n.triarea2=function(e,t,r){return(r.x-e.x)*(t.z-e.z)-(t.x-e.x)*(r.z-e.z)},n.vequal=function(e,t){return this.distanceToSquared(e,t)<1e-5};var i=function(e){this.content=[],this.scoreFunction=e};i.prototype.push=function(e){this.content.push(e),this.sinkDown(this.content.length-1)},i.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},i.prototype.remove=function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},i.prototype.size=function(){return this.content.length},i.prototype.rescoreElement=function(e){this.sinkDown(this.content.indexOf(e))},i.prototype.sinkDown=function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,n=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[r]=t,this.content[e]=n,e=r}},i.prototype.bubbleUp=function(e){for(var t=this.content.length,r=this.content[e],n=this.scoreFunction(r);;){var i=e+1<<1,o=i-1,a=null,s=void 0;if(o<t&&(s=this.scoreFunction(this.content[o]))<n&&(a=o),i<t&&this.scoreFunction(this.content[i])<(null===a?n:s)&&(a=i),null===a)break;this.content[e]=this.content[a],this.content[a]=r,e=a}};var o=function(){};o.init=function(e){for(var t=0;t<e.length;t++){var r=e[t];r.f=0,r.g=0,r.h=0,r.cost=1,r.visited=!1,r.closed=!1,r.parent=null}},o.cleanUp=function(e){for(var t=0;t<e.length;t++){var r=e[t];delete r.f,delete r.g,delete r.h,delete r.cost,delete r.visited,delete r.closed,delete r.parent}},o.heap=function(){return new i(function(e){return e.f})},o.search=function(e,t,r){this.init(e);var n=this.heap();for(n.push(t);n.size()>0;){var i=n.pop();if(i===r){for(var o=i,a=[];o.parent;)a.push(o),o=o.parent;return this.cleanUp(a),a.reverse()}i.closed=!0;for(var s=this.neighbours(e,i),c=0,l=s.length;c<l;c++){var u=s[c];if(!u.closed){var d=i.g+u.cost,h=u.visited;if(!h||d<u.g){if(u.visited=!0,u.parent=i,!u.centroid||!r.centroid)throw new Error("Unexpected state");u.h=u.h||this.heuristic(u.centroid,r.centroid),u.g=d,u.f=u.g+u.h,h?n.rescoreElement(u):n.push(u)}}}}return[]},o.heuristic=function(e,t){return n.distanceToSquared(e,t)},o.neighbours=function(e,t){for(var r=[],n=0;n<t.neighbours.length;n++)r.push(e[t.neighbours[n]]);return r};var a=1,s=function(){};s.buildZone=function(e){var t=this,r=this._buildNavigationMesh(e),i={};r.vertices.forEach(function(e){e.x=n.roundNumber(e.x,2),e.y=n.roundNumber(e.y,2),e.z=n.roundNumber(e.z,2)}),i.vertices=r.vertices;var o=this._buildPolygonGroups(r);i.groups=[];var a=function(e,t){for(var r=0;r<e.length;r++)if(t===e[r])return r};return o.forEach(function(e){var r=[];e.forEach(function(i){var o=i.neighbours.map(function(t){return a(e,t)}),s=i.neighbours.map(function(e){return t._getSharedVerticesInOrder(i,e)});i.centroid.x=n.roundNumber(i.centroid.x,2),i.centroid.y=n.roundNumber(i.centroid.y,2),i.centroid.z=n.roundNumber(i.centroid.z,2),r.push({id:a(e,i),neighbours:o,vertexIds:i.vertexIds,centroid:i.centroid,portals:s})}),i.groups.push(r)}),i},s._buildNavigationMesh=function(e){return n.computeCentroids(e),e.mergeVertices(),this._buildPolygonsFromGeometry(e)},s._buildPolygonGroups=function(e){var t=[],r=0,n=function(e){e.neighbours.forEach(function(t){void 0===t.group&&(t.group=e.group,n(t))})};return e.polygons.forEach(function(e){void 0===e.group&&(e.group=r++,n(e)),t[e.group]||(t[e.group]=[]),t[e.group].push(e)}),t},s._buildPolygonNeighbours=function(e,t,r){var n=new Set,i=r.get(e.vertexIds[0]),o=r.get(e.vertexIds[1]),a=r.get(e.vertexIds[2]);i.forEach(function(e){(o.has(e)||a.has(e))&&n.add(t.polygons[e])}),o.forEach(function(e){a.has(e)&&n.add(t.polygons[e])}),e.neighbours=Array.from(n)},s._buildPolygonsFromGeometry=function(e){for(var t=this,r=[],n=e.vertices,i=e.faceVertexUvs,o=new Map,s=0;s<n.length;s++)o.set(s,new Set);e.faces.forEach(function(e){r.push({id:a++,vertexIds:[e.a,e.b,e.c],centroid:e.centroid,normal:e.normal,neighbours:[]}),o.get(e.a).add(r.length-1),o.get(e.b).add(r.length-1),o.get(e.c).add(r.length-1)});var c={polygons:r,vertices:n,faceVertexUvs:i};return r.forEach(function(e){t._buildPolygonNeighbours(e,c,o)}),c},s._getSharedVerticesInOrder=function(e,t){var r=e.vertexIds,n=t.vertexIds,i=new Set;if(r.forEach(function(e){n.includes(e)&&i.add(e)}),i.size<2)return[];i.has(r[0])&&i.has(r[r.length-1])&&r.push(r.shift()),i.has(n[0])&&i.has(n[n.length-1])&&n.push(n.shift());var o=[];return r.forEach(function(e){n.includes(e)&&o.push(e)}),o};var c=function(){this.portals=[]};c.prototype.push=function(e,t){void 0===t&&(t=e),this.portals.push({left:e,right:t})},c.prototype.stringPull=function(){var e,t,r,i=this.portals,o=[],a=0,s=0,c=0;t=i[0].left,r=i[0].right,o.push(e=i[0].left);for(var l=1;l<i.length;l++){var u=i[l].left,d=i[l].right;if(n.triarea2(e,r,d)<=0){if(!(n.vequal(e,r)||n.triarea2(e,t,d)>0)){o.push(t),t=e=t,r=e,s=a=s,c=a,l=a;continue}r=d,c=l}if(n.triarea2(e,t,u)>=0){if(!(n.vequal(e,t)||n.triarea2(e,r,u)<0)){o.push(r),t=e=r,r=e,s=a=c,c=a,l=a;continue}t=u,s=l}}return 0!==o.length&&n.vequal(o[o.length-1],i[i.length-1].left)||o.push(i[i.length-1].left),this.path=o,o};var l,u,d,h,p,f,m=function(){this.zones={}};m.createZone=function(e){return s.buildZone(e)},m.prototype.setZoneData=function(e,t){this.zones[e]=t},m.prototype.getGroup=function(e,t){if(!this.zones[e])return null;var r=null,i=Math.pow(50,2);return this.zones[e].groups.forEach(function(e,o){e.forEach(function(e){var a=n.distanceToSquared(e.centroid,t);a<i&&(r=o,i=a)})}),r},m.prototype.getRandomNode=function(e,t,r,i){if(!this.zones[e])return new THREE.Vector3;r=r||null,i=i||0;var o=[];return this.zones[e].groups[t].forEach(function(e){r&&i?n.distanceToSquared(r,e.centroid)<i*i&&o.push(e.centroid):o.push(e.centroid)}),n.sample(o)||new THREE.Vector3},m.prototype.getClosestNode=function(e,t,r,i){void 0===i&&(i=!1);var o=this.zones[t].vertices,a=null,s=1/0;return this.zones[t].groups[r].forEach(function(t){var r=n.distanceToSquared(t.centroid,e);r<s&&(!i||n.isVectorInPolygon(e,t,o))&&(a=t,s=r)}),a},m.prototype.findPath=function(e,t,r,n){var i=this.zones[r].groups[n],a=this.zones[r].vertices,s=this.getClosestNode(e,r,n),l=this.getClosestNode(t,r,n,!0);if(!s||!l)return null;var u=o.search(i,s,l),d=function(e,t){for(var r=0;r<e.neighbours.length;r++)if(e.neighbours[r]===t.id)return e.portals[r]},h=new c;h.push(e);for(var p=0;p<u.length;p++){var f=u[p+1];if(f){var m=d(u[p],f);h.push(a[m[0]],a[m[1]])}}h.push(t),h.stringPull();var g=h.path.map(function(e){return new THREE.Vector3(e.x,e.y,e.z)});return g.shift(),g},m.prototype.clampStep=(d=new THREE.Vector3,h=new THREE.Plane,p=new THREE.Triangle,f=new THREE.Vector3,function(e,t,r,n,i,o){var a=this.zones[n].vertices,s=this.zones[n].groups[i],c=[r],m={};m[r.id]=0,l=void 0,f.set(0,0,0),u=1/0,h.setFromCoplanarPoints(a[r.vertexIds[0]],a[r.vertexIds[1]],a[r.vertexIds[2]]),h.projectPoint(t,d),t.copy(d);for(var g=c.pop();g;g=c.pop()){p.set(a[g.vertexIds[0]],a[g.vertexIds[1]],a[g.vertexIds[2]]),p.closestPointToPoint(t,d),d.distanceToSquared(t)<u&&(l=g,f.copy(d),u=d.distanceToSquared(t));var v=m[g];if(!(v>2))for(var y=0;y<g.neighbours.length;y++){var b=s[g.neighbours[y]];b.id in m||(c.push(b),m[b.id]=v+1)}}return o.copy(f),l})},function(e,t,r){r(834),r(835),r(838),r(839)},function(e,t){e.exports=AFRAME.registerPrimitive("a-grid",{defaultComponents:{geometry:{primitive:"plane",width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:"url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)",repeat:"75 75"}},mappings:{width:"geometry.width",height:"geometry.height",src:"material.src"}})},function(e,t,r){const n=r(836),i=r(837);e.exports.Primitive=AFRAME.registerPrimitive("a-hexgrid",{defaultComponents:{hexgrid:{}},mappings:{src:"hexgrid.src"}}),e.exports.Component=AFRAME.registerComponent("hexgrid",{dependencies:["material"],schema:{src:{type:"asset"}},init:function(){const e=this.data;e.src?fetch(e.src).then(e=>e.json()).then(e=>this.addMesh(e)):this.addMesh(i)},addMesh:function(e){const t=new n.HexGrid;t.fromJSON(e);const r=new n.Board(t);r.generateTilemap(),this.el.setObject3D("mesh",r.group),this.addMaterial()},addMaterial:function(){const e=(this.el.components.material||{}).material;e&&this.el.object3D.traverse(t=>{t.isMesh&&(t.material=e)})},remove:function(){this.el.removeObject3D("mesh")}})},function(e,t){var r,n,i=e.exports={VERSION:"0.1.1",PI:Math.PI,TAU:2*Math.PI,DEG_TO_RAD:.0174532925,RAD_TO_DEG:57.2957795,SQRT3:Math.sqrt(3),TILE:"tile",ENT:"entity",STR:"structure",HEX:"hex",SQR:"square",ABS:"abstract"};i.Board=function(e,t){if(!e)throw new Error("You must pass in a grid system for the board to use.");this.tiles=[],this.tileGroup=null,this.group=new THREE.Object3D,this.grid=null,this.overlay=null,this.finder=new i.AStarFinder(t),i.Loader.init(),this.setGrid(e)},i.Board.prototype={setEntityOnTile:function(e,t){var r=this.grid.cellToPixel(t.cell);e.position.copy(r),e.position.y+=e.heightOffset||0,e.tile&&(e.tile.entity=null),e.tile=t,t.entity=e},addTile:function(e){-1===this.tiles.indexOf(e)&&(this.tiles.push(e),this.snapTileToGrid(e),e.position.y=0,this.tileGroup.add(e.mesh),this.grid.add(e.cell),e.cell.tile=e)},removeTile:function(e){if(e){var t=this.tiles.indexOf(e);this.grid.remove(e.cell),-1!==t&&this.tiles.splice(t,1),e.dispose()}},removeAllTiles:function(){if(this.tileGroup)for(var e=this.tileGroup.children,t=0;t<e.length;t++)this.tileGroup.remove(e[t])},getTileAtCell:function(e){var t=this.grid.cellToHash(e);return e.tile||(void 0!==this.grid.cells[t]?this.grid.cells[t].tile:null)},snapToGrid:function(e){var t=this.grid.pixelToCell(e);e.copy(this.grid.cellToPixel(t))},snapTileToGrid:function(e){if(e.cell)e.position.copy(this.grid.cellToPixel(e.cell));else{var t=this.grid.pixelToCell(e.position);e.position.copy(this.grid.cellToPixel(t))}return e},getRandomTile:function(){var e=i.Tools.randomInt(0,this.tiles.length-1);return this.tiles[e]},findPath:function(e,t,r){return this.finder.findPath(e.cell,t.cell,r,this.grid)},setGrid:function(e){this.group.remove(this.tileGroup),this.grid&&e!==this.grid&&(this.removeAllTiles(),this.tiles.forEach(function(e){this.grid.remove(e.cell),e.dispose()}),this.grid.dispose()),this.grid=e,this.tiles=[],this.tileGroup=new THREE.Object3D,this.group.add(this.tileGroup)},generateOverlay:function(e){var t=new THREE.LineBasicMaterial({color:0,opacity:.3});this.overlay&&this.group.remove(this.overlay),this.overlay=new THREE.Object3D,this.grid.generateOverlay(e,this.overlay,t),this.group.add(this.overlay)},generateTilemap:function(e){this.reset();var t=this.grid.generateTiles(e);this.tiles=t,this.tileGroup=new THREE.Object3D;for(var r=0;r<t.length;r++)this.tileGroup.add(t[r].mesh);this.group.add(this.tileGroup)},reset:function(){this.removeAllTiles(),this.tileGroup&&this.group.remove(this.tileGroup)}},i.Board.prototype.constructor=i.Board,i.Cell=function(e,t,r,n){this.q=e||0,this.r=t||0,this.s=r||0,this.h=n||1,this.tile=null,this.userData={},this.walkable=!0,this._calcCost=0,this._priority=0,this._visited=!1,this._parent=null,this.uniqueID=i.LinkedList.generateID()},i.Cell.prototype={set:function(e,t,r){return this.q=e,this.r=t,this.s=r,this},copy:function(e){return this.q=e.q,this.r=e.r,this.s=e.s,this.h=e.h,this.tile=e.tile||null,this.userData=e.userData||{},this.walkable=e.walkable,this},add:function(e){return this.q+=e.q,this.r+=e.r,this.s+=e.s,this},equals:function(e){return this.q===e.q&&this.r===e.r&&this.s===e.s}},i.Cell.prototype.constructor=i.Cell,i.HexGrid=function(e){e=e||{},this.type=i.HEX,this.size=5,this.cellSize=void 0===e.cellSize?10:e.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var t,r=[];for(t=0;6>t;t++)r.push(this._createVertex(t));for(this.cellShape=new THREE.Shape,this.cellShape.moveTo(r[0].x,r[0].y),t=1;6>t;t++)this.cellShape.lineTo(r[t].x,r[t].y);this.cellShape.lineTo(r[0].x,r[0].y),this.cellShape.autoClose=!0,this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=r,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._cellWidth=2*this.cellSize,this._cellLength=.5*i.SQRT3*this._cellWidth,this._hashDelimeter=".",this._directions=[new i.Cell(1,-1,0),new i.Cell(1,0,-1),new i.Cell(0,1,-1),new i.Cell(-1,1,0),new i.Cell(-1,0,1),new i.Cell(0,-1,1)],this._diagonals=[new i.Cell(2,-1,-1),new i.Cell(1,1,-2),new i.Cell(-1,2,-1),new i.Cell(-2,1,1),new i.Cell(-1,-1,2),new i.Cell(1,-2,1)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new i.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},i.HexGrid.TWO_THIRDS=2/3,i.HexGrid.prototype={cellToPixel:function(e){return this._vec3.x=e.q*this._cellWidth*.75,this._vec3.y=e.h,this._vec3.z=-(e.s-e.r)*this._cellLength*.5,this._vec3},pixelToCell:function(e){var t=e.x*(i.HexGrid.TWO_THIRDS/this.cellSize),r=(-e.x/3+i.SQRT3/3*e.z)/this.cellSize;return this._cel.set(t,r,-t-r),this._cubeRound(this._cel)},getCellAt:function(e){var t=e.x*(i.HexGrid.TWO_THIRDS/this.cellSize),r=(-e.x/3+i.SQRT3/3*e.z)/this.cellSize;return this._cel.set(t,r,-t-r),this._cubeRound(this._cel),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(e,t,r){var n,i,o=this._directions.length;for(this._list.length=0,n=0;o>n;n++)this._cel.copy(e),this._cel.add(this._directions[n]),!(i=this.cells[this.cellToHash(this._cel)])||r&&!r(e,i)||this._list.push(i);if(t)for(n=0;o>n;n++)this._cel.copy(e),this._cel.add(this._diagonals[n]),!(i=this.cells[this.cellToHash(this._cel)])||r&&!r(e,i)||this._list.push(i);return this._list},getRandomCell:function(){var e,t=0,r=i.Tools.randomInt(0,this.numCells);for(e in this.cells){if(t===r)return this.cells[e];t++}return this.cells[e]},cellToHash:function(e){return e.q+this._hashDelimeter+e.r+this._hashDelimeter+e.s},distance:function(e,t){return Math.max(Math.abs(e.q-t.q),Math.abs(e.r-t.r),Math.abs(e.s-t.s))+(t.h-e.h)},clearPath:function(){var e,t;for(e in this.cells)(t=this.cells[e])._calcCost=0,t._priority=0,t._parent=null,t._visited=!1},traverse:function(e){var t;for(t in this.cells)e(this.cells[t])},generateTile:function(e,t,r){var n=Math.abs(e.h);1>n&&(n=1);var o=this._geoCache[n];o||(this.extrudeSettings.amount=n,o=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[n]=o);var a=new i.Tile({size:this.cellSize,scale:t,cell:e,geometry:o,material:r});return e.tile=a,a},generateTiles:function(e){e=e||{};var t,r,n,o=[],a={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(t in a=i.Tools.merge(a,e),this.cellSize=a.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*i.SQRT3*this._cellWidth,this.autogenerated=!0,this.extrudeSettings=a.extrudeSettings,this.cells)n=this.cells[t],(r=this.generateTile(n,a.tileScale,a.material)).position.copy(this.cellToPixel(n)),r.position.y=0,o.push(r);return o},generateTilePoly:function(e){e||(e=new THREE.MeshBasicMaterial({color:2405631}));var t=new THREE.Mesh(this.cellShapeGeo,e);return this._vec3.set(1,0,0),t.rotateOnAxis(this._vec3,i.PI/2),t},generate:function(e){var t,r,n,o;for(e=e||{},this.size=void 0===e.size?this.size:e.size,t=-this.size;t<this.size+1;t++)for(r=-this.size;r<this.size+1;r++)n=-t-r,Math.abs(t)<=this.size&&Math.abs(r)<=this.size&&Math.abs(n)<=this.size&&(o=new i.Cell(t,r,n),this.add(o))},generateOverlay:function(e,t,r){var n,o,a,s=this.cellShape.createPointsGeometry();for(n=-e;e+1>n;n++)for(o=-e;e+1>o;o++)if(a=-n-o,Math.abs(n)<=e&&Math.abs(o)<=e&&Math.abs(a)<=e){this._cel.set(n,o,a);var c=new THREE.Line(s,r);c.position.copy(this.cellToPixel(this._cel)),c.rotation.x=90*i.DEG_TO_RAD,t.add(c)}},add:function(e){var t=this.cellToHash(e);if(!this.cells[t])return this.cells[t]=e,this.numCells++,e},remove:function(e){var t=this.cellToHash(e);this.cells[t]&&(delete this.cells[t],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(e,t,r){var n=this;i.Tools.getJSON({url:e,callback:function(e){n.fromJSON(e),t.call(r||null,e)},cache:!1,scope:n})},fromJSON:function(e){var t,r,n=e.cells;for(this.cells={},this.numCells=0,this.size=e.size,this.cellSize=e.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*i.SQRT3*this._cellWidth,this.extrudeSettings=e.extrudeSettings,this.autogenerated=e.autogenerated,t=0;t<n.length;t++)(r=new i.Cell).copy(n[t]),this.add(r)},toJSON:function(){var e,t,r={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},n=[];for(t in this.cells)e=this.cells[t],n.push({q:e.q,r:e.r,s:e.s,h:e.h,walkable:e.walkable,userData:e.userData});return r.cells=n,r},_createVertex:function(e){var t=i.TAU/6*e;return new THREE.Vector3(this.cellSize*Math.cos(t),this.cellSize*Math.sin(t),0)},_cubeRound:function(e){var t=Math.round(e.q),r=Math.round(e.r),n=Math.round(e.s),i=Math.abs(t-e.q),o=Math.abs(r-e.r),a=Math.abs(n-e.s);return i>o&&i>a?t=-r-n:o>a?r=-t-n:n=-t-r,this._cel.set(t,r,n)}},i.HexGrid.prototype.constructor=i.HexGrid,i.SqrGrid=function(e){e=e||{},this.type=i.SQR,this.size=5,this.cellSize=void 0===e.cellSize?10:e.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var t=[];t.push(new THREE.Vector3),t.push(new THREE.Vector3(-this.cellSize,this.cellSize)),t.push(new THREE.Vector3(this.cellSize,this.cellSize)),t.push(new THREE.Vector3(this.cellSize,-this.cellSize)),this.cellShape=new THREE.Shape,this.cellShape.moveTo(-this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,-this.cellSize),this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=t,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._fullCellSize=2*this.cellSize,this._hashDelimeter=".",this._directions=[new i.Cell(1,0,0),new i.Cell(0,-1,0),new i.Cell(-1,0,0),new i.Cell(0,1,0)],this._diagonals=[new i.Cell(-1,-1,0),new i.Cell(-1,1,0),new i.Cell(1,1,0),new i.Cell(1,-1,0)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new i.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},i.SqrGrid.prototype={cellToPixel:function(e){return this._vec3.x=e.q*this._fullCellSize,this._vec3.y=e.h,this._vec3.z=e.r*this._fullCellSize,this._vec3},pixelToCell:function(e){var t=Math.round(e.x/this._fullCellSize),r=Math.round(e.z/this._fullCellSize);return this._cel.set(t,r,0)},getCellAt:function(e){var t=Math.round(e.x/this._fullCellSize),r=Math.round(e.z/this._fullCellSize);return this._cel.set(t,r),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(e,t,r){var n,i,o=this._directions.length;for(this._list.length=0,n=0;o>n;n++)this._cel.copy(e),this._cel.add(this._directions[n]),!(i=this.cells[this.cellToHash(this._cel)])||r&&!r(e,i)||this._list.push(i);if(t)for(n=0;o>n;n++)this._cel.copy(e),this._cel.add(this._diagonals[n]),!(i=this.cells[this.cellToHash(this._cel)])||r&&!r(e,i)||this._list.push(i);return this._list},getRandomCell:function(){var e,t=0,r=i.Tools.randomInt(0,this.numCells);for(e in this.cells){if(t===r)return this.cells[e];t++}return this.cells[e]},cellToHash:function(e){return e.q+this._hashDelimeter+e.r},distance:function(e,t){return Math.max(Math.abs(e.q-t.q),Math.abs(e.r-t.r))+(t.h-e.h)},clearPath:function(){var e,t;for(e in this.cells)(t=this.cells[e])._calcCost=0,t._priority=0,t._parent=null,t._visited=!1},traverse:function(e){var t;for(t in this.cells)e(this.cells[t])},generateTile:function(e,t,r){var n=Math.abs(e.h);1>n&&(n=1);var o=this._geoCache[n];o||(this.extrudeSettings.amount=n,o=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[n]=o);var a=new i.Tile({size:this.cellSize,scale:t,cell:e,geometry:o,material:r});return e.tile=a,a},generateTiles:function(e){e=e||{};var t,r,n,o=[],a={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(t in a=i.Tools.merge(a,e),this.cellSize=a.cellSize,this._fullCellSize=2*this.cellSize,this.autogenerated=!0,this.extrudeSettings=a.extrudeSettings,this.cells)n=this.cells[t],(r=this.generateTile(n,a.tileScale,a.material)).position.copy(this.cellToPixel(n)),r.position.y=0,o.push(r);return o},generateTilePoly:function(e){e||(e=new THREE.MeshBasicMaterial({color:2405631}));var t=new THREE.Mesh(this.cellShapeGeo,e);return this._vec3.set(1,0,0),t.rotateOnAxis(this._vec3,i.PI/2),t},generate:function(e){e=e||{},this.size=void 0===e.size?this.size:e.size;var t,r,n,o=Math.ceil(this.size/2);for(t=-o;o>t;t++)for(r=-o;o>r;r++)n=new i.Cell(t,r+1),this.add(n)},generateOverlay:function(e,t,r){var n,o,a=Math.ceil(e/2);for(n=-a;a>n;n++)for(o=-a;a>o;o++){this._cel.set(n,o);var s=new THREE.Line(this.cellGeo,r);s.position.copy(this.cellToPixel(this._cel)),s.rotation.x=90*i.DEG_TO_RAD,t.add(s)}},add:function(e){var t=this.cellToHash(e);if(!this.cells[t])return this.cells[t]=e,this.numCells++,e},remove:function(e){var t=this.cellToHash(e);this.cells[t]&&(delete this.cells[t],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(e,t,r){i.Tools.getJSON({url:e,callback:function(e){this.fromJSON(e),t.call(r||null,e)},cache:!1,scope:this})},fromJSON:function(e){var t,r,n=e.cells;for(this.cells={},this.numCells=0,this.size=e.size,this.cellSize=e.cellSize,this._fullCellSize=2*this.cellSize,this.extrudeSettings=e.extrudeSettings,this.autogenerated=e.autogenerated,t=0;t<n.length;t++)(r=new i.Cell).copy(n[t]),this.add(r)},toJSON:function(){var e,t,r={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},n=[];for(t in this.cells)e=this.cells[t],n.push({q:e.q,r:e.r,s:e.s,h:e.h,walkable:e.walkable,userData:e.userData});return r.cells=n,r}},i.SqrGrid.prototype.constructor=i.SqrGrid,i.Tile=function(e){e=e||{};var t={cell:null,geometry:null,material:null};if(!(t=i.Tools.merge(t,e)).cell||!t.geometry)throw new Error("Missing vg.Tile configuration");this.cell=t.cell,this.cell.tile&&this.cell.tile!==this&&this.cell.tile.dispose(),this.cell.tile=this,this.uniqueID=i.Tools.generateID(),this.geometry=t.geometry,this.material=t.material,this.material||(this.material=new THREE.MeshPhongMaterial({color:i.Tools.randomizeRGB("30, 30, 30",13)})),this.objectType=i.TILE,this.entity=null,this.userData={},this.selected=!1,this.highlight="0x0084cc",this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.userData.structure=this,this.position=this.mesh.position,this.rotation=this.mesh.rotation,this.rotation.x=-90*i.DEG_TO_RAD,this.mesh.scale.set(t.scale,t.scale,1),this.material.emissive?this._emissive=this.material.emissive.getHex():this._emissive=null},i.Tile.prototype={select:function(){return this.material.emissive&&this.material.emissive.setHex(this.highlight),this.selected=!0,this},deselect:function(){return null!==this._emissive&&this.material.emissive&&this.material.emissive.setHex(this._emissive),this.selected=!1,this},toggle:function(){return this.selected?this.deselect():this.select(),this},dispose:function(){this.cell&&this.cell.tile&&(this.cell.tile=null),this.cell=null,this.position=null,this.rotation=null,this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.userData.structure=null,this.mesh=null,this.material=null,this.userData=null,this.entity=null,this.geometry=null,this._emissive=null}},i.Tile.prototype.constructor=i.Tile,r=function(){this.obj=null,this.next=null,this.prev=null,this.free=!0},(n=function(){this.first=null,this.last=null,this.length=0,this.objToNodeMap={},this.uniqueID=Date.now()+""+Math.floor(1e3*Math.random()),this.sortArray=[]}).generateID=function(){return Math.random().toString(36).slice(2)+Date.now()},(n.prototype={getNode:function(e){return this.objToNodeMap[e.uniqueID]},addNode:function(e){var t=new r;if(!e.uniqueID)try{e.uniqueID=n.generateID()}catch(e){return console.error("[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier"),null}return t.obj=e,t.free=!1,this.objToNodeMap[e.uniqueID]=t,t},swapObjects:function(e,t){this.objToNodeMap[e.obj.uniqueID]=null,this.objToNodeMap[t.uniqueID]=e,e.obj=t},add:function(e){var t=this.objToNodeMap[e.uniqueID];if(t){if(!1===t.free)return;t.obj=e,t.free=!1,t.next=null,t.prev=null}else t=this.addNode(e);if(this.first){if(!this.last)throw new Error("[LinkedList.add] No last in the list -- that shouldn't happen here");this.last.next=t,t.prev=this.last,this.last=t,t.next=null}else this.first=t,this.last=t,t.next=null,t.prev=null;this.length++,this.showDebug&&this.dump("after add")},has:function(e){return!!this.objToNodeMap[e.uniqueID]},moveUp:function(e){this.dump("before move up");var t=this.getNode(e);if(!t)throw"Oops, trying to move an object that isn't in the list";if(t.prev){var r=t.prev,n=r.prev;t==this.last&&(this.last=r);var i=t.next;n&&(n.next=t),t.next=r,t.prev=r.prev,r.next=i,r.prev=t,this.first==r&&(this.first=t)}},moveDown:function(e){var t=this.getNode(e);if(!t)throw"Oops, trying to move an object that isn't in the list";if(t.next){var r=t.next;this.moveUp(r.obj),this.last==r&&(this.last=t)}},sort:function(e){var t,r,n=this.sortArray,i=this.first;for(n.length=0;i;)n.push(i.obj),i=i.next;for(this.clear(),n.sort(e),r=n.length,t=0;r>t;t++)this.add(n[t])},remove:function(e){var t=this.getNode(e);return!(!t||t.free||(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev||(this.first=t.next),t.next||(this.last=t.prev),t.free=!0,t.prev=null,t.next=null,this.length--,0))},shift:function(){var e=this.first;return 0===this.length?null:(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this.first=e.next,e.next||(this.last=null),e.free=!0,e.prev=null,e.next=null,this.length--,e.obj)},pop:function(){var e=this.last;return 0===this.length?null:(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this.last=e.prev,e.prev||(this.first=null),e.free=!0,e.prev=null,e.next=null,this.length--,e.obj)},concat:function(e){for(var t=e.first;t;)this.add(t.obj),t=t.next},clear:function(){for(var e=this.first;e;)e.free=!0,e=e.next;this.first=null,this.length=0},dispose:function(){for(var e=this.first;e;)e.obj=null,e=e.next;this.first=null,this.objToNodeMap=null},dump:function(e){console.log("===================="+e+"=====================");for(var t=this.first;t;)console.log("{"+t.obj.toString()+"} previous="+(t.prev?t.prev.obj:"NULL")),t=t.next();console.log("==================================="),console.log("Last: {"+(this.last?this.last.obj:"NULL")+"} First: {"+(this.first?this.first.obj:"NULL")+"}")}}).constructor=n,i.LinkedList=n,function(){var e=function(e,t,r,n,i){this._listener=t,this.isOnce=r,this.context=n,this.signal=e,this._priority=i||0};(e.prototype={active:!0,params:null,execute:function(e){var t,r;return this.active&&this._listener&&(r=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,r),this.isOnce&&this.detach()),t},detach:function(){return this.isBound()?this.signal.remove(this._listener,this.context):null},isBound:function(){return!!this.signal&&!!this._listener},_destroy:function(){delete this.signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this.isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}).constructor=e;var t=function(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){t.prototype.dispatch.apply(e,arguments)}};t.prototype={memorize:!1,_shouldPropagate:!0,active:!0,validateListener:function(e,t){if("function"!=typeof e)throw new Error("Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))},_registerListener:function(t,r,n,i){var o,a=this._indexOfListener(t,n);if(-1!==a){if((o=this._bindings[a]).isOnce!==r)throw new Error("You cannot add"+(r?"":"Once")+"() then add"+(r?"Once":"")+"() the same listener without removing the relationship first.")}else o=new e(this,t,r,n,i),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){var t=this._bindings.length;do{t--}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var r,n=this._bindings.length;n--;)if((r=this._bindings[n])._listener===e&&r.context===t)return n;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,r){return this.validateListener(e,"add"),this._registerListener(e,!1,t,r)},addOnce:function(e,t,r){return this.validateListener(e,"addOnce"),this._registerListener(e,!0,t,r)},remove:function(e,t){this.validateListener(e,"remove");var r=this._indexOfListener(e,t);return-1!==r&&(this._bindings[r]._destroy(),this._bindings.splice(r,1)),e},removeAll:function(e){void 0===e&&(e=null);for(var t=this._bindings.length;t--;)e?this._bindings[t].context===e&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)):this._bindings[t]._destroy();e||(this._bindings.length=0)},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=t),r){e=this._bindings.slice(),this._shouldPropagate=!0;do{r--}while(e[r]&&this._shouldPropagate&&!1!==e[r].execute(t))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},t.prototype.constructor=t,i.Signal=t}(),i.AStarFinder=function(e){e=e||{};var t={allowDiagonal:!1,heuristicFilter:null};t=i.Tools.merge(t,e),this.allowDiagonal=t.allowDiagonal,this.heuristicFilter=t.heuristicFilter,this.list=new i.LinkedList},i.AStarFinder.prototype={findPath:function(e,t,r,n){var o,a,s,c,l,u;for(r=r||this.heuristicFilter,n.clearPath(),this.list.clear(),this.list.add(e);this.list.length>0;){if(this.list.sort(this.compare),(o=this.list.shift())._visited=!0,o===t)return i.PathUtil.backtrace(t);for(l=0,u=(s=n.getNeighbors(o,this.allowDiagonal,r)).length;u>l;l++)if((c=s[l]).walkable&&(a=o._calcCost+n.distance(o,c),!c._visited||a<c._calcCost)){if(c._visited=!0,c._parent=o,c._calcCost=a,c._priority=a+n.distance(t,c),c===t)return i.PathUtil.backtrace(t);this.list.add(c)}}return null},compare:function(e,t){return e._priority-t._priority}},i.AStarFinder.prototype.constructor=i.AStarFinder,i.PathUtil={backtrace:function(e){for(var t=[e];e._parent;)e=e._parent,t.push(e);return t.reverse()},biBacktrace:function(e,t){var r=this.backtrace(e),n=this.backtrace(t);return r.concat(n.reverse())},pathLength:function(e){var t,r,n,i,o,a=0;for(t=1;t<e.length;++t)r=e[t-1],n=e[t],i=r[0]-n[0],o=r[1]-n[1],a+=Math.sqrt(i*i+o*o);return a},interpolate:function(e,t,r,n){var i,o,a,s,c,l,u=Math.abs,d=[];for(i=r>e?1:-1,o=n>t?1:-1,c=(a=u(r-e))-(s=u(n-t));e!==r||t!==n;)d.push([e,t]),(l=2*c)>-s&&(c-=s,e+=i),a>l&&(c+=a,t+=o);return d},expandPath:function(e){var t,r,n,i,o,a,s=[],c=e.length;if(2>c)return s;for(o=0;c-1>o;++o)for(t=e[o],r=e[o+1],i=(n=this.interpolate(t[0],t[1],r[0],r[1])).length,a=0;i-1>a;++a)s.push(n[a]);return s.push(e[c-1]),s},smoothenPath:function(e,t){var r,n,i,o,a,s,c,l,u,d,h,p,f=t.length,m=t[0][0],g=t[0][1],v=t[f-1][0],y=t[f-1][1];for(a=[[r=m,n=g]],c=2;f>c;++c){for(i=(u=t[c])[0],o=u[1],d=this.interpolate(r,n,i,o),p=!1,l=1;l<d.length;++l)if(h=d[l],!e.isWalkableAt(h[0],h[1])){p=!0;break}p&&(s=t[c-1],a.push(s),r=s[0],n=s[1])}return a.push([v,y]),a},compressPath:function(e){if(e.length<3)return e;var t,r,n,i,o,a,s=[],c=e[0][0],l=e[0][1],u=e[1][0],d=e[1][1],h=u-c,p=d-l;for(h/=o=Math.sqrt(h*h+p*p),p/=o,s.push([c,l]),a=2;a<e.length;a++)t=u,r=d,n=h,i=p,h=(u=e[a][0])-t,p=(d=e[a][1])-r,p/=o=Math.sqrt(h*h+p*p),((h/=o)!==n||p!==i)&&s.push([t,r]);return s.push([u,d]),s}},i.Loader={manager:null,imageLoader:null,crossOrigin:!1,init:function(e){this.crossOrigin=e||!1,this.manager=new THREE.LoadingManager(function(){},function(){},function(){console.warn("Error loading images")}),this.imageLoader=new THREE.ImageLoader(this.manager),this.imageLoader.crossOrigin=e},loadTexture:function(e,t,r,n){var i=new THREE.Texture(null,t);return this.imageLoader.load(e,function(e){i.image=e,i.needsUpdate=!0,r&&r(i)},null,function(e){n&&n(e)}),i.sourceFile=e,i}},i.MouseCaster=function(e,t,r){this.down=!1,this.rightDown=!1,this.pickedObject=null,this.selectedObject=null,this.allHits=null,this.active=!0,this.shift=!1,this.ctrl=!1,this.wheel=0,this.position=new THREE.Vector3,this.screenPosition=new THREE.Vector2,this.signal=new i.Signal,this.group=e,this._camera=t,this._raycaster=new THREE.Raycaster,this._preventDefault=!1,(r=r||document).addEventListener("mousemove",this._onDocumentMouseMove.bind(this),!1),r.addEventListener("mousedown",this._onDocumentMouseDown.bind(this),!1),r.addEventListener("mouseup",this._onDocumentMouseUp.bind(this),!1),r.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),r.addEventListener("DOMMouseScroll",this._onMouseWheel.bind(this),!1)},i.MouseCaster.OVER="over",i.MouseCaster.OUT="out",i.MouseCaster.DOWN="down",i.MouseCaster.UP="up",i.MouseCaster.CLICK="click",i.MouseCaster.WHEEL="wheel",i.MouseCaster.prototype={update:function(){if(this.active){this._raycaster.setFromCamera(this.screenPosition,this._camera);var e,t,r=this._raycaster.intersectObject(this.group,!0);r.length>0?(t=(e=r[0]).object.userData.structure,this.pickedObject!=t&&(this.pickedObject&&this.signal.dispatch(i.MouseCaster.OUT,this.pickedObject),this.pickedObject=t,this.selectedObject=null,this.signal.dispatch(i.MouseCaster.OVER,this.pickedObject)),this.position.copy(e.point),this.screenPosition.z=e.distance):(this.pickedObject&&this.signal.dispatch(i.MouseCaster.OUT,this.pickedObject),this.pickedObject=null,this.selectedObject=null),this.allHits=r}},preventDefault:function(){this._preventDefault=!0},_onDocumentMouseDown:function(e){return(e=e||window.event).preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.pickedObject&&(this.selectedObject=this.pickedObject),this.shift=e.shiftKey,this.ctrl=e.ctrlKey,this.down=1===e.which,this.rightDown=3===e.which,void this.signal.dispatch(i.MouseCaster.DOWN,this.pickedObject))},_onDocumentMouseUp:function(e){return e.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.shift=e.shiftKey,this.ctrl=e.ctrlKey,this.signal.dispatch(i.MouseCaster.UP,this.pickedObject),this.selectedObject&&this.pickedObject&&this.selectedObject.uniqueID===this.pickedObject.uniqueID&&this.signal.dispatch(i.MouseCaster.CLICK,this.pickedObject),this.down=1!==e.which&&this.down,void(this.rightDown=3!==e.which&&this.rightDown))},_onDocumentMouseMove:function(e){e.preventDefault(),this.screenPosition.x=e.clientX/window.innerWidth*2-1,this.screenPosition.y=-e.clientY/window.innerHeight*2+1},_onMouseWheel:function(e){if(this.active){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?this.wheel++:this.wheel--,this.signal.dispatch(i.MouseCaster.WHEEL,this.wheel)}}},i.MouseCaster.prototype.constructor=i.MouseCaster,i.Scene=function(e,t){var r={element:document.body,alpha:!0,antialias:!0,clearColor:"#fff",sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:"PerspectiveCamera",cameraPosition:null,orthoZoom:4},n={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(r=i.Tools.merge(r,e),"boolean"!=typeof t&&(n=i.Tools.merge(n,t)),this.renderer=new THREE.WebGLRenderer({alpha:r.alpha,antialias:r.antialias}),this.renderer.setClearColor(r.clearColor,0),this.renderer.sortObjects=r.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=r.orthoZoom,this.container=new THREE.Scene,this.container.fog=r.fog,this.container.add(new THREE.AmbientLight(14540253)),r.lightPosition||r.light.position.set(-1,1,-1).normalize(),this.container.add(r.light),"OrthographicCamera"===r.cameraType){var o=window.innerWidth/this.orthoZoom,a=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(o/-2,o/2,a/2,a/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!t,this.contolled&&(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=n.minDistance,this.controls.maxDistance=n.maxDistance,this.controls.zoomSpeed=n.zoomSpeed,this.controls.noZoom=n.noZoom),r.cameraPosition&&this.camera.position.copy(r.cameraPosition),window.addEventListener("resize",function(){if(this.width=window.innerWidth,this.height=window.innerHeight,"OrthographicCamera"===this.camera.type){var e=this.width/this.orthoZoom,t=this.height/this.orthoZoom;this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}.bind(this),!1),this.attachTo(r.element)},i.Scene.prototype={attachTo:function(e){e.style.width=this.width+"px",e.style.height=this.height+"px",this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),e.appendChild(this.renderer.domElement)},add:function(e){this.container.add(e)},remove:function(e){this.container.remove(e)},render:function(){this.contolled&&this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom<=0)this.orthoZoom=0;else{var e=this.width/this.orthoZoom,t=this.height/this.orthoZoom;this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix()}},focusOn:function(e){this.camera.lookAt(e.position)}},i.Scene.prototype.constructor=i.Scene,i.SelectionManager=function(e){this.mouse=e,this.onSelect=new i.Signal,this.onDeselect=new i.Signal,this.selected=null,this.toggleSelection=!1,this.mouse.signal.add(this.onMouse,this)},i.SelectionManager.prototype={select:function(e,t){e&&(t=t||!0,this.selected!==e&&this.clearSelection(t),e.selected?this.toggleSelection&&(t&&this.onDeselect.dispatch(e),e.deselect()):e.select(),this.selected=e,t&&this.onSelect.dispatch(e))},clearSelection:function(e){e=e||!0,this.selected&&(e&&this.onDeselect.dispatch(this.selected),this.selected.deselect()),this.selected=null},onMouse:function(e,t){switch(e){case i.MouseCaster.DOWN:t||this.clearSelection();break;case i.MouseCaster.CLICK:this.select(t)}}},i.SelectionManager.prototype.constructor=i.SelectionManager,i.Tools={clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},sign:function(e){return e&&e/Math.abs(e)},random:function(e,t){return 1===arguments.length?Math.random()*e-.5*e:Math.random()*(t-e)+e},randomInt:function(e,t){return 1===arguments.length?Math.random()*e-.5*e|0:Math.random()*(t-e+1)+e|0},normalize:function(e,t,r){return(e-t)/(r-t)},getShortRotation:function(e){return(e%=this.TAU)>this.PI?e-=this.TAU:e<-this.PI&&(e+=this.TAU),e},generateID:function(){return Math.random().toString(36).slice(2)+Date.now()},isPlainObject:function(e){if("object"!=typeof e||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},merge:function(e,t){var r=this,n=Array.isArray(t),i=n&&[]||{};return n?(e=e||[],i=i.concat(e),t.forEach(function(t,n){void 0===i[n]?i[n]=t:r.isPlainObject(t)?i[n]=r.merge(e[n],t):-1===e.indexOf(t)&&i.push(t)}),i):(e&&r.isPlainObject(e)&&Object.keys(e).forEach(function(t){i[t]=e[t]}),Object.keys(t).forEach(function(n){t[n]&&r.isPlainObject(t[n])&&e[n]?i[n]=r.merge(e[n],t[n]):i[n]=t[n]}),i)},now:function(){return window.nwf?window.nwf.system.Performance.elapsedTime:window.performance.now()},empty:function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},radixSort:function(e,t,r,n){if(n=n||31,!((t=t||0)>=(r=r||e.length)-1||0>n)){for(var i=t,o=r,a=1<<n;o>i;)if(e[i]&a){--o;var s=e[i];e[i]=e[o],e[o]=s}else++i;this.radixSort(e,t,o,n-1),this.radixSort(e,o,r,n-1)}},randomizeRGB:function(e,t){var r,n,i=e.split(","),o="rgb(";for(t=this.randomInt(t),r=0;3>r;r++)0>(n=parseInt(i[r])+t)?n=0:n>255&&(n=255),o+=n+",";return(o=o.substring(0,o.length-1))+")"},getJSON:function(e){var t=new XMLHttpRequest,r=void 0!==e.cache&&e.cache?e.url:e.url+"?t="+Math.floor(1e4*Math.random())+Date.now();t.onreadystatechange=function(){if(200!==this.status)0!==this.status&&console.warn("[Tools.getJSON] Error: "+this.status+" ("+this.statusText+") :: "+e.url);else{var t=null;try{t=JSON.parse(this.responseText)}catch(e){return}e.callback.call(e.scope||null,t)}},t.open("GET",r,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json"),t.send("")}}},function(e,t){e.exports={size:5,cellSize:10,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5},autogenerated:!0,cells:[{q:-1,r:0,s:1,h:1,walkable:!0,userData:{}},{q:0,r:-1,s:1,h:1,walkable:!0,userData:{}},{q:0,r:0,s:0,h:1,walkable:!0,userData:{}},{q:1,r:-1,s:0,h:1,walkable:!0,userData:{}},{q:-1,r:1,s:0,h:0,walkable:!0,userData:{}},{q:0,r:1,s:-1,h:0,walkable:!0,userData:{}},{q:1,r:0,s:-1,h:0,walkable:!0,userData:{}}]}},function(e,t){e.exports.Primitive=AFRAME.registerPrimitive("a-ocean",{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:"ocean.width",depth:"ocean.depth",density:"ocean.density",amplitude:"ocean.amplitude",amplitudeVariance:"ocean.amplitudeVariance",speed:"ocean.speed",speedVariance:"ocean.speedVariance",color:"ocean.color",opacity:"ocean.opacity"}}),e.exports.Component=AFRAME.registerComponent("ocean",{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:"#7AD2F7",type:"color"},opacity:{default:.8}},play:function(){const e=this.el,t=this.data;let r=e.components.material;const n=new THREE.PlaneGeometry(t.width,t.depth,t.density,t.density);n.mergeVertices(),this.waves=[];for(let e,r=0,i=n.vertices.length;r<i;r++)e=n.vertices[r],this.waves.push({z:e.z,ang:Math.random()*Math.PI*2,amp:t.amplitude+Math.random()*t.amplitudeVariance,speed:(t.speed+Math.random()*t.speedVariance)/1e3});r||((r={}).material=new THREE.MeshPhongMaterial({color:t.color,transparent:t.opacity<1,opacity:t.opacity,shading:THREE.FlatShading})),this.mesh=new THREE.Mesh(n,r.material),e.setObject3D("mesh",this.mesh)},remove:function(){this.el.removeObject3D("mesh")},tick:function(e,t){if(!t)return;const r=this.mesh.geometry.vertices;for(let e,n,i=0;e=r[i];i++)n=this.waves[i],e.z=n.z+Math.sin(n.ang)*n.amp,n.ang+=n.speed*t;this.mesh.geometry.verticesNeedUpdate=!0}})},function(e,t){e.exports.Primitive=AFRAME.registerPrimitive("a-tube",{defaultComponents:{tube:{}},mappings:{path:"tube.path",segments:"tube.segments",radius:"tube.radius","radial-segments":"tube.radialSegments",closed:"tube.closed"}}),e.exports.Component=AFRAME.registerComponent("tube",{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){const e=this.el,t=this.data;let r=e.components.material;if(!t.path.length)return void console.error("[a-tube] `path` property expected but not found.");const n=new THREE.CatmullRomCurve3(t.path.map(function(e){return e=e.split(" "),new THREE.Vector3(Number(e[0]),Number(e[1]),Number(e[2]))})),i=new THREE.TubeGeometry(n,t.segments,t.radius,t.radialSegments,t.closed);r||((r={}).material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(i,r.material),this.el.setObject3D("mesh",this.mesh)},update:function(e){Object.keys(e).length&&(this.remove(),this.init())},remove:function(){this.mesh&&this.el.removeObject3D("mesh")}})},function(e,t){e.exports=function(e,t,r,n,i){this.from=e,this.to=t,this.length=r,this.coeff=n,this.weight="number"==typeof i?i:1}},function(e,t,r){function n(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function i(e,t,r){0===t?e.quad0=r:1===t?e.quad1=r:2===t?e.quad2=r:3===t&&(e.quad3=r)}e.exports=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=r(98).random(1984),o=r(842),a=r(843),s=r(844),c=e.gravity,l=[],u=new a,d=e.theta,h=[],p=0,f=m();return{insertBodies:function(e){var t,r=Number.MAX_VALUE,n=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,a=e.length;t=a;for(;t--;){var s=e[t].pos.x,c=e[t].pos.y;s<r&&(r=s),s>i&&(i=s),c<n&&(n=c),c>o&&(o=c)}var l=i-r,u=o-n;l>u?o=n+l:i=r+u;p=0,(f=m()).left=r,f.right=i,f.top=n,f.bottom=o,(t=a-1)>=0&&(f.body=e[t]);for(;t--;)g(e[t])},getRoot:function(){return f},updateBodyForce:function(e){var r,n,i,o,a=l,s=0,u=0,h=1,p=0,m=1;a[0]=f;for(;h;){var g=a[p],v=g.body;h-=1,p+=1;var y=v!==e;v&&y?(n=v.pos.x-e.pos.x,i=v.pos.y-e.pos.y,0===(o=Math.sqrt(n*n+i*i))&&(n=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=Math.sqrt(n*n+i*i)),r=c*v.mass*e.mass/(o*o*o),s+=r*n,u+=r*i):y&&(n=g.massX/g.mass-e.pos.x,i=g.massY/g.mass-e.pos.y,0===(o=Math.sqrt(n*n+i*i))&&(n=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=Math.sqrt(n*n+i*i)),(g.right-g.left)/o<d?(r=c*g.mass*e.mass/(o*o*o),s+=r*n,u+=r*i):(g.quad0&&(a[m]=g.quad0,h+=1,m+=1),g.quad1&&(a[m]=g.quad1,h+=1,m+=1),g.quad2&&(a[m]=g.quad2,h+=1,m+=1),g.quad3&&(a[m]=g.quad3,h+=1,m+=1)))}e.force.x+=s,e.force.y+=u},options:function(e){return e?("number"==typeof e.gravity&&(c=e.gravity),"number"==typeof e.theta&&(d=e.theta),this):{gravity:c,theta:d}}};function m(){var e=h[p];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new o,h[p]=e),++p,e}function g(e){for(u.reset(),u.push(f,e);!u.isEmpty();){var r=u.pop(),o=r.node,a=r.body;if(o.body){var c=o.body;if(o.body=null,s(c.pos,a.pos)){var l=3;do{var d=t.nextDouble(),h=(o.right-o.left)*d,p=(o.bottom-o.top)*d;c.pos.x=o.left+h,c.pos.y=o.top+p,l-=1}while(l>0&&s(c.pos,a.pos));if(0===l&&s(c.pos,a.pos))return}u.push(o,c),u.push(o,a)}else{var g=a.pos.x,v=a.pos.y;o.mass=o.mass+a.mass,o.massX=o.massX+a.mass*g,o.massY=o.massY+a.mass*v;var y=0,b=o.left,x=(o.right+b)/2,w=o.top,E=(o.bottom+w)/2;g>x&&(y+=1,b=x,x=o.right),v>E&&(y+=2,w=E,E=o.bottom);var A=n(o,y);A?u.push(A,a):((A=m()).left=b,A.top=w,A.right=x,A.bottom=E,A.body=a,i(o,y,A))}}}}},function(e,t){e.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(e,t){function r(){this.stack=[],this.popIdx=0}function n(e,t){this.node=e,this.body=t}e.exports=r,r.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var r=this.stack[this.popIdx];r?(r.node=e,r.body=t):this.stack[this.popIdx]=new n(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(e,t){e.exports=function(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return r<1e-8&&n<1e-8}},function(e,t,r){e.exports=function(e,t){var n=r(98).random(42),i={x1:0,y1:0,x2:0,y2:0};return{box:i,update:function(){var t=e.length;if(0===t)return;var r=Number.MAX_VALUE,n=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MIN_VALUE;for(;t--;){var s=e[t];s.isPinned?(s.pos.x=s.prevPos.x,s.pos.y=s.prevPos.y):(s.prevPos.x=s.pos.x,s.prevPos.y=s.pos.y),s.pos.x<r&&(r=s.pos.x),s.pos.x>o&&(o=s.pos.x),s.pos.y<n&&(n=s.pos.y),s.pos.y>a&&(a=s.pos.y)}i.x1=r,i.x2=o,i.y1=n,i.y2=a},reset:function(){i.x1=i.y1=0,i.x2=i.y2=0},getBestNewPosition:function(e){var r=i,o=0,a=0;if(e.length){for(var s=0;s<e.length;++s)o+=e[s].pos.x,a+=e[s].pos.y;o/=e.length,a/=e.length}else o=(r.x1+r.x2)/2,a=(r.y1+r.y2)/2;var c=t.springLength;return{x:o+n.next(c)-c/2,y:a+n.next(c)-c/2}}}}},function(e,t,r){e.exports=function(e){var t=r(97),n={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y}};return r(116)(e=t(e,{dragCoeff:.02}),n,["dragCoeff"]),n}},function(e,t,r){e.exports=function(e){var t=r(97),n=r(98).random(42),i={update:function(t){var r=t.from,i=t.to,o=t.length<0?e.springLength:t.length,a=i.pos.x-r.pos.x,s=i.pos.y-r.pos.y,c=Math.sqrt(a*a+s*s);0===c&&(a=(n.nextDouble()-.5)/50,s=(n.nextDouble()-.5)/50,c=Math.sqrt(a*a+s*s));var l=c-o,u=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*l/c*t.weight;r.force.x+=u*a,r.force.y+=u*s,i.force.x-=u*a,i.force.y-=u*s}};return r(116)(e=t(e,{springCoeff:2e-4,springLength:80}),i,["springCoeff","springLength"]),i}},function(e,t){e.exports=function(e,t){var r,n=0,i=0,o=0,a=0,s=e.length;if(0===s)return 0;for(r=0;r<s;++r){var c=e[r],l=t/c.mass;c.velocity.x+=l*c.force.x,c.velocity.y+=l*c.force.y;var u=c.velocity.x,d=c.velocity.y,h=Math.sqrt(u*u+d*d);h>1&&(c.velocity.x=u/h,c.velocity.y=d/h),n=t*c.velocity.x,o=t*c.velocity.y,c.pos.x+=n,c.pos.y+=o,i+=Math.abs(n),a+=Math.abs(o)}return(i*i+a*a)/s}},function(e,t,r){var n=r(366);e.exports=function(e){return new n.Body(e)}},function(e,t,r){function n(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:4===t?e.quad4:5===t?e.quad5:6===t?e.quad6:7===t?e.quad7:null}function i(e,t,r){0===t?e.quad0=r:1===t?e.quad1=r:2===t?e.quad2=r:3===t?e.quad3=r:4===t?e.quad4=r:5===t?e.quad5=r:6===t?e.quad6=r:7===t&&(e.quad7=r)}e.exports=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=r(98).random(1984),o=r(851),a=r(852),s=r(853),c=e.gravity,l=[],u=new a,d=e.theta,h=[],p=0,f=function(){var e=h[p];return e?(e.quad0=null,e.quad4=null,e.quad1=null,e.quad5=null,e.quad2=null,e.quad6=null,e.quad3=null,e.quad7=null,e.body=null,e.mass=e.massX=e.massY=e.massZ=0,e.left=e.right=e.top=e.bottom=e.front=e.back=0):(e=new o,h[p]=e),++p,e},m=f(),g=function(e){for(u.reset(),u.push(m,e);!u.isEmpty();){var r=u.pop(),o=r.node,a=r.body;if(o.body){var c=o.body;if(o.body=null,s(c.pos,a.pos)){var l=3;do{var d=t.nextDouble(),h=(o.right-o.left)*d,p=(o.bottom-o.top)*d,g=(o.front-o.back)*d;c.pos.x=o.left+h,c.pos.y=o.top+p,c.pos.z=o.back+g,l-=1}while(l>0&&s(c.pos,a.pos));if(0===l&&s(c.pos,a.pos))return}u.push(o,c),u.push(o,a)}else{var v=a.pos.x,y=a.pos.y,b=a.pos.z;o.mass+=a.mass,o.massX+=a.mass*v,o.massY+=a.mass*y,o.massZ+=a.mass*b;var x=0,w=o.left,E=(o.right+w)/2,A=o.top,_=(o.bottom+A)/2,M=o.back,S=(o.front+M)/2;if(v>E){x+=1;var T=w;w=E,E+=E-T}if(y>_){x+=2;var C=A;A=_,_+=_-C}if(b>S){x+=4;var O=M;S=(M=S)+(M-O)}var L=n(o,x);L?u.push(L,a):((L=f()).left=w,L.top=A,L.right=E,L.bottom=_,L.back=M,L.front=S,L.body=a,i(o,x,L))}}};return{insertBodies:function(e){var t,r=Number.MAX_VALUE,n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,c=e.length;for(t=c;t--;){var l=e[t].pos,u=l.x,d=l.y,h=l.z;u<r&&(r=u),u>o&&(o=u),d<n&&(n=d),d>a&&(a=d),h<i&&(i=h),h>s&&(s=h)}var v=Math.max(o-r,Math.max(a-n,s-i));for(o=r+v,a=n+v,s=i+v,p=0,(m=f()).left=r,m.right=o,m.top=n,m.bottom=a,m.back=i,m.front=s,(t=c-1)>0&&(m.body=e[t]);t--;)g(e[t])},updateBodyForce:function(e){var r,n,i,o,a,s=l,u=0,h=0,p=0,f=1,g=0,v=1;for(s[0]=m;f;){var y=s[g],b=y.body;f-=1,g+=1;var x=b!==e;b&&x?(n=b.pos.x-e.pos.x,i=b.pos.y-e.pos.y,o=b.pos.z-e.pos.z,0===(a=Math.sqrt(n*n+i*i+o*o))&&(n=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=(t.nextDouble()-.5)/50,a=Math.sqrt(n*n+i*i+o*o)),u+=(r=c*b.mass*e.mass/(a*a*a))*n,h+=r*i,p+=r*o):x&&(n=y.massX/y.mass-e.pos.x,i=y.massY/y.mass-e.pos.y,o=y.massZ/y.mass-e.pos.z,0===(a=Math.sqrt(n*n+i*i+o*o))&&(n=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=(t.nextDouble()-.5)/50,a=Math.sqrt(n*n+i*i+o*o)),(y.right-y.left)/a<d?(u+=(r=c*y.mass*e.mass/(a*a*a))*n,h+=r*i,p+=r*o):(y.quad0&&(s[v]=y.quad0,f+=1,v+=1),y.quad1&&(s[v]=y.quad1,f+=1,v+=1),y.quad2&&(s[v]=y.quad2,f+=1,v+=1),y.quad3&&(s[v]=y.quad3,f+=1,v+=1),y.quad4&&(s[v]=y.quad4,f+=1,v+=1),y.quad5&&(s[v]=y.quad5,f+=1,v+=1),y.quad6&&(s[v]=y.quad6,f+=1,v+=1),y.quad7&&(s[v]=y.quad7,f+=1,v+=1)))}e.force.x+=u,e.force.y+=h,e.force.z+=p},options:function(e){return e?("number"==typeof e.gravity&&(c=e.gravity),"number"==typeof e.theta&&(d=e.theta),this):{gravity:c,theta:d}}}}},function(e,t){e.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0}},function(e,t){function r(){this.stack=[],this.popIdx=0}function n(e,t){this.node=e,this.body=t}e.exports=r,r.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var r=this.stack[this.popIdx];r?(r.node=e,r.body=t):this.stack[this.popIdx]=new n(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(e,t){e.exports=function(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),i=Math.abs(e.z-t.z);return r<1e-8&&n<1e-8&&i<1e-8}},function(e,t,r){e.exports=function(e,t){var n=r(98).random(42),i={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:i,update:function(){var t=e.length;if(0===t)return;var r=Number.MAX_VALUE,n=Number.MAX_VALUE,o=Number.MAX_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,c=Number.MIN_VALUE;for(;t--;){var l=e[t];l.isPinned?(l.pos.x=l.prevPos.x,l.pos.y=l.prevPos.y,l.pos.z=l.prevPos.z):(l.prevPos.x=l.pos.x,l.prevPos.y=l.pos.y,l.prevPos.z=l.pos.z),l.pos.x<r&&(r=l.pos.x),l.pos.x>a&&(a=l.pos.x),l.pos.y<n&&(n=l.pos.y),l.pos.y>s&&(s=l.pos.y),l.pos.z<o&&(o=l.pos.z),l.pos.z>c&&(c=l.pos.z)}i.x1=r,i.x2=a,i.y1=n,i.y2=s,i.z1=o,i.z2=c},reset:function(){i.x1=i.y1=0,i.x2=i.y2=0,i.z1=i.z2=0},getBestNewPosition:function(e){var r=i,o=0,a=0,s=0;if(e.length){for(var c=0;c<e.length;++c)o+=e[c].pos.x,a+=e[c].pos.y,s+=e[c].pos.z;o/=e.length,a/=e.length,s/=e.length}else o=(r.x1+r.x2)/2,a=(r.y1+r.y2)/2,s=(r.z1+r.z2)/2;var l=t.springLength;return{x:o+n.next(l)-l/2,y:a+n.next(l)-l/2,z:s+n.next(l)-l/2}}}}},function(e,t,r){e.exports=function(e){var t=r(97),n={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y,t.force.z-=e.dragCoeff*t.velocity.z}};return r(116)(e=t(e,{dragCoeff:.02}),n,["dragCoeff"]),n}},function(e,t,r){e.exports=function(e){var t=r(97),n=r(98).random(42),i={update:function(t){var r=t.from,i=t.to,o=t.length<0?e.springLength:t.length,a=i.pos.x-r.pos.x,s=i.pos.y-r.pos.y,c=i.pos.z-r.pos.z,l=Math.sqrt(a*a+s*s+c*c);0===l&&(a=(n.nextDouble()-.5)/50,s=(n.nextDouble()-.5)/50,c=(n.nextDouble()-.5)/50,l=Math.sqrt(a*a+s*s+c*c));var u=l-o,d=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*u/l*t.weight;r.force.x+=d*a,r.force.y+=d*s,r.force.z+=d*c,i.force.x-=d*a,i.force.y-=d*s,i.force.z-=d*c}};return r(116)(e=t(e,{springCoeff:2e-4,springLength:80}),i,["springCoeff","springLength"]),i}},function(e,t,r){var n=r(366);e.exports=function(e){return new n.Body3d(e)}},function(e,t){e.exports=function(e,t){var r,n=0,i=0,o=0,a=e.length;for(r=0;r<a;++r){var s=e[r],c=t*t/s.mass;s.pos.x=2*s.pos.x-s.prevPos.x+s.force.x*c,s.pos.y=2*s.pos.y-s.prevPos.y+s.force.y*c,s.pos.z=2*s.pos.z-s.prevPos.z+s.force.z*c,n+=Math.abs(s.pos.x-s.prevPos.x),i+=Math.abs(s.pos.y-s.prevPos.y),o+=Math.abs(s.pos.z-s.prevPos.z)}return(n*n+i*i+o*o)/e.length}},function(e,t){e.exports=function(e,t){var r,n=0,i=0,o=0,a=0,s=0,c=0,l=e.length;for(r=0;r<l;++r){var u=e[r],d=t/u.mass;u.velocity.x+=d*u.force.x,u.velocity.y+=d*u.force.y,u.velocity.z+=d*u.force.z;var h=u.velocity.x,p=u.velocity.y,f=u.velocity.z,m=Math.sqrt(h*h+p*p+f*f);m>1&&(u.velocity.x=h/m,u.velocity.y=p/m,u.velocity.z=f/m),n=t*u.velocity.x,o=t*u.velocity.y,s=t*u.velocity.z,u.pos.x+=n,u.pos.y+=o,u.pos.z+=s,i+=Math.abs(n),a+=Math.abs(o),c+=Math.abs(s)}return(i*i+a*a+c*c)/e.length}},function(e,t,r){"use strict";var n=r(861);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){!function(){"use strict";var t=r(368),n=function(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)};n.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(e){return t.pointsToString(e.points)}).join(", ")+"]"},addCurve:function(e){this.curves.push(e),this._3d=this._3d||e._3d},length:function(){return this.curves.map(function(e){return e.length()}).reduce(function(e,t){return e+t})},curve:function(e){return this.curves[e]},bbox:function(){for(var e=this.curves,r=e[0].bbox(),n=1;n<e.length;n++)t.expandbox(r,e[n].bbox());return r},offset:function(e){var t=[];return this.curves.forEach(function(r){t=t.concat(r.offset(e))}),new n(t)}},e.exports=n}()},function(e,t,r){var n=r(865),i={x:!1,y:!1};function o(e,t,r){if("Z"!==t){if("M"!==t){var n=[!1,i.x,i.y].concat(r),o=new(e.bind.apply(e,n)),a=r.slice(-2);return i={x:a[0],y:a[1]},o}i={x:r[0],y:r[1]}}}e.exports=function(e,t){for(var r,i,a=n(t).split(" "),s=new RegExp("[MLCQZ]",""),c=[],l={C:6,Q:4,L:2,M:2};a.length;)r=a.splice(0,1)[0],s.test(r)&&(i=o(e,r,a.splice(0,l[r]).map(parseFloat)))&&c.push(i);return new e.PolyBezier(c)}},function(e,t){e.exports=function(e){var t,r,n,i,o,a,s=(e=e.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),c=s.length,l=[],u=0,d=0,h=0,p=0,f=0,m=0,g=0,v=0,y="";for(t=1;t<c;t++)if(i=(n=(r=s[t]).substring(0,1)).toLowerCase(),o=(l=(l=r.replace(n,"").trim().split(" ")).filter(function(e){return""!==e}).map(parseFloat)).length,"m"===i){if(y+="M ","m"===n?(h+=l[0],p+=l[1]):(h=l[0],p=l[1]),u=h,d=p,y+=h+" "+p+" ",o>2)for(a=0;a<o;a+=2)"m"===n?(h+=l[a],p+=l[a+1]):(h=l[a],p=l[a+1]),y+=["L",h,p,""].join(" ")}else if("l"===i)for(a=0;a<o;a+=2)"l"===n?(h+=l[a],p+=l[a+1]):(h=l[a],p=l[a+1]),y+=["L",h,p,""].join(" ");else if("h"===i)for(a=0;a<o;a++)"h"===n?h+=l[a]:h=l[a],y+=["L",h,p,""].join(" ");else if("v"===i)for(a=0;a<o;a++)"v"===n?p+=l[a]:p=l[a],y+=["L",h,p,""].join(" ");else if("q"===i)for(a=0;a<o;a+=4)"q"===n?(f=h+l[a],m=p+l[a+1],h+=l[a+2],p+=l[a+3]):(f=l[a],m=l[a+1],h=l[a+2],p=l[a+3]),y+=["Q",f,m,h,p,""].join(" ");else if("t"===i)for(a=0;a<o;a+=2)f=h+(h-f),m=p+(p-m),"t"===n?(h+=l[a],p+=l[a+1]):(h=l[a],p=l[a+1]),y+=["Q",f,m,h,p,""].join(" ");else if("c"===i)for(a=0;a<o;a+=6)"c"===n?(f=h+l[a],m=p+l[a+1],g=h+l[a+2],v=p+l[a+3],h+=l[a+4],p+=l[a+5]):(f=l[a],m=l[a+1],g=l[a+2],v=l[a+3],h=l[a+4],p=l[a+5]),y+=["C",f,m,g,v,h,p,""].join(" ");else if("s"===i)for(a=0;a<o;a+=4)f=h+(h-g),m=p+(p-v),"s"===n?(g=h+l[a],v=p+l[a+1],h+=l[a+2],p+=l[a+3]):(g=l[a],v=l[a+1],h=l[a+2],p=l[a+3]),y+=["C",f,m,g,v,h,p,""].join(" ");else"z"===i&&(y+="Z ",h=u,p=d);return y.trim()}},function(e,t,r){var n=r(105),i=r(53),o=r(104),a=/"/g,s=function(e,t,r,n){var i=String(o(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},function(e,t,r){"use strict";var n=r(869);function i(){}e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=i,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=r(871);function i(){}e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=i,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"someByType",function(){return jr}),r.d(n,"findByType",function(){return Dr}),r.d(n,"isNil",function(){return Ir});var i=r(0),o=r.n(i),a=r(56),s=r.n(a);function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=r(81),u=r.n(l),d=o.a.createContext(null),h=function(e){function t(t){var r;r=e.call(this,t)||this;var n=t.store;return r.state={storeState:n.getState(),store:n},r}c(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.subscribe()},r.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},r.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},r.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var r=t.getState();e._isMounted&&e.setState(function(e){return e.storeState===r?null:{storeState:r}})});var r=t.getState();r!==this.state.storeState&&this.setState({storeState:r})},r.render=function(){var e=this.props.context||d;return o.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(i.Component);h.propTypes={store:u.a.shape({subscribe:u.a.func.isRequired,dispatch:u.a.func.isRequired,getState:u.a.func.isRequired}),context:u.a.object,children:u.a.any};var p=h;function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var v=r(245),y=r.n(v),b=r(28),x=r.n(b);r(427);function w(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,a=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,s=r.methodName,l=void 0===s?"connectAdvanced":s,u=r.renderCountProp,h=void 0===u?void 0:u,p=r.shouldHandleStateChanges,v=void 0===p||p,b=r.storeKey,w=void 0===b?"store":b,E=r.withRef,A=void 0!==E&&E,_=r.forwardRef,M=void 0!==_&&_,S=r.context,T=void 0===S?d:S,C=g(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);x()(void 0===h,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),x()(!A,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var O="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React-Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";x()("store"===w,"storeKey has been removed and does not do anything. "+O);var L=T;return function(t){var r=t.displayName||t.name||"Component",n=a(r),s=m({},C,{getDisplayName:a,methodName:l,renderCountProp:h,shouldHandleStateChanges:v,storeKey:w,displayName:n,wrappedComponentName:r,WrappedComponent:t}),u=C.pure,d=i.Component,p=t;u&&(d=i.PureComponent);var g=function(t){function r(r){var n,i,a,c,l,d,h,g,v;return n=t.call(this,r)||this,x()(M?!r.wrapperProps[w]:!r[w],"Passing redux store in props has been removed and does not do anything. "+O),n.selectDerivedProps=function(t,r,n){if(u&&i===r&&a===t)return c;n!==l&&(l=n,d=e(n.dispatch,s)),i=r,a=t;var o=d(t,r);return c===o?c:c=o},n.selectChildElement=function(e,t){return e===h&&t===g||(h=e,g=t,v=o.a.createElement(p,m({},e,{ref:t}))),v},n.renderWrappedComponent=n.renderWrappedComponent.bind(f(f(n))),n}c(r,t);var i=r.prototype;return i.renderWrappedComponent=function(e){x()(e,'Could not find "store" in the context of "'+n+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+n+" in connect options.");var t,r=e.storeState,i=e.store,o=this.props;M&&(o=this.props.wrapperProps,t=this.props.forwardedRef);var a=this.selectDerivedProps(r,o,i);return this.selectChildElement(a,t)},i.render=function(){var e=this.props.context||L;return o.a.createElement(e.Consumer,null,this.renderWrappedComponent)},r}(d);if(g.WrappedComponent=t,g.displayName=n,M){var b=o.a.forwardRef(function(e,t){return o.a.createElement(g,{wrapperProps:e,forwardedRef:t})});return b.displayName=n,b.WrappedComponent=t,y()(b,t)}return y()(g,t)}}var E=Object.prototype.hasOwnProperty;function A(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function _(e,t){if(A(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!E.call(t,r[i])||!A(e[r[i]],t[r[i]]))return!1;return!0}var M=r(67);function S(e){return function(t,r){var n=e(t,r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function C(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=T(e);var i=n(t,r);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=T(i),i=n(t,r)),i},n}}var O=[function(e){return"function"==typeof e?C(e):void 0},function(e){return e?void 0:S(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?S(function(t){return Object(M.bindActionCreators)(e,t)}):void 0}];var L=[function(e){return"function"==typeof e?C(e):void 0},function(e){return e?void 0:S(function(){return{}})}];function R(e,t,r){return m({},r,e,t)}var P=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,i=r.pure,o=r.areMergedPropsEqual,a=!1;return function(t,r,s){var c=e(t,r,s);return a?i&&o(c,n)||(n=c):(a=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function k(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function j(e,t,r,n,i){var o,a,s,c,l,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function f(i,p){var f,m,g=!d(p,a),v=!u(i,o);return o=i,a=p,g&&v?(s=e(o,a),t.dependsOnOwnProps&&(c=t(n,a)),l=r(s,c,a)):g?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(n,a)),l=r(s,c,a)):v?(f=e(o,a),m=!h(f,s),s=f,m&&(l=r(s,c,a)),l):l}return function(i,u){return p?f(i,u):(s=e(o=i,a=u),c=t(n,a),l=r(s,c,a),p=!0,l)}}function D(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=g(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,o),s=n(e,o),c=i(e,o);return(o.pure?j:k)(a,s,c,e,o)}function I(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function N(e,t){return e===t}var z,B,F,U,H,G,V,W,q,X,Y,K,Q=(F=(B=void 0===z?{}:z).connectHOC,U=void 0===F?w:F,H=B.mapStateToPropsFactories,G=void 0===H?L:H,V=B.mapDispatchToPropsFactories,W=void 0===V?O:V,q=B.mergePropsFactories,X=void 0===q?P:q,Y=B.selectorFactory,K=void 0===Y?D:Y,function(e,t,r,n){void 0===n&&(n={});var i=n,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,c=void 0===s?N:s,l=i.areOwnPropsEqual,u=void 0===l?_:l,d=i.areStatePropsEqual,h=void 0===d?_:d,p=i.areMergedPropsEqual,f=void 0===p?_:p,v=g(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=I(e,G,"mapStateToProps"),b=I(t,W,"mapDispatchToProps"),x=I(r,X,"mergeProps");return U(K,m({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:x,pure:a,areStatesEqual:c,areOwnPropsEqual:u,areStatePropsEqual:h,areMergedPropsEqual:f},v))}),Z=r(32),J=r.n(Z),$=r(122),ee=r.n($),te=r(29),re=r.n(te);function ne(e){return"/"===e.charAt(0)}function ie(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}var oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.split("/")||[],n=t&&t.split("/")||[],i=e&&ne(e),o=t&&ne(t),a=i||o;if(e&&ne(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var s=void 0;if(n.length){var c=n[n.length-1];s="."===c||".."===c||""===c}else s=!1;for(var l=0,u=n.length;u>=0;u--){var d=n[u];"."===d?ie(n,u):".."===d?(ie(n,u),l++):l&&(ie(n,u),l--)}if(!a)for(;l--;l)n.unshift("..");!a||""===n[0]||n[0]&&ne(n[0])||n.unshift("");var h=n.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h},ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var se=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every(function(t,n){return e(t,r[n])});var n=void 0===t?"undefined":ae(t);if(n!==(void 0===r?"undefined":ae(r)))return!1;if("object"===n){var i=t.valueOf(),o=r.valueOf();if(i!==t||o!==r)return e(i,o);var a=Object.keys(t),s=Object.keys(r);return a.length===s.length&&a.every(function(n){return e(t[n],r[n])})}return!1},ce=function(e){return"/"===e.charAt(0)?e:"/"+e},le=function(e){return"/"===e.charAt(0)?e.substr(1):e},ue=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},de=function(e,t){return ue(e,t)?e.substr(t.length):e},he=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},pe=function(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i},fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},me=function(e,t,r,n){var i=void 0;"string"==typeof e?(i=function(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(r=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}(e)).state=t:(void 0===(i=fe({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(i.key=r),n?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=oe(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i},ge=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&se(e.state,t.state)},ve=function(){var e=null,t=[];return{setPrompt:function(t){return re()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,i){if(null!=e){var o="function"==typeof e?e(t,r):e;"string"==typeof o?"function"==typeof n?n(o,i):(re()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==o)}else i(!0)},appendListener:function(e){var r=!0,n=function(){r&&e.apply(void 0,arguments)};return t.push(n),function(){r=!1,t=t.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach(function(e){return e.apply(void 0,r)})}}},ye=!("undefined"==typeof window||!window.document||!window.document.createElement),be=function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},xe=function(e,t,r){return e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},we=function(e,t){return t(window.confirm(e))},Ee=("function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),Ae={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+le(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:le,decodePath:ce},slash:{encodePath:ce,decodePath:ce}},_e=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},Me=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x()(ye,"Hash history needs a DOM");var t=window.history,r=-1===window.navigator.userAgent.indexOf("Firefox"),n=e.getUserConfirmation,i=void 0===n?we:n,o=e.hashType,a=void 0===o?"slash":o,s=e.basename?he(ce(e.basename)):"",c=Ae[a],l=c.encodePath,u=c.decodePath,d=function(){var e=u(_e());return re()(!s||ue(e,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+s+'".'),s&&(e=de(e,s)),me(e)},h=ve(),p=function(e){Ee(C,e),C.length=t.length,h.notifyListeners(C.location,C.action)},f=!1,m=null,g=function(){var e=_e(),t=l(e);if(e!==t)Me(t);else{var r=d(),n=C.location;if(!f&&ge(n,r))return;if(m===pe(r))return;m=null,v(r)}},v=function(e){f?(f=!1,p()):h.confirmTransitionTo(e,"POP",i,function(t){t?p({action:"POP",location:e}):y(e)})},y=function(e){var t=C.location,r=A.lastIndexOf(pe(t));-1===r&&(r=0);var n=A.lastIndexOf(pe(e));-1===n&&(n=0);var i=r-n;i&&(f=!0,_(i))},b=_e(),w=l(b);b!==w&&Me(w);var E=d(),A=[pe(E)],_=function(e){re()(r,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},M=0,S=function(e){1===(M+=e)?be(window,"hashchange",g):0===M&&xe(window,"hashchange",g)},T=!1,C={length:t.length,action:"POP",location:E,createHref:function(e){return"#"+l(s+pe(e))},push:function(e,t){re()(void 0===t,"Hash history cannot push state; it is ignored");var r=me(e,void 0,void 0,C.location);h.confirmTransitionTo(r,"PUSH",i,function(e){if(e){var t=pe(r),n=l(s+t);if(_e()!==n){m=t,function(e){window.location.hash=e}(n);var i=A.lastIndexOf(pe(C.location)),o=A.slice(0,-1===i?0:i+1);o.push(t),A=o,p({action:"PUSH",location:r})}else re()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),p()}})},replace:function(e,t){re()(void 0===t,"Hash history cannot replace state; it is ignored");var r=me(e,void 0,void 0,C.location);h.confirmTransitionTo(r,"REPLACE",i,function(e){if(e){var t=pe(r),n=l(s+t);_e()!==n&&(m=t,Me(n));var i=A.indexOf(pe(C.location));-1!==i&&(A[i]=t),p({action:"REPLACE",location:r})}})},go:_,goBack:function(){return _(-1)},goForward:function(){return _(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h.setPrompt(e);return T||(S(1),T=!0),function(){return T&&(T=!1,S(-1)),t()}},listen:function(e){var t=h.appendListener(e);return S(1),function(){S(-1),t()}}};return C},Te=("function"==typeof Symbol&&Symbol.iterator,Object.assign,r(21)),Ce=r.n(Te),Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Re=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=Le(this,e.call.apply(e,[this].concat(o))),n.state={match:n.computeMatch(n.props.history.location.pathname)},Le(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Oe({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,r=t.children,n=t.history;x()(null==r||1===o.a.Children.count(r),"A <Router> may have only one child element"),this.unlisten=n.listen(function(){e.setState({match:e.computeMatch(n.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){J()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?o.a.Children.only(e):null},t}(o.a.Component);Re.propTypes={history:Ce.a.object.isRequired,children:Ce.a.node},Re.contextTypes={router:Ce.a.object},Re.childContextTypes={router:Ce.a.object.isRequired};var Pe=Re;function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var je=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=ke(this,e.call.apply(e,[this].concat(o))),n.history=Se(n.props),ke(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){J()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return o.a.createElement(Pe,{history:this.history,children:this.props.children})},t}(o.a.Component);je.propTypes={basename:ee.a.string,getUserConfirmation:ee.a.func,hashType:ee.a.oneOf(["hashbang","noslash","slash"]),children:ee.a.node};var De=je,Ie=r(169),Ne=r.n(Ie),ze={},Be=0,Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];"string"==typeof t&&(t={path:t});var n=t,i=n.path,o=n.exact,a=void 0!==o&&o,s=n.strict,c=void 0!==s&&s,l=n.sensitive;if(null==i)return r;var u=function(e,t){var r=""+t.end+t.strict+t.sensitive,n=ze[r]||(ze[r]={});if(n[e])return n[e];var i=[],o={re:Ne()(e,i,t),keys:i};return Be<1e4&&(n[e]=o,Be++),o}(i,{end:a,strict:c,sensitive:void 0!==l&&l}),d=u.re,h=u.keys,p=d.exec(e);if(!p)return null;var f=p[0],m=p.slice(1),g=e===f;return a&&!g?null:{path:i,url:"/"===i&&""===f?"/":f,isExact:g,params:h.reduce(function(e,t,r){return e[t.name]=m[r],e},{})}};var Ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){x()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){J()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),J()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,r=this.props.location||e.location,n=void 0,i=void 0;return o.a.Children.forEach(t,function(t){if(null==n&&o.a.isValidElement(t)){var a=t.props,s=a.path,c=a.exact,l=a.strict,u=a.sensitive,d=a.from,h=s||d;i=t,n=Fe(r.pathname,{path:h,exact:c,strict:l,sensitive:u},e.match)}}),n?o.a.cloneElement(i,{location:r,computedMatch:n}):null},t}(o.a.Component);Ue.contextTypes={router:Ce.a.shape({route:Ce.a.object.isRequired}).isRequired},Ue.propTypes={children:Ce.a.node,location:Ce.a.object};var He=Ue,Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var We=function(e){return 0===o.a.Children.count(e)},qe=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=Ve(this,e.call.apply(e,[this].concat(o))),n.state={match:n.computeMatch(n.props,n.context.router)},Ve(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Ge({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var r=e.computedMatch,n=e.location,i=e.path,o=e.strict,a=e.exact,s=e.sensitive;if(r)return r;x()(t,"You should not use <Route> or withRouter() outside a <Router>");var c=t.route,l=(n||c.location).pathname;return Fe(l,{path:i,strict:o,exact:a,sensitive:s},c.match)},t.prototype.componentWillMount=function(){J()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),J()(!(this.props.component&&this.props.children&&!We(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),J()(!(this.props.render&&this.props.children&&!We(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){J()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),J()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,r=t.children,n=t.component,i=t.render,a=this.context.router,s=a.history,c=a.route,l=a.staticContext,u={match:e,location:this.props.location||c.location,history:s,staticContext:l};return n?e?o.a.createElement(n,u):null:i?e?i(u):null:"function"==typeof r?r(u):r&&!We(r)?o.a.Children.only(r):null},t}(o.a.Component);qe.propTypes={computedMatch:Ce.a.object,path:Ce.a.string,exact:Ce.a.bool,strict:Ce.a.bool,sensitive:Ce.a.bool,component:Ce.a.func,render:Ce.a.func,children:Ce.a.oneOfType([Ce.a.func,Ce.a.node]),location:Ce.a.object},qe.contextTypes={router:Ce.a.shape({history:Ce.a.object.isRequired,route:Ce.a.object.isRequired,staticContext:Ce.a.object})},qe.childContextTypes={router:Ce.a.object.isRequired};var Xe=qe,Ye={},Ke=0,Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,r=Ye[t]||(Ye[t]={});if(r[e])return r[e];var n=Ne.a.compile(e);return Ke<1e4&&(r[e]=n,Ke++),n}(e)(t,{pretty:!0})},Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var Je=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){x()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=me(e.to),r=me(this.props.to);ge(t,r)?J()(!1,"You tried to redirect to the same route you're currently on: \""+r.pathname+r.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,r=e.to;return t?"string"==typeof r?Qe(r,t.params):Ze({},r,{pathname:Qe(r.pathname,t.params)}):r},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,r=this.computeTo(this.props);t?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(o.a.Component);Je.propTypes={computedMatch:Ce.a.object,push:Ce.a.bool,from:Ce.a.string,to:Ce.a.oneOfType([Ce.a.string,Ce.a.object]).isRequired},Je.defaultProps={push:!1},Je.contextTypes={router:Ce.a.shape({history:Ce.a.shape({push:Ce.a.func.isRequired,replace:Ce.a.func.isRequired}).isRequired,staticContext:Ce.a.object}).isRequired};var $e=Je,et=r(18),tt=r.n(et),rt=r(2),nt=r.n(rt),it=r(119),ot=r(402),at=r.n(ot),st=r(19),ct=r.n(st),lt=r(11),ut=r.n(lt),dt=r(13),ht=r.n(dt),pt=r(14),ft=r.n(pt),mt=r(10),gt=r.n(mt),vt=r(4),yt=r.n(vt),bt=r(15),xt=r.n(bt),wt=r(1),Et=r.n(wt),At=r(22),_t=r.n(At),Mt=r(27),St=r.n(Mt),Tt=r(7),Ct=r.n(Tt),Ot=(r(8),function(e,t){var r=e.handledProps,n=void 0===r?[]:r;return Object.keys(t).reduce(function(e,r){return"childKey"===r?e:(-1===n.indexOf(r)&&(e[r]=t[r]),e)},{})});var Lt=function(e,t,r){var n=e.defaultProps,i=void 0===n?{}:n;if(t.as&&t.as!==i.as)return t.as;if(r){var o=r();if(o)return o}return t.href?"a":i.as||"div"},Rt=r(99),Pt=r.n(Rt),kt=(r(682),r(118)),jt=r.n(kt),Dt=r(69),It=r.n(Dt),Nt=(r(63),r(685),r(340),r(689),function(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t[e];if(void 0!==o)return o;if(i){var a=t[(n=e,"default".concat(n[0].toUpperCase()+n.slice(1)))];if(void 0!==a)return a;if(r){var s=r[e];if(void 0!==s)return s}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}),zt=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"trySetState",function(e,t){var n=Object.keys(e).reduce(function(t,n){return void 0!==r.props[n]?t:(t[n]=e[n],t)},{});Object.keys(n).length>0&&r.setState(n,t)});var a=r.constructor.autoControlledProps,s=Ct()(yt()(r),"getInitialAutoControlledState",r.props)||{},c=a.reduce(function(e,t){return e[t]=Nt(t,r.props,s,!0),e},{});return r.state=ct()({},s,c),r}return xt()(t,e),ht()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.constructor.autoControlledProps.reduce(function(t,r){return!Pt()(e[r])&&(t[r]=e[r]),t},{});Object.keys(t).length>0&&this.setState(t)}}]),t}(i.Component),Bt=r(39),Ft=r.n(Bt),Ut=r(3),Ht=r.n(Ut),Gt=r(6),Vt=r.n(Gt),Wt=r(55),qt=r.n(Wt),Xt={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function Yt(e){var t=qt()(e);return"string"===t||"number"===t?Xt[e]||e:""}var Kt=function(e,t){return e&&t},Qt=function(e,t){return e&&!0!==e&&"".concat(e," ").concat(t)},Zt=function(e,t){return e&&(!0===e?t:"".concat(e," ").concat(t))},Jt=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(e){return"".concat(e.replace("-"," ")," ").concat(t)}).join(" "):null},$t=function(e){return"justified"===e?"justified":Qt(e,"aligned")},er=function(e){return Qt(e,"aligned")},tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&"equal"===e)return"equal width";var r=qt()(e);return"string"!==r&&"number"!==r||!t?Yt(e):"".concat(Yt(e)," ").concat(t)},rr=r(242),nr=r.n(rr),ir=r(23),or=r.n(ir),ar=r(243),sr=r.n(ar),cr=r(66),lr=r.n(cr),ur=r(371),dr=r.n(ur),hr=r(117),pr=r.n(hr),fr=r(372),mr=r.n(fr),gr=r(16),vr=r.n(gr);function yr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof e&&"string"!=typeof e)throw new Error("createShorthand() Component must be a string or function.");if(vr()(r)||mr()(r))return null;var a=pr()(r),s=dr()(r),c=lr()(r),l=Object(i.isValidElement)(r),u=sr()(r),d=a||s||or()(r);if(!(c||l||u||d))return null;var h=n.defaultProps,p=void 0===h?{}:h,f=l&&r.props||u&&r||d&&t(r),m=n.overrideProps,g=void 0===m?{}:m;g=lr()(g)?g(ct()({},p,f)):g;var v=ct()({},p,f,g);if(p.className||g.className||f.className){var y=Vt()(p.className,g.className,f.className);v.className=nr()(y.split(" ")).join(" ")}if((p.style||g.style||f.style)&&(v.style=ct()({},p.style,f.style,g.style)),vr()(v.key)){var b=v.childKey,x=n.autoGenerateKey,w=void 0===x||x;vr()(b)?w&&(a||s)&&(v.key=r):(v.key="function"==typeof b?b(v):b,delete v.childKey)}return l?Object(i.cloneElement)(r,v):d||u?o.a.createElement(e,v):c?r(e,v,v.children):void 0}function br(e,t){if("function"!=typeof e&&"string"!=typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(r,n){return yr(e,t,r,n)}}yr.handledProps=[];br("div",function(e){return{children:e}}),br("iframe",function(e){return{src:e}}),br("img",function(e){return{src:e}});var xr=br("input",function(e){return{type:e}}),wr=br("label",function(e){return{children:e}});br("p",function(e){return{children:e}});function Er(e){var t=e.children,r=e.className,n=e.computer,i=e.color,a=e.floated,s=e.largeScreen,c=e.mobile,l=e.only,u=e.stretched,d=e.tablet,h=e.textAlign,p=e.verticalAlign,f=e.widescreen,m=e.width,g=Vt()(i,Kt(u,"stretched"),Jt(l,"only"),$t(h),Qt(a,"floated"),er(p),tr(n,"wide computer"),tr(s,"wide large screen"),tr(c,"wide mobile"),tr(d,"wide tablet"),tr(f,"wide widescreen"),tr(m,"wide"),"column",r),v=Ot(Er,e),y=Lt(Er,e);return o.a.createElement(y,Ht()({},v,{className:g}),t)}Er.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],Er.propTypes={},Er.create=br(Er,function(e){return{children:e}});var Ar=Er;function _r(e){var t=e.centered,r=e.children,n=e.className,i=e.color,a=e.columns,s=e.divided,c=e.only,l=e.reversed,u=e.stretched,d=e.textAlign,h=e.verticalAlign,p=Vt()(i,Kt(t,"centered"),Kt(s,"divided"),Kt(u,"stretched"),Jt(c,"only"),Jt(l,"reversed"),$t(d),er(h),tr(a,"column",!0),"row",n),f=Ot(_r,e),m=Lt(_r,e);return o.a.createElement(m,Ht()({},f,{className:p}),r)}_r.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],_r.propTypes={};var Mr=_r;function Sr(e){var t=e.celled,r=e.centered,n=e.children,i=e.className,a=e.columns,s=e.container,c=e.divided,l=e.doubling,u=e.inverted,d=e.padded,h=e.relaxed,p=e.reversed,f=e.stackable,m=e.stretched,g=e.textAlign,v=e.verticalAlign,y=Vt()("ui",Kt(r,"centered"),Kt(s,"container"),Kt(l,"doubling"),Kt(u,"inverted"),Kt(f,"stackable"),Kt(m,"stretched"),Zt(t,"celled"),Zt(c,"divided"),Zt(d,"padded"),Zt(h,"relaxed"),Jt(p,"reversed"),$t(g),er(v),tr(a,"column",!0),"grid",i),b=Ot(Sr,e),x=Lt(Sr,e);return o.a.createElement(x,Ht()({},b,{className:y}),n)}Sr.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Sr.Column=Ar,Sr.Row=Mr,Sr.propTypes={};var Tr=Sr,Cr=r(26),Or=r.n(Cr),Lr=r(165),Rr=r.n(Lr),Pr=r(68),kr=r.n(Pr),jr=function(e,t){return kr()(i.Children.toArray(e),{type:t})},Dr=function(e,t){return Rr()(i.Children.toArray(e),{type:t})},Ir=function(e){return null==e||Array.isArray(e)&&0===e.length};function Nr(e){var t=e.children,r=e.className,i=e.content,a=Vt()("header",r),s=Ot(Nr,e),c=Lt(Nr,e);return o.a.createElement(c,Ht()({},s,{className:a}),n.isNil(t)?i:t)}Nr.handledProps=["as","children","className","content"],Nr.propTypes={};var zr=Nr,Br=r(376),Fr=r.n(Br);function Ur(e){var t=e.children,r=e.className,i=e.content,a=e.size,s=Vt()(a,"icons",r),c=Ot(Ur,e),l=Lt(Ur,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(t)?i:t)}Ur.handledProps=["as","children","className","content","size"],Ur.propTypes={},Ur.defaultProps={as:"i"};var Hr=Ur,Gr=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleClick",function(e){r.props.disabled?e.preventDefault():Ct()(r.props,"onClick",e,r.props)}),r}return xt()(t,e),ht()(t,[{key:"getIconAriaOptions",value:function(){var e={},t=this.props,r=t["aria-label"],n=t["aria-hidden"];return vr()(r)?e["aria-hidden"]="true":e["aria-label"]=r,vr()(n)||(e["aria-hidden"]=n),e}},{key:"render",value:function(){var e=this.props,r=e.bordered,n=e.circular,i=e.className,a=e.color,s=e.corner,c=e.disabled,l=e.fitted,u=e.flipped,d=e.inverted,h=e.link,p=e.loading,f=e.name,m=e.rotated,g=e.size,v=Vt()(a,f,g,Kt(r,"bordered"),Kt(n,"circular"),Kt(c,"disabled"),Kt(l,"fitted"),Kt(d,"inverted"),Kt(h,"link"),Kt(p,"loading"),Zt(s,"corner"),Qt(u,"flipped"),Qt(m,"rotated"),"icon",i),y=Ot(t,this.props),b=Lt(t,this.props),x=this.getIconAriaOptions();return o.a.createElement(b,Ht()({},y,x,{className:v,onClick:this.handleClick}))}}]),t}(i.PureComponent);Et()(Gr,"defaultProps",{as:"i"}),Et()(Gr,"Group",Hr),Et()(Gr,"handledProps",["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"]),Gr.propTypes={},Gr.create=br(Gr,function(e){return{name:e}});var Vr=Gr,Wr=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleClick",function(e){r.props.disabled||Ct()(r.props,"onClick",e,r.props)}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.active,i=e.children,a=e.className,s=e.color,c=e.content,l=e.disabled,u=e.fitted,d=e.header,h=e.icon,p=e.link,f=e.name,m=e.onClick,g=e.position,v=Vt()(s,g,Kt(r,"active"),Kt(l,"disabled"),Kt(!0===h||h&&!(f||c),"icon"),Kt(d,"header"),Kt(p,"link"),Zt(u,"fitted"),"item",a),y=Lt(t,this.props,function(){if(m)return"a"}),b=Ot(t,this.props);return n.isNil(i)?o.a.createElement(y,Ht()({},b,{className:v,onClick:this.handleClick}),Vr.create(h,{autoGenerateKey:!1}),n.isNil(c)?Fr()(f):c):o.a.createElement(y,Ht()({},b,{className:v,onClick:this.handleClick}),i)}}]),t}(i.Component);function qr(e){var t=e.children,r=e.className,i=e.content,a=e.position,s=Vt()(a,"menu",r),c=Ot(qr,e),l=Lt(qr,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(t)?i:t)}Et()(Wr,"handledProps",["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"]),Wr.propTypes={},Wr.create=br(Wr,function(e){return{content:e,name:e}}),qr.handledProps=["as","children","className","content","position"],qr.propTypes={};var Xr=qr,Yr=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleItemOverrides",function(e){return{onClick:function(t,n){var i=n.index;r.trySetState({activeIndex:i}),Ct()(e,"onClick",t,n),Ct()(r.props,"onItemClick",t,n)}}}),r}return xt()(t,e),ht()(t,[{key:"renderItems",value:function(){var e=this,t=this.props.items,r=this.state.activeIndex;return _t()(t,function(t,n){return Wr.create(t,{defaultProps:{active:parseInt(r,10)===n,index:n},overrideProps:e.handleItemOverrides})})}},{key:"render",value:function(){var e=this.props,r=e.attached,i=e.borderless,a=e.children,s=e.className,c=e.color,l=e.compact,u=e.fixed,d=e.floated,h=e.fluid,p=e.icon,f=e.inverted,m=e.pagination,g=e.pointing,v=e.secondary,y=e.size,b=e.stackable,x=e.tabular,w=e.text,E=e.vertical,A=e.widths,_=Vt()("ui",c,y,Kt(i,"borderless"),Kt(l,"compact"),Kt(h,"fluid"),Kt(f,"inverted"),Kt(m,"pagination"),Kt(g,"pointing"),Kt(v,"secondary"),Kt(b,"stackable"),Kt(w,"text"),Kt(E,"vertical"),Zt(r,"attached"),Zt(d,"floated"),Zt(p,"icon"),Zt(x,"tabular"),Qt(u,"fixed"),tr(A,"item"),s,"menu"),M=Ot(t,this.props),S=Lt(t,this.props);return o.a.createElement(S,Ht()({},M,{className:_}),n.isNil(a)?this.renderItems():a)}}]),t}(zt);Et()(Yr,"autoControlledProps",["activeIndex"]),Et()(Yr,"Header",zr),Et()(Yr,"Item",Wr),Et()(Yr,"Menu",Xr),Et()(Yr,"handledProps",["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"]),Yr.propTypes={},Yr.create=br(Yr,function(e){return{items:e}});var Kr=Yr;function Qr(e){var t=e.children,r=e.className,i=e.compact,a=e.content,s=e.horizontal,c=e.piled,l=e.raised,u=e.size,d=e.stacked,h=Vt()("ui",u,Kt(i,"compact"),Kt(s,"horizontal"),Kt(c,"piled"),Kt(l,"raised"),Kt(d,"stacked"),"segments",r),p=Ot(Qr,e),f=Lt(Qr,e);return o.a.createElement(f,Ht()({},p,{className:h}),n.isNil(t)?a:t)}Qr.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Qr.propTypes={};var Zr=Qr;function Jr(e){var t=e.children,r=e.className,i=e.content,a=Vt()("inline",r),s=Ot(Jr,e),c=Lt(Jr,e);return o.a.createElement(c,Ht()({},s,{className:a}),n.isNil(t)?i:t)}Jr.handledProps=["as","children","className","content"],Jr.propTypes={};var $r=Jr;function en(e){var t=e.attached,r=e.basic,i=e.children,a=e.circular,s=e.className,c=e.clearing,l=e.color,u=e.compact,d=e.content,h=e.disabled,p=e.floated,f=e.inverted,m=e.loading,g=e.placeholder,v=e.padded,y=e.piled,b=e.raised,x=e.secondary,w=e.size,E=e.stacked,A=e.tertiary,_=e.textAlign,M=e.vertical,S=Vt()("ui",l,w,Kt(r,"basic"),Kt(a,"circular"),Kt(c,"clearing"),Kt(u,"compact"),Kt(h,"disabled"),Kt(f,"inverted"),Kt(m,"loading"),Kt(g,"placeholder"),Kt(y,"piled"),Kt(b,"raised"),Kt(x,"secondary"),Kt(E,"stacked"),Kt(A,"tertiary"),Kt(M,"vertical"),Zt(t,"attached"),Zt(v,"padded"),$t(_),Qt(p,"floated"),"segment",s),T=Ot(en,e),C=Lt(en,e);return o.a.createElement(C,Ht()({},T,{className:S}),n.isNil(i)?d:i)}en.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],en.Group=Zr,en.Inline=$r,en.propTypes={};var tn=en;function rn(e){var t=e.active,r=e.children,i=e.className,a=e.content,s=e.loading,c=Vt()(Kt(t,"active"),Kt(s,"loading"),"tab",i),l=Ot(rn,e),u=Lt(rn,e),d={};return u===tn&&(d.attached="bottom"),o.a.createElement(u,Ht()({},d,l,{className:c}),n.isNil(r)?a:r)}rn.handledProps=["active","as","children","className","content","loading"],rn.defaultProps={as:tn,active:!0},rn.propTypes={},rn.create=br(rn,function(e){return{content:e}});var nn=rn,on=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleItemClick",function(e,t){var n=t.index;Ct()(r.props,"onTabChange",e,ct()({},r.props,{activeIndex:n})),r.trySetState({activeIndex:n})}),r}return xt()(t,e),ht()(t,[{key:"getInitialAutoControlledState",value:function(){return{activeIndex:0}}},{key:"renderItems",value:function(){var e=this.props,t=e.panes,r=e.renderActiveOnly,n=this.state.activeIndex;return r?Ct()(St()(t,"[".concat(n,"]")),"render",this.props):_t()(t,function(e,t){var r=e.pane;return nn.create(r,{overrideProps:{active:t===n}})})}},{key:"renderMenu",value:function(){var e=this.props,t=e.menu,r=e.panes,n=e.menuPosition,i=this.state.activeIndex;return!0===t.tabular&&"right"===n&&(t.tabular="right"),Kr.create(t,{autoGenerateKey:!1,overrideProps:{items:_t()(r,"menuItem"),onItemClick:this.handleItemClick,activeIndex:i}})}},{key:"renderVertical",value:function(e){var t=this.props,r=t.grid,n=t.menuPosition,i=r.paneWidth,a=r.tabWidth,s=at()(r,["paneWidth","tabWidth"]),c=n||"right"===e.props.tabular&&"right"||"left";return o.a.createElement(Tr,s,"left"===c&&Ar.create({width:a,children:e},{autoGenerateKey:!1}),Ar.create({width:i,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),"right"===c&&Ar.create({width:a,children:e},{autoGenerateKey:!1}))}},{key:"render",value:function(){var e=this.renderMenu(),r=Ot(t,this.props),n=Lt(t,this.props);return e.props.vertical?o.a.createElement(n,r,this.renderVertical(e)):o.a.createElement(n,r,"bottom"!==e.props.attached&&e,this.renderItems(),"bottom"===e.props.attached&&e)}}]),t}(zt);Et()(on,"autoControlledProps",["activeIndex"]),Et()(on,"defaultProps",{grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0}),Et()(on,"Pane",nn),Et()(on,"handledProps",["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"]),on.propTypes={};var an=on,sn=r(17),cn=r.n(sn),ln=r(70),un=r.n(ln);function dn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function hn(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function pn(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gn(e,t,r){return t&&mn(e.prototype,t),r&&mn(e,r),e}function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){vn(e,t,r[t])})}return e}function bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?En(e):t}dn.__suppressDeprecationWarning=!0,hn.__suppressDeprecationWarning=!0,pn.__suppressDeprecationWarning=!0;var _n=function(e){function t(){return fn(this,t),An(this,xn(t).apply(this,arguments))}return bn(t,o.a.PureComponent),gn(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.split,i=e.style,a=e.size,s=e.eleRef,c=["Pane",n,r],l={flex:1,position:"relative",outline:"none"};return void 0!==a&&("vertical"===n?l.width=a:(l.height=a,l.display="flex"),l.flex="none"),l=Object.assign({},l,i||{}),o.a.createElement("div",{ref:s,className:c.join(" "),style:l},t)}}]),t}();_n.propTypes={className:cn.a.string.isRequired,children:cn.a.node.isRequired,size:cn.a.oneOfType([cn.a.string,cn.a.number]),split:cn.a.oneOf(["vertical","horizontal"]),style:un.a,eleRef:cn.a.func},_n.defaultProps={};var Mn=function(e){function t(){return fn(this,t),An(this,xn(t).apply(this,arguments))}return bn(t,o.a.Component),gn(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.onClick,n=e.onDoubleClick,i=e.onMouseDown,a=e.onTouchEnd,s=e.onTouchStart,c=e.resizerClassName,l=e.split,u=e.style,d=[c,l,t];return o.a.createElement("span",{role:"presentation",className:d.join(" "),style:u,onMouseDown:function(e){return i(e)},onTouchStart:function(e){e.preventDefault(),s(e)},onTouchEnd:function(e){e.preventDefault(),a(e)},onClick:function(e){r&&(e.preventDefault(),r(e))},onDoubleClick:function(e){n&&(e.preventDefault(),n(e))}})}}]),t}();function Sn(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}function Tn(e,t,r,n){if("number"==typeof n){var i="number"==typeof t?t:0,o="number"==typeof r&&r>=0?r:1/0;return Math.max(i,Math.min(o,n))}return void 0!==e?e:t}Mn.propTypes={className:cn.a.string.isRequired,onClick:cn.a.func,onDoubleClick:cn.a.func,onMouseDown:cn.a.func.isRequired,onTouchStart:cn.a.func.isRequired,onTouchEnd:cn.a.func.isRequired,split:cn.a.oneOf(["vertical","horizontal"]),style:un.a,resizerClassName:cn.a.string.isRequired},Mn.defaultProps={resizerClassName:"Resizer"};var Cn=function(e){function t(e){var r;fn(this,t),(r=An(this,xn(t).call(this,e))).onMouseDown=r.onMouseDown.bind(En(En(r))),r.onTouchStart=r.onTouchStart.bind(En(En(r))),r.onMouseMove=r.onMouseMove.bind(En(En(r))),r.onTouchMove=r.onTouchMove.bind(En(En(r))),r.onMouseUp=r.onMouseUp.bind(En(En(r)));var n=e.size,i=e.defaultSize,o=e.minSize,a=e.maxSize,s=e.primary,c=void 0!==n?n:Tn(i,o,a,null);return r.state={active:!1,resized:!1,pane1Size:"first"===s?c:void 0,pane2Size:"second"===s?c:void 0,instanceProps:{size:n}},r}return bn(t,o.a.Component),gn(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(t.getSizeUpdate(this.props,this.state))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,r=t.allowResize,n=t.onDragStarted,i=t.split;if(r){Sn(document,window);var o="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof n&&n(),this.setState({active:!0,position:o})}}},{key:"onMouseMove",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,r=t.allowResize,n=t.maxSize,i=t.minSize,o=t.onChange,a=t.split,s=t.step,c=this.state,l=c.active,u=c.position;if(r&&l){Sn(document,window);var d="first"===this.props.primary,h=d?this.pane1:this.pane2,p=d?this.pane2:this.pane1;if(h){var f=h,m=p;if(f.getBoundingClientRect){var g=f.getBoundingClientRect().width,v=f.getBoundingClientRect().height,y="vertical"===a?g:v,b=u-("vertical"===a?e.touches[0].clientX:e.touches[0].clientY);if(s){if(Math.abs(b)<s)return;b=~~(b/s)*s}var x=d?b:-b;parseInt(window.getComputedStyle(f).order)>parseInt(window.getComputedStyle(m).order)&&(x=-x);var w=n;if(void 0!==n&&n<=0){var E=this.splitPane;w="vertical"===a?E.getBoundingClientRect().width+n:E.getBoundingClientRect().height+n}var A=y-x,_=u-b;A<i?A=i:void 0!==n&&A>w?A=w:this.setState({position:_,resized:!0}),o&&o(A),this.setState(vn({draggedSize:A},d?"pane1Size":"pane2Size",A))}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,r=e.onDragFinished,n=this.state,i=n.active,o=n.draggedSize;t&&i&&("function"==typeof r&&r(o),this.setState({active:!1}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.allowResize,n=t.children,i=t.className,a=t.onResizerClick,s=t.onResizerDoubleClick,c=t.paneClassName,l=t.pane1ClassName,u=t.pane2ClassName,d=t.paneStyle,h=t.pane1Style,p=t.pane2Style,f=t.resizerClassName,m=t.resizerStyle,g=t.split,v=t.style,y=this.state,b=y.pane1Size,x=y.pane2Size,w=r?"":"disabled",E=f?"".concat(f," ").concat("Resizer"):f,A=function(e){return o.a.Children.toArray(e).filter(function(e){return e})}(n),_=yn({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},v);"vertical"===g?Object.assign(_,{flexDirection:"row",left:0,right:0}):Object.assign(_,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var M=["SplitPane",i,g,w],S=yn({},d,h),T=yn({},d,p),C=["Pane1",c,l].join(" "),O=["Pane2",c,u].join(" ");return o.a.createElement("div",{className:M.join(" "),ref:function(t){e.splitPane=t},style:_},o.a.createElement(_n,{className:C,key:"pane1",eleRef:function(t){e.pane1=t},size:b,split:g,style:S},A[0]),o.a.createElement(Mn,{className:w,onClick:a,onDoubleClick:s,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:E,split:g,style:m||{}}),o.a.createElement(_n,{className:O,key:"pane2",eleRef:function(t){e.pane2=t},size:x,split:g,style:T},A[1]))}}],[{key:"getDerivedStateFromProps",value:function(e,r){return t.getSizeUpdate(e,r)}},{key:"getSizeUpdate",value:function(e,t){var r={};if(t.instanceProps.size===e.size&&void 0!==e.size)return{};var n=void 0!==e.size?e.size:Tn(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);void 0!==e.size&&(r.draggedSize=n);var i="first"===e.primary;return r[i?"pane1Size":"pane2Size"]=n,r[i?"pane2Size":"pane1Size"]=void 0,r.instanceProps={size:e.size},r}}]),t}();Cn.propTypes={allowResize:cn.a.bool,children:cn.a.arrayOf(cn.a.node).isRequired,className:cn.a.string,primary:cn.a.oneOf(["first","second"]),minSize:cn.a.oneOfType([cn.a.string,cn.a.number]),maxSize:cn.a.oneOfType([cn.a.string,cn.a.number]),defaultSize:cn.a.oneOfType([cn.a.string,cn.a.number]),size:cn.a.oneOfType([cn.a.string,cn.a.number]),split:cn.a.oneOf(["vertical","horizontal"]),onDragStarted:cn.a.func,onDragFinished:cn.a.func,onChange:cn.a.func,onResizerClick:cn.a.func,onResizerDoubleClick:cn.a.func,style:un.a,resizerStyle:un.a,paneClassName:cn.a.string,pane1ClassName:cn.a.string,pane2ClassName:cn.a.string,paneStyle:un.a,pane1Style:un.a,pane2Style:un.a,resizerClassName:cn.a.string,step:cn.a.number},Cn.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,i=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=dn,t.componentWillReceiveProps=hn),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=pn;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;s.call(this,e,t,n)}}}(Cn);var On=Cn;const Ln="UI_SET",Rn=(e,t)=>({type:Ln,key:e,value:t}),Pn=()=>Rn("loading",!0),kn=()=>e=>{setTimeout(()=>e(Rn("loading",!1)),500)};var jn=r(37),Dn=r.n(jn),In=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleClick",function(e){return Ct()(r.props,"onClick",e,r.props)}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.active,i=e.children,a=e.className,s=e.content,c=e.icon,l=Vt()(Kt(r,"active"),"title",a),u=Ot(t,this.props),d=Lt(t,this.props),h=vr()(c)?"dropdown":c;return n.isNil(i)?o.a.createElement(d,Ht()({},u,{className:l,onClick:this.handleClick}),Vr.create(h,{autoGenerateKey:!1}),s):o.a.createElement(d,Ht()({},u,{className:l,onClick:this.handleClick}),i)}}]),t}(i.Component);function Nn(e){var t=e.active,r=e.children,i=e.className,a=e.content,s=Vt()("content",Kt(t,"active"),i),c=Ot(Nn,e),l=Lt(Nn,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(r)?a:r)}Et()(In,"handledProps",["active","as","children","className","content","icon","index","onClick"]),In.propTypes={},In.create=br(In,function(e){return{content:e}}),Nn.handledProps=["active","as","children","className","content"],Nn.propTypes={},Nn.create=br(Nn,function(e){return{content:e}});var zn=Nn,Bn=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleTitleOverrides",function(e){return{onClick:function(t,n){Ct()(e,"onClick",t,n),Ct()(r.props,"onTitleClick",t,n)}}}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,t=e.active,r=e.content,n=e.index,a=e.title;return o.a.createElement(i.Fragment,null,In.create(a,{autoGenerateKey:!1,defaultProps:{active:t,index:n},overrideProps:this.handleTitleOverrides}),zn.create(r,{autoGenerateKey:!1,defaultProps:{active:t}}))}}]),t}(i.Component);Et()(Bn,"handledProps",["active","content","index","onTitleClick","title"]),Bn.propTypes={},Bn.create=br(Bn,null);var Fn=Bn,Un=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"computeNewIndex",function(e){var t=r.props.exclusive,n=r.state.activeIndex;return t?e===n?-1:e:Dn()(n,e)?Or()(n,e):[].concat(Ft()(n),[e])}),Et()(yt()(r),"handleTitleClick",function(e,t){var n=t.index;r.trySetState({activeIndex:r.computeNewIndex(n)}),Ct()(r.props,"onTitleClick",e,t)}),Et()(yt()(r),"isIndexActive",function(e){var t=r.props.exclusive,n=r.state.activeIndex;return t?n===e:Dn()(n,e)}),r}return xt()(t,e),ht()(t,[{key:"getInitialAutoControlledState",value:function(e){return{activeIndex:e.exclusive?-1:[]}}},{key:"componentDidMount",value:function(){0}},{key:"componentDidUpdate",value:function(){0}},{key:"render",value:function(){var e=this,r=this.props,i=r.className,a=r.children,s=r.panels,c=Vt()("accordion",i),l=Ot(t,this.props),u=Lt(t,this.props);return o.a.createElement(u,Ht()({},l,{className:c}),n.isNil(a)?_t()(s,function(t,r){return Fn.create(t,{defaultProps:{active:e.isIndexActive(r),index:r,onTitleClick:e.handleTitleClick}})}):a)}}]),t}(zt);function Hn(e){var t=e.className,r=e.fluid,n=e.inverted,i=e.styled,a=Vt()("ui",Kt(r,"fluid"),Kt(n,"inverted"),Kt(i,"styled"),t),s=Ot(Hn,e);return o.a.createElement(Un,Ht()({},s,{className:a}))}Et()(Un,"defaultProps",{exclusive:!0}),Et()(Un,"autoControlledProps",["activeIndex"]),Et()(Un,"handledProps",["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"]),Un.propTypes={},Un.create=br(Un,function(e){return{content:e}}),Hn.handledProps=["className","fluid","inverted","styled"],Hn.propTypes={},Hn.Accordion=Un,Hn.Content=zn,Hn.Panel=Fn,Hn.Title=In;var Gn=Hn,Vn=r(377),Wn=r.n(Vn),qn=r(378),Xn=r.n(qn),Yn=r(379),Kn=r.n(Yn),Qn=r(241),Zn=r.n(Qn),Jn=r(167),$n=r.n(Jn),ei=r(380),ti=r.n(ei),ri=r(166),ni=r.n(ri),ii=r(168),oi=r.n(ii),ai=r(381),si=r.n(ai),ci=r(382),li=r.n(ci),ui=r(101),di=r.n(ui),hi=r(249),pi=r.n(hi),fi=r(163),mi=r.n(fi),gi=r(383),vi=r.n(gi),yi=r(31),bi=r.n(yi),xi=(r(226),r(374));function wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ai(e,t,r){return t&&Ei(e.prototype,t),r&&Ei(e,r),e}function _i(e){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"===_i(Symbol.iterator)?function(e){return _i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_i(e)})(e)}function Si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(e,t){return!t||"object"!==Mi(t)&&"function"!=typeof t?Si(e):t}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Li(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}function Ri(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pi=function(e,t){"function"!=typeof e?null!==e&&"object"===Mi(e)&&(e.current=t):e(t)},ki=function(e){function t(){var e,r;wi(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Ri(Si(r=Ti(this,(e=Ci(t)).call.apply(e,[this].concat(i)))),"prevNode",null),r}return Li(t,i["Component"]),Ai(t,[{key:"componentDidMount",value:function(){this.prevNode=a.findDOMNode(this),Pi(this.props.innerRef,this.prevNode)}},{key:"componentDidUpdate",value:function(e){var t=a.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,Pi(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&Pi(this.props.innerRef,t)}},{key:"componentWillUnmount",value:function(){Pi(this.props.innerRef,null)}},{key:"render",value:function(){return this.props.children}}]),t}();Ri(ki,"displayName","RefFindNode"),Ri(ki,"propTypes",{});var ji=function(e){function t(){var e,r;wi(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Ri(Si(r=Ti(this,(e=Ci(t)).call.apply(e,[this].concat(i)))),"handleRefOverride",function(e){var t=r.props,n=t.children,i=t.innerRef;Pi(n.ref,e),Pi(i,e)}),r}return Li(t,i["Component"]),Ai(t,[{key:"render",value:function(){var e=this.props.children;return i.cloneElement(e,{ref:this.handleRefOverride})}}]),t}();Ri(ji,"displayName","RefForward"),Ri(ji,"propTypes",{});var Di=function(e){var t=e.children,r=e.innerRef,n=i.Children.only(t),o=xi.isForwardRef(n)?ji:ki;return i.createElement(o,{innerRef:r},n)};Di.displayName="Ref";var Ii=Di,Ni=r(25),zi=r.n(Ni),Bi=r(102),Fi=r.n(Bi),Ui=r(248),Hi=r.n(Ui),Gi=r(373),Vi=r.n(Gi),Wi=function(e,t){if(kr()([t,e],vr.a))return!1;if(t.target&&(Ct()(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Ct()(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var r=t.clientX,n=t.clientY;if(kr()([r,n],vr.a))return!1;var i=e.getClientRects();if(!(e.offsetWidth&&e.offsetHeight&&i&&i.length))return!1;var o=Vi()(i),a=o.top,s=o.bottom,c=o.left,l=o.right;return!kr()([a,s,c,l],vr.a)&&Hi()(n,a,s+.001)&&Hi()(r,c,l+.001)},qi=r(57),Xi=r.n(qi),Yi=r(100),Ki=r.n(Yi),Qi=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Zi=[].concat(Qi,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),Ji=["alt","height","src","srcSet","width"],$i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.htmlProps,n=void 0===r?Zi:r,i=t.includeAria,o=void 0===i||i,a={},s={};return Ki()(e,function(e,t){var r=o&&(/^aria-.*$/.test(t)||"role"===t);(Dn()(n,t)||r?a:s)[t]=e}),[a,s]},eo="object"===("undefined"==typeof document?"undefined":qt()(document))&&null!==document,to="object"===("undefined"==typeof window?"undefined":qt()(window))&&null!==window&&window.self===window,ro=function e(){return vr()(e.override)?eo&&to:e.override},no=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleRef",function(e){Pi(r.props.innerRef,e)}),r}return xt()(t,e),ht()(t,[{key:"componentDidMount",value:function(){Ct()(this.props,"onMount",null,this.props)}},{key:"componentWillUnmount",value:function(){Ct()(this.props,"onUnmount",null,this.props)}},{key:"render",value:function(){if(!ro())return null;var e=this.props,t=e.children,r=e.mountNode,n=void 0===r?document.body:r;return Object(a.createPortal)(o.a.createElement(Ii,{innerRef:this.handleRef},t),n)}}]),t}(i.Component);Et()(no,"handledProps",["children","innerRef","mountNode","onMount","onUnmount"]),no.propTypes={};var io=no,oo=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(o))),Et()(yt()(r),"contentRef",Object(i.createRef)()),Et()(yt()(r),"triggerRef",Object(i.createRef)()),Et()(yt()(r),"latestDocumentMouseDownEvent",null),Et()(yt()(r),"handleDocumentMouseDown",function(e){r.latestDocumentMouseDownEvent=e}),Et()(yt()(r),"handleDocumentClick",function(e){var t=r.props.closeOnDocumentClick,n=r.latestDocumentMouseDownEvent;r.latestDocumentMouseDownEvent=null,!r.contentRef.current||Wi(r.triggerRef.current,e)||n&&Wi(r.contentRef.current,n)||Wi(r.contentRef.current,e)||t&&r.close(e)}),Et()(yt()(r),"handleEscape",function(e){r.props.closeOnEscape&&zi.a.getCode(e)===zi.a.Escape&&r.close(e)}),Et()(yt()(r),"handlePortalMouseLeave",function(e){var t=r.props,n=t.closeOnPortalMouseLeave,i=t.mouseLeaveDelay;n&&e.target===r.contentRef.current&&(r.mouseLeaveTimer=r.closeWithTimeout(e,i))}),Et()(yt()(r),"handlePortalMouseEnter",function(){r.props.closeOnPortalMouseLeave&&clearTimeout(r.mouseLeaveTimer)}),Et()(yt()(r),"handleTriggerBlur",function(e){for(var t=r.props,n=t.trigger,i=t.closeOnTriggerBlur,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];Ct.a.apply(void 0,[n,"props.onBlur",e].concat(a));var c=e.relatedTarget||document.activeElement,l=Ct()(r.contentRef.current,"contains",c);i&&!l&&r.close(e)}),Et()(yt()(r),"handleTriggerClick",function(e){for(var t=r.props,n=t.trigger,i=t.closeOnTriggerClick,o=t.openOnTriggerClick,a=r.state.open,s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];Ct.a.apply(void 0,[n,"props.onClick",e].concat(c)),a&&i?r.close(e):!a&&o&&r.open(e)}),Et()(yt()(r),"handleTriggerFocus",function(e){for(var t=r.props,n=t.trigger,i=t.openOnTriggerFocus,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];Ct.a.apply(void 0,[n,"props.onFocus",e].concat(a)),i&&r.open(e)}),Et()(yt()(r),"handleTriggerMouseLeave",function(e){clearTimeout(r.mouseEnterTimer);for(var t=r.props,n=t.trigger,i=t.closeOnTriggerMouseLeave,o=t.mouseLeaveDelay,a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];Ct.a.apply(void 0,[n,"props.onMouseLeave",e].concat(s)),i&&(r.mouseLeaveTimer=r.closeWithTimeout(e,o))}),Et()(yt()(r),"handleTriggerMouseEnter",function(e){clearTimeout(r.mouseLeaveTimer);for(var t=r.props,n=t.trigger,i=t.mouseEnterDelay,o=t.openOnTriggerMouseEnter,a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];Ct.a.apply(void 0,[n,"props.onMouseEnter",e].concat(s)),o&&(r.mouseEnterTimer=r.openWithTimeout(e,i))}),Et()(yt()(r),"open",function(e){var t=r.props.onOpen;t&&t(e,r.props),r.trySetState({open:!0})}),Et()(yt()(r),"openWithTimeout",function(e,t){var n=ct()({},e);return setTimeout(function(){return r.open(n)},t||0)}),Et()(yt()(r),"close",function(e){var t=r.props.onClose;t&&t(e,r.props),r.trySetState({open:!1})}),Et()(yt()(r),"closeWithTimeout",function(e,t){var n=ct()({},e);return setTimeout(function(){return r.close(n)},t||0)}),Et()(yt()(r),"handleMount",function(){Ct()(r.props,"onMount",null,r.props)}),Et()(yt()(r),"handleUnmount",function(){Ct()(r.props,"onUnmount",null,r.props)}),Et()(yt()(r),"handleTriggerRef",function(e){r.triggerRef.current=e,Pi(r.props.triggerRef,e)}),r}return xt()(t,e),ht()(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.eventPool,n=e.mountNode,a=e.trigger,s=this.state.open;return o.a.createElement(i.Fragment,null,s&&o.a.createElement(i.Fragment,null,o.a.createElement(io,{innerRef:this.contentRef,mountNode:n,onMount:this.handleMount,onUnmount:this.handleUnmount},t),o.a.createElement(bi.a,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:r,target:this.contentRef}),o.a.createElement(bi.a,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:r,target:this.contentRef}),o.a.createElement(bi.a,{name:"mousedown",on:this.handleDocumentMouseDown,pool:r}),o.a.createElement(bi.a,{name:"click",on:this.handleDocumentClick,pool:r}),o.a.createElement(bi.a,{name:"keydown",on:this.handleEscape,pool:r})),a&&o.a.createElement(Ii,{innerRef:this.handleTriggerRef},Object(i.cloneElement)(a,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))}}]),t}(zt);Et()(oo,"defaultProps",{closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0}),Et()(oo,"autoControlledProps",["open"]),Et()(oo,"Inner",io),Et()(oo,"handledProps",["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"]),oo.propTypes={};var ao=oo;function so(e){var t=e.blurring,r=e.className,i=e.children,a=e.content,s=e.dimmed,c=Vt()(Kt(t,"blurring"),Kt(s,"dimmed"),"dimmable",r),l=Ot(so,e),u=Lt(so,e);return o.a.createElement(u,Ht()({},l,{className:c}),n.isNil(i)?a:i)}so.handledProps=["as","blurring","children","className","content","dimmed"],so.propTypes={};var co=so,lo=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(o))),Et()(yt()(r),"containerRef",Object(i.createRef)()),Et()(yt()(r),"contentRef",Object(i.createRef)()),Et()(yt()(r),"handleClick",function(e){var t=r.contentRef.current;Ct()(r.props,"onClick",e,r.props),t&&t!==e.target&&Wi(t,e)||Ct()(r.props,"onClickOutside",e,r.props)}),r}return xt()(t,e),ht()(t,[{key:"componentDidMount",value:function(){var e=this.props.active;this.toggleStyles(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)}},{key:"toggleStyles",value:function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))}},{key:"render",value:function(){var e=this.props,r=e.active,i=e.children,a=e.className,s=e.content,c=e.disabled,l=e.inverted,u=e.page,d=e.simple,h=e.verticalAlign,p=Vt()("ui",Kt(r,"active transition visible"),Kt(c,"disabled"),Kt(l,"inverted"),Kt(u,"page"),Kt(d,"simple"),er(h),"dimmer",a),f=Ot(t,this.props),m=Lt(t,this.props),g=n.isNil(i)?s:i;return o.a.createElement(Ii,{innerRef:this.containerRef},o.a.createElement(m,Ht()({},f,{className:p,onClick:this.handleClick}),g&&o.a.createElement("div",{className:"content",ref:this.contentRef},g)))}}]),t}(i.Component);Et()(lo,"handledProps",["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"]),lo.propTypes={};var uo=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handlePortalMount",function(){ro()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))}),Et()(yt()(r),"handlePortalUnmount",function(){ro()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.active,n=e.page,i=Ot(t,this.props);return n?o.a.createElement(ao,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:r,openOnTriggerClick:!1},o.a.createElement(lo,Ht()({},i,{active:r,page:n}))):o.a.createElement(lo,Ht()({},i,{active:r,page:n}))}}]),t}(i.Component);function ho(e){var t=e.children,r=e.className,i=e.content,a=e.size,s=Vt()("ui",a,r,"images"),c=Ot(ho,e),l=Lt(ho,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(t)?i:t)}Et()(uo,"Dimmable",co),Et()(uo,"Inner",lo),Et()(uo,"handledProps",["active","page"]),uo.propTypes={},uo.create=br(uo,function(e){return{content:e}}),ho.handledProps=["as","children","className","content","size"],ho.propTypes={};var po=ho;function fo(e){var t=e.avatar,r=e.bordered,i=e.centered,a=e.children,s=e.circular,c=e.className,l=e.content,u=e.dimmer,d=e.disabled,h=e.floated,p=e.fluid,f=e.hidden,m=e.href,g=e.inline,v=e.label,y=e.rounded,b=e.size,x=e.spaced,w=e.verticalAlign,E=e.wrapped,A=e.ui,_=Vt()(Kt(A,"ui"),b,Kt(t,"avatar"),Kt(r,"bordered"),Kt(s,"circular"),Kt(i,"centered"),Kt(d,"disabled"),Kt(p,"fluid"),Kt(f,"hidden"),Kt(g,"inline"),Kt(y,"rounded"),Zt(x,"spaced"),Qt(h,"floated"),er(w,"aligned"),"image",c),M=Ot(fo,e),S=$i(M,{htmlProps:Ji}),T=Xi()(S,2),C=T[0],O=T[1],L=Lt(fo,e,function(){if(!(vr()(u)&&vr()(v)&&vr()(E)&&n.isNil(a)))return"div"});return n.isNil(a)?n.isNil(l)?"img"===L?o.a.createElement(L,Ht()({},O,C,{className:_})):o.a.createElement(L,Ht()({},O,{className:_,href:m}),uo.create(u,{autoGenerateKey:!1}),xo.create(v,{autoGenerateKey:!1}),o.a.createElement("img",C)):o.a.createElement(L,Ht()({},M,{className:_}),l):o.a.createElement(L,Ht()({},M,{className:_}),a)}fo.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],fo.Group=po,fo.propTypes={},fo.defaultProps={as:"img",ui:!0},fo.create=br(fo,function(e){return{src:e}});var mo=fo;function go(e){var t=e.children,r=e.className,i=e.content,a=Vt()("detail",r),s=Ot(go,e),c=Lt(go,e);return o.a.createElement(c,Ht()({},s,{className:a}),n.isNil(t)?i:t)}go.handledProps=["as","children","className","content"],go.propTypes={},go.create=br(go,function(e){return{content:e}});var vo=go;function yo(e){var t=e.children,r=e.circular,i=e.className,a=e.color,s=e.content,c=e.size,l=e.tag,u=Vt()("ui",a,c,Kt(r,"circular"),Kt(l,"tag"),"labels",i),d=Ot(yo,e),h=Lt(yo,e);return o.a.createElement(h,Ht()({},d,{className:u}),n.isNil(t)?s:t)}yo.handledProps=["as","children","circular","className","color","content","size","tag"],yo.propTypes={};var bo=yo,xo=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleClick",function(e){var t=r.props.onClick;t&&t(e,r.props)}),Et()(yt()(r),"handleIconOverrides",function(e){return{onClick:function(t){Ct()(e,"onClick",t),Ct()(r.props,"onRemove",t,r.props)}}}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.active,i=e.attached,a=e.basic,s=e.children,c=e.circular,l=e.className,u=e.color,d=e.content,h=e.corner,p=e.detail,f=e.empty,m=e.floating,g=e.horizontal,v=e.icon,y=e.image,b=e.onRemove,x=e.pointing,w=e.prompt,E=e.removeIcon,A=e.ribbon,_=e.size,M=e.tag,S=(!0===x?"pointing":("left"===x||"right"===x)&&"".concat(x," pointing"))||("above"===x||"below"===x)&&"pointing ".concat(x),T=Vt()("ui",u,S,_,Kt(r,"active"),Kt(a,"basic"),Kt(c,"circular"),Kt(f,"empty"),Kt(m,"floating"),Kt(g,"horizontal"),Kt(!0===y,"image"),Kt(w,"prompt"),Kt(M,"tag"),Zt(h,"corner"),Zt(A,"ribbon"),Qt(i,"attached"),"label",l),C=Ot(t,this.props),O=Lt(t,this.props);if(!n.isNil(s))return o.a.createElement(O,Ht()({},C,{className:T,onClick:this.handleClick}),s);var L=Pt()(E)?"delete":E;return o.a.createElement(O,Ht()({className:T,onClick:this.handleClick},C),Vr.create(v,{autoGenerateKey:!1}),"boolean"!=typeof y&&mo.create(y,{autoGenerateKey:!1}),d,vo.create(p,{autoGenerateKey:!1}),b&&Vr.create(L,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))}}]),t}(i.Component);function wo(e){var t=e.className,r=Vt()("divider",t),n=Ot(wo,e),i=Lt(wo,e);return o.a.createElement(i,Ht()({},n,{className:r}))}Et()(xo,"Detail",vo),Et()(xo,"Group",bo),Et()(xo,"handledProps",["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"]),xo.propTypes={},xo.create=br(xo,function(e){return{content:e}}),wo.handledProps=["as","className"],wo.propTypes={};var Eo=wo,Ao=function(e){function t(){return ut()(this,t),ft()(this,gt()(t).apply(this,arguments))}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.className,n=e.name,i=Vt()(n,"flag",r),a=Ot(t,this.props),s=Lt(t,this.props);return o.a.createElement(s,Ht()({},a,{className:i}))}}]),t}(i.PureComponent);Et()(Ao,"defaultProps",{as:"i"}),Et()(Ao,"handledProps",["as","className","name"]),Ao.propTypes={},Ao.create=br(Ao,function(e){return{name:e}});var _o=Ao,Mo=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleClick",function(e){Ct()(r.props,"onClick",e,r.props)}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.active,i=e.children,a=e.className,s=e.content,c=e.disabled,l=e.description,u=e.flag,d=e.icon,h=e.image,p=e.label,f=e.selected,m=e.text,g=Vt()(Kt(r,"active"),Kt(c,"disabled"),Kt(f,"selected"),"item",a),v=vr()(d)?n.someByType(i,"DropdownMenu")&&"dropdown":d,y=Ot(t,this.props),b=Lt(t,this.props),x={role:"option","aria-disabled":c,"aria-checked":r,"aria-selected":f};if(!n.isNil(i))return o.a.createElement(b,Ht()({},y,x,{className:g,onClick:this.handleClick}),i);var w=_o.create(u,{autoGenerateKey:!1}),E=Vr.create(v,{autoGenerateKey:!1}),A=mo.create(h,{autoGenerateKey:!1}),_=xo.create(p,{autoGenerateKey:!1}),M=yr("span",function(e){return{children:e}},l,{defaultProps:{className:"description"},autoGenerateKey:!1}),S=yr("span",function(e){return{children:e}},n.isNil(s)?m:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return o.a.createElement(b,Ht()({},y,x,{className:g,onClick:this.handleClick}),A,E,w,_,M,S)}}]),t}(i.Component);Et()(Mo,"handledProps",["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"]),Mo.propTypes={},Mo.create=br(Mo,function(e){return e});var So=Mo;function To(e){var t=e.children,r=e.className,i=e.content,a=e.icon,s=Vt()("header",r),c=Ot(To,e),l=Lt(To,e);return n.isNil(t)?o.a.createElement(l,Ht()({},c,{className:s}),Vr.create(a,{autoGenerateKey:!1}),i):o.a.createElement(l,Ht()({},c,{className:s}),t)}To.handledProps=["as","children","className","content","icon"],To.propTypes={},To.create=br(To,function(e){return{content:e}});var Co=To;function Oo(e){var t=e.children,r=e.className,i=e.content,a=e.direction,s=e.open,c=e.scrolling,l=Vt()(a,Kt(s,"visible"),Kt(c,"scrolling"),"menu transition",r),u=Ot(Oo,e),d=Lt(Oo,e);return o.a.createElement(d,Ht()({},u,{className:l}),n.isNil(t)?i:t)}Oo.handledProps=["as","children","className","content","direction","open","scrolling"],Oo.propTypes={};var Lo=Oo,Ro=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleChange",function(e){var t=St()(e,"target.value");Ct()(r.props,"onChange",e,ct()({},r.props,{value:t}))}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.autoComplete,n=e.className,i=e.tabIndex,a=e.type,s=e.value,c=Vt()("search",n),l=Ot(t,this.props);return o.a.createElement("input",Ht()({},l,{"aria-autocomplete":"list",autoComplete:r,className:c,onChange:this.handleChange,tabIndex:i,type:a,value:s}))}}]),t}(i.Component);Et()(Ro,"defaultProps",{autoComplete:"off",type:"text"}),Et()(Ro,"handledProps",["as","autoComplete","className","tabIndex","type","value"]),Ro.propTypes={},Ro.create=br(Ro,function(e){return{type:e}});var Po=Ro,ko=function(e,t){return vr()(e)?t:e},jo=function(e){function t(){var e,r;ut()(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(s))),Et()(yt()(r),"searchRef",Object(i.createRef)()),Et()(yt()(r),"sizerRef",Object(i.createRef)()),Et()(yt()(r),"ref",Object(i.createRef)()),Et()(yt()(r),"handleChange",function(e,t){Ct()(r.props,"onChange",e,ct()({},r.props,{value:t}))}),Et()(yt()(r),"closeOnChange",function(e){var t=r.props,n=t.closeOnChange,i=t.multiple;(Pt()(n)?!i:n)&&r.close(e,mi.a)}),Et()(yt()(r),"closeOnEscape",function(e){r.props.closeOnEscape&&zi.a.getCode(e)===zi.a.Escape&&(e.preventDefault(),r.close(e))}),Et()(yt()(r),"moveSelectionOnKeyDown",function(e){var t,n=r.props,i=n.multiple,o=n.selectOnNavigation,a=(t={},Et()(t,zi.a.ArrowDown,1),Et()(t,zi.a.ArrowUp,-1),t)[zi.a.getCode(e)];void 0!==a&&(e.preventDefault(),r.moveSelectionBy(a),!i&&o&&r.makeSelectedItemActive(e))}),Et()(yt()(r),"openOnSpace",function(e){zi.a.getCode(e)===zi.a.Spacebar&&(e.preventDefault(),r.open(e))}),Et()(yt()(r),"openOnArrow",function(e){var t=zi.a.getCode(e);Dn()([zi.a.ArrowDown,zi.a.ArrowUp],t)&&(r.state.open||(e.preventDefault(),r.open(e)))}),Et()(yt()(r),"makeSelectedItemActive",function(e){var t=r.state,n=t.open,i=t.value,o=r.props.multiple,a=r.getSelectedItem(),s=St()(a,"value");if(!vr()(s)&&n){var c=o?pi()(r.state.value,[s]):s;(o?!!di()(c,i).length:c!==i)&&(r.setValue(c),r.setSelectedIndex(c),r.handleChange(e,c),a["data-additional"]&&Ct()(r.props,"onAddItem",e,ct()({},r.props,{value:s})))}}),Et()(yt()(r),"selectItemOnEnter",function(e){var t=r.props.search;if(zi.a.getCode(e)===zi.a.Enter||!t&&zi.a.getCode(e)===zi.a.Spacebar){e.preventDefault();var n=li()(r.getMenuOptions());t&&0===n||(r.makeSelectedItemActive(e),r.closeOnChange(e),r.clearSearchQuery(),t&&Ct()(r.searchRef.current,"focus"))}}),Et()(yt()(r),"removeItemOnBackspace",function(e){var t=r.props,n=t.multiple,i=t.search,o=r.state,a=o.searchQuery,s=o.value;if(zi.a.getCode(e)===zi.a.Backspace&&!a&&i&&n&&!It()(s)){e.preventDefault();var c=si()(s);r.setValue(c),r.setSelectedIndex(c),r.handleChange(e,c)}}),Et()(yt()(r),"closeOnDocumentClick",function(e){r.props.closeOnBlur&&(r.ref.current&&Wi(r.ref.current,e)||r.close())}),Et()(yt()(r),"handleMouseDown",function(e){r.isMouseDown=!0,Ct()(r.props,"onMouseDown",e,r.props),document.addEventListener("mouseup",r.handleDocumentMouseUp)}),Et()(yt()(r),"handleDocumentMouseUp",function(){r.isMouseDown=!1,document.removeEventListener("mouseup",r.handleDocumentMouseUp)}),Et()(yt()(r),"handleClick",function(e){var t=r.props,n=t.minCharacters,i=t.search,o=r.state,a=o.open,s=o.searchQuery;if(Ct()(r.props,"onClick",e,r.props),e.stopPropagation(),!i)return r.toggle(e);a?Ct()(r.searchRef.current,"focus"):s.length>=n||1===n?r.open(e):Ct()(r.searchRef.current,"focus")}),Et()(yt()(r),"handleIconClick",function(e){var t=r.props.clearable,n=r.hasValue();Ct()(r.props,"onClick",e,r.props),e.stopPropagation(),t&&n?r.clearValue(e):r.toggle(e)}),Et()(yt()(r),"handleItemClick",function(e,t){var n=r.props,i=n.multiple,o=n.search,a=r.state.value,s=t.value;if(e.stopPropagation(),(i||t.disabled)&&e.nativeEvent.stopImmediatePropagation(),!t.disabled){var c=t["data-additional"],l=i?pi()(r.state.value,[s]):s;(i?!!di()(l,a).length:l!==a)&&(r.setValue(l),r.setSelectedIndex(s),r.handleChange(e,l)),r.clearSearchQuery(s),o?Ct()(r.searchRef.current,"focus"):Ct()(r.ref.current,"focus"),r.closeOnChange(e),c&&Ct()(r.props,"onAddItem",e,ct()({},r.props,{value:s}))}}),Et()(yt()(r),"handleFocus",function(e){r.state.focus||(Ct()(r.props,"onFocus",e,r.props),r.setState({focus:!0}))}),Et()(yt()(r),"handleBlur",function(e){var t=St()(e,"currentTarget");if(!t||!t.contains(document.activeElement)){var n=r.props,i=n.closeOnBlur,o=n.multiple,a=n.selectOnBlur;r.isMouseDown||(Ct()(r.props,"onBlur",e,r.props),a&&!o&&(r.makeSelectedItemActive(e),i&&r.close()),r.setState({focus:!1}),r.clearSearchQuery())}}),Et()(yt()(r),"handleSearchChange",function(e,t){var n=t.value;e.stopPropagation();var i=r.props.minCharacters,o=r.state.open,a=n;Ct()(r.props,"onSearchChange",e,ct()({},r.props,{searchQuery:a})),r.trySetState({searchQuery:a,selectedIndex:0}),!o&&a.length>=i?r.open():o&&1!==i&&a.length<i&&r.close()}),Et()(yt()(r),"getKeyAndValues",function(e){return e?e.map(function(e){return oi()(e,["key","value"])}):e}),Et()(yt()(r),"getMenuOptions",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props.options,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.state.searchQuery,i=r.props,a=i.additionLabel,s=i.additionPosition,c=i.allowAdditions,l=i.deburr,u=i.multiple,d=i.search,h=t;if(u&&(h=jt()(h,function(t){return!Dn()(e,t.value)})),d&&n)if(lr()(d))h=d(h,n);else{var p=l?ni()(n):n,f=new RegExp(ti()(p),"i");h=jt()(h,function(e){return f.test(l?ni()(e.text):e.text)})}if(c&&d&&n&&!kr()(h,{text:n})){var m={key:"addition",text:[o.a.isValidElement(a)?o.a.cloneElement(a,{key:"addition-label"}):a||"",o.a.createElement("b",{key:"addition-query"},n)],value:n,className:"addition","data-additional":!0};"top"===s?h.unshift(m):h.push(m)}return h}),Et()(yt()(r),"getSelectedItem",function(){var e=r.state.selectedIndex,t=r.getMenuOptions();return St()(t,"[".concat(e,"]"))}),Et()(yt()(r),"getEnabledIndices",function(e){var t=e||r.getMenuOptions();return $n()(t,function(e,t,r){return t.disabled||e.push(r),e},[])}),Et()(yt()(r),"getItemByValue",function(e){var t=r.props.options;return Rr()(t,{value:e})}),Et()(yt()(r),"getMenuItemIndexByValue",function(e,t){var n=t||r.getMenuOptions();return Zn()(n,["value",e])}),Et()(yt()(r),"getDropdownAriaOptions",function(){var e=r.props,t=e.loading,n=e.disabled,i=e.search,o=e.multiple,a={role:i?"combobox":"listbox","aria-busy":t,"aria-disabled":n,"aria-expanded":!!r.state.open};return"listbox"===a.role&&(a["aria-multiselectable"]=o),a}),Et()(yt()(r),"clearSearchQuery",function(e){var t=r.state.searchQuery;void 0!==t&&""!==t&&(r.trySetState({searchQuery:""}),r.setSelectedIndex(e,void 0,""))}),Et()(yt()(r),"setValue",function(e){r.trySetState({value:e})}),Et()(yt()(r),"setSelectedIndex",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.value,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props.options,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.state.searchQuery,o=r.props.multiple,a=r.state.selectedIndex,s=r.getMenuOptions(t,n,i),c=r.getEnabledIndices(s);if(!a||a<0){var l=c[0];e=o?l:r.getMenuItemIndexByValue(t,s)||c[0]}else if(o)a>=s.length-1&&(e=c[c.length-1]);else{var u=r.getMenuItemIndexByValue(t,s);e=Dn()(c,u)?u:void 0}(!e||e<0)&&(e=c[0]),r.setState({selectedIndex:e})}),Et()(yt()(r),"handleLabelClick",function(e,t){e.stopPropagation(),r.setState({selectedLabel:t.value}),Ct()(r.props,"onLabelClick",e,t)}),Et()(yt()(r),"handleLabelRemove",function(e,t){e.stopPropagation();var n=r.state.value,i=Or()(n,t.value);r.setValue(i),r.setSelectedIndex(i),r.handleChange(e,i)}),Et()(yt()(r),"moveSelectionBy",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.state.selectedIndex,n=r.getMenuOptions();if(void 0!==n&&!Kn()(n,"disabled")){var i=n.length-1,o=t+e;!r.props.wrapSelection&&(o>i||o<0)?o=t:o>i?o=0:o<0&&(o=i),n[o].disabled?r.moveSelectionBy(e,o):(r.setState({selectedIndex:o}),r.scrollSelectedItemIntoView())}}),Et()(yt()(r),"handleIconOverrides",function(e){var t=r.props.clearable;return{className:Vt()(t&&r.hasValue()&&"clear",e.className),onClick:function(t){Ct()(e,"onClick",t,e),r.handleIconClick(t)}}}),Et()(yt()(r),"clearValue",function(e){var t=r.props.multiple?[]:"";r.setValue(t),r.setSelectedIndex(t),r.handleChange(e,t)}),Et()(yt()(r),"computeSearchInputTabIndex",function(){var e=r.props,t=e.disabled,n=e.tabIndex;return vr()(n)?t?-1:0:n}),Et()(yt()(r),"computeSearchInputWidth",function(){var e=r.state.searchQuery;if(r.sizerRef.current&&e){r.sizerRef.current.style.display="inline",r.sizerRef.current.textContent=e;var t=Math.ceil(r.sizerRef.current.getBoundingClientRect().width);return r.sizerRef.current.style.removeProperty("display"),t}}),Et()(yt()(r),"computeTabIndex",function(){var e=r.props,t=e.disabled,n=e.search,i=e.tabIndex;if(!n)return t?-1:vr()(i)?0:i}),Et()(yt()(r),"handleSearchInputOverrides",function(e){return{onChange:function(t,n){Ct()(e,"onChange",t,n),r.handleSearchChange(t,n)}}}),Et()(yt()(r),"hasValue",function(){var e=r.props.multiple,t=r.state.value;return e?!It()(t):!vr()(t)&&""!==t}),Et()(yt()(r),"scrollSelectedItemIntoView",function(){if(r.ref.current){var e=r.ref.current.querySelector(".menu.visible");if(e){var t=e.querySelector(".item.selected");if(t){var n=t.offsetTop<e.scrollTop,i=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;n?e.scrollTop=t.offsetTop:i&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}}),Et()(yt()(r),"setOpenDirection",function(){if(r.ref.current){var e=r.ref.current.querySelector(".menu.visible");if(e){var t=r.ref.current.getBoundingClientRect(),n=e.clientHeight,i=document.documentElement.clientHeight-t.top-t.height-n,o=t.top-n,a=i<0&&o>i;!a!=!r.state.upward&&r.trySetState({upward:a})}}}),Et()(yt()(r),"open",function(e){var t=r.props,n=t.disabled,i=(t.open,t.search);n||(i&&Ct()(r.searchRef.current,"focus"),Ct()(r.props,"onOpen",e,r.props),r.trySetState({open:!0}),r.scrollSelectedItemIntoView())}),Et()(yt()(r),"close",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.handleClose;r.state.open&&(Ct()(r.props,"onClose",e,r.props),r.trySetState({open:!1},t))}),Et()(yt()(r),"handleClose",function(){var e=document.activeElement===r.searchRef.current;!e&&r.ref.current&&r.ref.current.blur();var t=document.activeElement===r.ref.current,n=e||t;r.setState({focus:n})}),Et()(yt()(r),"toggle",function(e){return r.state.open?r.close(e):r.open(e)}),Et()(yt()(r),"renderText",function(){var e=r.props,t=e.multiple,n=e.placeholder,i=e.search,a=e.text,s=r.state,c=s.searchQuery,l=s.value,u=s.open,d=r.hasValue(),h=Vt()(n&&!d&&"default","text",i&&c&&"filtered"),p=n;return a?p=a:u&&!t?p=St()(r.getSelectedItem(),"text"):d&&(p=St()(r.getItemByValue(l),"text")),o.a.createElement("div",{className:h,role:"alert","aria-live":"polite","aria-atomic":!0},p)}),Et()(yt()(r),"renderSearchInput",function(){var e=r.props,t=e.search,n=e.searchInput,i=r.state.searchQuery;return t&&o.a.createElement(Ii,{innerRef:r.searchRef},Po.create(n,{defaultProps:{style:{width:r.computeSearchInputWidth()},tabIndex:r.computeSearchInputTabIndex(),value:i},overrideProps:r.handleSearchInputOverrides}))}),Et()(yt()(r),"renderSearchSizer",function(){var e=r.props,t=e.search,n=e.multiple;return t&&n&&o.a.createElement("span",{className:"sizer",ref:r.sizerRef})}),Et()(yt()(r),"renderLabels",function(){var e=r.props,t=e.multiple,n=e.renderLabel,i=r.state,o=i.selectedLabel,a=i.value;if(t&&!It()(a)){var s=_t()(a,r.getItemByValue);return _t()(Xn()(s),function(e,t){var i={active:e.value===o,as:"a",key:ko(e.key,e.value),onClick:r.handleLabelClick,onRemove:r.handleLabelRemove,value:e.value};return xo.create(n(e,t,i),{defaultProps:i})})}}),Et()(yt()(r),"renderOptions",function(){var e=r.props,t=e.lazyLoad,n=e.multiple,i=e.search,a=e.noResultsMessage,s=r.state,c=s.open,l=s.selectedIndex,u=s.value;if(t&&!c)return null;var d=r.getMenuOptions();if(null!==a&&i&&It()(d))return o.a.createElement("div",{className:"message"},a);var h=n?function(e){return Dn()(u,e)}:function(e){return e===u};return _t()(d,function(e,t){return So.create(ct()({active:h(e.value),onClick:r.handleItemClick,selected:l===t},e,{key:ko(e.key,e.value),style:ct()({},e.style,{pointerEvents:"all"})}))})}),Et()(yt()(r),"renderMenu",function(){var e=r.props,t=e.children,a=e.direction,s=e.header,c=r.state.open,l=r.getDropdownMenuAriaOptions();if(!n.isNil(t)){var u=i.Children.only(t),d=Vt()(a,Kt(c,"visible"),u.props.className);return Object(i.cloneElement)(u,ct()({className:d},l))}return o.a.createElement(Lo,Ht()({},l,{direction:a,open:c}),Co.create(s,{autoGenerateKey:!1}),r.renderOptions())}),r}return xt()(t,e),ht()(t,[{key:"getInitialAutoControlledState",value:function(){return{focus:!1,searchQuery:""}}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.state,t=e.open,r=e.value;this.setValue(r),this.setSelectedIndex(r),t&&this.open()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){Wn()(gt()(t.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,e),Fi()(e.value,this.props.value)||(this.setValue(e.value),this.setSelectedIndex(e.value)),vi()(this.getKeyAndValues(e.options),this.getKeyAndValues(this.props.options))||this.setSelectedIndex(void 0,e.options)}},{key:"shouldComponentUpdate",value:function(e,t){return!Fi()(e,this.props)||!Fi()(t,this.state)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,n=r.closeOnBlur,i=r.minCharacters,o=r.openOnFocus,a=r.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var s=!a||a&&1===i&&!this.state.open;o&&s&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&n&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open}},{key:"getDropdownMenuAriaOptions",value:function(){var e=this.props,t=e.search,r=e.multiple,n={};return t&&(n["aria-multiselectable"]=r,n.role="listbox"),n}},{key:"render",value:function(){var e=this.props,r=e.basic,n=e.button,i=e.className,a=e.compact,s=e.disabled,c=e.error,l=e.fluid,u=e.floating,d=e.icon,h=e.inline,p=e.item,f=e.labeled,m=e.loading,g=e.multiple,v=e.pointing,y=e.search,b=e.selection,x=e.scrolling,w=e.simple,E=e.trigger,A=this.state,_=A.focus,M=A.open,S=A.upward,T=Vt()("ui",Kt(M,"active visible"),Kt(s,"disabled"),Kt(c,"error"),Kt(m,"loading"),Kt(r,"basic"),Kt(n,"button"),Kt(a,"compact"),Kt(l,"fluid"),Kt(u,"floating"),Kt(h,"inline"),Kt(f,"labeled"),Kt(p,"item"),Kt(g,"multiple"),Kt(y,"search"),Kt(b,"selection"),Kt(w,"simple"),Kt(x,"scrolling"),Kt(S,"upward"),Zt(v,"pointing"),"dropdown",i),C=Ot(t,this.props),O=Lt(t,this.props),L=this.getDropdownAriaOptions(O,this.props);return o.a.createElement(Ii,{innerRef:this.ref},o.a.createElement(O,Ht()({},C,L,{className:T,onBlur:this.handleBlur,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),E||this.renderText(),Vr.create(d,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),M&&o.a.createElement(bi.a,{name:"keydown",on:this.closeOnEscape}),M&&o.a.createElement(bi.a,{name:"keydown",on:this.moveSelectionOnKeyDown}),M&&o.a.createElement(bi.a,{name:"click",on:this.closeOnDocumentClick}),M&&o.a.createElement(bi.a,{name:"keydown",on:this.selectItemOnEnter}),_&&o.a.createElement(bi.a,{name:"keydown",on:this.removeItemOnBackspace}),_&&!M&&o.a.createElement(bi.a,{name:"keydown",on:this.openOnArrow}),_&&!M&&o.a.createElement(bi.a,{name:"keydown",on:this.openOnSpace})))}}]),t}(zt);function Do(e){var t=e.children,r=e.className,i=e.content,a=e.hidden,s=e.visible,c=Vt()(Kt(s,"visible"),Kt(a,"hidden"),"content",r),l=Ot(Do,e),u=Lt(Do,e);return o.a.createElement(u,Ht()({},l,{className:c}),n.isNil(t)?i:t)}Et()(jo,"defaultProps",{additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:function(e){return e.text},searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0}),Et()(jo,"autoControlledProps",["open","searchQuery","selectedLabel","value","upward"]),Et()(jo,"Divider",Eo),Et()(jo,"Header",Co),Et()(jo,"Item",So),Et()(jo,"Menu",Lo),Et()(jo,"SearchInput",Po),Et()(jo,"handledProps",["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"]),jo.propTypes={},Do.handledProps=["as","children","className","content","hidden","visible"],Do.propTypes={};var Io=Do;function No(e){var t=e.attached,r=e.basic,i=e.buttons,a=e.children,s=e.className,c=e.color,l=e.compact,u=e.content,d=e.floated,h=e.fluid,p=e.icon,f=e.inverted,m=e.labeled,g=e.negative,v=e.positive,y=e.primary,b=e.secondary,x=e.size,w=e.toggle,E=e.vertical,A=e.widths,_=Vt()("ui",c,x,Kt(r,"basic"),Kt(l,"compact"),Kt(h,"fluid"),Kt(p,"icon"),Kt(f,"inverted"),Kt(m,"labeled"),Kt(g,"negative"),Kt(v,"positive"),Kt(y,"primary"),Kt(b,"secondary"),Kt(w,"toggle"),Kt(E,"vertical"),Zt(t,"attached"),Qt(d,"floated"),tr(A),"buttons",s),M=Ot(No,e),S=Lt(No,e);return vr()(i)?o.a.createElement(S,Ht()({},M,{className:_}),n.isNil(a)?u:a):o.a.createElement(S,Ht()({},M,{className:_}),_t()(i,function(e){return Ho.create(e)}))}No.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],No.propTypes={};var zo=No;function Bo(e){var t=e.className,r=e.text,n=Vt()("or",t),i=Ot(Bo,e),a=Lt(Bo,e);return o.a.createElement(a,Ht()({},i,{className:n,"data-text":r}))}Bo.handledProps=["as","className","text"],Bo.propTypes={};var Fo=Bo,Uo=function(e){function t(){var e,r;ut()(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(a))),Et()(yt()(r),"ref",Object(i.createRef)()),Et()(yt()(r),"computeElementType",function(){var e=r.props,t=e.attached,n=e.label;if(!vr()(t)||!vr()(n))return"div"}),Et()(yt()(r),"computeTabIndex",function(e){var t=r.props,n=t.disabled,i=t.tabIndex;return vr()(i)?n?-1:"div"===e?0:void 0:i}),Et()(yt()(r),"focus",function(){return Ct()(r.ref.current,"focus")}),Et()(yt()(r),"handleClick",function(e){r.props.disabled?e.preventDefault():Ct()(r.props,"onClick",e,r.props)}),Et()(yt()(r),"hasIconClass",function(){var e=r.props,t=e.labelPosition,i=e.children,o=e.content,a=e.icon;return!0===a||a&&(t||n.isNil(i)&&vr()(o))}),r}return xt()(t,e),ht()(t,[{key:"computeButtonAriaRole",value:function(e){var t=this.props.role;return vr()(t)?"button"!==e?"button":void 0:t}},{key:"render",value:function(){var e=this.props,r=e.active,i=e.animated,a=e.attached,s=e.basic,c=e.children,l=e.circular,u=e.className,d=e.color,h=e.compact,p=e.content,f=e.disabled,m=e.floated,g=e.fluid,v=e.icon,y=e.inverted,b=e.label,x=e.labelPosition,w=e.loading,E=e.negative,A=e.positive,_=e.primary,M=e.secondary,S=e.size,T=e.toggle,C=Vt()(d,S,Kt(r,"active"),Kt(s,"basic"),Kt(l,"circular"),Kt(h,"compact"),Kt(g,"fluid"),Kt(this.hasIconClass(),"icon"),Kt(y,"inverted"),Kt(w,"loading"),Kt(E,"negative"),Kt(A,"positive"),Kt(_,"primary"),Kt(M,"secondary"),Kt(T,"toggle"),Zt(i,"animated"),Zt(a,"attached")),O=Vt()(Zt(x||!!b,"labeled")),L=Vt()(Kt(f,"disabled"),Qt(m,"floated")),R=Ot(t,this.props),P=Lt(t,this.props,this.computeElementType),k=this.computeTabIndex(P);if(!vr()(b)){var j=Vt()("ui",C,"button",u),D=Vt()("ui",O,"button",u,L),I=xo.create(b,{defaultProps:{basic:!0,pointing:"left"===x?"right":"left"},autoGenerateKey:!1});return o.a.createElement(P,Ht()({},R,{className:D,onClick:this.handleClick}),"left"===x&&I,o.a.createElement(Ii,{innerRef:this.ref},o.a.createElement("button",{className:j,"aria-pressed":T?!!r:void 0,disabled:f,tabIndex:k},Vr.create(v,{autoGenerateKey:!1})," ",p)),("right"===x||!x)&&I)}var N=Vt()("ui",C,L,O,"button",u),z=!n.isNil(c),B=this.computeButtonAriaRole(P);return o.a.createElement(Ii,{innerRef:this.ref},o.a.createElement(P,Ht()({},R,{className:N,"aria-pressed":T?!!r:void 0,disabled:f&&"button"===P||void 0,onClick:this.handleClick,role:B,tabIndex:k}),z&&c,!z&&Vr.create(v,{autoGenerateKey:!1}),!z&&p))}}]),t}(i.Component);Et()(Uo,"defaultProps",{as:"button"}),Et()(Uo,"Content",Io),Et()(Uo,"Group",zo),Et()(Uo,"Or",Fo),Et()(Uo,"handledProps",["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"]),Uo.propTypes={},Uo.create=br(Uo,function(e){return{content:e}});var Ho=Uo,Go=(r(59),r(33)),Vo=r.n(Go),Wo=(r(287),r(510),r(89),r(12)),qo=r.n(Wo),Xo=(r(512),r(370)),Yo=r.n(Xo);r(138);const Ko=r(569),Qo=r(571),Zo=r(576),Jo=r(577),$o=r(578),ea=r(580),ta=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),ra=(e,t)=>e.filter(e=>e.id===t).length>0,na=e=>{if(0===e.length)return"1";const t=Math.max(...e.map(e=>e.id));let r=Number.parseInt(t,10)+1;if(Number.isNaN(t))for(r=ta();ra(e,r);)r=ta();return`${r}`},ia=e=>xa(e,"source"),oa=e=>xa(e,"target"),aa=(e,t)=>{const r=Ko();return e.forEach(e=>r.addNode(e.id)),t.forEach(e=>{const t=ia(e),n=oa(e);r.addLink(t,n,e.id)}),r},sa=(e,t)=>{const r=aa(e,t);return Qo.degree(r)},ca=(e,t)=>{const r=aa(e,t);return Ca(Qo.betweenness(r))},la=(e,t)=>{const r=aa(e,t);return Ca(Qo.closeness(r))},ua=(e,t)=>{const r=aa(e,t);return Ca(Jo(r))},da=(e,t,r)=>{let n=e.nodes,i=e.links;if(!n||!i)return null;const o=n.findIndex(e=>e.id===t.id);if(t.id!==r.id&&ra(n,r.id))throw new Error("Cannot use the same node id");return{nodes:[...n.slice(0,o),r,...n.slice(o+1)],links:Sa(((e,t,r)=>{if(t===r)return e;return e.map(e=>{const n=qo()({},e);return ia(e)===t&&(n.source.id=r),oa(e)===t&&(n.target.id=r),n})})(i,t.id,r.id))}},ha=(e,t,r)=>{let n=e.nodes,i=e.links;if(!n||!i)return null;const o=i.findIndex(e=>e.id===t.id);if(t.id!==r.id&&ra(i,r.id))throw new Error("Cannot use the same link id");if(r.source===r.target)throw new Error("Cannot use the same source and target id");const a=n.findIndex(e=>e.id===r.source)>-1,s=n.findIndex(e=>e.id===r.target)>-1;if(!(r.source&&r.target&&a&&s))throw new Error("Link source and target must be filled with valid node id");return{nodes:n,links:[...i.slice(0,o),r,...i.slice(o+1)]}},pa=(e,t)=>{let r=e.nodes,n=e.links;if(!r||!n)return null;const i=r.findIndex(e=>e.id===t.id);return{nodes:[...r.slice(0,i),...r.slice(i+1)],links:((e,t)=>{return e.filter(e=>!(ia(e)===t||oa(e)===t))})(n,t.id)}},fa=(e,t)=>{let r=e.nodes,n=e.links;if(!r||!n)return null;const i=n.findIndex(e=>e.id===t.id);return{nodes:r,links:[...n.slice(0,i),...n.slice(i+1)]}},ma=e=>null!=e.id,ga=e=>null!=e.id&&null!=e.source&&null!=e.target,va=(e,t)=>({x:(t.x||0)*e.k+e.x,y:(t.y||0)*e.k+e.y}),ya=(e,t)=>e.sort().join(",")===t.sort().join(","),ba=["x","y","selected","__indexColor","__controlPoints","__photons","index","vx","vy","fx","fy"],xa=(e,t)=>e[t]&&null!=e[t].id?e[t].id:e[t],wa=e=>e.reduce((e,t)=>((e,t)=>Vo()([...e,...t]))(e,Object.keys(t)),[]).filter(e=>!ba.includes(e)),Ea=(e,t)=>e.reduce((e,r)=>qo()({},e,{[r.id]:r[t]}),{}),Aa=e=>({key:e,text:e,value:e}),_a=e=>Yo()(e,ba),Ma=e=>e.map(_a).map(e=>qo()({},e,{id:`${e.id}`})),Sa=e=>e.map(_a).map(e=>qo()({},e,{id:`${e.id}`,source:`${ia(e)}`,target:`${oa(e)}`})),Ta=e=>{const t=e.map(Number),r=t.some(Number.isNaN),n=r?e:t,i=(e,t)=>t>e?1:t===e?0:-1;return r?n.sort((e,t)=>i(t,e)):n.sort(i)},Ca=e=>Object.entries(e).reduce((e,t)=>{let r=tt()(t,2),n=r[0],i=r[1];return qo()({},e,{[n]:Number.parseFloat(i.toFixed(3))})},{}),Oa=e=>Object.entries(e).reduce((e,t)=>{let r=tt()(t,2),n=r[0],i=r[1];return qo()({},e,{[n]:JSON.stringify(i||"").replace(/"/g,"")})},{}),La=e=>{return JSON.stringify(e,null,4).split("\n").slice(1,-1).map(e=>e.trim().replace(/,$/,"")).join("\n")};r(585);function Ra(e,t){return e===t}var Pa=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=0,a=n.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var r=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}(n),c=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(r)),l=e(function(){for(var e=[],t=s.length,r=0;r<t;r++)e.push(s[r].apply(null,arguments));return c.apply(null,e)});return l.resultFunc=a,l.dependencies=s,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ra,r=null,n=null;return function(){return function(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}});var ka=r(247),ja=r.n(ka),Da=r(36),Ia=r.n(Da),Na=r(164),za=r.n(Na);const Ba=e=>{let t=e.svg,r=e.onClick,n=za()(e,["svg","onClick"]);return o.a.createElement(Ho,Ia()({size:"mini",icon:!0,onClick:r,style:{padding:8}},n),t)};Ba.propTypes={svg:nt.a.node.isRequired,onClick:nt.a.func.isRequired};const Fa=e=>o.a.createElement(Ba,Ia()({title:"Add Link Mode",svg:o.a.createElement("svg",{className:"tool","data-tool":"add_link",xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"18",height:"18",viewBox:"0 0 128 128"},o.a.createElement("g",{transform:"translate(557.53125,-356.22543)"},o.a.createElement("g",{transform:"translate(20,0)"},o.a.createElement("path",{d:"m -480.84375,360 c -15.02602,0 -27.375,12.31773 -27.375,27.34375 0,4.24084 1.00221,8.28018 2.75,11.875 l -28.875,28.875 c -3.59505,-1.74807 -7.6338,-2.75 -11.875,-2.75 -15.02602,0 -27.34375,12.34898 -27.34375,27.375 0,15.02602 12.31773,27.34375 27.34375,27.34375 15.02602,0 27.375,-12.31773 27.375,-27.34375 0,-4.26067 -0.98685,-8.29868 -2.75,-11.90625 L -492.75,411.96875 c 3.60156,1.75589 7.65494,2.75 11.90625,2.75 15.02602,0 27.34375,-12.34898 27.34375,-27.375 C -453.5,372.31773 -465.81773,360 -480.84375,360 z m 0,14 c 7.45986,0 13.34375,5.88389 13.34375,13.34375 0,7.45986 -5.88389,13.375 -13.34375,13.375 -7.45986,0 -13.375,-5.91514 -13.375,-13.375 0,-7.45986 5.91514,-13.34375 13.375,-13.34375 z m -65.375,65.34375 c 7.45986,0 13.34375,5.91514 13.34375,13.375 0,7.45986 -5.88389,13.34375 -13.34375,13.34375 -7.45986,0 -13.34375,-5.88389 -13.34375,-13.34375 0,-7.45986 5.88389,-13.375 13.34375,-13.375 z"}),o.a.createElement("path",{d:"m -484.34375,429.25 c -1.95543,0.19978 -3.60373,2.03442 -3.59375,4 l 0,12.40625 -12.40625,0 c -2.09434,2.1e-4 -3.99979,1.90566 -4,4 l 0,10 c -0.007,0.1353 -0.007,0.27095 0,0.40625 0.19978,1.95543 2.03442,3.60373 4,3.59375 l 12.40625,0 0,12.4375 c 2.1e-4,2.09434 1.90566,3.99979 4,4 l 10,0 c 2.09434,-2.1e-4 3.99979,-1.90566 4,-4 l 0,-12.4375 12.4375,0 c 2.09434,-2.1e-4 3.99979,-1.90566 4,-4 l 0,-10 c -2.1e-4,-2.09434 -1.90566,-3.99979 -4,-4 l -12.4375,0 0,-12.40625 c -2.1e-4,-2.09434 -1.90566,-3.99979 -4,-4 l -10,0 c -0.1353,-0.007 -0.27095,-0.007 -0.40625,0 z"}))))},e)),Ua=e=>o.a.createElement(Ba,Ia()({title:"Add Node Mode",svg:o.a.createElement("svg",{className:"tool","data-tool":"add_node",xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"18",height:"18",viewBox:"0 0 128 128"},o.a.createElement("g",{transform:"translate(720.71649,-356.22543)"},o.a.createElement("g",{transform:"translate(-3.8571429,146.42857)"},o.a.createElement("path",{d:"m -658.27638,248.37149 c -1.95543,0.19978 -3.60373,2.03442 -3.59375,4 l 0,12.40625 -12.40625,0 c -2.09434,2.1e-4 -3.99979,1.90566 -4,4 l 0,10 c -0.007,0.1353 -0.007,0.27095 0,0.40625 0.19978,1.95543 2.03442,3.60373 4,3.59375 l 12.40625,0 0,12.4375 c 2.1e-4,2.09434 1.90566,3.99979 4,4 l 10,0 c 2.09434,-2.1e-4 3.99979,-1.90566 4,-4 l 0,-12.4375 12.4375,0 c 2.09434,-2.1e-4 3.99979,-1.90566 4,-4 l 0,-10 c -2.1e-4,-2.09434 -1.90566,-3.99979 -4,-4 l -12.4375,0 0,-12.40625 c -2.1e-4,-2.09434 -1.90566,-3.99979 -4,-4 l -10,0 c -0.1353,-0.007 -0.27095,-0.007 -0.40625,0 z"}),o.a.createElement("path",{d:"m -652.84375,213.9375 c -32.97528,0 -59.875,26.86847 -59.875,59.84375 0,32.97528 26.89972,59.875 59.875,59.875 32.97528,0 59.84375,-26.89972 59.84375,-59.875 0,-32.97528 -26.86847,-59.84375 -59.84375,-59.84375 z m 0,14 c 25.40911,0 45.84375,20.43464 45.84375,45.84375 0,25.40911 -20.43464,45.875 -45.84375,45.875 -25.40911,0 -45.875,-20.46589 -45.875,-45.875 0,-25.40911 20.46589,-45.84375 45.875,-45.84375 z"}))))},e)),Ha=e=>o.a.createElement(Ba,Ia()({title:"Select Mode",svg:o.a.createElement("svg",{className:"active tool","data-tool":"pointer",xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"18",height:"18",viewBox:"0 0 128 128"},o.a.createElement("g",{transform:"translate(881.10358,-356.22543)"},o.a.createElement("g",{transform:"matrix(0.8660254,-0.5,0.5,0.8660254,-266.51112,-215.31898)"},o.a.createElement("path",{d:"m -797.14902,212.29589 a 5.6610848,8.6573169 0 0 0 -4.61823,4.3125 l -28.3428,75.0625 a 5.6610848,8.6573169 0 0 0 4.90431,13 l 56.68561,0 a 5.6610848,8.6573169 0 0 0 4.9043,-13 l -28.3428,-75.0625 a 5.6610848,8.6573169 0 0 0 -5.19039,-4.3125 z m 0.28608,25.96875 18.53419,49.09375 -37.06838,0 18.53419,-49.09375 z"}),o.a.createElement("path",{d:"m -801.84375,290.40625 c -2.09434,2.1e-4 -3.99979,1.90566 -4,4 l 0,35.25 c 2.1e-4,2.09434 1.90566,3.99979 4,4 l 10,0 c 2.09434,-2.1e-4 3.99979,-1.90566 4,-4 l 0,-35.25 c -2.1e-4,-2.09434 -1.90566,-3.99979 -4,-4 z"}))))},e)),Ga=e=>{let t=e.mode,r=e.onModeChange;const n=o.a.useCallback(e=>()=>{r(e)});return o.a.createElement(Ho.Group,{vertical:!0},o.a.createElement(Ha,{active:"SELECT_MODE"===t,onClick:n("SELECT_MODE")}),o.a.createElement(Ua,{active:"ADD_NODE_MODE"===t,onClick:n("ADD_NODE_MODE")}),o.a.createElement(Fa,{active:"ADD_LINK_MODE"===t,onClick:n("ADD_LINK_MODE")}))};Ga.propTypes={mode:nt.a.oneOf(["SELECT_MODE","ADD_NODE_MODE","ADD_LINK_MODE"]),onModeChange:nt.a.func};var Va=Ga;const Wa=Pa(e=>e.algo.algo,e=>e),qa=Pa(e=>e.algo.graph,e=>e),Xa=Pa(e=>e.algo.error,e=>e),Ya=()=>Pa(Xa,Wa,(e,t)=>t,(e,t,r)=>t===r?e:""),Ka=e=>e.graph.data,Qa=Pa(Ka,e=>e),Za=Pa(Ka,e=>e.nodes),Ja=Pa(Ka,e=>e.links),$a=Pa(e=>e.graph.focusedNode,e=>e),es=Pa(e=>e.graph.focusedLink,e=>e),ts=Pa(e=>e.graph.filename,e=>e),rs=Pa(e=>e.graph.mode,e=>e),ns=Pa(rs,e=>"ADD_LINK_MODE"===e),is=Pa(e=>e.graph.clickedNodeId,e=>e),os=Pa(e=>e.graph.hoveredNodeId,e=>e),as=Pa(e=>e.graph.hoveredLinkId,e=>e),ss=Pa(e=>e.graph.nodeKeys,e=>e),cs=Pa(e=>e.graph.linkKeys,e=>e),ls=Pa(e=>e.graph.editedNode,e=>e),us=Pa(e=>e.graph.deletedNode,e=>e),ds=Pa(e=>e.graph.editedLink,e=>e),hs=Pa(e=>e.graph.deletedLink,e=>e),ps=Pa(e=>e.graph.nodeSearchValue,e=>e),fs=Pa(e=>e.graph.linkSearchValue,e=>e),ms=Pa(e=>e.graph.searchAsFilter,e=>e),gs=Pa(Wa,Ka,qa,ss,cs,ps,fs,(e,t,r,n,i,o,a)=>{const s=null===e?t:r;if(""===o&&""===a)return s;const c=new RegExp(o,"i"),l=new RegExp(a,"i"),u=""===o?s.nodes:s.nodes.filter(e=>c.test(JSON.stringify(ja()(e,n),";"))),d=new Set(u.map(e=>e.id)),h=s.links.filter(e=>d.has(ia(e))&&d.has(oa(e)));return{nodes:u,links:""===a?h:h.filter(e=>{const t=qo()({},e,{source:ia(e),target:oa(e)});return l.test(JSON.stringify(ja()(t,i),";"))})}}),vs=Pa(Wa,Ka,qa,gs,ms,(e,t,r,n,i)=>i||null===e?i?n:t:r),ys=Pa(e=>e.graph.popupData,e=>e),bs=Pa(e=>e.graph.zoom,e=>e),xs=Pa(ys,bs,(e,t)=>{let r=e.type,n=e.data;if(null==r)return{x:0,y:0};const i=document.getElementById("graph-container").getBoundingClientRect(),o=i.x,a=i.y;let s;if("link"===r){const e=va(t,n.source),r=va(t,n.target);s={x:(e.x+r.x)/2,y:(e.y+r.y)/2}}return"node"===r&&(s=va(t,n)),{x:s.x+o+10,y:s.y+a+10}});function ws(e,t){return function(e,t,r){let n,i,o;if(e/=360,r/=100,0==(t/=100))n=i=o=r;else{const a=(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e),s=r<.5?r*(1+t):r+t-r*t,c=2*r-s;n=a(c,s,e+1/3),i=a(c,s,e),o=a(c,s,e-1/3)}const a=e=>{const t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t};return`#${a(n)}${a(i)}${a(o)}`}(e*(280/t)%360,100,50)}const Es="#2185d0",As="#db2828",_s="COLORING_SELECT_KEY",Ms="COLORING_RESET_KEY",Ss="COLORING_SET_COLOR",Ts="DEGREE",Cs="BETWEENNESS",Os="CLOSENESS",Ls="CLUSTERING",Rs="PAGE_RANKING",Ps=(e,t,r)=>{switch(r){case Ts:{const r=sa(e,t),n=Vo()(Object.values(r));return[r,Ta(n)]}case Cs:{const r=ca(e,t),n=Vo()(Object.values(r));return[r,Ta(n)]}case Os:{const r=la(e,t),n=Vo()(Object.values(r));return[r,Ta(n)]}case Ls:{const r=((e,t,r)=>{const n=aa(e,t),i=Zo(n);for(let e=0;e<r;e+=1)i.step();const o={};let a=1;return i.forEachCluster(e=>{if(null==e)return;const t=`Cluster ${a}`;e.nodes.forEach(e=>{o[e]=t}),a+=1}),o})(e,t,2),n=Vo()(Object.values(r));return[r,Ta(n)]}case Rs:{const r=ua(e,t),n=Vo()(Object.values(r));return[r,Ta(n)]}default:{const t=Ea(e,r),n=Vo()(Object.values(t));return[t,Ta(n)]}}};var ks=r(79),js=r.n(ks);const Ds="ALGO_SET_GRAPH",Is="ALGO_SELECT_KEY",Ns="ALGO_CANCEL",zs="MST",Bs="SHORTEST_PATH",Fs="EXTRACT_SUBGRAPH",Us=()=>1,Hs=(e,t)=>{if("ALGO_UNIFORM_WEIGHT"===t)return[Us,null];try{const r=e.reduce((e,r)=>{const n=Number(r[t]);if(Number.isNaN(n))throw new Error(`Key ${t} cannot be converted into all Number value types. So, we are using uniform weight`);return qo()({},e,{[r.id]:Number(r[t])})},{});return[e=>r[e.data],null]}catch(e){return[Us,e.toString()]}},Gs=()=>({type:Ns}),Vs=e=>({type:Ds,graph:e}),Ws="SETTING_SET",qs=e=>({type:Ws,key:"nodeTextKey",value:e}),Xs="RESET_ALL",Ys="GRAPH_SET",Ks="SET_GRAPH_NODES",Qs="SET_GRAPH_LINKS",Zs=(e,t)=>({type:Ys,key:e,value:t}),Js=e=>Zs("filename",e),$s=js()(()=>e=>{e(Zs("popupData",{type:null,data:null}))},200),ec=e=>t=>{t(Zs("hoveredNodeId",e?[e.id]:[]))},tc=e=>t=>{t(Zs("hoveredLinkId",e?e.id:null)),t(Zs("hoveredNodeId",e?[ia(e),oa(e)]:[]))},rc=e=>Zs("focusedNode",e),nc=e=>Zs("focusedLink",e),ic=e=>Zs("editedNode",e),oc=e=>Zs("deletedNode",e),ac=e=>Zs("editedLink",e),sc=e=>Zs("deletedLink",e),cc=()=>(e,t)=>{const r=t(),n=Qa(r),i=qa(r)||{};e(Vs(qo()({},i))),e(Zs("data",qo()({},n)))},lc=e=>Zs("searchAsFilter",!e);function uc(e){var t=e.children,r=e.className,n=Vt()(r),i=Ot(uc,e),a=Lt(uc,e);return o.a.createElement(a,Ht()({},i,{className:n}),t)}uc.handledProps=["as","children","className"],uc.defaultProps={as:"tbody"},uc.propTypes={};var dc=uc;function hc(e){var t=e.active,r=e.children,i=e.className,a=e.collapsing,s=e.content,c=e.disabled,l=e.error,u=e.icon,d=e.negative,h=e.positive,p=e.selectable,f=e.singleLine,m=e.textAlign,g=e.verticalAlign,v=e.warning,y=e.width,b=Vt()(Kt(t,"active"),Kt(a,"collapsing"),Kt(c,"disabled"),Kt(l,"error"),Kt(d,"negative"),Kt(h,"positive"),Kt(p,"selectable"),Kt(f,"single line"),Kt(v,"warning"),$t(m),er(g),tr(y,"wide"),i),x=Ot(hc,e),w=Lt(hc,e);return n.isNil(r)?o.a.createElement(w,Ht()({},x,{className:b}),Vr.create(u),s):o.a.createElement(w,Ht()({},x,{className:b}),r)}hc.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],hc.defaultProps={as:"td"},hc.propTypes={},hc.create=br(hc,function(e){return{content:e}});var pc=hc;function fc(e){var t=e.children,r=e.className,i=e.content,a=e.fullWidth,s=Vt()(Kt(a,"full-width"),r),c=Ot(fc,e),l=Lt(fc,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(t)?i:t)}fc.handledProps=["as","children","className","content","fullWidth"],fc.defaultProps={as:"thead"},fc.propTypes={};var mc=fc;function gc(e){var t=e.as,r=Ot(gc,e);return o.a.createElement(mc,Ht()({},r,{as:t}))}gc.handledProps=["as"],gc.propTypes={},gc.defaultProps={as:"tfoot"};var vc=gc;function yc(e){var t=e.as,r=e.className,n=e.sorted,i=Vt()(Qt(n,"sorted"),r),a=Ot(yc,e);return o.a.createElement(pc,Ht()({},a,{as:t,className:i}))}yc.handledProps=["as","className","sorted"],yc.propTypes={},yc.defaultProps={as:"th"};var bc=yc;function xc(e){var t=e.active,r=e.cellAs,i=e.cells,a=e.children,s=e.className,c=e.disabled,l=e.error,u=e.negative,d=e.positive,h=e.textAlign,p=e.verticalAlign,f=e.warning,m=Vt()(Kt(t,"active"),Kt(c,"disabled"),Kt(l,"error"),Kt(u,"negative"),Kt(d,"positive"),Kt(f,"warning"),$t(h),er(p),s),g=Ot(xc,e),v=Lt(xc,e);return n.isNil(a)?o.a.createElement(v,Ht()({},g,{className:m}),_t()(i,function(e){return pc.create(e,{defaultProps:{as:r}})})):o.a.createElement(v,Ht()({},g,{className:m}),a)}xc.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],xc.defaultProps={as:"tr",cellAs:"td"},xc.propTypes={},xc.create=br(xc,function(e){return{cells:e}});var wc=xc;function Ec(e){var t=e.attached,r=e.basic,i=e.celled,a=e.children,s=e.className,c=e.collapsing,l=e.color,u=e.columns,d=e.compact,h=e.definition,p=e.fixed,f=e.footerRow,m=e.headerRow,g=e.headerRows,v=e.inverted,y=e.padded,b=e.renderBodyRow,x=e.selectable,w=e.singleLine,E=e.size,A=e.sortable,_=e.stackable,M=e.striped,S=e.structured,T=e.tableData,C=e.textAlign,O=e.unstackable,L=e.verticalAlign,R=Vt()("ui",l,E,Kt(i,"celled"),Kt(c,"collapsing"),Kt(h,"definition"),Kt(p,"fixed"),Kt(v,"inverted"),Kt(x,"selectable"),Kt(w,"single line"),Kt(A,"sortable"),Kt(_,"stackable"),Kt(M,"striped"),Kt(S,"structured"),Kt(O,"unstackable"),Zt(t,"attached"),Zt(r,"basic"),Zt(d,"compact"),Zt(y,"padded"),$t(C),er(L),tr(u,"column"),"table",s),P=Ot(Ec,e),k=Lt(Ec,e);if(!n.isNil(a))return o.a.createElement(k,Ht()({},P,{className:R}),a);var j={defaultProps:{cellAs:"th"}},D=(m||g)&&o.a.createElement(mc,null,wc.create(m,j),_t()(g,function(e){return wc.create(e,j)}));return o.a.createElement(k,Ht()({},P,{className:R}),D,o.a.createElement(dc,null,b&&_t()(T,function(e,t){return wc.create(b(e,t))})),f&&o.a.createElement(vc,null,wc.create(f)))}Ec.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],Ec.defaultProps={as:"table"},Ec.propTypes={},Ec.Body=dc,Ec.Cell=pc,Ec.Footer=vc,Ec.Header=mc,Ec.HeaderCell=bc,Ec.Row=wc;var Ac=Ec,_c=function(e){return{active:!1,type:"ellipsisItem",value:e}},Mc=function(e){return{active:!1,type:"prevItem",value:Math.max(1,e-1)}},Sc=function(e,t){return{active:!1,type:"nextItem",value:Math.min(e+1,t)}},Tc=function(e){return{active:!1,type:"lastItem",value:e}},Cc=r(375),Oc=r.n(Cc),Lc=function(e,t,r){var n=t-1;return(n!==e+1?_c:r)(n)},Rc=function(e,t,r){var n=e+1;return(n!==t-1?_c:r)(n)},Pc=function(e,t,r){return _t()(Oc()(e,t+1),r)},kc=function(e){var t,r,n,i={activePage:+(t=e).activePage,boundaryRange:+t.boundaryRange,hideEllipsis:!!t.hideEllipsis,siblingRange:+t.siblingRange,totalPages:+t.totalPages},o=i.activePage,a=i.totalPages,s=function(e){return function(t){return{active:e===t,type:"pageItem",value:t}}}(o),c=(n=(r=i).boundaryRange,1+(r.hideEllipsis?0:2)+2*r.siblingRange+2*n>=r.totalPages?Pc(1,a,s):function(e,t){var r=e.activePage,n=e.boundaryRange,i=e.hideEllipsis,o=e.siblingRange,a=e.totalPages,s=i?0:1,c=n,l=Pc(1,c,t),u=a+1-n,d=Pc(u,a,t),h=Math.min(Math.max(r-o,c+s+1),u-s-2*o-1),p=h+2*o,f=Pc(h,p,t);return[].concat(Ft()(l),[!i&&Lc(c,h,t)],Ft()(f),[!i&&Rc(p,u,t)],Ft()(d)).filter(Boolean)}(i,s));return[{active:!1,type:"firstItem",value:1},Mc(o)].concat(Ft()(c),[Sc(o,a),Tc(a)])},jc=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleClick",function(e){Ct()(r.props,"onClick",e,r.props)}),Et()(yt()(r),"handleKeyDown",function(e){Ct()(r.props,"onKeyDown",e,r.props),zi.a.getCode(e)===zi.a.Enter&&Ct()(r.props,"onClick",e,r.props)}),Et()(yt()(r),"handleOverrides",function(){return{onClick:r.handleClick,onKeyDown:r.handleKeyDown}}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,t=e.active,r=e.type,n=this.props.disabled||"ellipsisItem"===r;return Wr.create(this.props,{defaultProps:{active:t,"aria-current":t,"aria-disabled":n,disabled:n,onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:n?-1:0},overrideProps:this.handleOverrides})}}]),t}(i.Component);Et()(jc,"handledProps",["active","disabled","onClick","onKeyDown","type"]),jc.propTypes={},jc.create=br(jc,function(e){return{content:e}});var Dc=jc,Ic=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleItemClick",function(e,t){var n=t.value;+r.state.activePage!=+n&&(r.trySetState({activePage:n}),Ct()(r.props,"onPageChange",e,ct()({},r.props,{activePage:n})))}),Et()(yt()(r),"handleItemOverrides",function(e,t,n){return function(i){return{active:e,type:t,key:"".concat(t,"-").concat(n),onClick:function(e,t){Ct()(i,"onClick",e,t),"ellipsisItem"!==t.type&&r.handleItemClick(e,t)}}}}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this,r=this.props,n=r["aria-label"],i=r.boundaryRange,a=r.disabled,s=r.ellipsisItem,c=r.siblingRange,l=r.totalPages,u=this.state.activePage,d=kc({activePage:u,boundaryRange:i,hideEllipsis:vr()(s),siblingRange:c,totalPages:l}),h=Ot(t,this.props);return o.a.createElement(Kr,Ht()({},h,{"aria-label":n,pagination:!0,role:"navigation"}),_t()(d,function(t){var r=t.active,n=t.type,i=t.value;return Dc.create(e.props[n],{defaultProps:{content:i,disabled:a,value:i},overrideProps:e.handleItemOverrides(r,n,i)})}))}}]),t}(zt);Et()(Ic,"autoControlledProps",["activePage"]),Et()(Ic,"defaultProps",{"aria-label":"Pagination Navigation",boundaryRange:1,ellipsisItem:"...",firstItem:{"aria-label":"First item",content:"«"},lastItem:{"aria-label":"Last item",content:"»"},nextItem:{"aria-label":"Next item",content:"⟩"},pageItem:{},prevItem:{"aria-label":"Previous item",content:"⟨"},siblingRange:1}),Et()(Ic,"Item",Dc),Et()(Ic,"handledProps",["activePage","aria-label","boundaryRange","defaultActivePage","disabled","ellipsisItem","firstItem","lastItem","nextItem","onPageChange","pageItem","prevItem","siblingRange","totalPages"]),Ic.propTypes={};var Nc=r(80),zc=r.n(Nc);function Bc(e){let t=e.activePage,r=e.totalPages,n=e.onChange;return o.a.createElement(Ic,{className:zc.a.pagination,size:"mini",ellipsisItem:{content:o.a.createElement(Vr,{name:"ellipsis horizontal"}),icon:!0},firstItem:{content:o.a.createElement(Vr,{name:"angle double left"}),icon:!0},lastItem:{content:o.a.createElement(Vr,{name:"angle double right"}),icon:!0},prevItem:{content:o.a.createElement(Vr,{name:"angle left"}),icon:!0},nextItem:{content:o.a.createElement(Vr,{name:"angle right"}),icon:!0},activePage:t,totalPages:r,onPageChange:(e,t)=>{let r=t.activePage;return n(r)}})}Bc.propTypes={activePage:nt.a.number.isRequired,totalPages:nt.a.number.isRequired,onChange:nt.a.func.isRequired};var Fc=Bc;const Uc=[10,20,30].map(Aa),Hc={size:"small",compact:"very"},Gc={asc:"ascending",desc:"descending"},Vc={column:null,direction:null};function Wc(e){let t=e.getData,r=e.dataKey,n=e.dataLength,i=e.searchBar,a=e.tableProps,s=e.onRowHover,c=e.onRowDoubleClick;const l=o.a.useState(1),u=tt()(l,2),d=u[0],h=u[1],p=o.a.useState(10),f=tt()(p,2),m=f[0],g=f[1],v=o.a.useState(Vc),y=tt()(v,2),b=y[0],x=y[1],w=Math.ceil(n/m),E=o.a.useCallback((e,t)=>{let r=t.value;const i=Math.ceil(n/r);d>=i&&h(i),g(r)});o.a.useEffect(()=>{0===d&&w>0&&h(1),d>=w&&h(w)});const A=(d-1)*m,_=d*m,M=o.a.useCallback(e=>()=>{a.sortable&&(e!==b.column?x({column:e,direction:Gc.asc}):x({column:e,direction:b.direction===Gc.asc?Gc.desc:Gc.asc}))}),S=o.a.useCallback(()=>x(Vc)),T=o.a.useCallback(e=>()=>null!=s&&s(e),[s]),C=o.a.useCallback(e=>()=>null!=c&&c(e),[c]);return o.a.createElement("div",{className:zc.a.tablePagination__container},i,o.a.createElement("div",{className:zc.a.table__dataPerPage},"Total Entries: ",n," || Show"," ",o.a.createElement(jo,{inline:!0,value:m,options:Uc,onChange:E})," ","entries per page"),o.a.createElement("div",{className:zc.a.table__container},o.a.createElement(Ac,Ia()({celled:!0,selectable:null!=s},a),o.a.createElement(Ac.Header,null,o.a.createElement(Ac.Row,null,r.map(e=>o.a.createElement(Ac.HeaderCell,{key:e,sorted:a.sortable&&b.column===e?b.direction:null,onClick:M(e),onDoubleClick:S},e)))),o.a.createElement(Ac.Body,null,t(A,_,b).map(e=>o.a.createElement(Ac.Row,{key:e.id,onMouseEnter:T(e),onMouseLeave:T(null),onDoubleClick:C(e)},r.map(t=>o.a.createElement(Ac.Cell,{className:zc.a.table__cellContainer,key:t},e[t]))))))),o.a.createElement(Fc,{activePage:d,totalPages:w,onChange:h}))}Wc.propTypes={getData:nt.a.func.isRequired,dataKey:nt.a.arrayOf(nt.a.string).isRequired,dataLength:nt.a.number.isRequired,searchBar:nt.a.node,tableProps:nt.a.objectOf(nt.a.any),onRowHover:nt.a.func,onRowDoubleClick:nt.a.func};var qc=Wc,Xc=r(384),Yc=r.n(Xc);function Kc(e){let t=e.className,r=void 0===t?"":t,n=za()(e,["className"]);return o.a.createElement("button",Ia()({type:"button",className:[Yc.a.buttonLink,r].join(" ")},n))}Kc.propTypes={className:nt.a.string};var Qc=Kc;const Zc=Pa(e=>e.coloring.selectedKey,e=>e),Jc=Pa(e=>e.coloring.nodeIdValuesMap,e=>e),$c=Pa(e=>e.coloring.valuesNodeMap,e=>e),el=Pa(e=>e.coloring.propertyValues,e=>e),tl=Pa(e=>e.coloring.colorMap,e=>e),rl=Pa(tl,Jc,Zc,(e,t,r)=>n=>r?e[t[n.id]]:Es),nl=nt.a.oneOfType([nt.a.number,nt.a.string]),il=nt.a.shape({id:nl.isRequired}),ol=nt.a.shape({source:nt.a.oneOfType([nl,il]).isRequired,target:nt.a.oneOfType([nl,il]).isRequired}),al=nt.a.shape({nodes:nt.a.arrayOf(il).isRequired,links:nt.a.arrayOf(ol).isRequired}),sl=nt.a.oneOf(["SELECT_MODE","ADD_NODE_MODE","ADD_LINK_MODE"]),cl=nt.a.shape({type:nt.a.string,data:nt.a.oneOfType([il,ol])}),ll=nt.a.shape({x:nt.a.number.isRequired,y:nt.a.number.isRequired}),ul=qo()({},Hc,{striped:!0});function dl(e){let t=e.propertyValues,r=e.colorMap,n=e.valuesNodeMap,i=e.selectedKey,a=e.selectColor,s=e.hoverNodes;const c=o.a.useMemo(()=>`Property (${i})`,[i]),l=o.a.useMemo(()=>[c,"Color","View Nodes"],[c]),u=o.a.useCallback((e,i)=>t.slice(e,i).map(e=>({id:e,[c]:e,Color:o.a.createElement("input",{type:"color",value:r[e],onChange:t=>a(e,t.target.value)}),"View Nodes":o.a.createElement(Qc,{onClick:()=>s(n[e])},"Highlight ",n[e].length," corresponding nodes")})),[t,a,c,r]);return o.a.createElement(qc,{getData:u,dataLength:t.length,dataKey:l,tableProps:ul})}dl.propTypes={propertyValues:nt.a.arrayOf(nl),colorMap:nt.a.objectOf(nt.a.string),valuesNodeMap:nt.a.objectOf(nt.a.array),selectedKey:nt.a.string,selectColor:nt.a.func.isRequired,hoverNodes:nt.a.func.isRequired};var hl=Q(e=>{return{selectedKey:Zc(e),propertyValues:el(e),colorMap:tl(e),valuesNodeMap:$c(e)}},{selectColor:(e,t)=>({type:Ss,colorKey:e,colorValue:t}),hoverNodes:e=>Zs("hoveredNodeId",e.map(e=>e.id))})(dl),pl=r(250),fl=r.n(pl);const ml=e=>{let t=e.nodeKeys,r=e.selectedKey,n=e.selectKey;if(0===t.length)return o.a.createElement("i",null,"No nodes available");if(t&&t.length<1)return null;const i=o.a.useCallback((e,t)=>{let r=t.value;n(r)},[n]),a=o.a.useMemo(()=>[{key:"none",value:null,text:"none"},...t.map(Aa),{key:Ts,value:Ts,text:"Node Degree"},{key:Cs,value:Cs,text:"Node Betweenness"},{key:Os,value:Os,text:"Node Closeness"},{key:Ls,value:Ls,text:"Node Clustering"},{key:Rs,value:Rs,text:"Page Ranking"}],[t]);return o.a.createElement("div",{className:fl.a.coloringByProperty__container},o.a.createElement("div",{className:fl.a.coloringByProperty__inputContainer},o.a.createElement(jo,{placeholder:"Select Node Attributes",fluid:!0,selection:!0,value:r,options:a,onChange:i}),r&&o.a.createElement(Ho,{positive:!0,title:"Refresh",size:"mini",icon:"refresh",onClick:()=>n(r)})),r&&o.a.createElement(hl,null))};ml.propTypes={nodeKeys:nt.a.arrayOf(nt.a.string).isRequired,selectedKey:nt.a.string,selectKey:nt.a.func.isRequired};var gl=Q(e=>{return{nodeKeys:ss(e),selectedKey:Zc(e)}},{selectKey:e=>(t,r)=>{if(null===e)return void t({type:Ms});const n=r(),i=Za(n),o=Ja(n),a=Ps(i,o,e),s=tt()(a,2),c=s[0],l=s[1],u=(e=>e.reduce((t,r,n)=>qo()({},t,{[r]:ws(n,e.length)}),{}))(l),d=i.reduce((e,t)=>{const r=c[t.id];return e[r]=e[r]||[],e[r].push(t),e},{});t({type:_s,selectedKey:e,nodeIdValuesMap:c,valuesNodeMap:d,propertyValues:l,colorMap:u})}})(ml);function vl(e){var t=e.children,r=e.className,i=e.clearing,a=e.content,s=e.fitted,c=e.hidden,l=e.horizontal,u=e.inverted,d=e.section,h=e.vertical,p=Vt()("ui",Kt(i,"clearing"),Kt(s,"fitted"),Kt(c,"hidden"),Kt(l,"horizontal"),Kt(u,"inverted"),Kt(d,"section"),Kt(h,"vertical"),"divider",r),f=Ot(vl,e),m=Lt(vl,e);return o.a.createElement(m,Ht()({},f,{className:p}),n.isNil(t)?a:t)}vl.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],vl.propTypes={};var yl=vl,bl=r(385),xl=r.n(bl),wl=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(o))),Et()(yt()(r),"inputRef",Object(i.createRef)()),Et()(yt()(r),"labelRef",Object(i.createRef)()),Et()(yt()(r),"canToggle",function(){var e=r.props,t=e.disabled,n=e.radio,i=e.readOnly,o=r.state.checked;return!(t||i||n&&o)}),Et()(yt()(r),"computeTabIndex",function(){var e=r.props,t=e.disabled,n=e.tabIndex;return vr()(n)?t?-1:0:n}),Et()(yt()(r),"handleClick",function(e){var t=r.props.id,n=r.state,i=n.checked,o=n.indeterminate,a=Ct()(r.inputRef.current,"contains",e.target),s=Ct()(r.labelRef.current,"contains",e.target),c=!s&&!a,l=!vr()(t);s&&l||Ct()(r.props,"onClick",e,ct()({},r.props,{checked:!i,indeterminate:!!o})),r.isClickFromMouse&&(r.isClickFromMouse=!1,s&&!l&&r.handleChange(e),c&&r.handleChange(e),s&&l&&e.stopPropagation())}),Et()(yt()(r),"handleChange",function(e){var t=r.state.checked;r.canToggle()&&(Ct()(r.props,"onChange",e,ct()({},r.props,{checked:!t,indeterminate:!1})),r.trySetState({checked:!t,indeterminate:!1}))}),Et()(yt()(r),"handleMouseDown",function(e){var t=r.state,n=t.checked,i=t.indeterminate;Ct()(r.props,"onMouseDown",e,ct()({},r.props,{checked:!!n,indeterminate:!!i})),e.defaultPrevented||Ct()(r.inputRef.current,"focus"),e.preventDefault()}),Et()(yt()(r),"handleMouseUp",function(e){var t=r.state,n=t.checked,i=t.indeterminate;r.isClickFromMouse=!0,Ct()(r.props,"onMouseUp",e,ct()({},r.props,{checked:!!n,indeterminate:!!i}))}),Et()(yt()(r),"setIndeterminate",function(){var e=r.state.indeterminate;xl()(r.inputRef,"current.indeterminate",!!e)}),r}return xt()(t,e),ht()(t,[{key:"componentDidMount",value:function(){this.setIndeterminate()}},{key:"componentDidUpdate",value:function(){this.setIndeterminate()}},{key:"render",value:function(){var e=this.props,r=e.className,n=e.disabled,i=e.label,a=e.id,s=e.name,c=e.radio,l=e.readOnly,u=e.slider,d=e.toggle,h=e.type,p=e.value,f=this.state,m=f.checked,g=f.indeterminate,v=Vt()("ui",Kt(m,"checked"),Kt(n,"disabled"),Kt(g,"indeterminate"),Kt(vr()(i),"fitted"),Kt(c,"radio"),Kt(l,"read-only"),Kt(u,"slider"),Kt(d,"toggle"),"checkbox",r),y=Ot(t,this.props),b=Lt(t,this.props),x=$i(y,{htmlProps:Qi}),w=Xi()(x,2),E=w[0],A=w[1],_=wr(i,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||o.a.createElement("label",{htmlFor:a});return o.a.createElement(b,Ht()({},A,{className:v,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),o.a.createElement(Ii,{innerRef:this.inputRef},o.a.createElement("input",Ht()({},E,{checked:m,className:"hidden",disabled:n,id:a,name:s,readOnly:!0,tabIndex:this.computeTabIndex(),type:h,value:p}))),o.a.createElement(Ii,{innerRef:this.labelRef},_))}}]),t}(zt);function El(e){var t=e.slider,r=e.toggle,n=e.type,i=Ot(El,e),a=!(t||r)||void 0;return o.a.createElement(wl,Ht()({},i,{type:n,radio:a,slider:t,toggle:r}))}Et()(wl,"defaultProps",{type:"checkbox"}),Et()(wl,"autoControlledProps",["checked","indeterminate"]),Et()(wl,"handledProps",["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"]),wl.propTypes={},El.handledProps=["slider","toggle","type"],El.propTypes={},El.defaultProps={type:"radio"};var Al=El;function _l(e){var t=e.children,r=e.className,a=e.content,s=e.control,c=e.disabled,l=e.error,u=e.inline,d=e.label,h=e.required,p=e.type,f=e.width,m=e.id,g=Vt()(Kt(c,"disabled"),Kt(l,"error"),Kt(u,"inline"),Kt(h,"required"),tr(f,"wide"),"field",r),v=Ot(_l,e),y=Lt(_l,e),b=St()(l,"pointing","above"),x=xo.create(l,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:b,id:m?"".concat(m,"-error-message"):void 0,role:"alert","aria-atomic":!0}}),w=("below"===b||"right"===b)&&x,E=("above"===b||"left"===b)&&x;if(vr()(s))return vr()(d)?o.a.createElement(y,Ht()({},v,{className:g}),n.isNil(t)?a:t):o.a.createElement(y,Ht()({},v,{className:g}),w,wr(d,{autoGenerateKey:!1}),E);var A={"aria-describedby":m&&l?"".concat(m,"-error-message"):null,"aria-invalid":void 0!==l||void 0},_=ct()({},v,{content:a,children:t,disabled:c,required:h,type:p,id:m});return"input"!==s||"checkbox"!==p&&"radio"!==p?s===wl||s===Al?o.a.createElement(y,{className:g},w,Object(i.createElement)(s,ct()({},A,_,{label:d})),E):o.a.createElement(y,{className:g},wr(d,{defaultProps:{htmlFor:m},autoGenerateKey:!1}),w,Object(i.createElement)(s,ct()({},A,_)),E):o.a.createElement(y,{className:g},o.a.createElement("label",null,w,Object(i.createElement)(s,ct()({},A,_))," ",d,E))}_l.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],_l.propTypes={};var Ml=_l;function Sl(e){var t=e.control,r=Ot(Sl,e),n=Lt(Sl,e);return o.a.createElement(n,Ht()({},r,{control:t}))}Sl.handledProps=["as","control"],Sl.propTypes={},Sl.defaultProps={as:Ml,control:Ho};var Tl=Sl;function Cl(e){var t=e.control,r=Ot(Cl,e),n=Lt(Cl,e);return o.a.createElement(n,Ht()({},r,{control:t}))}Cl.handledProps=["as","control"],Cl.propTypes={},Cl.defaultProps={as:Ml,control:wl};var Ol=Cl;function Ll(e){var t=e.control,r=Ot(Ll,e),n=Lt(Ll,e);return o.a.createElement(n,Ht()({},r,{control:t}))}Ll.handledProps=["as","control"],Ll.propTypes={},Ll.defaultProps={as:Ml,control:jo};var Rl=Ll;function Pl(e){var t=e.children,r=e.className,n=e.grouped,i=e.inline,a=e.unstackable,s=e.widths,c=Vt()(Kt(n,"grouped"),Kt(i,"inline"),Kt(a,"unstackable"),tr(s,null,!0),"fields",r),l=Ot(Pl,e),u=Lt(Pl,e);return o.a.createElement(u,Ht()({},l,{className:c}),t)}Pl.handledProps=["as","children","className","grouped","inline","unstackable","widths"],Pl.propTypes={};var kl=Pl,jl=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(o))),Et()(yt()(r),"inputRef",Object(i.createRef)()),Et()(yt()(r),"computeIcon",function(){var e=r.props,t=e.loading,n=e.icon;return vr()(n)?t?"spinner":void 0:n}),Et()(yt()(r),"computeTabIndex",function(){var e=r.props,t=e.disabled,n=e.tabIndex;return vr()(n)?t?-1:void 0:n}),Et()(yt()(r),"focus",function(){return r.inputRef.current.focus()}),Et()(yt()(r),"select",function(){return r.inputRef.current.select()}),Et()(yt()(r),"handleChange",function(e){var t=St()(e,"target.value");Ct()(r.props,"onChange",e,ct()({},r.props,{value:t}))}),Et()(yt()(r),"handleChildOverrides",function(e,t){return ct()({},t,e.props,{ref:function(t){Pi(e.ref,t),r.inputRef.current=t}})}),Et()(yt()(r),"partitionProps",function(){var e=r.props,n=e.disabled,i=e.type,o=r.computeTabIndex(),a=Ot(t,r.props),s=$i(a),c=Xi()(s,2),l=c[0],u=c[1];return[ct()({},l,{disabled:n,type:i,tabIndex:o,onChange:r.handleChange,ref:r.inputRef}),u]}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this,r=this.props,a=r.action,s=r.actionPosition,c=r.children,l=r.className,u=r.disabled,d=r.error,h=r.fluid,p=r.focus,f=r.icon,m=r.iconPosition,g=r.input,v=r.inverted,y=r.label,b=r.labelPosition,x=r.loading,w=r.size,E=r.transparent,A=r.type,_=Vt()("ui",w,Kt(u,"disabled"),Kt(d,"error"),Kt(h,"fluid"),Kt(p,"focus"),Kt(v,"inverted"),Kt(x,"loading"),Kt(E,"transparent"),Qt(s,"action")||Kt(a,"action"),Qt(m,"icon")||Kt(f||x,"icon"),Qt(b,"labeled")||Kt(y,"labeled"),"input",l),M=Lt(t,this.props),S=this.partitionProps(),T=Xi()(S,2),C=T[0],O=T[1];if(!n.isNil(c)){var L=_t()(i.Children.toArray(c),function(t){return"input"!==t.type?t:Object(i.cloneElement)(t,e.handleChildOverrides(t,C))});return o.a.createElement(M,Ht()({},O,{className:_}),L)}var R=Ho.create(a,{autoGenerateKey:!1}),P=xo.create(y,{defaultProps:{className:Vt()("label",Dn()(b,"corner")&&b)},autoGenerateKey:!1});return o.a.createElement(M,Ht()({},O,{className:_}),"left"===s&&R,"right"!==b&&P,xr(g||A,{defaultProps:C,autoGenerateKey:!1}),Vr.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==s&&R,"right"===b&&P)}}]),t}(i.Component);Et()(jl,"defaultProps",{type:"text"}),Et()(jl,"handledProps",["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"]),jl.propTypes={},jl.create=br(jl,function(e){return{type:e}});var Dl=jl;function Il(e){var t=e.control,r=Ot(Il,e),n=Lt(Il,e);return o.a.createElement(n,Ht()({},r,{control:t}))}Il.handledProps=["as","control"],Il.propTypes={},Il.defaultProps={as:Ml,control:Dl};var Nl=Il;function zl(e){var t=e.control,r=Ot(zl,e),n=Lt(zl,e);return o.a.createElement(n,Ht()({},r,{control:t}))}zl.handledProps=["as","control"],zl.propTypes={},zl.defaultProps={as:Ml,control:Al};var Bl=zl;function Fl(e){return o.a.createElement(jo,Ht()({},e,{selection:!0}))}Fl.handledProps=["options"],Fl.propTypes={},Fl.Divider=jo.Divider,Fl.Header=jo.Header,Fl.Item=jo.Item,Fl.Menu=jo.Menu;var Ul=Fl;function Hl(e){var t=e.control,r=e.options,n=Ot(Hl,e),i=Lt(Hl,e);return o.a.createElement(i,Ht()({},n,{control:t,options:r}))}Hl.handledProps=["as","control","options"],Hl.propTypes={},Hl.defaultProps={as:Ml,control:Ul};var Gl=Hl,Vl=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(o))),Et()(yt()(r),"ref",Object(i.createRef)()),Et()(yt()(r),"focus",function(){return r.ref.current.focus()}),Et()(yt()(r),"handleChange",function(e){var t=St()(e,"target.value");Ct()(r.props,"onChange",e,ct()({},r.props,{value:t}))}),Et()(yt()(r),"handleInput",function(e){var t=St()(e,"target.value");Ct()(r.props,"onInput",e,ct()({},r.props,{value:t}))}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.rows,n=e.value,i=Ot(t,this.props),a=Lt(t,this.props);return o.a.createElement(Ii,{innerRef:this.ref},o.a.createElement(a,Ht()({},i,{onChange:this.handleChange,onInput:this.handleInput,rows:r,value:n})))}}]),t}(i.Component);Et()(Vl,"defaultProps",{as:"textarea",rows:3}),Et()(Vl,"handledProps",["as","onChange","onInput","rows","value"]),Vl.propTypes={};var Wl=Vl;function ql(e){var t=e.control,r=Ot(ql,e),n=Lt(ql,e);return o.a.createElement(n,Ht()({},r,{control:t}))}ql.handledProps=["as","control"],ql.propTypes={},ql.defaultProps={as:Ml,control:Wl};var Xl=ql,Yl=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleSubmit",function(e){"string"!=typeof r.props.action&&Ct()(e,"preventDefault");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Ct.a.apply(void 0,[r.props,"onSubmit",e,r.props].concat(n))}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.action,n=e.children,i=e.className,a=e.error,s=e.inverted,c=e.loading,l=e.reply,u=e.size,d=e.success,h=e.unstackable,p=e.warning,f=e.widths,m=Vt()("ui",u,Kt(a,"error"),Kt(s,"inverted"),Kt(c,"loading"),Kt(l,"reply"),Kt(d,"success"),Kt(h,"unstackable"),Kt(p,"warning"),tr(f,null,!0),"form",i),g=Ot(t,this.props),v=Lt(t,this.props);return o.a.createElement(v,Ht()({},g,{action:r,className:m,onSubmit:this.handleSubmit}),n)}}]),t}(i.Component);Et()(Yl,"defaultProps",{as:"form"}),Et()(Yl,"Field",Ml),Et()(Yl,"Button",Tl),Et()(Yl,"Checkbox",Ol),Et()(Yl,"Dropdown",Rl),Et()(Yl,"Group",kl),Et()(Yl,"Input",Nl),Et()(Yl,"Radio",Bl),Et()(Yl,"Select",Gl),Et()(Yl,"TextArea",Xl),Et()(Yl,"handledProps",["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"]),Yl.propTypes={};var Kl=Yl;const Ql="RADIUS_SET",Zl="RADIUS_SELECT_KEY",Jl="RADIUS_SELECT_KEY_ERROR",$l="RADIUS_RESET_KEY",eu="RADIUS_SET_RADIUS",tu="DEGREE",ru="BETWEENNESS",nu="CLOSENESS",iu="PAGE_RANKING",ou=(e,t,r)=>{switch(r){case tu:{const r=sa(e,t),n=Vo()(Object.values(r));return[Math.min(...n),Math.max(...n),r,Ta(n)]}case ru:{const r=ca(e,t),n=Vo()(Object.values(r));return[Math.min(...n),Math.max(...n),r,Ta(n)]}case nu:{const r=la(e,t),n=Vo()(Object.values(r));return[Math.min(...n),Math.max(...n),r,Ta(n)]}case iu:{const r=ua(e,t),n=Vo()(Object.values(r));return[Math.min(...n),Math.max(...n),r,Ta(n)]}default:{const t=(e=>Object.entries(e).reduce((e,t)=>{let r=tt()(t,2),n=r[0],i=r[1];return qo()({},e,{[n]:Number(i)})},{}))(Ea(e,r)),n=Vo()(Object.values(t));return[Math.min(...n),Math.max(...n),t,n]}}},au=Pa(e=>e.radius.selectedKey,e=>e),su=Pa(e=>e.radius.nodeIdValuesMap,e=>e),cu=Pa(e=>e.radius.minRadius,e=>e),lu=Pa(e=>e.radius.maxRadius,e=>e),uu=Pa(e=>e.radius.minValue,e=>e),du=Pa(e=>e.radius.maxValue,e=>e),hu=(Pa(e=>e.radius.propertyValues,e=>e),Pa(e=>e.radius.defaultRadius,e=>e)),pu=Pa(e=>e.radius.error,e=>e),fu=Pa(au,su,cu,lu,uu,du,hu,(e,t,r,n,i,o,a)=>s=>{if(!e)return a;if(i===o)return(r+n)/2;const c=t[s.id];return r+(c-i)/(o-i)*(n-r)});var mu=r(171),gu=r.n(mu);const vu=e=>{let t=e.nodeKeys,r=e.selectedKey,n=e.selectKey,i=e.minValue,a=e.maxValue,s=e.minRadius,c=e.maxRadius,l=e.defaultRadius,u=e.error,d=e.setRadius,h=e.changeDefaultRadius;if(0===t.length)return o.a.createElement("i",null,"No nodes available");const p=o.a.useCallback((e,t)=>{let r=t.value;n(r)},[n]),f=o.a.useState(s),m=tt()(f,2),g=m[0],v=m[1],y=o.a.useState(c),b=tt()(y,2),x=b[0],w=b[1],E=o.a.useCallback(()=>{const e=Number.parseInt(g,10)||s,t=Number.parseInt(x,10)||c;v(e),w(t),d(e,t)}),A=!(s!==g||c!==x),_=o.a.useMemo(()=>[{key:"none",value:null,text:"none"},...t.map(Aa),{key:tu,value:tu,text:"Node Degree"},{key:ru,value:ru,text:"Node Betweenness"},{key:nu,value:nu,text:"Node Closeness"},{key:iu,value:iu,text:"Page Ranking"}],[t]),M=o.a.useMemo(()=>[Aa(l)],[l]),S=o.a.useCallback((e,t)=>{let r=t.value;const n=Number(r),i=Number.isNaN(n)?l:n;h(i)},[l,h]);return o.a.createElement("div",{className:gu.a.radiusByProperty__container},o.a.createElement("div",{className:gu.a.radiusByProperty__inputContainer},"Default Radius: ",o.a.createElement("span",null,o.a.createElement(jo,{search:!0,selection:!0,compact:!0,allowAdditions:!0,additionLabel:"Change to ",value:l,options:M,onChange:S}))),o.a.createElement("div",{className:gu.a.radiusByProperty__inputContainer},o.a.createElement(jo,{placeholder:"Select Node Attributes",fluid:!0,selection:!0,value:r,options:_,onChange:p}),r&&o.a.createElement(Ho,{positive:!0,title:"Refresh",size:"mini",icon:"refresh",onClick:()=>n(r)})),r&&!u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(yl,null),o.a.createElement(Kl,null,o.a.createElement(Kl.Group,{inline:!0,style:{alignItems:"flex-end"}},o.a.createElement(Kl.Field,{inline:!0,control:Dl,label:`Min Radius (Min Value: ${i})`,placeholder:"Min Radius",value:g,onChange:e=>v(e.target.value)}),o.a.createElement(Kl.Field,{inline:!0,control:Dl,label:`Max Radius (Max Value: ${a})`,placeholder:"Max Radius",value:x,onChange:e=>w(e.target.value)}),o.a.createElement(Kl.Button,{disabled:A,content:"Apply",color:"green",onClick:E,basic:!0})))),u&&o.a.createElement("pre",null,u))};vu.propTypes={nodeKeys:nt.a.arrayOf(nt.a.string).isRequired,selectedKey:nt.a.string,minValue:nt.a.number,maxValue:nt.a.number,minRadius:nt.a.number,maxRadius:nt.a.number,defaultRadius:nt.a.number.isRequired,error:nt.a.string,selectKey:nt.a.func.isRequired,setRadius:nt.a.func.isRequired,changeDefaultRadius:nt.a.func.isRequired};var yu=Q(e=>{return{nodeKeys:ss(e),selectedKey:au(e),minRadius:cu(e),maxRadius:lu(e),minValue:uu(e),maxValue:du(e),defaultRadius:hu(e),error:pu(e)}},{selectKey:e=>(t,r)=>{if(null===e)return void t({type:$l});const n=r(),i=Za(n),o=Ja(n);try{const r=ou(i,o,e),n=tt()(r,4),a=n[0],s=n[1],c=n[2],l=n[3];if(Number.isNaN(a)||Number.isNaN(s))throw new Error(`Key ${e} cannot be converted into Number value type`);t({type:Zl,selectedKey:e,minValue:a,maxValue:s,nodeIdValuesMap:c,propertyValues:l})}catch(e){t({type:Jl,error:e.toString()})}},setRadius:(e,t)=>({type:eu,minRadius:e,maxRadius:t}),changeDefaultRadius:e=>({type:Ql,key:"defaultRadius",value:e})})(vu);const bu=e=>[{key:"none",value:null,text:"none"},...e.map(Aa),{key:"uniform-weight",value:"ALGO_UNIFORM_WEIGHT",text:"Uniform Weight"}];var xu=r(251),wu=r.n(xu);const Eu=e=>{let t=e.algo,r=e.linkKeys,n=e.applyMst,i=e.cancelMst,a=e.error;if(0===r.length)return o.a.createElement("i",null,"No links available");const s=o.a.useMemo(()=>r.filter(e=>"source"!==e&&"target"!==e),[r]),c=o.a.useState(null),l=tt()(c,2),u=l[0],d=l[1],h=o.a.useCallback((e,t)=>{let r=t.value;d(r)},[]),p=o.a.useMemo(()=>bu(s),[s]);return o.a.createElement("div",{className:wu.a.mst__container},o.a.createElement("div",{className:wu.a.mst__inputContainer},o.a.createElement(jo,{placeholder:"Select Edge Attributes",fluid:!0,selection:!0,value:u,options:p,onChange:h}),o.a.createElement(Ho,{positive:!0,content:"Apply",disabled:null==u,onClick:()=>n(u)}),o.a.createElement(Ho,{disabled:t!==zs,negative:!0,content:"Cancel",onClick:()=>i()})),a&&o.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},a))};Eu.propTypes={algo:nt.a.string,linkKeys:nt.a.arrayOf(nt.a.string).isRequired,error:nt.a.string,applyMst:nt.a.func.isRequired,cancelMst:nt.a.func.isRequired};var Au=Q(()=>{const e=Ya();return t=>({algo:Wa(t),linkKeys:cs(t),error:e(t,zs)})},{applyMst:e=>async(t,r)=>{t(Pn());const n=r(),i=Za(n),o=Ja(n),a=Hs(o,e),s=tt()(a,2),c=s[0],l=s[1],u=((e,t,r)=>{const n=aa(e,t),i=$o(n,r),o=t.reduce((e,t)=>{const r=`${ia(t)}-${oa(t)}`;return qo()({},e,{[r]:t})},{}),a=[];return i.forEach(e=>{const t=o[`${e.fromId}-${e.toId}`];a.push(t)}),{nodes:e,links:a}})(i,o,c);t(kn()),t({type:Is,algo:zs,graph:u,error:l})},cancelMst:Gs})(Eu),_u=r(252),Mu=r.n(_u);const Su=e=>{let t=e.algo,r=e.linkKeys,n=e.error,i=e.applyShortestPath,a=e.cancelShortestPath;if(0===r.length)return o.a.createElement("i",null,"No links available");const s=o.a.useState(""),c=tt()(s,2),l=c[0],u=c[1],d=o.a.useState(""),h=tt()(d,2),p=h[0],f=h[1],m=o.a.useCallback(e=>t=>e(t.target.value),[]),g=o.a.useMemo(()=>l!==p),v=o.a.useMemo(()=>r.filter(e=>"source"!==e&&"target"!==e),[r]),y=o.a.useState(null),b=tt()(y,2),x=b[0],w=b[1],E=o.a.useCallback((e,t)=>{let r=t.value;w(r)},[]),A=o.a.useMemo(()=>bu(v),[v]);return o.a.createElement("div",{className:Mu.a.shortestPath__container},o.a.createElement(Kl,null,o.a.createElement(Kl.Group,{inline:!0},o.a.createElement(Kl.Field,{inline:!0,control:Dl,label:"From Node Id",placeholder:"From Node Id",value:l,onChange:m(u)}),o.a.createElement(Kl.Field,{inline:!0,control:Dl,label:"To Node Id",placeholder:"To Node Id",value:p,onChange:m(f)}))),o.a.createElement("div",{className:Mu.a.shortestPath__inputContainer},o.a.createElement(jo,{placeholder:"Select Edge Attributes",fluid:!0,selection:!0,value:x,options:A,onChange:E}),o.a.createElement(Ho,{positive:!0,content:"Apply",disabled:!g||null==x,onClick:()=>i(l,p,x)}),o.a.createElement(Ho,{disabled:t!==Bs,negative:!0,content:"Cancel",onClick:()=>a()})),n&&o.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},n))};Su.propTypes={algo:nt.a.string,linkKeys:nt.a.arrayOf(nt.a.string).isRequired,error:nt.a.string,applyShortestPath:nt.a.func.isRequired,cancelShortestPath:nt.a.func.isRequired};var Tu=Q(()=>{const e=Ya();return t=>({algo:Wa(t),linkKeys:cs(t),error:e(t,Bs)})},{applyShortestPath:(e,t,r)=>async(n,i)=>{n(Pn());const o=i(),a=Za(o),s=Ja(o);try{const i=Hs(s,r),o=tt()(i,2),c=o[0],l=o[1],u=((e,t,r,n,i)=>{const o=aa(e,t),a=ea.aStar(o,{distance:(e,t,r)=>i(r)}).find(r,n),s=a.map(e=>e.id),c=[];return a.forEach((e,t)=>{if(t+1===a.length)return;const r=e.id,n=a[t+1].id,i=e.links.find(e=>e.fromId===r&&e.toId===n||e.fromId===n&&e.toId===r).data;c.push(i)}),{nodes:e.filter(e=>s.includes(e.id)),links:t.filter(e=>c.includes(e.id))}})(a,s,e,t,c);n({type:Is,algo:Bs,graph:u,error:l})}catch(e){n({type:Is,algo:Bs,graph:{nodes:a,links:s},error:e.toString()})}n(kn())},cancelShortestPath:Gs})(Su),Cu=r(386),Ou=r.n(Cu);const Lu=e=>{let t=e.algo,r=e.error,n=e.applyExtractSubgraph,i=e.cancelExtractSubgraph;const a=o.a.useState(""),s=tt()(a,2),c=s[0],l=s[1],u=o.a.useState(""),d=tt()(u,2),h=d[0],p=d[1],f=o.a.useCallback(e=>t=>e(t.target.value),[]),m=o.a.useMemo(()=>!(!c||Number.isNaN(Number(h))));return o.a.createElement("div",{className:Ou.a.extractSubgraph__container},o.a.createElement(Kl,null,o.a.createElement(Kl.Group,{inline:!0,style:{alignItems:"flex-end"}},o.a.createElement(Kl.Field,{inline:!0,control:Dl,label:"Node Id",placeholder:"Node Id",value:c,onChange:f(l)}),o.a.createElement(Kl.Field,{inline:!0,control:Dl,label:"Hops",placeholder:"Hops (ex. 1,2,3)",value:h,onChange:f(p)}),o.a.createElement(Kl.Button,{type:"submit",positive:!0,content:"Extract",disabled:!m,onClick:()=>n(c,Number(h))}),o.a.createElement(Kl.Button,{type:"reset",disabled:t!==Fs,negative:!0,content:"Cancel",onClick:i}))),r&&o.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},r))};Lu.propTypes={algo:nt.a.string,error:nt.a.string,applyExtractSubgraph:nt.a.func.isRequired,cancelExtractSubgraph:nt.a.func.isRequired};var Ru=Q(()=>{const e=Ya();return t=>({algo:Wa(t),error:e(t,Fs)})},{applyExtractSubgraph:(e,t)=>async(r,n)=>{r(Pn());const i=n(),o=Za(i),a=Ja(i);try{const n=((e,t,r,n)=>{const i=aa(e,t);if(!i.hasNode(r))throw new Error(`Error: nodeId (${r}) does not exist`);const o=new Set([r]),a=new Set;return function e(t,r,n){r<n&&i.forEachLinkedNode(t,(t,i)=>{o.add(t.id),a.add(i.data),e(t.id,r+1,n)})}(r,0,n),{nodes:e.filter(e=>o.has(e.id)),links:t.filter(e=>a.has(e.id))}})(o,a,e,t);r({type:Is,algo:Fs,graph:n,error:""})}catch(e){r({type:Is,algo:Fs,graph:{nodes:o,links:a},error:e.toString()})}r(kn())},cancelExtractSubgraph:Gs})(Lu),Pu=r(253),ku=r.n(Pu),ju=r(172),Du=r.n(ju);const Iu=null,Nu=qo()({},Hc,{striped:!0,sortable:!0});function zu(e){let t=e.dataKeys,r=e.dataMappingFunction,n=e.hover,i=e.remove,a=e.edit,s=e.focusOn,c=e.focusOnDoubleClick,l=e.highlightOnRowHover,u=e.searchValue,d=e.validData,h=e.searchAsFilter,p=e.handleChangeSearchValue,f=e.toogleSearchAsFilter;if(0===t.length)return o.a.createElement("i",null,"No data available");const m=o.a.useMemo(()=>[...t,"Actions"],[t]),g=o.a.useCallback((e,t)=>{let r=t.value;p(r)},[p]),v=o.a.useCallback((e,t,n)=>{let o=n.column,c=n.direction,l=d;return"ascending"===c&&(l=ku()(d,[o]).reverse()),"descending"===c&&(l=ku()(d,[o])),l.slice(e,t).map(r(s,a,i))},[d,s]),y=h?"Cancel Filter":"Apply search as filter",b=h?"red":"green",x=o.a.useCallback(()=>{f(h)},[h]);return o.a.createElement("div",{className:Du.a.tableSection__container},o.a.createElement(qc,{sortable:!0,searchBar:o.a.createElement("div",{className:Du.a.tableSection__searchContainer},o.a.createElement(Dl,{size:"small",icon:"search",placeholder:"Search...",value:u,onChange:g}),o.a.createElement(Ho,{className:Du.a.tableSection__searchButton,content:y,color:b,onClick:x})),getData:v,dataLength:d.length,dataKey:m,tableProps:Nu,onRowHover:l?n:Iu,onRowDoubleClick:c?s:Iu}))}zu.propTypes={dataKeys:nt.a.arrayOf(nt.a.string).isRequired,searchValue:nt.a.string,validData:nt.a.arrayOf(nt.a.oneOfType([il,ol])).isRequired,searchAsFilter:nt.a.bool.isRequired,focusOnDoubleClick:nt.a.bool.isRequired,highlightOnRowHover:nt.a.bool.isRequired,dataMappingFunction:nt.a.func.isRequired,hover:nt.a.func.isRequired,remove:nt.a.func.isRequired,edit:nt.a.func.isRequired,focusOn:nt.a.func.isRequired,handleChangeSearchValue:nt.a.func.isRequired,toogleSearchAsFilter:nt.a.func.isRequired};var Bu=zu;function Fu(e){let t=e.data,r=e.focusOn,n=e.edit,i=e.remove;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ho,{title:"Focus",color:"facebook",icon:"eye",size:"mini",onClick:()=>r(t)}),o.a.createElement(Ho,{title:"Edit",color:"green",icon:"pencil",size:"mini",onClick:()=>n(t)}),o.a.createElement(Ho,{title:"Delete",color:"red",icon:"delete",size:"mini",onClick:()=>i(t)}))}Fu.propTypes={data:nt.a.oneOfType([il,ol]).isRequired,focusOn:nt.a.func,edit:nt.a.func,remove:nt.a.func};var Uu=Fu;const Hu=(e,t,r)=>n=>qo()({},Oa(n),{Actions:o.a.createElement(Uu,{focusOn:e,edit:t,remove:r,data:n})}),Gu=(e,t,r)=>n=>qo()({},Oa(n),{source:ia(n),target:oa(n),Actions:o.a.createElement(Uu,{focusOn:e,edit:t,remove:r,data:n})}),Vu=Pa(e=>e.setting.showNodeLabel,e=>e),Wu=Pa(e=>e.setting.showLinkLabel,e=>e),qu=Pa(e=>e.setting.showNodeText,e=>e),Xu=Pa(e=>e.setting.showLinkDirection,e=>e),Yu=Pa(e=>e.setting.autoHideNodeText,e=>e),Ku=Pa(e=>e.setting.orientation,e=>e),Qu=Pa(e=>e.setting.nodeTextKey,e=>e),Zu=Pa(e=>e.setting.focusOnDoubleClick,e=>e),Ju=Pa(e=>e.setting.highlightOnRowHover,e=>e),$u=Pa(e=>e.setting.forceChargeStrength,e=>e),ed=Pa(e=>e.setting.forceLinkDistance,e=>e),td=Q(e=>{const t=ss(e),r=ps(e),n=gs(e),i=ms(e),o=Zu(e),a=Ju(e);return{dataKeys:t,searchValue:r,validData:n.nodes,searchAsFilter:i,focusOnDoubleClick:o,highlightOnRowHover:a,dataMappingFunction:Hu}},{hover:ec,remove:oc,edit:ic,focusOn:rc,handleChangeSearchValue:e=>Zs("nodeSearchValue",e),toogleSearchAsFilter:lc})(Bu),rd=Q(e=>{const t=cs(e),r=fs(e),n=gs(e),i=ms(e),o=Zu(e),a=Ju(e);return{dataKeys:t,searchValue:r,validData:n.links,searchAsFilter:i,focusOnDoubleClick:o,highlightOnRowHover:a,dataMappingFunction:Gu}},{hover:tc,remove:sc,edit:ac,focusOn:nc,handleChangeSearchValue:e=>Zs("linkSearchValue",e),toogleSearchAsFilter:lc})(Bu),nd=[{key:"null",value:null,text:"Normal"},{key:"td",value:"td",text:"Top-Down"},{key:"bu",value:"bu",text:"Bottom-Up"},{key:"lr",value:"lr",text:"Left-Right"},{key:"rl",value:"rl",text:"Right-Left"},{key:"radialout",value:"radialout",text:"Radial-Out"},{key:"radialin",value:"radialin",text:"Radial-In"}],id={min:-200,max:0},od={min:0,max:120};function ad(e){let t=e.showNodeLabel,r=e.showLinkLabel,n=e.showNodeText,i=e.showLinkDirection,a=e.nodeTextKey,s=e.nodeKeys,c=e.autoHideNodeText,l=e.orientation,u=e.forceChargeStrength,d=e.forceLinkDistance,h=e.toogleNodeLabel,p=e.toogleLinkLabel,f=e.toogleNodeText,m=e.toogleLinkDirection,g=e.toogleHideNodeText,v=e.changeGraphOrientation,y=e.changeNodeTextKey,b=e.setForceChargeStrength,x=e.setForceLinkDistance,w=e.focusOnDoubleClick,E=e.highlightOnRowHover,A=e.toogleFocusOnDoubleClick,_=e.toogleHighlightOnRowHover;const M=o.a.useCallback((e,t)=>{let r=t.value;y(r)},[y]);return o.a.createElement(Kl,null,o.a.createElement(Kl.Field,null,"Graph orientation:  ",o.a.createElement(jo,{inline:!0,value:l,text:null===l?"Normal":null,options:nd,onChange:(e,t)=>{let r=t.value;return v(r)}})),o.a.createElement(Kl.Field,null,o.a.createElement(wl,{label:"Graph - show Node popup details on hover",checked:t,onChange:()=>h(t)})),o.a.createElement(Kl.Field,null,o.a.createElement(wl,{label:"Graph - show Link popup details on hover",checked:r,onChange:()=>p(r)})),o.a.createElement(Kl.Field,null,o.a.createElement(wl,{label:o.a.createElement("label",{htmlFor:"showNodeId"},"Graph - show ","Node"," ",o.a.createElement(jo,{inline:!0,value:a,options:s.map(Aa),onChange:M}),"on the graph"),checked:n,onChange:()=>f(n)})),o.a.createElement(Kl.Field,null,o.a.createElement(wl,{label:"Graph - show Link directionality on the graph",checked:i,onChange:()=>m(i)})),o.a.createElement(Kl.Field,null,o.a.createElement(wl,{label:"Graph - automatically hide text on zoomed out",checked:c,onChange:()=>g(c)})),o.a.createElement(Kl.Field,null,o.a.createElement(wl,{label:"Table - automatically focus on row double click",checked:w,onChange:()=>A(w)})),o.a.createElement(Kl.Field,null,o.a.createElement(wl,{label:"Table - automatically highlight on row hover",checked:E,onChange:()=>_(E)})),o.a.createElement(Kl.Field,Ia()({control:Dl,label:`D3 - Force Charge Strength (Value: ${u})`,type:"range",step:10,value:u,onChange:e=>b(e.target.value)},id)),o.a.createElement(Kl.Field,Ia()({control:Dl,label:`D3 - Force Link Distance (Value: ${d})`,type:"range",step:10,value:d,onChange:e=>x(e.target.value)},od)))}ad.propTypes={showNodeLabel:nt.a.bool.isRequired,showLinkLabel:nt.a.bool.isRequired,showNodeText:nt.a.bool.isRequired,showLinkDirection:nt.a.bool.isRequired,nodeTextKey:nt.a.string.isRequired,nodeKeys:nt.a.arrayOf(nt.a.string).isRequired,autoHideNodeText:nt.a.bool.isRequired,orientation:nt.a.string,forceChargeStrength:nt.a.number.isRequired,forceLinkDistance:nt.a.number.isRequired,toogleNodeLabel:nt.a.func.isRequired,toogleLinkLabel:nt.a.func.isRequired,toogleNodeText:nt.a.func.isRequired,toogleLinkDirection:nt.a.func.isRequired,toogleHideNodeText:nt.a.func.isRequired,changeGraphOrientation:nt.a.func.isRequired,changeNodeTextKey:nt.a.func.isRequired,setForceChargeStrength:nt.a.func.isRequired,setForceLinkDistance:nt.a.func.isRequired,focusOnDoubleClick:nt.a.bool.isRequired,highlightOnRowHover:nt.a.bool.isRequired,toogleFocusOnDoubleClick:nt.a.func.isRequired,toogleHighlightOnRowHover:nt.a.func.isRequired};var sd=Q(e=>{return{showNodeLabel:Vu(e),showLinkLabel:Wu(e),showNodeText:qu(e),showLinkDirection:Xu(e),nodeTextKey:Qu(e),nodeKeys:ss(e),autoHideNodeText:Yu(e),orientation:Ku(e),forceChargeStrength:$u(e),forceLinkDistance:ed(e),focusOnDoubleClick:Zu(e),highlightOnRowHover:Ju(e)}},{toogleNodeLabel:e=>({type:Ws,key:"showNodeLabel",value:!e}),toogleLinkLabel:e=>({type:Ws,key:"showLinkLabel",value:!e}),toogleNodeText:e=>({type:Ws,key:"showNodeText",value:!e}),toogleLinkDirection:e=>({type:Ws,key:"showLinkDirection",value:!e}),toogleHideNodeText:e=>({type:Ws,key:"autoHideNodeText",value:!e}),changeGraphOrientation:e=>({type:Ws,key:"orientation",value:e}),changeNodeTextKey:qs,setForceChargeStrength:e=>({type:Ws,key:"forceChargeStrength",value:Number(e)}),setForceLinkDistance:e=>({type:Ws,key:"forceLinkDistance",value:Number(e)}),toogleFocusOnDoubleClick:e=>({type:Ws,key:"focusOnDoubleClick",value:!e}),toogleHighlightOnRowHover:e=>({type:Ws,key:"highlightOnRowHover",value:!e})})(ad);const cd=[{key:"coloring",title:"Coloring By Property",content:{content:o.a.createElement(gl,null)}},{key:"radius",title:"Radius By Property",content:{content:o.a.createElement(yu,null)}},{key:"mst",title:"Minimum Spanning Tree",content:{content:o.a.createElement(Au,null)}},{key:"shortest-path",title:"Shortest Path",content:{content:o.a.createElement(Tu,null)}},{key:"extract-subgraph",title:"Extract Subgraph",content:{content:o.a.createElement(Ru,null)}}],ld=[{key:"node-table",title:"Graph Nodes Table",content:{content:o.a.createElement(td,null)}},{key:"link-table",title:"Graph Links Table",content:{content:o.a.createElement(rd,null)}}];function ud(e){var t=e.active,r=e.children,i=e.className,a=e.content,s=e.disabled,c=e.indeterminate,l=e.inline,u=e.inverted,d=e.size,h=Vt()("ui",d,Kt(t,"active"),Kt(s,"disabled"),Kt(c,"indeterminate"),Kt(u,"inverted"),Kt(r||a,"text"),Zt(l,"inline"),"loader",i),p=Ot(ud,e),f=Lt(ud,e);return o.a.createElement(f,Ht()({},p,{className:h}),n.isNil(r)?a:r)}ud.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],ud.propTypes={};var dd=ud;const hd=Pa(e=>e.ui.loading,e=>e),pd=Pa(e=>e.ui.tabIndex,e=>e);function fd(e){return e.loading?o.a.createElement(uo,{active:!0},o.a.createElement(dd,{indeterminate:!0},"Loading")):null}fd.propTypes={loading:nt.a.bool.isRequired};var md=Q(e=>{return{loading:hd(e)}})(fd),gd=yi.instance,vd=function(e){return null!==e&&"object"===Mi(e)&&e.hasOwnProperty("current")},yd={current:null},bd=new WeakMap,xd=function(e){if(null===e)return yd;if(bd.has(e))return bd.get(e);var t={current:e};return bd.set(e,t),t},wd=function(e){var t=e.node;if(ro())return vd(t)?t:vr()(t)?xd(document.body):xd(t)},Ed=r(387),Ad=r.n(Ed),_d=r(388),Md=r.n(_d),Sd=r(389),Td=r.n(Sd),Cd=r(390),Od=r.n(Cd),Ld=r(391),Rd=r.n(Ld),Pd=r(392),kd=r.n(Pd),jd=r(393),Dd=r.n(jd),Id=r(394),Nd=r.n(Id)()(Dd.a,kd()("props.className"),Rd()(Od()(/\s+/)),Td()(Md.a),Ad.a),zd=function(e,t){return[di()(t,e),di()(e,t)]},Bd=new Map,Fd=function(e,t){var r=Nd(t),n=zd(Bd.get(e),r),i=Xi()(n,2),o=i[0],a=i[1];e.current&&(Ki()(o,function(t){return e.current.classList.add(t)}),Ki()(a,function(t){return e.current.classList.remove(t)})),Bd.set(e,r)},Ud=new function e(){var t=this;ut()(this,e),Et()(this,"add",function(e,r){t.nodes.has(e)?t.nodes.get(e).add(r):t.nodes.set(e,new Set([r]))}),Et()(this,"del",function(e,r){if(t.nodes.has(e)){var n=t.nodes.get(e);1!==n.size?n.delete(r):t.nodes.delete(e)}}),Et()(this,"emit",function(e,r){r(e,t.nodes.get(e))}),this.nodes=new Map},Hd=function(e){function t(){return ut()(this,t),ft()(this,gt()(t).apply(this,arguments))}return xt()(t,e),ht()(t,[{key:"shouldComponentUpdate",value:function(e){return e.className!==this.props.className}},{key:"componentDidMount",value:function(){var e=wd(this.props);Ud.add(e,this),Ud.emit(e,Fd)}},{key:"componentDidUpdate",value:function(){Ud.emit(wd(this.props),Fd)}},{key:"componentWillUnmount",value:function(){var e=wd(this.props);Ud.del(e,this),Ud.emit(e,Fd)}},{key:"render",value:function(){return null}}]),t}(i.Component);function Gd(e){var t=e.children,r=e.className,i=e.content,a=Vt()(r,"header"),s=Ot(Gd,e),c=Lt(Gd,e);return o.a.createElement(c,Ht()({},s,{className:a}),n.isNil(t)?i:t)}Et()(Hd,"handledProps",["className","node"]),Hd.propTypes={},Gd.handledProps=["as","children","className","content"],Gd.propTypes={},Gd.create=br(Gd,function(e){return{content:e}});var Vd=Gd;function Wd(e){var t=e.children,r=e.className,i=e.content,a=e.image,s=e.scrolling,c=Vt()(r,Kt(a,"image"),Kt(s,"scrolling"),"content"),l=Ot(Wd,e),u=Lt(Wd,e);return o.a.createElement(u,Ht()({},l,{className:c}),n.isNil(t)?i:t)}Wd.handledProps=["as","children","className","content","image","scrolling"],Wd.propTypes={},Wd.create=br(Wd,function(e){return{content:e}});var qd=Wd,Xd=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleButtonOverrides",function(e){return{onClick:function(t,n){Ct()(e,"onClick",t,n),Ct()(r.props,"onActionClick",t,n)}}}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this,r=this.props,i=r.actions,a=r.children,s=r.className,c=r.content,l=Vt()("actions",s),u=Ot(t,this.props),d=Lt(t,this.props);return n.isNil(a)?n.isNil(c)?o.a.createElement(d,Ht()({},u,{className:l}),_t()(i,function(t){return Ho.create(t,{overrideProps:e.handleButtonOverrides})})):o.a.createElement(d,Ht()({},u,{className:l}),c):o.a.createElement(d,Ht()({},u,{className:l}),a)}}]),t}(i.Component);function Yd(e){var t=e.children,r=e.className,i=e.content,a=Vt()("description",r),s=Ot(Yd,e),c=Lt(Yd,e);return o.a.createElement(c,Ht()({},s,{className:a}),n.isNil(t)?i:t)}Et()(Xd,"handledProps",["actions","as","children","className","content","onActionClick"]),Xd.propTypes={},Xd.create=br(Xd,function(e){return{actions:e}}),Yd.handledProps=["as","children","className","content"],Yd.propTypes={};var Kd=Yd,Qd=function(e){var t=e.height+0,r=e.height+0,n=window.innerHeight;return n/2+-r/2+t+50<n},Zd=function(e,t,r){var n=t&&e?-r.height/2:0;return{marginLeft:-r.width/2,marginTop:n}},Jd=function(){return!window.ActiveXObject&&"ActiveXObject"in window},$d=function(e){function t(){var e,r;ut()(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(s))),Et()(yt()(r),"legacy",ro()&&Jd()),Et()(yt()(r),"ref",Object(i.createRef)()),Et()(yt()(r),"dimmerRef",Object(i.createRef)()),Et()(yt()(r),"latestDocumentMouseDownEvent",null),Et()(yt()(r),"getMountNode",function(){return ro()?r.props.mountNode||document.body:null}),Et()(yt()(r),"handleActionsOverrides",function(e){return{onActionClick:function(t,n){Ct()(e,"onActionClick",t,n),Ct()(r.props,"onActionClick",t,r.props),r.handleClose(t)}}}),Et()(yt()(r),"handleClose",function(e){Ct()(r.props,"onClose",e,r.props),r.trySetState({open:!1})}),Et()(yt()(r),"handleDocumentMouseDown",function(e){r.latestDocumentMouseDownEvent=e}),Et()(yt()(r),"handleDocumentClick",function(e){var t=r.props.closeOnDimmerClick,n=r.latestDocumentMouseDownEvent;r.latestDocumentMouseDownEvent=null,!t||Wi(r.ref.current,n)||Wi(r.ref.current,e)||(Ct()(r.props,"onClose",e,r.props),r.trySetState({open:!1}))}),Et()(yt()(r),"handleIconOverrides",function(e){return{onClick:function(t){Ct()(e,"onClick",t),r.handleClose(t)}}}),Et()(yt()(r),"handleOpen",function(e){Ct()(r.props,"onOpen",e,r.props),r.trySetState({open:!0})}),Et()(yt()(r),"handlePortalMount",function(e){var t=r.props.eventPool;r.setState({scrolling:!1}),r.setPositionAndClassNames(),gd.sub("mousedown",r.handleDocumentMouseDown,{pool:t,target:r.dimmerRef.current}),gd.sub("click",r.handleDocumentClick,{pool:t,target:r.dimmerRef.current}),Ct()(r.props,"onMount",e,r.props)}),Et()(yt()(r),"handlePortalUnmount",function(e){var t=r.props.eventPool;cancelAnimationFrame(r.animationRequestId),gd.unsub("mousedown",r.handleDocumentMouseDown,{pool:t,target:r.dimmerRef.current}),gd.unsub("click",r.handleDocumentClick,{pool:t,target:r.dimmerRef.current}),Ct()(r.props,"onUnmount",e,r.props)}),Et()(yt()(r),"setDimmerNodeStyle",function(){var e=r.dimmerRef.current;e&&e.style&&"flex"!==e.style.display&&e.style.setProperty("display","flex","important")}),Et()(yt()(r),"setPositionAndClassNames",function(){var e,t=r.props,n=t.centered,i=t.dimmer,o={};if(r.ref.current){var a=r.ref.current.getBoundingClientRect(),s=Qd(a);e=!s;var c=r.legacy?Zd(s,n,a):{};Fi()(r.state.legacyStyles,c)||(o.legacyStyles=c),r.state.scrolling!==e&&(o.scrolling=e)}var l=Vt()(Kt(i,"dimmable dimmed"),Kt("blurring"===i," blurring"),Kt(e," scrolling"));r.state.mountClasses!==l&&(o.mountClasses=l),It()(o)||r.setState(o),r.animationRequestId=requestAnimationFrame(r.setPositionAndClassNames),r.setDimmerNodeStyle()}),Et()(yt()(r),"renderContent",function(e){var a=r.props,s=a.actions,c=a.basic,l=a.children,u=a.className,d=a.closeIcon,h=a.content,p=a.header,f=a.mountNode,m=a.size,g=a.style,v=r.state,y=v.legacyStyles,b=v.mountClasses,x=v.scrolling,w=Vt()("ui",m,Kt(c,"basic"),Kt(r.legacy,"legacy"),Kt(x,"scrolling"),"modal transition visible active",u),E=Lt(t,r.props),A=!0===d?"close":d,_=Vr.create(A,{overrideProps:r.handleIconOverrides});return o.a.createElement(Ii,{innerRef:r.ref},o.a.createElement(E,Ht()({},e,{className:w,style:ct()({},y,g)}),o.a.createElement(Hd,{className:b,node:f}),_,n.isNil(l)?o.a.createElement(i.Fragment,null,Vd.create(p,{autoGenerateKey:!1}),qd.create(h,{autoGenerateKey:!1}),Xd.create(s,{overrideProps:r.handleActionsOverrides})):l))}),r}return xt()(t,e),ht()(t,[{key:"componentWillUnmount",value:function(){this.handlePortalUnmount()}},{key:"render",value:function(){var e=this.state.open,r=this.props,n=r.centered,a=r.closeOnDocumentClick,s=r.dimmer,c=r.eventPool,l=r.trigger,u=this.getMountNode();if(!ro())return Object(i.isValidElement)(l)?l:null;var d=Ot(t,this.props),h=ao.handledProps,p=$n()(d,function(e,t,r){return Dn()(h,r)||(e[r]=t),e},{}),f=oi()(d,h),m=Vt()("ui","inverted"===s&&"inverted",!n&&"top aligned","page modals dimmer transition visible active");return o.a.createElement(ao,Ht()({closeOnDocumentClick:a},f,{trigger:l,eventPool:c,mountNode:u,open:e,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),o.a.createElement("div",{className:m,ref:this.dimmerRef},this.renderContent(p)))}}]),t}(zt);Et()($d,"defaultProps",{centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"}),Et()($d,"autoControlledProps",["open"]),Et()($d,"Header",Vd),Et()($d,"Content",qd),Et()($d,"Description",Kd),Et()($d,"Actions",Xd),Et()($d,"handledProps",["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"]),$d.propTypes={};var eh=$d;function th(e){var t=e.children,r=e.className,i=e.content,a=Vt()("sub header",r),s=Ot(th,e),c=Lt(th,e);return o.a.createElement(c,Ht()({},s,{className:a}),n.isNil(t)?i:t)}th.handledProps=["as","children","className","content"],th.propTypes={},th.create=br(th,function(e){return{content:e}});var rh=th;function nh(e){var t=e.children,r=e.className,i=e.content,a=Vt()("content",r),s=Ot(nh,e),c=Lt(nh,e);return o.a.createElement(c,Ht()({},s,{className:a}),n.isNil(t)?i:t)}nh.handledProps=["as","children","className","content"],nh.propTypes={};var ih=nh;function oh(e){var t=e.attached,r=e.block,i=e.children,a=e.className,s=e.color,c=e.content,l=e.disabled,u=e.dividing,d=e.floated,h=e.icon,p=e.image,f=e.inverted,m=e.size,g=e.sub,v=e.subheader,y=e.textAlign,b=Vt()("ui",s,m,Kt(r,"block"),Kt(l,"disabled"),Kt(u,"dividing"),Qt(d,"floated"),Kt(!0===h,"icon"),Kt(!0===p,"image"),Kt(f,"inverted"),Kt(g,"sub"),Zt(t,"attached"),$t(y),"header",a),x=Ot(oh,e),w=Lt(oh,e);if(!n.isNil(i))return o.a.createElement(w,Ht()({},x,{className:b}),i);var E=Vr.create(h,{autoGenerateKey:!1}),A=mo.create(p,{autoGenerateKey:!1}),_=rh.create(v,{autoGenerateKey:!1});return E||A?o.a.createElement(w,Ht()({},x,{className:b}),E||A,(c||_)&&o.a.createElement(ih,null,c,_)):o.a.createElement(w,Ht()({},x,{className:b}),c,_)}oh.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],oh.propTypes={},oh.Content=ih,oh.Subheader=rh;var ah=oh;function sh(e){var t=e.children,r=e.className,i=e.content,a=e.textAlign,s=Vt()($t(a),"description",r),c=Ot(sh,e),l=Lt(sh,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(t)?i:t)}sh.handledProps=["as","children","className","content","textAlign"],sh.propTypes={};var ch=sh;function lh(e){var t=e.children,r=e.className,i=e.content,a=e.textAlign,s=Vt()($t(a),"header",r),c=Ot(lh,e),l=Lt(lh,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(t)?i:t)}lh.handledProps=["as","children","className","content","textAlign"],lh.propTypes={};var uh=lh;function dh(e){var t=e.children,r=e.className,i=e.content,a=e.textAlign,s=Vt()($t(a),"meta",r),c=Ot(dh,e),l=Lt(dh,e);return o.a.createElement(l,Ht()({},c,{className:s}),n.isNil(t)?i:t)}dh.handledProps=["as","children","className","content","textAlign"],dh.propTypes={};var hh=dh;function ph(e){var t=e.children,r=e.className,i=e.content,a=e.description,s=e.extra,c=e.header,l=e.meta,u=e.textAlign,d=Vt()(Kt(s,"extra"),$t(u),"content",r),h=Ot(ph,e),p=Lt(ph,e);return n.isNil(t)?n.isNil(i)?o.a.createElement(p,Ht()({},h,{className:d}),yr(uh,function(e){return{content:e}},c,{autoGenerateKey:!1}),yr(hh,function(e){return{content:e}},l,{autoGenerateKey:!1}),yr(ch,function(e){return{content:e}},a,{autoGenerateKey:!1})):o.a.createElement(p,Ht()({},h,{className:d}),i):o.a.createElement(p,Ht()({},h,{className:d}),t)}ph.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],ph.propTypes={};var fh=ph;function mh(e){var t=e.centered,r=e.children,i=e.className,a=e.content,s=e.doubling,c=e.items,l=e.itemsPerRow,u=e.stackable,d=e.textAlign,h=Vt()("ui",Kt(t,"centered"),Kt(s,"doubling"),Kt(u,"stackable"),$t(d),tr(l),"cards",i),p=Ot(mh,e),f=Lt(mh,e);if(!n.isNil(r))return o.a.createElement(f,Ht()({},p,{className:h}),r);if(!n.isNil(a))return o.a.createElement(f,Ht()({},p,{className:h}),a);var m=_t()(c,function(e){var t=e.key||[e.header,e.description].join("-");return o.a.createElement(vh,Ht()({key:t},e))});return o.a.createElement(f,Ht()({},p,{className:h}),m)}mh.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],mh.propTypes={};var gh=mh,vh=function(e){function t(){var e,r;ut()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ft()(this,(e=gt()(t)).call.apply(e,[this].concat(i))),Et()(yt()(r),"handleClick",function(e){var t=r.props.onClick;t&&t(e,r.props)}),r}return xt()(t,e),ht()(t,[{key:"render",value:function(){var e=this.props,r=e.centered,i=e.children,a=e.className,s=e.color,c=e.content,l=e.description,u=e.extra,d=e.fluid,h=e.header,p=e.href,f=e.image,m=e.link,g=e.meta,v=e.onClick,y=e.raised,b=Vt()("ui",s,Kt(r,"centered"),Kt(d,"fluid"),Kt(m,"link"),Kt(y,"raised"),"card",a),x=Ot(t,this.props),w=Lt(t,this.props,function(){if(v)return"a"});return n.isNil(i)?n.isNil(c)?o.a.createElement(w,Ht()({},x,{className:b,href:p,onClick:this.handleClick}),mo.create(f,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(l||h||g)&&o.a.createElement(fh,{description:l,header:h,meta:g}),u&&o.a.createElement(fh,{extra:!0},u)):o.a.createElement(w,Ht()({},x,{className:b,href:p,onClick:this.handleClick}),c):o.a.createElement(w,Ht()({},x,{className:b,href:p,onClick:this.handleClick}),i)}}]),t}(i.Component);function yh(e){let t=e.name,r=e.graph,n=e.desc,i=e.onClick;return o.a.createElement(vh,{onClick:i},o.a.createElement(vh.Content,null,o.a.createElement(vh.Header,null,t),o.a.createElement(vh.Meta,null,r.nodes.length," nodes ",r.links.length," edges"),o.a.createElement(vh.Description,null,n)))}Et()(vh,"Content",fh),Et()(vh,"Description",ch),Et()(vh,"Group",gh),Et()(vh,"Header",uh),Et()(vh,"Meta",hh),Et()(vh,"handledProps",["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"]),vh.propTypes={},yh.propTypes={name:nt.a.string.isRequired,graph:al.isRequired,desc:nt.a.string.isRequired,onClick:nt.a.func.isRequired};var bh=yh;const xh=[{name:"COVID-19 Singapore.json",graph:r(744),desc:"COVID-19 Cluster in Singapore"},{name:"Les Miserables.json",graph:r(745),desc:"This undirected network contains co-occurances of characters in Victor Hugo's novel 'Les Misérables'"},{name:"Word Adjacencies.json",graph:r(746),desc:'This is the undirected network of common noun and adjective adjacencies for the novel "David Copperfield" by English 19th century writer Charles Dickens'},{name:"Chicago Graph.json",graph:r(747),desc:"This is the road transportation network of the Chicago region (USA)"},{name:"D3 Dependencies.json",graph:r(748),desc:"Contains all d3 modules"}],wh={name:"Empty Graph.json",graph:{nodes:[],links:[]}};var Eh=r(254),Ah=r.n(Eh);const _h="\nJSON => { nodes: Node[], links: Link[] }\n\nNode\n- id: Integer || String\n- [key]: value\nLink:\n- id: Integer || String\n- source: Integer || String (= node's id)\n- target: Integer || String (= node's id)\n- [key]: value\n\n";class Mh extends i.PureComponent{constructor(e){super(e),this.handleClick=(()=>{this.fileInputRef.current.click()}),this.handleFileRead=(e=>t=>{(0,this.props.onUpload)({filename:e,textContent:t.target.result}),this.setState({open:!1}),this.fileInputRef.current.value=""}),this.handleFileUpload=(e=>{const t=e.target.files[0],r=t.name,n=new FileReader;n.onloadend=this.handleFileRead(r),n.readAsText(t)}),this.handleFileLocalLoad=(e=>{let t=e.name,r=e.graph;return()=>{(0,this.props.onUpload)({filename:t,textContent:JSON.stringify(r)}),this.setState({open:!1})}}),this.handleOpen=(()=>this.setState({open:!0})),this.handleClose=(()=>this.setState({open:!1})),this.fileInputRef=o.a.createRef(),this.state={open:!0}}render(){const e=this.props.buttonComponent,t=this.state.open;return o.a.createElement("div",null,o.a.createElement("input",{ref:this.fileInputRef,type:"file",hidden:!0,onChange:this.handleFileUpload}),o.a.createElement(eh,{open:t,onClose:this.handleClose,trigger:o.a.cloneElement(e,{title:"Upload Graph",onClick:this.handleOpen})},o.a.createElement(eh.Header,null,"Upload Your Graph"),o.a.createElement(eh.Content,null,o.a.createElement(Tr,{divided:!0,style:{height:"fit-content"}},o.a.createElement(Tr.Row,{columns:2},o.a.createElement(Tr.Column,{style:{maxHeight:500,overflow:"auto"}},o.a.createElement(ah.Subheader,null,"Try out sample graphs below or start"," ",o.a.createElement(Qc,{onClick:this.handleFileLocalLoad(wh)},"Empty Graph")),o.a.createElement("div",{className:Ah.a.cardContainer},xh.map(e=>o.a.createElement(bh,Ia()({},e,{key:e.name,onClick:this.handleFileLocalLoad(e)}))))),o.a.createElement(Tr.Column,null,o.a.createElement("div",{className:Ah.a.browseFromMyComputerContainer},"Upload your graph in JSON file with following format:",o.a.createElement("pre",null,_h),o.a.createElement(Ho,{size:"medium",color:"facebook",onClick:this.handleClick},o.a.createElement(Vr,{name:"computer"}),"Browse From My Computer"))))))))}}Mh.propTypes={onUpload:nt.a.func.isRequired,buttonComponent:nt.a.node},Mh.defaultProps={buttonComponent:o.a.createElement(Ho,{icon:"upload",size:"mini"})};var Sh=Mh;var Th=r(173),Ch=r.n(Th);const Oh=e=>{let t=e.filename,r=e.changeFilename,n=e.loadGraph,i=e.downloadGraph,a=e.refreshGraphLayout;const s=o.a.useCallback(e=>{r(e.target.value)}),c=o.a.useCallback(e=>{n(function(e){return e.split(".").slice(0,-1).join(".")}(e.filename),JSON.parse(e.textContent))});return o.a.createElement("div",{className:Ch.a.graphFileContainer},o.a.createElement(Dl,{className:Ch.a.graphFilename,value:t,onChange:s}),o.a.createElement("div",{className:Ch.a.graphFileMenu},o.a.createElement(Ho,{title:"Download Graph",size:"mini",icon:"save",onClick:i}),o.a.createElement(Sh,{onUpload:c}),o.a.createElement(Ho,{title:"Refresh Graph Layout",size:"mini",icon:"refresh",onClick:a})))};Oh.propTypes={filename:nt.a.string.isRequired,changeFilename:nt.a.func.isRequired,loadGraph:nt.a.func.isRequired,downloadGraph:nt.a.func.isRequired,refreshGraphLayout:nt.a.func.isRequired};var Lh=Q(e=>{return{filename:ts(e)}},{changeFilename:Js,loadGraph:(e,t)=>{let r=t.nodes,n=t.links;return t=>{t((()=>({type:Xs}))()),t(Pn());try{const i=r.every(ma),o=n.every(ga);if(!i)throw new Error("All nodes must have id");if(!o)throw new Error("All links must have id, source, and target");const a=Ma(r),s=Sa(n);t(Js(e)),t(Zs("data",{nodes:a,links:s}));const c=wa(a),l=wa(s);t(Zs("nodeKeys",c)),t(Zs("linkKeys",l)),c.includes("name")?t(qs("name")):t(qs("id"))}catch(e){window.alert(e)}t(kn())}},downloadGraph:()=>(e,t)=>{const r=t(),n=Za(r),i=Ja(r),o=ts(r);!function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain";const n=document.createElement("a"),i=new Blob([e],{type:r});n.href=URL.createObjectURL(i),n.download=t,n.click()}(JSON.stringify({nodes:Ma(n),links:Sa(i)},null,4),`${o}.json`)},refreshGraphLayout:cc})(Oh);function Rh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ph(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function kh(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var jh=function(e,t){var r=new Set(t);return Object.assign.apply(Object,[{}].concat(kh(Object.entries(e).filter(function(e){var t=Ph(e,1)[0];return!r.has(t)}).map(function(e){var t=Ph(e,2);return Rh({},t[0],t[1])}))))},Dh=r(255),Ih=r.n(Dh);function Nh(e){return(Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bh(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Fh=function(e,t){var r="object"===Nh(t)?t:{wrapperElementType:t,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},n=r.wrapperElementType,a=void 0===n?"div":n,s=r.methodNames,c=void 0===s?[]:s,l=r.initPropNames,u=void 0===l?[]:l;return Object(i.forwardRef)(function(t,r){var n=Object(i.useRef)(),s=zh(Object(i.useState)({}),2),l=s[0],d=s[1];Object(i.useEffect)(function(){return d(t)});var h=Object(i.useMemo)(function(){var r=Ih()(u.filter(function(e){return t.hasOwnProperty(e)}).map(function(e){return[e,t[e]]}));return e(r)},[]);Object(i.useLayoutEffect)(function(){h(n.current)},[]),Object(i.useEffect)(function(){return h._destructor instanceof Function&&h._destructor},[]);var p=Object(i.useCallback)(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return h[e]instanceof Function?h[e].apply(h,r):void 0},[h]),f=jh(t,[].concat(Bh(c),Bh(u)));return Object.keys(f).filter(function(e){return l[e]!==t[e]}).forEach(function(e){return p(e,t[e])}),Object(i.useImperativeHandle)(r,function(){return Ih()(c.map(function(e){return[e,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p.apply(void 0,[e].concat(r))}]}))}),o.a.createElement(a,{ref:n})})},Uh=(r(798),r(799),r(364),r(38));function Hh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Wh(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".graph-nav-info {\n  position: absolute;\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n  font-family: Sans-serif;\n  z-index: 1000;\n}");var qh=Object(Uh.a)({props:{width:{default:window.innerWidth,triggerUpdate:!1,onChange:function(e,t){t.container&&(t.container.style.width=e)}},height:{default:window.innerHeight,triggerUpdate:!1,onChange:function(e,t){t.container&&(t.container.style.height=e)}},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},backgroundColor:{default:"#002"},showNavInfo:{default:!0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeLabel:{default:"name"},nodeDesc:{default:"desc"},onNodeCenterHover:{},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkLabel:{default:"name"},linkDesc:{default:"desc"},onLinkCenterHover:{},linkHoverPrecision:{default:2},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(r),!0).forEach(function(t){Hh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object.assign.apply(Object,[{}].concat(Wh(["emitParticle","d3Force","d3ReheatSimulation","refresh"].map(function(e){return Hh({},e,function(t){for(var r=t.forcegraph.components.forcegraph,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=r[e].apply(r,i);return a===r?this:a})})))),{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,t){e.innerHTML="",t.container=document.createElement("div"),e.appendChild(t.container),t.container.style.position="relative",t.container.style.width=t.width,t.container.style.height=t.height,t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="graph-nav-info",t.navInfo.textContent="Mouse drag: look, gamepad/arrow/wasd keys: move";var r,n,i,o=document.createElement("a-scene");o.setAttribute("embedded",""),o.appendChild(t.sky=document.createElement("a-sky")),t.sky.setAttribute("radius",5e3),o.appendChild(r=document.createElement("a-entity")),r.setAttribute("position","0 0 300"),r.setAttribute("movement-controls","fly: true; speed: 7"),r.appendChild(n=document.createElement("a-entity")),n.setAttribute("camera",""),n.setAttribute("position","0 0.001 0"),n.setAttribute("look-controls","reverseMouseDrag: false; pointerLockEnabled: true"),n.appendChild(i=document.createElement("a-cursor")),i.setAttribute("color","lavender"),i.setAttribute("opacity",.5),i.setAttribute("raycaster","objects: ----none----"),o.appendChild(t.forcegraph=document.createElement("a-entity")),t.forcegraph.setAttribute("forcegraph",null),t.container.appendChild(o)},update:function(e,t){t.hasOwnProperty("backgroundColor")&&e.sky.setAttribute("color",e.backgroundColor),t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none");var r=["jsonUrl","numDimensions","dagMode","dagLevelDistance","nodeRelSize","nodeId","nodeLabel","nodeDesc","onNodeCenterHover","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkLabel","linkDesc","onLinkCenterHover","linkHoverPrecision","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],n=Object.assign.apply(Object,[{}].concat(Wh(Object.entries(e).filter(function(e){var n=Vh(e,2),i=n[0],o=n[1];return t.hasOwnProperty(i)&&-1!=r.indexOf(i)&&null!=o}).map(function(e){var t=Vh(e,2);return Hh({},t[0],t[1])})),Wh(Object.entries(e.graphData).map(function(e){var t=Vh(e,2);return Hh({},t[0],t[1])}))));e.forcegraph.setAttribute("forcegraph",n)}}),Xh=r(5),Yh=r.n(Xh);function Kh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Jh(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var $h=Object(Uh.a)({props:{width:{},height:{},yOffset:{default:1.5},glScale:{default:200},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkHoverPrecision:{default:2},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},onNodeCenterHover:{},onLinkCenterHover:{},forceEngine:{default:"d3"},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qh(Object(r),!0).forEach(function(t){Kh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object.assign.apply(Object,[{}].concat(Jh(["emitParticle","d3Force","d3ReheatSimulation","refresh"].map(function(e){return Kh({},e,function(t){for(var r=t.forcegraph.components.forcegraph,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=r[e].apply(r,i);return a===r?this:a})})))),{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).markerAttrs,n=void 0===r?{preset:"hiro"}:r;e.innerHTML="",t.container=document.createElement("div"),e.appendChild(t.container);var i=document.createElement("a-scene");i.setAttribute("embedded",""),i.setAttribute("arjs","debugUIEnabled: false;");var o=document.createElement("a-marker");Object.entries(n).forEach(function(e){var t=Zh(e,2),r=t[0],n=t[1];return o.setAttribute(r,n)}),i.appendChild(o),t.forcegraph=document.createElement("a-entity"),t.forcegraph.setAttribute("forcegraph",null),o.appendChild(t.forcegraph);var a=document.createElement("a-entity");a.setAttribute("camera",""),i.appendChild(a),t.container.appendChild(i)},update:function(e,t){t.hasOwnProperty("width")&&e.width&&(e.container.style.width=e.width),t.hasOwnProperty("height")&&e.height&&(e.container.style.height=e.height),t.hasOwnProperty("glScale")&&e.forcegraph.setAttribute("scale",Jh(new Array(3)).map(function(){return 1/e.glScale}).join(" ")),t.hasOwnProperty("yOffset")&&e.forcegraph.setAttribute("position","0 ".concat(e.yOffset," 0"));var r=["jsonUrl","numDimensions","dagMode","dagLevelDistance","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkHoverPrecision","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","onNodeCenterHover","onLinkCenterHover","forceEngine","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],n=Object.assign.apply(Object,[{}].concat(Jh(Object.entries(e).filter(function(e){var n=Zh(e,2),i=n[0],o=n[1];return t.hasOwnProperty(i)&&-1!=r.indexOf(i)&&null!=o}).map(function(e){var t=Zh(e,2);return Kh({},t[0],t[1])})),Jh(Object.entries(e.graphData).map(function(e){var t=Zh(e,2);return Kh({},t[0],t[1])}))));e.forcegraph.setAttribute("forcegraph",n)}}),ep=r(20);function tp(e,t,r){if(e.isCamera){console.warn("THREE.DragControls: Constructor now expects ( objects, camera, domElement )");var n=e;e=t,t=n}var i=new ep.Plane,o=new ep.Raycaster,a=new ep.Vector2,s=new ep.Vector3,c=new ep.Vector3,l=null,u=null,d=this;function h(){r.addEventListener("mousemove",f,!1),r.addEventListener("mousedown",m,!1),r.addEventListener("mouseup",g,!1),r.addEventListener("mouseleave",g,!1),r.addEventListener("touchmove",v,!1),r.addEventListener("touchstart",y,!1),r.addEventListener("touchend",b,!1)}function p(){r.removeEventListener("mousemove",f,!1),r.removeEventListener("mousedown",m,!1),r.removeEventListener("mouseup",g,!1),r.removeEventListener("mouseleave",g,!1),r.removeEventListener("touchmove",v,!1),r.removeEventListener("touchstart",y,!1),r.removeEventListener("touchend",b,!1)}function f(n){n.preventDefault();var h=r.getBoundingClientRect();if(a.x=(n.clientX-h.left)/h.width*2-1,a.y=-(n.clientY-h.top)/h.height*2+1,o.setFromCamera(a,t),l&&d.enabled)return o.ray.intersectPlane(i,c)&&l.position.copy(c.sub(s)),void d.dispatchEvent({type:"drag",object:l});o.setFromCamera(a,t);var p=o.intersectObjects(e);if(p.length>0){var f=p[0].object;i.setFromNormalAndCoplanarPoint(t.getWorldDirection(i.normal),f.position),u!==f&&(d.dispatchEvent({type:"hoveron",object:f}),r.style.cursor="pointer",u=f)}else null!==u&&(d.dispatchEvent({type:"hoveroff",object:u}),r.style.cursor="auto",u=null)}function m(n){n.preventDefault(),o.setFromCamera(a,t);var u=o.intersectObjects(e);u.length>0&&(l=u[0].object,o.ray.intersectPlane(i,c)&&s.copy(c).sub(l.position),r.style.cursor="move",d.dispatchEvent({type:"dragstart",object:l}))}function g(e){e.preventDefault(),l&&(d.dispatchEvent({type:"dragend",object:l}),l=null),r.style.cursor="auto"}function v(e){e.preventDefault(),e=e.changedTouches[0];var n=r.getBoundingClientRect();if(a.x=(e.clientX-n.left)/n.width*2-1,a.y=-(e.clientY-n.top)/n.height*2+1,o.setFromCamera(a,t),l&&d.enabled)return o.ray.intersectPlane(i,c)&&l.position.copy(c.sub(s)),void d.dispatchEvent({type:"drag",object:l})}function y(n){n.preventDefault(),n=n.changedTouches[0];var u=r.getBoundingClientRect();a.x=(n.clientX-u.left)/u.width*2-1,a.y=-(n.clientY-u.top)/u.height*2+1,o.setFromCamera(a,t);var h=o.intersectObjects(e);h.length>0&&(l=h[0].object,i.setFromNormalAndCoplanarPoint(t.getWorldDirection(i.normal),l.position),o.ray.intersectPlane(i,c)&&s.copy(c).sub(l.position),r.style.cursor="move",d.dispatchEvent({type:"dragstart",object:l}))}function b(e){e.preventDefault(),l&&(d.dispatchEvent({type:"dragend",object:l}),l=null),r.style.cursor="auto"}h(),this.enabled=!0,this.activate=h,this.deactivate=p,this.dispose=function(){p()},this.setObjects=function(){console.error("THREE.DragControls: setObjects() has been removed.")},this.on=function(e,t){console.warn("THREE.DragControls: on() has been deprecated. Use addEventListener() instead."),d.addEventListener(e,t)},this.off=function(e,t){console.warn("THREE.DragControls: off() has been deprecated. Use removeEventListener() instead."),d.removeEventListener(e,t)},this.notify=function(e){console.error("THREE.DragControls: notify() has been deprecated. Use dispatchEvent() instead."),d.dispatchEvent({type:e})}}tp.prototype=Object.create(ep.EventDispatcher.prototype),tp.prototype.constructor=tp;var rp=tp,np=r(170),ip=r(399),op=r.n(ip),ap=r(400),sp=r.n(ap),cp=r(401),lp=r.n(cp);function up(){return(up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dp(e){return(dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e,t){return(hp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pp(e,t,r){return(pp=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&hp(i,r.prototype),i}).apply(null,arguments)}function fp(e){var t="function"==typeof Map?new Map:void 0;return(fp=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return pp(e,arguments,dp(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),hp(n,e)})(e)}var mp=function(e){var t,r;function n(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(fp(Error));function gp(e){return Math.round(255*e)}function vp(e,t,r){return gp(e)+","+gp(t)+","+gp(r)}function yp(e,t,r,n){if(void 0===n&&(n=vp),0===t)return n(r,r,r);var i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,c=0,l=0;i>=0&&i<1?(s=o,c=a):i>=1&&i<2?(s=a,c=o):i>=2&&i<3?(c=o,l=a):i>=3&&i<4?(c=a,l=o):i>=4&&i<5?(s=a,l=o):i>=5&&i<6&&(s=o,l=a);var u=r-o/2;return n(s+u,c+u,l+u)}var bp={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var xp=/^#[a-fA-F0-9]{6}$/,wp=/^#[a-fA-F0-9]{8}$/,Ep=/^#[a-fA-F0-9]{3}$/,Ap=/^#[a-fA-F0-9]{4}$/,_p=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Mp=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Sp=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Tp=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function Cp(e){if("string"!=typeof e)throw new mp(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return bp[t]?"#"+bp[t]:e}(e);if(t.match(xp))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(wp)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(Ep))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Ap)){var n=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:n}}var i=_p.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=Mp.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])};var a=Sp.exec(t);if(a){var s="rgb("+yp(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",c=_p.exec(s);if(!c)throw new mp(4,t,s);return{red:parseInt(""+c[1],10),green:parseInt(""+c[2],10),blue:parseInt(""+c[3],10)}}var l=Tp.exec(t);if(l){var u="rgb("+yp(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",d=_p.exec(u);if(!d)throw new mp(4,t,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+l[4])}}throw new mp(5)}var Op=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function Lp(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function Rp(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return Op("#"+Lp(e)+Lp(t)+Lp(r));if("object"==typeof e&&void 0===t&&void 0===r)return Op("#"+Lp(e.red)+Lp(e.green)+Lp(e.blue));throw new mp(6)}function Pp(e,t,r,n){if("string"==typeof e&&"number"==typeof t){var i=Cp(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof n)return n>=1?Rp(e,t,r):"rgba("+e+","+t+","+r+","+n+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===n)return e.alpha>=1?Rp(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new mp(7)}function kp(e){return function e(t,r,n){return function(){var i=n.concat(Array.prototype.slice.call(arguments));return i.length>=r?t.apply(this,i):e(t,r,i)}}(e,e.length,[])}function jp(e,t,r){return Math.max(e,Math.min(t,r))}function Dp(e,t){if("transparent"===t)return t;var r=Cp(t);return Pp(up({},r,{alpha:jp(0,1,(100*("number"==typeof r.alpha?r.alpha:1)+100*parseFloat(e))/100)}))}var Ip=kp(Dp);var Np=r(40),zp=r(9),Bp=r.n(zp);!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n}");var Fp=window.THREE?window.THREE:{WebGLRenderer:ep.WebGLRenderer,Scene:ep.Scene,PerspectiveCamera:ep.PerspectiveCamera,Raycaster:ep.Raycaster,Vector2:ep.Vector2,Vector3:ep.Vector3,Color:ep.Color,EventDispatcher:ep.EventDispatcher,MOUSE:ep.MOUSE,Quaternion:ep.Quaternion,Spherical:ep.Spherical},Up=sp()(Fp),Hp=(lp()(Fp),Fp.FlyControls),Gp=Object(Uh.a)({props:{width:{default:window.innerWidth,onChange:function(e,t,r){isNaN(e)&&(t.width=r)}},height:{default:window.innerHeight,onChange:function(e,t,r){isNaN(e)&&(t.height=r)}},backgroundColor:{default:"#000011",onChange:function(e,t){if(t.renderer){var r=Cp(e).alpha;void 0===r&&(r=1),t.renderer.setClearColor(new Fp.Color(Ip(1,e)),r)}},triggerUpdate:!1},showNavInfo:{default:!0},objects:{default:[],onChange:function(e,t){(t.prevObjs||[]).forEach(function(e){return t.scene.remove(e)}),t.prevObjs=e,e.forEach(function(e){return t.scene.add(e)})},triggerUpdate:!1},postProcessingComposer:{triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null,t.toolTipElem&&(t.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.enablePointerInteraction){var t=null;if(e.hoverDuringDrag||!e.controlsDragging){var r=new Fp.Raycaster;r.linePrecision=e.lineHoverPrecision,r.setFromCamera(e.mousePos,e.camera);var n=r.intersectObjects(e.objects,!0).map(function(e){return e.object}).sort(e.hoverOrderComparator);t=n.length?n[0]:null}t!==e.hoverObj&&(e.onHover(t,e.hoverObj),e.toolTipElem.innerHTML=t&&Bp()(e.tooltipContent)(t)||"",e.hoverObj=t)}Np.a.update()}return this},cameraPosition:function(e,t,r,n){var i=e.camera;if(t&&e.initialised){var o=t,a=r||{x:0,y:0,z:0};if(n){var s=Object.assign({},i.position),c=d();new Np.a.Tween(s).to(o,n).easing(Np.a.Easing.Quadratic.Out).onUpdate(l).start(),new Np.a.Tween(c).to(a,n/3).easing(Np.a.Easing.Quadratic.Out).onUpdate(u).start()}else l(o),u(a);return this}return Object.assign({},i.position,{lookAt:d()});function l(e){var t=e.x,r=e.y,n=e.z;void 0!==t&&(i.position.x=t),void 0!==r&&(i.position.y=r),void 0!==n&&(i.position.z=n)}function u(t){e.controls.target=new Fp.Vector3(t.x,t.y,t.z)}function d(){return Object.assign(new Fp.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new Fp.Scene,camera:new Fp.PerspectiveCamera}},init:function(e,t,r){var n=r.controlType,i=void 0===n?"trackball":n,o=r.rendererConfig,a=void 0===o?{}:o;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative",t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="scene-nav-info",t.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",t.navInfo.style.display=t.showNavInfo?null:"none",t.toolTipElem=document.createElement("div"),t.toolTipElem.classList.add("scene-tooltip"),t.container.appendChild(t.toolTipElem),t.mousePos=new Fp.Vector2,t.mousePos.x=-2,t.mousePos.y=-2,t.container.addEventListener("mousemove",function(e){if(t.enablePointerInteraction){var r=(i=t.container,o=i.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop,{top:o.top+s,left:o.left+a}),n={x:e.pageX-r.left,y:e.pageY-r.top};t.mousePos.x=n.x/t.width*2-1,t.mousePos.y=-n.y/t.height*2+1,t.toolTipElem.style.top="".concat(n.y,"px"),t.toolTipElem.style.left="".concat(n.x,"px"),t.toolTipElem.style.transform="translate(-".concat(n.x/t.width*100,"%, 21px)")}var i,o,a,s},!1),t.container.addEventListener("click",function(e){t.ignoreOneClick?t.ignoreOneClick=!1:t.onClick(t.hoverObj||null,e)},!1),t.container.addEventListener("mouseup",function(e){if(2===e.button&&t.onRightClick){if(t.ignoreOneClick)return void(t.ignoreOneClick=!1);t.onRightClick(t.hoverObj||null,e)}},!1),t.renderer=new Fp.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},a)),t.renderer.setPixelRatio(window.devicePixelRatio);var s=Cp(t.backgroundColor).alpha;void 0===s&&(s=1),t.renderer.setClearColor(new Fp.Color(Ip(1,t.backgroundColor)),s),t.container.appendChild(t.renderer.domElement),t.controls=new{trackball:op.a,orbit:Up,fly:Hp}[i](t.camera,t.renderer.domElement),"fly"===i&&(t.controls.movementSpeed=2.5),"trackball"!==i&&"orbit"!==i||(t.controls.minDistance=.1,t.controls.maxDistance=5e4,t.controls.addEventListener("start",function(){return t.controlsEngaged=!0}),t.controls.addEventListener("change",function(){t.controlsEngaged&&(t.controlsDragging=!0,t.ignoreOneClick=!0)}),t.controls.addEventListener("end",function(){t.controlsEngaged=!1,t.controlsDragging=!1})),t.renderer.setSize(t.width,t.height),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.camera.position.z=1e3,t.camera.far=5e4,window.scene=t.scene},update:function(e){e.width&&e.height&&(e.container.style.width=e.width,e.container.style.height=e.height,e.renderer.setSize(e.width,e.height),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),e.navInfo.style.display=e.showNavInfo?null:"none"}});function Vp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wp(Object(r),!0).forEach(function(t){Vp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Xp(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yp(e,t){var r=new t;return{linkProp:function(t){return{default:r[t](),onChange:function(r,n){n[e][t](r)},triggerUpdate:!1}},linkMethod:function(t){return function(r){for(var n=r[e],i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=n[t].apply(n,o);return s===n?this:s}}}}!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}");var Kp=window.THREE?window.THREE:{AmbientLight:ep.AmbientLight,DirectionalLight:ep.DirectionalLight},Qp=Yp("forceGraph",np.default),Zp=Object.assign.apply(Object,Xp(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Vp({},e,Qp.linkProp(e))}))),Jp=Object.assign.apply(Object,Xp(["refresh","d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Vp({},e,Qp.linkMethod(e))}))),$p=Yp("renderObjs",Gp),ef=Object.assign.apply(Object,Xp(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map(function(e){return Vp({},e,$p.linkProp(e))}))),tf=Object.assign.apply(Object,Xp(["cameraPosition"].map(function(e){return Vp({},e,$p.linkMethod(e))}))),rf=Object(Uh.a)({props:qp({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,t){var r=t.renderObjs.controls();r&&(r.enabled=e)},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{default:function(){},triggerUpdate:!1},onNodeRightClick:{default:function(){},triggerUpdate:!1},onNodeHover:{default:function(){},triggerUpdate:!1},onLinkClick:{default:function(){},triggerUpdate:!1},onLinkRightClick:{default:function(){},triggerUpdate:!1},onLinkHover:{default:function(){},triggerUpdate:!1},onBackgroundClick:{default:function(){},triggerUpdate:!1},onBackgroundRightClick:{default:function(){},triggerUpdate:!1}},Zp,{},ef),methods:qp({pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Jp,{},tf),stateInit:function(e){var t=e.controlType,r=e.rendererConfig;return{forceGraph:new np.default,renderObjs:Gp({controlType:t,rendererConfig:r})}},init:function(e,t){e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var r=document.createElement("div");t.container.appendChild(r),t.renderObjs(r);var n,i=t.renderObjs.camera(),o=t.renderObjs.renderer(),a=t.renderObjs.controls();a.enabled=!!t.enableNavigationControls,t.lastSetCameraZ=i.position.z,t.container.appendChild(n=document.createElement("div")),n.className="graph-info-msg",n.textContent="",t.forceGraph.onLoading(function(){n.textContent="Loading..."}).onFinishLoading(function(){n.textContent=""}).onUpdate(function(){t.graphData=t.forceGraph.graphData(),0===i.position.x&&0===i.position.y&&i.position.z===t.lastSetCameraZ&&t.graphData.nodes.length&&(i.lookAt(t.forceGraph.position),t.lastSetCameraZ=i.position.z=170*Math.cbrt(t.graphData.nodes.length))}).onFinishUpdate(function(){if(t._dragControls){var e=t.graphData.nodes.find(function(e){return e.__initialFixedPos&&!e.__disposeControlsAfterDrag});e?e.__disposeControlsAfterDrag=!0:t._dragControls.dispose(),t._dragControls=void 0}if(t.enableNodeDrag&&t.enablePointerInteraction&&"d3"===t.forceEngine){var r=t._dragControls=new rp(t.graphData.nodes.map(function(e){return e.__threeObj}).filter(function(e){return e}),i,o.domElement);r.addEventListener("dragstart",function(e){a.enabled=!1;var t=e.object.__data;!t.__initialFixedPos&&(t.__initialFixedPos={fx:t.fx,fy:t.fy,fz:t.fz}),["x","y","z"].forEach(function(e){return t["f".concat(e)]=t[e]}),o.domElement.classList.add("grabbable")}),r.addEventListener("drag",function(e){t.ignoreOneClick=!0;var r=e.object.__data;["x","y","z"].forEach(function(t){return r["f".concat(t)]=r[t]=e.object.position[t]}),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.__dragged=!0,t.onNodeDrag(r)}),r.addEventListener("dragend",function(e){var n=e.object.__data;n.__disposeControlsAfterDrag&&(r.dispose(),delete n.__disposeControlsAfterDrag);var i=n.__initialFixedPos;i&&(["x","y","z"].forEach(function(e){var t="f".concat(e);void 0===i[t]&&delete n[t]}),delete n.__initialFixedPos,n.__dragged&&(delete n.__dragged,t.onNodeDragEnd(n))),t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.enableNavigationControls&&(a.enabled=!0),o.domElement.classList.remove("grabbable")})}});var s=function(e){for(var t=e;t&&!t.hasOwnProperty("__graphObjType");)t=t.parent;return t};t.renderObjs.objects([new Kp.AmbientLight(12303291),new Kp.DirectionalLight(16777215,.6),t.forceGraph]).hoverOrderComparator(function(e,t){var r=s(e);if(!r)return 1;var n=s(t);if(!n)return-1;var i=function(e){return"node"===e.__graphObjType};return i(n)-i(r)}).tooltipContent(function(e){var r=s(e);return r&&Bp()(t["".concat(r.__graphObjType,"Label")])(r.__data)||""}).onHover(function(e){var r=s(e);if(r!==t.hoverObj){var n=t.hoverObj?t.hoverObj.__graphObjType:null,i=t.hoverObj?t.hoverObj.__data:null,o=r?r.__graphObjType:null,a=r?r.__data:null;n&&n!==o&&t["on".concat("node"===n?"Node":"Link","Hover")](null,i),o&&t["on".concat("node"===o?"Node":"Link","Hover")](a,n===o?i:null),t.hoverObj=r}}).onClick(function(e,r){if(t.ignoreOneClick)t.ignoreOneClick=!1;else{var n=s(e);n?t["on".concat("node"===n.__graphObjType?"Node":"Link","Click")](n.__data,r):t.onBackgroundClick(r)}}).onRightClick(function(e,r){var n=s(e);n?t["on".concat("node"===n.__graphObjType?"Node":"Link","RightClick")](n.__data,r):t.onBackgroundRightClick(r)}),this._animationCycle()}});function nf(){}var of=function(e){return null==e?nf:function(){return this.querySelector(e)}};function af(){return[]}var sf=function(e){return null==e?af:function(){return this.querySelectorAll(e)}},cf=function(e){return function(){return this.matches(e)}},lf=function(e){return new Array(e.length)};function uf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}uf.prototype={constructor:uf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var df="$";function hf(e,t,r,n,i,o){for(var a,s=0,c=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],n[s]=a):r[s]=new uf(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function pf(e,t,r,n,i,o,a){var s,c,l,u={},d=t.length,h=o.length,p=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(p[s]=l=df+a.call(c,c.__data__,s,t),l in u?i[s]=c:u[l]=c);for(s=0;s<h;++s)(c=u[l=df+a.call(e,o[s],s,o)])?(n[s]=c,c.__data__=o[s],u[l]=null):r[s]=new uf(e,o[s]);for(s=0;s<d;++s)(c=t[s])&&u[p[s]]===c&&(i[s]=c)}function ff(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var mf="http://www.w3.org/1999/xhtml",gf={svg:"http://www.w3.org/2000/svg",xhtml:mf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vf=function(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),gf.hasOwnProperty(t)?{space:gf[t],local:e}:e};var yf=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function bf(e,t){return e.style.getPropertyValue(t)||yf(e).getComputedStyle(e,null).getPropertyValue(t)}function xf(e){return e.trim().split(/^|\s+/)}function wf(e){return e.classList||new Ef(e)}function Ef(e){this._node=e,this._names=xf(e.getAttribute("class")||"")}function Af(e,t){for(var r=wf(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function _f(e,t){for(var r=wf(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}Ef.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mf(){this.textContent=""}function Sf(){this.innerHTML=""}function Tf(){this.nextSibling&&this.parentNode.appendChild(this)}function Cf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Of=function(e){var t=vf(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===mf&&t.documentElement.namespaceURI===mf?t.createElement(e):t.createElementNS(r,e)}})(t)};function Lf(){return null}function Rf(){var e=this.parentNode;e&&e.removeChild(this)}function Pf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var jf={},Df=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(jf={mouseenter:"mouseover",mouseleave:"mouseout"}));function If(e,t,r){return e=Nf(e,t,r),function(t){var r=t.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||e.call(this,t)}}function Nf(e,t,r){return function(n){var i=Df;Df=n;try{e.call(this,this.__data__,t,r)}finally{Df=i}}}function zf(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,o=t.length;n<o;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?t.length=i:delete this.__on}}}function Bf(e,t,r){var n=jf.hasOwnProperty(e.type)?If:Nf;return function(i,o,a){var s,c=this.__on,l=n(t,o,a);if(c)for(var u=0,d=c.length;u<d;++u)if((s=c[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=r),void(s.value=t);this.addEventListener(e.type,l,r),s={type:e.type,name:e.name,value:t,listener:l,capture:r},c?c.push(s):this.__on=[s]}}function Ff(e,t,r,n){var i=Df;e.sourceEvent=Df,Df=e;try{return t.apply(r,n)}finally{Df=i}}function Uf(e,t,r){var n=yf(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var Hf=[null];function Gf(e,t){this._groups=e,this._parents=t}function Vf(){return new Gf([[document.documentElement]],Hf)}Gf.prototype=Vf.prototype={constructor:Gf,select:function(e){"function"!=typeof e&&(e=of(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o,a,s=t[i],c=s.length,l=n[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new Gf(n,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=sf(e));for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a,s=t[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(n.push(e.call(a,a.__data__,l,s)),i.push(a));return new Gf(n,i)},filter:function(e){"function"!=typeof e&&(e=cf(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o,a=t[i],s=a.length,c=n[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new Gf(n,this._parents)},data:function(e,t){if(!e)return f=new Array(this.size()),u=-1,this.each(function(e){f[++u]=e}),f;var r,n=t?pf:hf,i=this._parents,o=this._groups;"function"!=typeof e&&(r=e,e=function(){return r});for(var a=o.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var d=i[u],h=o[u],p=h.length,f=e.call(d,d&&d.__data__,u,i),m=f.length,g=c[u]=new Array(m),v=s[u]=new Array(m);n(d,h,g,v,l[u]=new Array(p),f,t);for(var y,b,x=0,w=0;x<m;++x)if(y=g[x]){for(x>=w&&(w=x+1);!(b=v[w])&&++w<m;);y._next=b||null}}return(s=new Gf(s,i))._enter=c,s._exit=l,s},enter:function(){return new Gf(this._enter||this._groups.map(lf),this._parents)},exit:function(){return new Gf(this._exit||this._groups.map(lf),this._parents)},join:function(e,t,r){var n=this.enter(),i=this,o=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(i=t(i)),null==r?o.remove():r(o),n&&i?n.merge(i).order():i},merge:function(e){for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var c,l=t[s],u=r[s],d=l.length,h=a[s]=new Array(d),p=0;p<d;++p)(c=l[p]||u[p])&&(h[p]=c);for(;s<n;++s)a[s]=t[s];return new Gf(a,this._parents)},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],o=i.length-1,a=i[o];--o>=0;)(n=i[o])&&(a&&4^n.compareDocumentPosition(a)&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=ff);for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a,s=r[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new Gf(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,o=t[r],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var r=vf(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?r.local?function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}:function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}:r.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}:function(e,t,r){return function(){this.style.setProperty(e,t,r)}})(e,t,null==r?"":r)):bf(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var r=xf(e+"");if(arguments.length<2){for(var n=wf(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?Af:_f)(this,e)}}:t?function(e){return function(){Af(this,e)}}:function(e){return function(){_f(this,e)}})(r,t))},text:function(e){return arguments.length?this.each(null==e?Mf:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Sf:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(Tf)},lower:function(){return this.each(Cf)},append:function(e){var t="function"==typeof e?e:Of(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var r="function"==typeof e?e:Of(e),n=null==t?Lf:"function"==typeof t?t:of(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(Rf)},clone:function(e){return this.select(e?kf:Pf)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Bf:zf,null==r&&(r=!1),n=0;n<a;++n)this.each(s(o[n],t,r));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(n=0,c=s[l];n<a;++n)if((i=o[n]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return Uf(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return Uf(this,e,t)}})(e,t))}};var Wf=Vf,qf=function(e){return"string"==typeof e?new Gf([[document.querySelector(e)]],[document.documentElement]):new Gf([[e]],Hf)},Xf=r(884);function Yf(){Df.stopImmediatePropagation()}var Kf=function(){Df.preventDefault(),Df.stopImmediatePropagation()},Qf=function(e){var t=e.document.documentElement,r=qf(e).on("dragstart.drag",Kf,!0);"onselectstart"in t?r.on("selectstart.drag",Kf,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function Zf(e,t){var r=e.document.documentElement,n=qf(e).on("dragstart.drag",null);t&&(n.on("click.drag",Kf,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Jf=Math.SQRT2;function $f(e){return((e=Math.exp(e))+1/e)/2}var em=function(e,t){var r,n,i=e[0],o=e[1],a=e[2],s=t[0],c=t[1],l=t[2],u=s-i,d=c-o,h=u*u+d*d;if(h<1e-12)n=Math.log(l/a)/Jf,r=function(e){return[i+e*u,o+e*d,a*Math.exp(Jf*e*n)]};else{var p=Math.sqrt(h),f=(l*l-a*a+4*h)/(2*a*2*p),m=(l*l-a*a-4*h)/(2*l*2*p),g=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(m*m+1)-m);n=(v-g)/Jf,r=function(e){var t,r=e*n,s=$f(g),c=a/(2*p)*(s*(t=Jf*r+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+c*u,o+c*d,a*s/$f(Jf*r+g)]}}return r.duration=1e3*n,r},tm=function(){for(var e,t=Df;e=t.sourceEvent;)t=e;return t},rm=function(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},nm=function(e){var t=tm();return t.changedTouches&&(t=t.changedTouches[0]),rm(e,t)},im=function(e,t,r){arguments.length<3&&(r=t,t=tm().changedTouches);for(var n,i=0,o=t?t.length:0;i<o;++i)if((n=t[i]).identifier===r)return rm(e,n);return null},om=r(395),am=function(e,t,r){var n=new om.a;return t=null==t?0:+t,n.restart(function(r){n.stop(),e(r+t)},t,r),n},sm=Object(Xf.a)("start","end","cancel","interrupt"),cm=[],lm=0,um=1,dm=2,hm=3,pm=4,fm=5,mm=6,gm=function(e,t,r,n,i,o){var a=e.__transition;if(a){if(r in a)return}else e.__transition={};!function(e,t,r){var n,i=e.__transition;function o(c){var l,u,d,h;if(r.state!==um)return s();for(l in i)if((h=i[l]).name===r.name){if(h.state===hm)return am(o);h.state===pm?(h.state=mm,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[l]):+l<t&&(h.state=mm,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[l])}if(am(function(){r.state===hm&&(r.state=pm,r.timer.restart(a,r.delay,r.time),a(c))}),r.state=dm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===dm){for(r.state=hm,n=new Array(d=r.tween.length),l=0,u=-1;l<d;++l)(h=r.tween[l].value.call(e,e.__data__,r.index,r.group))&&(n[++u]=h);n.length=u+1}}function a(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(s),r.state=fm,1),o=-1,a=n.length;++o<a;)n[o].call(e,i);r.state===fm&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){for(var n in r.state=mm,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=Object(om.c)(function(e){r.state=um,r.timer.restart(o,r.delay,r.time),r.delay<=e&&o(e-r.delay)},0,r.time)}(e,r,{name:t,index:n,group:i,on:sm,tween:cm,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lm})};function vm(e,t){var r=bm(e,t);if(r.state>lm)throw new Error("too late; already scheduled");return r}function ym(e,t){var r=bm(e,t);if(r.state>hm)throw new Error("too late; already running");return r}function bm(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}var xm,wm,Em,Am,_m=function(e,t){var r,n,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(r=o[i]).name===t?(n=r.state>dm&&r.state<fm,r.state=mm,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete o[i]):a=!1;a&&delete e.__transition}},Mm=function(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}},Sm=180/Math.PI,Tm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Cm=function(e,t,r,n,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,c/=s),e*n<t*r&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Sm,skewX:Math.atan(c)*Sm,scaleX:a,scaleY:s}};function Om(e,t,r,n){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],c=[];return o=e(o),a=e(a),function(e,n,i,o,a,s){if(e!==i||n!==o){var c=a.push("translate(",null,t,null,r);s.push({i:c-4,x:Mm(e,i)},{i:c-2,x:Mm(n,o)})}else(i||o)&&a.push("translate("+i+t+o+r)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(e,t,r,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:r.push(i(r)+"rotate(",null,n)-2,x:Mm(e,t)})):t&&r.push(i(r)+"rotate("+t+n)}(o.rotate,a.rotate,s,c),function(e,t,r,o){e!==t?o.push({i:r.push(i(r)+"skewX(",null,n)-2,x:Mm(e,t)}):t&&r.push(i(r)+"skewX("+t+n)}(o.skewX,a.skewX,s,c),function(e,t,r,n,o,a){if(e!==r||t!==n){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Mm(e,r)},{i:s-2,x:Mm(t,n)})}else 1===r&&1===n||o.push(i(o)+"scale("+r+","+n+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(e){for(var t,r=-1,n=c.length;++r<n;)s[(t=c[r]).i]=t.x(e);return s.join("")}}}var Lm=Om(function(e){return"none"===e?Tm:(xm||(xm=document.createElement("DIV"),wm=document.documentElement,Em=document.defaultView),xm.style.transform=e,e=Em.getComputedStyle(wm.appendChild(xm),null).getPropertyValue("transform"),wm.removeChild(xm),e=e.slice(7,-1).split(","),Cm(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Rm=Om(function(e){return null==e?Tm:(Am||(Am=document.createElementNS("http://www.w3.org/2000/svg","g")),Am.setAttribute("transform",e),(e=Am.transform.baseVal.consolidate())?(e=e.matrix,Cm(e.a,e.b,e.c,e.d,e.e,e.f)):Tm)},", ",")",")");function Pm(e,t,r){var n=e._id;return e.each(function(){var e=ym(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return bm(e,n).value[t]}}var km=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function jm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dm(){}var Im="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bm=/^#([0-9a-f]{3,8})$/,Fm=new RegExp("^rgb\\("+[Im,Im,Im]+"\\)$"),Um=new RegExp("^rgb\\("+[zm,zm,zm]+"\\)$"),Hm=new RegExp("^rgba\\("+[Im,Im,Im,Nm]+"\\)$"),Gm=new RegExp("^rgba\\("+[zm,zm,zm,Nm]+"\\)$"),Vm=new RegExp("^hsl\\("+[Nm,zm,zm]+"\\)$"),Wm=new RegExp("^hsla\\("+[Nm,zm,zm,Nm]+"\\)$"),qm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xm(){return this.rgb().formatHex()}function Ym(){return this.rgb().formatRgb()}function Km(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Bm.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Qm(t):3===r?new $m(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?new $m(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?new $m(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Fm.exec(e))?new $m(t[1],t[2],t[3],1):(t=Um.exec(e))?new $m(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Hm.exec(e))?Zm(t[1],t[2],t[3],t[4]):(t=Gm.exec(e))?Zm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Vm.exec(e))?ng(t[1],t[2]/100,t[3]/100,1):(t=Wm.exec(e))?ng(t[1],t[2]/100,t[3]/100,t[4]):qm.hasOwnProperty(e)?Qm(qm[e]):"transparent"===e?new $m(NaN,NaN,NaN,0):null}function Qm(e){return new $m(e>>16&255,e>>8&255,255&e,1)}function Zm(e,t,r,n){return n<=0&&(e=t=r=NaN),new $m(e,t,r,n)}function Jm(e,t,r,n){return 1===arguments.length?((i=e)instanceof Dm||(i=Km(i)),i?new $m((i=i.rgb()).r,i.g,i.b,i.opacity):new $m):new $m(e,t,r,null==n?1:n);var i}function $m(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function eg(){return"#"+rg(this.r)+rg(this.g)+rg(this.b)}function tg(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function rg(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ng(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new og(e,t,r,n)}function ig(e){if(e instanceof og)return new og(e.h,e.s,e.l,e.opacity);if(e instanceof Dm||(e=Km(e)),!e)return new og;if(e instanceof og)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(r-n)/s+6*(r<n):r===o?(n-t)/s+2:(t-r)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new og(a,s,c,e.opacity)}function og(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function ag(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function sg(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}km(Dm,Km,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Xm,formatHex:Xm,formatHsl:function(){return ig(this).formatHsl()},formatRgb:Ym,toString:Ym}),km($m,Jm,jm(Dm,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new $m(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new $m(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eg,formatHex:eg,formatRgb:tg,toString:tg})),km(og,function(e,t,r,n){return 1===arguments.length?ig(e):new og(e,t,r,null==n?1:n)},jm(Dm,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new og(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new og(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new $m(ag(e>=240?e-240:e+120,i,n),ag(e,i,n),ag(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var cg=function(e){return function(){return e}};function lg(e,t){return function(r){return e+r*t}}function ug(e){return 1==(e=+e)?dg:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):cg(isNaN(t)?r:t)}}function dg(e,t){var r=t-e;return r?lg(e,r):cg(isNaN(e)?t:e)}var hg=function e(t){var r=ug(t);function n(e,t){var n=r((e=Jm(e)).r,(t=Jm(t)).r),i=r(e.g,t.g),o=r(e.b,t.b),a=dg(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return n.gamma=e,n}(1);function pg(e){return function(t){var r,n,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=Jm(t[r]),o[r]=n.r||0,a[r]=n.g||0,s[r]=n.b||0;return o=e(o),a=e(a),s=e(s),n.opacity=1,function(e){return n.r=o(e),n.g=a(e),n.b=s(e),n+""}}}pg(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,s=n<t-1?e[n+2]:2*o-i;return sg((r-n/t)*t,a,i,o,s)}}),pg(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],a=e[(n+1)%t],s=e[(n+2)%t];return sg((r-n/t)*t,i,o,a,s)}});var fg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mg=new RegExp(fg.source,"g");var gg=function(e,t){var r;return("number"==typeof t?Mm:t instanceof Km?hg:(r=Km(t))?(t=r,hg):function(e,t){var r,n,i,o=fg.lastIndex=mg.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(r=fg.exec(e))&&(n=mg.exec(t));)(i=n.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,c.push({i:a,x:Mm(r,n)})),o=mg.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var r,n=0;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join("")})})(e,t)};var vg=Wf.prototype.constructor;function yg(e){return function(){this.style.removeProperty(e)}}var bg=0;function xg(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function wg(){return++bg}var Eg=Wf.prototype;xg.prototype=function(e){return Wf().transition(e)}.prototype={constructor:xg,select:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=of(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=n[a],u=l.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=e.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),d[h]=c,gm(d[h],t,r,h,d,bm(s,r)));return new xg(o,this._parents,t,r)},selectAll:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=sf(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var c,l=n[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var h,p=e.call(c,c.__data__,d,l),f=bm(c,r),m=0,g=p.length;m<g;++m)(h=p[m])&&gm(h,t,r,m,p,f);o.push(p),a.push(c)}return new xg(o,a,t,r)},filter:function(e){"function"!=typeof e&&(e=cf(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o,a=t[i],s=a.length,c=n[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new xg(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var c,l=t[s],u=r[s],d=l.length,h=a[s]=new Array(d),p=0;p<d;++p)(c=l[p]||u[p])&&(h[p]=c);for(;s<n;++s)a[s]=t[s];return new xg(a,this._parents,this._name,this._id)},selection:function(){return new vg(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,r=wg(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a,s=n[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=bm(a,t);gm(a,e,r,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xg(n,this._parents,e,r)},call:Eg.call,nodes:Eg.nodes,node:Eg.node,size:Eg.size,empty:Eg.empty,each:Eg.each,on:function(e,t){var r=this._id;return arguments.length<2?bm(this.node(),r).on.on(e):this.each(function(e,t,r){var n,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?vm:ym;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}(r,e,t))},attr:function(e,t){var r=vf(e),n="transform"===r?Rm:gg;return this.attrTween(e,"function"==typeof t?(r.local?function(e,t,r){var n,i,o;return function(){var a,s,c=r(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===n&&s===i?o:(i=s,o=t(n=a,c));this.removeAttributeNS(e.space,e.local)}}:function(e,t,r){var n,i,o;return function(){var a,s,c=r(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===n&&s===i?o:(i=s,o=t(n=a,c));this.removeAttribute(e)}})(r,n,Pm(this,"attr."+e,t)):null==t?(r.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(r):(r.local?function(e,t,r){var n,i,o=r+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===n?i:i=t(n=a,r)}}:function(e,t,r){var n,i,o=r+"";return function(){var a=this.getAttribute(e);return a===o?null:a===n?i:i=t(n=a,r)}})(r,n,t))},attrTween:function(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=vf(e);return this.tween(r,(n.local?function(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}(e,i)),r}return i._value=t,i}:function(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}(e,i)),r}return i._value=t,i})(n,t))},style:function(e,t,r){var n="transform"==(e+="")?Lm:gg;return null==t?this.styleTween(e,function(e,t){var r,n,i;return function(){var o=bf(this,e),a=(this.style.removeProperty(e),bf(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}(e,n)).on("end.style."+e,yg(e)):"function"==typeof t?this.styleTween(e,function(e,t,r){var n,i,o;return function(){var a=bf(this,e),s=r(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=bf(this,e)),a===c?null:a===n&&c===i?o:(i=c,o=t(n=a,s))}}(e,n,Pm(this,"style."+e,t))).each(function(e,t){var r,n,i,o,a="style."+t,s="end."+a;return function(){var c=ym(this,e),l=c.on,u=null==c.value[a]?o||(o=yg(t)):void 0;l===r&&i===u||(n=(r=l).copy()).on(s,i=u),c.on=n}}(this._id,e)):this.styleTween(e,function(e,t,r){var n,i,o=r+"";return function(){var a=bf(this,e);return a===o?null:a===n?i:i=t(n=a,r)}}(e,n,t),r).on("end.style."+e,null)},styleTween:function(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,r){var n,i;function o(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&function(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}(e,o,r)),n}return o._value=t,o}(e,t,null==r?"":r))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Pm(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,r;function n(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&function(e){return function(t){this.textContent=e.call(this,t)}}(n)),t}return n._value=e,n}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,i=bm(this.node(),r).tween,o=0,a=i.length;o<a;++o)if((n=i[o]).name===e)return n.value;return null}return this.each((null==t?function(e,t){var r,n;return function(){var i=ym(this,e),o=i.tween;if(o!==r)for(var a=0,s=(n=r=o).length;a<s;++a)if(n[a].name===t){(n=n.slice()).splice(a,1);break}i.tween=n}}:function(e,t,r){var n,i;if("function"!=typeof r)throw new Error;return function(){var o=ym(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}o.tween=i}})(r,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){vm(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){vm(this,e).delay=t}})(t,e)):bm(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){ym(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){ym(this,e).duration=t}})(t,e)):bm(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){ym(this,e).ease=t}}(t,e)):bm(this.node(),t).ease},end:function(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};r.each(function(){var r=ym(this,n),i=r.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),r.on=t})})}};var Ag={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function _g(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return Ag.time=Object(om.b)(),Ag;return r}Wf.prototype.interrupt=function(e){return this.each(function(){_m(this,e)})},Wf.prototype.transition=function(e){var t,r;e instanceof xg?(t=e._id,e=e._name):(t=wg(),(r=Ag).time=Object(om.b)(),e=null==e?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a,s=n[o],c=s.length,l=0;l<c;++l)(a=s[l])&&gm(a,e,t,l,s,r||_g(a,t));return new xg(n,this._parents,e,t)};var Mg=function(e){return function(){return e}};function Sg(e,t,r){this.target=e,this.type=t,this.transform=r}function Tg(e,t,r){this.k=e,this.x=t,this.y=r}Tg.prototype={constructor:Tg,scale:function(e){return 1===e?this:new Tg(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Tg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cg=new Tg(1,0,0);function Og(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Cg;return e.__zoom}function Lg(){Df.stopImmediatePropagation()}Og.prototype=Tg.prototype;var Rg=function(){Df.preventDefault(),Df.stopImmediatePropagation()};function Pg(){return!Df.ctrlKey&&!Df.button}function kg(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function jg(){return this.__zoom||Cg}function Dg(){return-Df.deltaY*(1===Df.deltaMode?.05:Df.deltaMode?1:.002)}function Ig(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ng(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var zg=function(e){return function(){return e}};function Bg(e,t,r,n,i,o,a,s,c,l){this.target=e,this.type=t,this.subject=r,this.identifier=n,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=c,this._=l}function Fg(){return!Df.ctrlKey&&!Df.button}function Ug(){return this.parentNode}function Hg(e){return null==e?{x:Df.x,y:Df.y}:e}function Gg(){return navigator.maxTouchPoints||"ontouchstart"in this}Bg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Vg=r(240),Wg=r.n(Vg),qg=r(121),Xg=r.n(qg);function Yg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kg(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Qg=function(e,t,r){return(e<<16)+(t<<8)+r},Zg=function(e,t){return 123*e%Math.pow(2,t)},Jg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.csBits=t,this.registry=["__reserved for background__"]}var t,r,n;return t=e,(r=[{key:"register",value:function(e){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var t,r=this.registry.length,n=Zg(r,this.csBits),i=(t=r+(n<<24-this.csBits),"#".concat(Math.min(t,Math.pow(2,24)).toString(16).padStart(6,"0")));return this.registry.push(e),i}},{key:"lookup",value:function(e){var t,r,n,i,o,a="string"==typeof e?(t=e,r=Xg()(t).toRgb(),n=r.r,i=r.g,o=r.b,Qg(n,i,o)):Qg.apply(void 0,Kg(e));if(!a)return null;var s=a&Math.pow(2,24-this.csBits)-1,c=a>>24-this.csBits&Math.pow(2,this.csBits)-1;return Zg(s,this.csBits)!==c||s>=this.registry.length?null:this.registry[s]}}])&&Yg(t.prototype,r),n&&Yg(t,n),e}(),$g=r(41),ev=r(256),tv=r.n(ev),rv=r(120),nv=r(886),iv=r(885);function ov(e){return(ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function av(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sv(Object(r),!0).forEach(function(t){av(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lv(e,t){return(lv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uv(e,t,r){return(uv=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&lv(i,r.prototype),i}).apply(null,arguments)}function dv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function hv(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".graph-tooltip {\n  position: absolute;\n  transform: translate(-50%, 25px);\n  font-family: sans-serif;\n  font-size: 16px;\n  padding: 4px;\n  border-radius: 3px;\n  color: #eee;\n  background: rgba(0,0,0,0.65);\n  visibility: hidden; /* by default */\n}\n\n.grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n");var pv=Object(nv.a)(iv.a);function fv(e,t,r){t&&"string"==typeof r&&e.filter(function(e){return!e[r]}).forEach(function(e){e[r]=pv(t(e))})}var mv=Object(Uh.a)({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},dagMode:{onChange:function(e,t){!e&&(t.graphData.nodes||[]).forEach(function(e){return e.fx=e.fy=void 0})}},dagLevelDistance:{},nodeRelSize:{default:4,triggerUpdate:!1},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1},nodeColor:{default:"color",triggerUpdate:!1},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1},nodeVisibility:{default:!0,triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1},linkColor:{default:"color",triggerUpdate:!1},linkAutoColorBy:{},linkWidth:{default:1,triggerUpdate:!1},linkCurvature:{default:0,triggerUpdate:!1},linkCanvasObject:{triggerUpdate:!1},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1},linkDirectionalArrowLength:{default:0,triggerUpdate:!1},linkDirectionalArrowColor:{triggerUpdate:!1},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,t,r){return void 0===r?e.forceLayout.force(t):(e.forceLayout.force(t,r),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t,r,n,i,o,a;return!e.isShadow&&e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick())),function(){var t=Bp()(e.linkVisibility),r=Bp()(e.linkColor),n=Bp()(e.linkWidth),i=Bp()(e.linkCurvature),o=Bp()(e.linkCanvasObjectMode),a=e.ctx,s=2*e.isShadow,c=e.graphData.links.filter(t);c.forEach(function(e){var t=i(e);if(!t)return void(e.__controlPoints=null);var r=e.source,n=e.target;if(!r.hasOwnProperty("x")||!n.hasOwnProperty("x"))return;var o=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2));if(o>0){var a=Math.atan2(n.y-r.y,n.x-r.x),s=o*t,c={x:(r.x+n.x)/2+s*Math.cos(a-Math.PI/2),y:(r.y+n.y)/2+s*Math.sin(a-Math.PI/2)};e.__controlPoints=[c.x,c.y]}else{var l=70*t;e.__controlPoints=[n.x,n.y-l,n.x+l,n.y]}});var l=[],u=[],d=c;if(e.linkCanvasObject){var h=[],p=[];c.forEach(function(e){return({before:l,after:u,replace:h}[o(e)]||p).push(e)}),d=[].concat(hv(l),u,p),l=l.concat(h)}a.save(),l.forEach(function(t){return e.linkCanvasObject(t,a,e.globalScale)}),a.restore();var f=Object(rv.a)(d,[r,n]);a.save(),Object.entries(f).forEach(function(t){var r=dv(t,2),n=r[0],i=r[1],o=n&&"undefined"!==n?n:"rgba(0,0,0,0.15)";Object.entries(i).forEach(function(t){var r=dv(t,2),n=r[0],i=r[1],c=(n||1)/e.globalScale+s;a.beginPath(),i.forEach(function(e){var t=e.source,r=e.target;if(t.hasOwnProperty("x")&&r.hasOwnProperty("x")){a.moveTo(t.x,t.y);var n=e.__controlPoints;n?a[2===n.length?"quadraticCurveTo":"bezierCurveTo"].apply(a,hv(n).concat([r.x,r.y])):a.lineTo(r.x,r.y)}}),a.strokeStyle=o,a.lineWidth=c,a.stroke()})}),a.restore(),a.save(),u.forEach(function(t){return e.linkCanvasObject(t,a,e.globalScale)}),a.restore()}(),!e.isShadow&&(t=Bp()(e.linkDirectionalArrowLength),r=Bp()(e.linkDirectionalArrowRelPos),n=Bp()(e.linkVisibility),i=Bp()(e.linkDirectionalArrowColor||e.linkColor),o=Bp()(e.nodeVal),(a=e.ctx).save(),e.graphData.links.filter(n).forEach(function(n){var s=t(n);if(s&&!(s<0)){var c=n.source,l=n.target;if(c.hasOwnProperty("x")&&l.hasOwnProperty("x")){var u=Math.sqrt(Math.max(0,o(c)||1))*e.nodeRelSize,d=Math.sqrt(Math.max(0,o(l)||1))*e.nodeRelSize,h=Math.min(1,Math.max(0,r(n))),p=i(n)||"rgba(0,0,0,0.28)",f=s/1.6/2,m=n.__controlPoints&&uv(tv.a,[c.x,c.y].concat(hv(n.__controlPoints),[l.x,l.y])),g=m?function(e){return m.get(e)}:function(e){return{x:c.x+(l.x-c.x)*e||0,y:c.y+(l.y-c.y)*e||0}},v=m?m.length():Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2)),y=u+s+(v-u-d-s)*h,b=g(y/v),x=g((y-s)/v),w=g((y-.8*s)/v),E=Math.atan2(b.y-x.y,b.x-x.x)-Math.PI/2;a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(x.x+f*Math.cos(E),x.y+f*Math.sin(E)),a.lineTo(w.x,w.y),a.lineTo(x.x-f*Math.cos(E),x.y-f*Math.sin(E)),a.fillStyle=p,a.fill()}}}),a.restore()),!e.isShadow&&function(){var t=Bp()(e.linkDirectionalParticles),r=Bp()(e.linkDirectionalParticleSpeed),n=Bp()(e.linkDirectionalParticleWidth),i=Bp()(e.linkVisibility),o=Bp()(e.linkDirectionalParticleColor||e.linkColor),a=e.ctx;a.save(),e.graphData.links.filter(i).forEach(function(i){var s=t(i);if(i.hasOwnProperty("__photons")&&i.__photons.length){var c=i.source,l=i.target;if(c.hasOwnProperty("x")&&l.hasOwnProperty("x")){var u=r(i),d=i.__photons||[],h=Math.max(0,n(i)/2)/Math.sqrt(e.globalScale),p=o(i)||"rgba(0,0,0,0.28)";a.fillStyle=p;var f=i.__controlPoints?uv(tv.a,[c.x,c.y].concat(hv(i.__controlPoints),[l.x,l.y])):null,m=0,g=!1;d.forEach(function(e){var t=!!e.__singleHop;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=t?0:m/s),!t&&m++,e.__progressRatio+=u,e.__progressRatio>=1){if(t)return void(g=!0);e.__progressRatio=e.__progressRatio%1}var r=e.__progressRatio,n=f?f.get(r):{x:c.x+(l.x-c.x)*r||0,y:c.y+(l.y-c.y)*r||0};a.beginPath(),a.arc(n.x,n.y,h,0,2*Math.PI,!1),a.fill()}),g&&(i.__photons=i.__photons.filter(function(e){return!e.__singleHop||e.__progressRatio<=1}))}}}),a.restore()}(),function(){var t=Bp()(e.nodeVisibility),r=Bp()(e.nodeVal),n=Bp()(e.nodeColor),i=Bp()(e.nodeCanvasObjectMode),o=e.ctx,a=e.isShadow/e.globalScale,s=e.graphData.nodes.filter(t);o.save(),s.forEach(function(t){var s=i(t);if(!e.nodeCanvasObject||"before"!==s&&"replace"!==s||(e.nodeCanvasObject(t,o,e.globalScale,e.isShadow),"replace"!==s)){var c=Math.sqrt(Math.max(0,r(t)||1))*e.nodeRelSize+a;o.beginPath(),o.arc(t.x,t.y,c,0,2*Math.PI,!1),o.fillStyle=n(t)||"rgba(31, 120, 180, 0.92)",o.fill(),e.nodeCanvasObject&&"after"===s&&e.nodeCanvasObject(t,e.ctx,e.globalScale)}else o.restore()}),o.restore()}(),this},emitParticle:function(e,t){return t&&(!t.__photons&&(t.__photons=[]),t.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Object($g.e)().force("link",Object($g.b)()).force("charge",Object($g.c)()).force("center",Object($g.a)()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.ctx=e},update:function(e){e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&fv(e.graphData.nodes,Bp()(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&fv(e.graphData.links,Bp()(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]});var t=Bp()(e.linkDirectionalParticles);e.graphData.links.forEach(function(e){var r=Math.round(Math.abs(t(e)));r&&(e.__photons=hv(Array(r)).map(function(){return{}}))}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var r=e.forceLayout.force("link");r&&r.id(function(t){return t[e.nodeId]}).links(e.graphData.links);var n,i,o,a,s,c=e.dagMode&&(n=e.graphData,i=function(t){return t[e.nodeId]},o=n.nodes,a=n.links,s={},o.forEach(function(e){return s[i(e)]={data:e,out:[],depth:-1}}),a.forEach(function(e){var t=e.source,r=e.target,n=l(t),o=l(r);if(!s.hasOwnProperty(n))throw"Missing source node with id: ".concat(n);if(!s.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var a=s[n],c=s[o];function l(e){return"object"===ov(e)?i(e):e}a.out.push(c)}),function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r.length,o=0,a=t.length;o<a;o++){var s=t[o];if(-1!==r.indexOf(s)){var c=[].concat(hv(r.slice(r.indexOf(s))),[s]).map(function(e){return i(e.data)});throw"Invalid DAG structure! Found cycle in node path: ".concat(c.join(" -> "),".")}n>s.depth&&(s.depth=n,e(s.out,[].concat(hv(r),[s])))}}(Object.values(s)),Object.keys(s).forEach(function(e){return s[e]=s[e].depth}),s),l=Math.max.apply(Math,hv(Object.values(c||[]))),u=e.dagLevelDistance||e.graphData.nodes.length/(l||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var d=function(t,r){return function(n){return t?(c[n[e.nodeId]]-l/2)*u*(r?-1:1):void 0}},h=d(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),p=d(-1!==["td","bu"].indexOf(e.dagMode),"bu"===e.dagMode);e.graphData.nodes.forEach(function(e){e.fx=h(e),e.fy=p(e)})}e.forceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?Object($g.d)(function(t){var r=c[t[e.nodeId]];return("radialin"===e.dagMode?l-r:r)*u}).strength(1):null);for(var f=0;f<e.warmupTicks;f++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function gv(e,t){var r=e instanceof Array?e:[e],n=new t;return{linkProp:function(e){return{default:n[e](),onChange:function(t,n){r.forEach(function(r){return n[r][e](t)})},triggerUpdate:!1}},linkMethod:function(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=[];return r.forEach(function(r){var n=t[r],o=n[e].apply(n,i);o!==n&&a.push(o)}),a.length?a[0]:this}}}}var vv=gv("forceGraph",mv),yv=gv(["forceGraph","shadowGraph"],mv),bv=Object.assign.apply(Object,hv(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return av({},e,vv.linkProp(e))})).concat(hv(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return av({},e,yv.linkProp(e))})))),xv=Object.assign.apply(Object,hv(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return av({},e,vv.linkMethod(e))})));function wv(e){if(e.canvas){var t=e.canvas.width,r=e.canvas.height;300===t&&150===r&&(t=r=0);var n=window.devicePixelRatio;t/=n,r/=n,[e.canvas,e.shadowCanvas].forEach(function(i){i.style.width="".concat(e.width,"px"),i.style.height="".concat(e.height,"px"),i.width=e.width*n,i.height=e.height*n,t||r||i.getContext("2d").scale(n,n)});var i=Og(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-t)/2/i,(e.height-r)/2/i)}}function Ev(e){var t=window.devicePixelRatio;e.setTransform(t,0,0,t,0,0)}function Av(e,t,r){e.save(),Ev(e),e.clearRect(0,0,t,r),e.restore()}var _v=Object(Uh.a)({props:cv({width:{default:window.innerWidth,onChange:function(e,t){return wv(t)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,t){return wv(t)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){(e.nodes.length||e.links.length)&&console.info("force-graph loading",e.nodes.length+" nodes",e.links.length+" links"),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(function(e){var r=e.type;e.objs.filter(function(e){if(!e.hasOwnProperty("__indexColor"))return!0;var r=t.colorTracker.lookup(e.__indexColor);return!r||!r.hasOwnProperty("d")||r.d!==e}).forEach(function(e){e.__indexColor=t.colorTracker.register({type:r,d:e})})}),t.forceGraph.graphData(e),t.shadowGraph.graphData(e)},triggerUpdate:!1},backgroundColor:{onChange:function(e,t){t.canvas&&e&&(t.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null},triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{default:function(){},triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{default:function(){},triggerUpdate:!1},onLinkClick:{default:function(){},triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{default:function(){},triggerUpdate:!1},onBackgroundClick:{default:function(){},triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{default:function(){},triggerUpdate:!1}},bv),aliases:{stopAnimation:"pauseAnimation"},methods:cv({centerAt:function(e,t,r,n){if(!e.canvas)return null;if(void 0!==t||void 0!==r){var i=Object.assign({},void 0!==t?{x:t}:{},void 0!==r?{y:r}:{});return n?new Np.a.Tween(o()).to(i,n).easing(Np.a.Easing.Quadratic.Out).onUpdate(a).start():a(i),this}return o();function o(){var t=Og(e.canvas);return{x:(e.width/2-t.x)/t.k,y:(e.height/2-t.y)/t.k}}function a(t){var r=t.x,n=t.y;e.zoom.translateTo(e.zoom.__baseElem,void 0===r?o().x:r,void 0===n?o().y:n)}},zoom:function(e,t,r){return e.canvas?void 0!==t?(r?new Np.a.Tween({k:n()}).to({k:t},r).easing(Np.a.Easing.Quadratic.Out).onUpdate(function(e){return i(e.k)}).start():i(t),this):n():null;function n(){return Og(e.canvas).k}function i(t){e.zoom.scaleTo(e.zoom.__baseElem,t)}},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},xv),stateInit:function(){return{lastSetZoom:1,forceGraph:new mv,shadowGraph:(new mv).cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Jg}},init:function(e,t){e.innerHTML="";var r=document.createElement("div");r.style.position="relative",e.appendChild(r),t.canvas=document.createElement("canvas"),t.backgroundColor&&(t.canvas.style.background=t.backgroundColor),r.appendChild(t.canvas),t.shadowCanvas=document.createElement("canvas");var n=t.canvas.getContext("2d"),i=t.shadowCanvas.getContext("2d");qf(t.canvas).call(function(){var e,t,r,n,i=Fg,o=Ug,a=Hg,s=Gg,c={},l=Object(Xf.a)("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!n&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),nm,this,arguments);a&&(qf(Df.view).on("mousemove.drag",f,!0).on("mouseup.drag",m,!0),Qf(Df.view),Yf(),r=!1,e=Df.clientX,t=Df.clientY,a("start"))}}function f(){if(Kf(),!r){var n=Df.clientX-e,i=Df.clientY-t;r=n*n+i*i>d}c.mouse("drag")}function m(){qf(Df.view).on("mousemove.drag mouseup.drag",null),Zf(Df.view,r),Kf(),c.mouse("end")}function g(){if(i.apply(this,arguments)){var e,t,r=Df.changedTouches,n=o.apply(this,arguments),a=r.length;for(e=0;e<a;++e)(t=b(r[e].identifier,n,im,this,arguments))&&(Yf(),t("start"))}}function v(){var e,t,r=Df.changedTouches,n=r.length;for(e=0;e<n;++e)(t=c[r[e].identifier])&&(Kf(),t("drag"))}function y(){var e,t,r=Df.changedTouches,i=r.length;for(n&&clearTimeout(n),n=setTimeout(function(){n=null},500),e=0;e<i;++e)(t=c[r[e].identifier])&&(Yf(),t("end"))}function b(e,t,r,n,i){var o,s,d,p=r(t,e),f=l.copy();if(Ff(new Bg(h,"beforestart",o,e,u,p[0],p[1],0,0,f),function(){return null!=(Df.subject=o=a.apply(n,i))&&(s=o.x-p[0]||0,d=o.y-p[1]||0,!0)}))return function a(l){var m,g=p;switch(l){case"start":c[e]=a,m=u++;break;case"end":delete c[e],--u;case"drag":p=r(t,e),m=u}Ff(new Bg(h,l,o,e,m,p[0]+s,p[1]+d,p[0]-g[0],p[1]-g[1],f),f.apply,f,[l,n,i])}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:zg(!!e),h):i},h.container=function(e){return arguments.length?(o="function"==typeof e?e:zg(e),h):o},h.subject=function(e){return arguments.length?(a="function"==typeof e?e:zg(e),h):a},h.touchable=function(e){return arguments.length?(s="function"==typeof e?e:zg(!!e),h):s},h.on=function(){var e=l.on.apply(l,arguments);return e===l?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}().subject(function(){if(!t.enableNodeDrag)return null;var e=t.hoverObj;return e&&"Node"===e.type?e.d:null}).on("start",function(){var e=Df.subject;e.__initialDragPos={x:e.x,y:e.y,fx:e.fx,fy:e.fy},Df.active||(e.fx=e.x,e.fy=e.y),t.canvas.classList.add("grabbable")}).on("drag",function(){var e=Df.subject,r=e.__initialDragPos,n=Df,i=Og(t.canvas).k;["x","y"].forEach(function(t){return e["f".concat(t)]=e[t]=r[t]+(n[t]-r[t])/i}),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),e.__dragged=!0,t.onNodeDrag(e)}).on("end",function(){var e=Df.subject,r=e.__initialDragPos;void 0===r.fx&&(e.fx=void 0),void 0===r.fy&&(e.fy=void 0),delete e.__initialDragPos,t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.canvas.classList.remove("grabbable"),e.__dragged&&(delete e.__dragged,t.onNodeDragEnd(e))})),t.zoom=function(){var e,t,r=Pg,n=kg,i=Ng,o=Dg,a=Ig,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,u=em,d=Object(Xf.a)("start","zoom","end"),h=500,p=150,f=0;function m(e){e.property("__zoom",jg).on("wheel.zoom",E).on("mousedown.zoom",A).on("dblclick.zoom",_).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new Tg(t,e.x,e.y)}function v(e,t,r){var n=t[0]-r[0]*e.k,i=t[1]-r[1]*e.k;return n===e.x&&i===e.y?e:new Tg(e.k,n,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,r){e.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var e=arguments,i=x(this,e),o=n.apply(this,e),a=null==r?y(o):"function"==typeof r?r.apply(this,e):r,s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=this.__zoom,l="function"==typeof t?t.apply(this,e):t,d=u(c.invert(a).concat(s/c.k),l.invert(a).concat(s/l.k));return function(e){if(1===e)e=l;else{var t=d(e),r=s/t[2];e=new Tg(r,a[0]-t[0]*r,a[1]-t[1]*r)}i.zoom(null,e)}})}function x(e,t,r){return!r&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.extent=n.apply(e,t),this.taps=0}function E(){if(r.apply(this,arguments)){var e=x(this,arguments),t=this.__zoom,n=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,o.apply(this,arguments)))),a=nm(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===n)return;e.mouse=[a,t.invert(a)],_m(this),e.start()}Rg(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},p),e.zoom("mouse",i(v(g(t,n),e.mouse[0],e.mouse[1]),e.extent,c))}}function A(){if(!t&&r.apply(this,arguments)){var e=x(this,arguments,!0),n=qf(Df.view).on("mousemove.zoom",function(){if(Rg(),!e.moved){var t=Df.clientX-a,r=Df.clientY-s;e.moved=t*t+r*r>f}e.zoom("mouse",i(v(e.that.__zoom,e.mouse[0]=nm(e.that),e.mouse[1]),e.extent,c))},!0).on("mouseup.zoom",function(){n.on("mousemove.zoom mouseup.zoom",null),Zf(Df.view,e.moved),Rg(),e.end()},!0),o=nm(this),a=Df.clientX,s=Df.clientY;Qf(Df.view),Lg(),e.mouse=[o,this.__zoom.invert(o)],_m(this),e.start()}}function _(){if(r.apply(this,arguments)){var e=this.__zoom,t=nm(this),o=e.invert(t),a=e.k*(Df.shiftKey?.5:2),s=i(v(g(e,a),t,o),n.apply(this,arguments),c);Rg(),l>0?qf(this).transition().duration(l).call(b,s,t):qf(this).call(m.transform,s)}}function M(){if(r.apply(this,arguments)){var t,n,i,o,a=Df.touches,s=a.length,c=x(this,arguments,Df.changedTouches.length===s);for(Lg(),n=0;n<s;++n)i=a[n],o=[o=im(this,a,i.identifier),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,t=!0,c.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(c.taps<2&&(e=setTimeout(function(){e=null},h)),_m(this),c.start())}}function S(){if(this.__zooming){var t,r,n,o,a=x(this,arguments),s=Df.changedTouches,l=s.length;for(Rg(),e&&(e=clearTimeout(e)),a.taps=0,t=0;t<l;++t)r=s[t],n=im(this,s,r.identifier),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=n:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=n);if(r=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],h=a.touch1[0],p=a.touch1[1],f=(f=h[0]-u[0])*f+(f=h[1]-u[1])*f,m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m;r=g(r,Math.sqrt(f/m)),n=[(u[0]+h[0])/2,(u[1]+h[1])/2],o=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;n=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(r,n,o),a.extent,c))}}function T(){if(this.__zooming){var e,r,n=x(this,arguments),i=Df.changedTouches,o=i.length;for(Lg(),t&&clearTimeout(t),t=setTimeout(function(){t=null},h),e=0;e<o;++e)r=i[e],n.touch0&&n.touch0[2]===r.identifier?delete n.touch0:n.touch1&&n.touch1[2]===r.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),2===n.taps){var a=qf(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return m.transform=function(e,t,r){var n=e.selection?e.selection():e;n.property("__zoom",jg),e!==n?b(e,t,r):n.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,r){m.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},r)},m.scaleTo=function(e,t,r){m.transform(e,function(){var e=n.apply(this,arguments),o=this.__zoom,a=null==r?y(e):"function"==typeof r?r.apply(this,arguments):r,s=o.invert(a),l="function"==typeof t?t.apply(this,arguments):t;return i(v(g(o,l),a,s),e,c)},r)},m.translateBy=function(e,t,r){m.transform(e,function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof r?r.apply(this,arguments):r),n.apply(this,arguments),c)})},m.translateTo=function(e,t,r,o){m.transform(e,function(){var e=n.apply(this,arguments),a=this.__zoom,s=null==o?y(e):"function"==typeof o?o.apply(this,arguments):o;return i(Cg.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof r?-r.apply(this,arguments):-r),e,c)},o)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){Ff(new Sg(m,e,this.that.__zoom),d.apply,d,[e,this.that,this.args])}},m.wheelDelta=function(e){return arguments.length?(o="function"==typeof e?e:Mg(+e),m):o},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:Mg(!!e),m):r},m.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Mg(!!e),m):a},m.extent=function(e){return arguments.length?(n="function"==typeof e?e:Mg([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):n},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(l=+e,m):l},m.interpolate=function(e){return arguments.length?(u=e,m):u},m.on=function(){var e=d.on.apply(d,arguments);return e===d?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m}(),t.zoom(t.zoom.__baseElem=qf(t.canvas)),t.zoom.__baseElem.on("dblclick.zoom",null),t.zoom.filter(function(){return!!t.enableZoomPanInteraction&&!Df.button}).scaleExtent([.01,1e3]).on("zoom",function(){var e=Og(this);[n,i].forEach(function(t){Ev(t),t.translate(e.x,e.y),t.scale(e.k,e.k)}),t.onZoom(cv({},e))}),wv(t),t.forceGraph.onFinishUpdate(function(){Og(t.canvas).k===t.lastSetZoom&&t.graphData.nodes.length&&t.zoom.scaleTo(t.zoom.__baseElem,t.lastSetZoom=4/Math.cbrt(t.graphData.nodes.length))});var o=document.createElement("div");o.classList.add("graph-tooltip"),r.appendChild(o);var a={x:-1e12,y:-1e12};t.canvas.addEventListener("mousemove",function(e){var t,n,i,s=(t=r.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,{top:t.top+i,left:t.left+n});a.x=e.pageX-s.left,a.y=e.pageY-s.top,o.style.top="".concat(a.y,"px"),o.style.left="".concat(a.x,"px")},!1),r.addEventListener("click",function(e){t.hoverObj?t["on".concat(t.hoverObj.type,"Click")](t.hoverObj.d,e):t.onBackgroundClick(e)},!1),r.addEventListener("contextmenu",function(e){if(!t.onBackgroundRightClick&&!t.onNodeRightClick&&!t.onLinkRightClick)return!0;if(e.preventDefault(),t.hoverObj){var r=t["on".concat(t.hoverObj.type,"RightClick")];r&&r(t.hoverObj.d,e)}else t.onBackgroundRightClick&&t.onBackgroundRightClick(e);return!1},!1),t.forceGraph(n),t.shadowGraph(i);var s=Wg()(function(){Av(i,t.width,t.height),t.shadowGraph.linkWidth(function(e){return Bp()(t.linkWidth)(e)+t.linkHoverPrecision});var e=Og(t.canvas);t.shadowGraph.globalScale(e.k).tickFrame()},800);(this._animationCycle=function e(){if(t.enablePointerInteraction){var r=window.devicePixelRatio,c=a.x>0&&a.y>0?i.getImageData(a.x*r,a.y*r,1,1):null,l=c?t.colorTracker.lookup(c.data):null;if(l!==t.hoverObj){var u=t.hoverObj,d=u?u.type:null,h=l?l.type:null;d&&d!==h&&t["on".concat(d,"Hover")](null,u.d),h&&t["on".concat(h,"Hover")](l.d,d===h?u.d:null);var p=l&&Bp()(t["".concat(l.type.toLowerCase(),"Label")])(l.d)||"";o.style.visibility=p?"visible":"hidden",o.innerHTML=p,t.hoverObj=l}s()}Av(n,t.width,t.height);var f=Og(t.canvas);t.forceGraph.globalScale(f.k).tickFrame(),Np.a.update(),t.animationFrameRequestId=requestAnimationFrame(e)})()},update:function(e){}}),Mv={width:Yh.a.number,height:Yh.a.number,graphData:Yh.a.shape({nodes:Yh.a.arrayOf(Yh.a.object).isRequired,links:Yh.a.arrayOf(Yh.a.object).isRequired}),backgroundColor:Yh.a.string,nodeRelSize:Yh.a.number,nodeId:Yh.a.string,nodeLabel:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),nodeVal:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),nodeVisibility:Yh.a.oneOfType([Yh.a.bool,Yh.a.string,Yh.a.func]),nodeColor:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),nodeAutoColorBy:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),linkSource:Yh.a.string,linkTarget:Yh.a.string,linkLabel:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),linkVisibility:Yh.a.oneOfType([Yh.a.bool,Yh.a.string,Yh.a.func]),linkHoverPrecision:Yh.a.number,linkColor:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),linkAutoColorBy:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),linkWidth:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkCurvature:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkDirectionalArrowLength:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkDirectionalArrowColor:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),linkDirectionalArrowRelPos:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkDirectionalParticles:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkDirectionalParticleSpeed:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkDirectionalParticleWidth:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkDirectionalParticleColor:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),dagMode:Yh.a.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:Yh.a.number,d3AlphaDecay:Yh.a.number,d3VelocityDecay:Yh.a.number,warmupTicks:Yh.a.number,cooldownTicks:Yh.a.number,cooldownTime:Yh.a.number,onEngineTick:Yh.a.func,onEngineStop:Yh.a.func},Sv={onNodeClick:Yh.a.func,onNodeRightClick:Yh.a.func,onNodeHover:Yh.a.func,onNodeDrag:Yh.a.func,onNodeDragEnd:Yh.a.func,onLinkClick:Yh.a.func,onLinkRightClick:Yh.a.func,onLinkHover:Yh.a.func,onBackgroundClick:Yh.a.func,onBackgroundRightClick:Yh.a.func,enablePointerInteraction:Yh.a.bool,enableNodeDrag:Yh.a.bool},Tv={showNavInfo:Yh.a.bool,nodeOpacity:Yh.a.number,nodeResolution:Yh.a.number,nodeThreeObject:Yh.a.oneOfType([Yh.a.object,Yh.a.string,Yh.a.func]),nodeThreeObjectExtend:Yh.a.oneOfType([Yh.a.bool,Yh.a.string,Yh.a.func]),linkOpacity:Yh.a.number,linkResolution:Yh.a.number,linkCurveRotation:Yh.a.oneOfType([Yh.a.number,Yh.a.string,Yh.a.func]),linkMaterial:Yh.a.oneOfType([Yh.a.object,Yh.a.string,Yh.a.func]),linkThreeObject:Yh.a.oneOfType([Yh.a.object,Yh.a.string,Yh.a.func]),linkThreeObjectExtend:Yh.a.oneOfType([Yh.a.bool,Yh.a.string,Yh.a.func]),linkPositionUpdate:Yh.a.func,linkDirectionalArrowResolution:Yh.a.number,linkDirectionalParticleResolution:Yh.a.number,forceEngine:Yh.a.oneOf(["d3","ngraph"]),numDimensions:Yh.a.oneOf([1,2,3])},Cv=Object.assign({},Mv,Sv,{nodeCanvasObject:Yh.a.func,nodeCanvasObjectMode:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),linkCanvasObject:Yh.a.func,linkCanvasObjectMode:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),enableZoomPanInteraction:Yh.a.bool}),Ov=Object.assign({},Mv,Sv,Tv,{enableNavigationControls:Yh.a.bool,controlType:Yh.a.oneOf(["trackball","orbit","fly"]),rendererConfig:Yh.a.object}),Lv=Object.assign({},Mv,Tv,{nodeDesc:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),linkDesc:Yh.a.oneOfType([Yh.a.string,Yh.a.func]),onNodeCenterHover:Yh.a.func,onLinkCenterHover:Yh.a.func}),Rv=Object.assign({},Mv,Tv,{markerAttrs:Yh.a.object,yOffset:Yh.a.number,glScale:Yh.a.number,onNodeCenterHover:Yh.a.func,onLinkCenterHover:Yh.a.func});const Pv=Fh(qh,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","refresh"]});Pv.displayName="ForceGraphVR",Pv.propTypes=Lv;const kv=Fh($h,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","refresh"],initPropNames:["markerAttrs"]});kv.displayName="ForceGraphAR",kv.propTypes=Rv;const jv=Fh(rf,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","cameraPosition","scene","camera","renderer","controls","refresh"],initPropNames:["controlType","rendererConfig"]});jv.displayName="ForceGraph3D",jv.propTypes=Ov;const Dv=Fh(_v,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom"]});Dv.displayName="ForceGraph2D",Dv.propTypes=Cv;var Iv=r(174),Nv=r.n(Iv);r(239);const zv=document.getElementById("modal-root");class Bv extends o.a.Component{constructor(e){super(e),this.el=document.createElement("div")}componentDidMount(){zv.appendChild(this.el)}componentWillUnmount(){zv.removeChild(this.el)}render(){const e=this.props.children;return s.a.createPortal(e,this.el)}}Bv.propTypes={children:nt.a.node};var Fv=Bv,Uv=r(71),Hv=r.n(Uv);function Gv(e){let t=e.x,r=e.y,n=e.content;return o.a.createElement(Fv,null,o.a.createElement("div",{className:Hv.a.graphPopover__container,style:{position:"absolute",top:r,left:t,visibility:n?"visible":"hidden"}},n))}function Vv(e){let t=e.node,r=e.onClose,n=e.focusOn,i=e.edit,a=e.remove;const s=_a(qo()({},t));return o.a.createElement("div",{className:Hv.a.content__container},o.a.createElement("div",{className:Hv.a.contentHeader__container},o.a.createElement("span",null),o.a.createElement("span",null,o.a.createElement(Ho,{icon:"close",basic:!0,size:"mini",onClick:r}))),o.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},La(s)),o.a.createElement("div",{className:Hv.a.contentFooter__container},o.a.createElement(Uu,{data:t,focusOn:n,edit:i,remove:a})))}Gv.propTypes={x:nt.a.number.isRequired,y:nt.a.number.isRequired,content:nt.a.node},Vv.propTypes={node:il.isRequired,onClose:nt.a.func.isRequired,focusOn:nt.a.func.isRequired,edit:nt.a.func.isRequired,remove:nt.a.func.isRequired};const Wv=Q(null,{remove:oc,edit:ic,focusOn:rc})(Vv);function qv(e){let t=e.link,r=e.onClose,n=e.focusOn,i=e.edit,a=e.remove;const s=_a(qo()({},t));return s.source&&null!==s.source.id&&(s.source=s.source.id),s.target&&null!==s.target.id&&(s.target=s.target.id),o.a.createElement("div",{className:Hv.a.content__container},o.a.createElement("div",{className:Hv.a.contentHeader__container},o.a.createElement("span",null),o.a.createElement("span",null,o.a.createElement(Ho,{icon:"close",basic:!0,size:"mini",onClick:r}))),o.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},La(s)),o.a.createElement("div",{className:Hv.a.contentFooter__container},o.a.createElement(Uu,{data:t,focusOn:n,edit:i,remove:a})))}qv.propTypes={link:ol.isRequired,onClose:nt.a.func.isRequired,focusOn:nt.a.func.isRequired,edit:nt.a.func.isRequired,remove:nt.a.func.isRequired};const Xv=Q(null,{remove:sc,edit:ac,focusOn:nc})(qv);function Yv(e){let t=e.popupData,r=t.data,n=t.type,i=e.position,a=e.onClose;const s=Object(it.useMouseState)(),c=s.clientX,l=s.clientY,u=o.a.useState({x:0,y:0}),d=tt()(u,2),h=d[0],p=d[1],f=o.a.useRef();if(o.a.useEffect(()=>{f!==r&&(f.current=r,p({x:c+10,y:l+10}))},[r,n]),null==n)return null;let m,g="";return"node"===n&&(g=o.a.createElement(Wv,{node:r,onClose:a}),m=i),"link"===n&&(g=o.a.createElement(Xv,{link:r,onClose:a}),m=h),o.a.createElement(Gv,{x:m.x,y:m.y,content:g,onClose:a})}Yv.propTypes={popupData:cl.isRequired,position:ll.isRequired,onClose:nt.a.func.isRequired};var Kv=Yv;var Qv=Q(e=>{const t=ys(e);return{position:xs(e),popupData:t}},{onClose:$s})(Kv);const Zv=()=>{},Jv=e=>{let t=e.mode,r=e.isAddLinkMode,n=e.data,i=e.width,a=e.height,s=e.clickedNodeId,c=e.setMode,l=e.clickNode,u=e.hoverNode,d=e.hoverLink,h=e.hoveredNodeId,p=e.hoveredLinkId,f=e.getRadius,m=e.getColor,g=e.focusedNode,v=e.resetFocusedNode,y=e.focusedLink,b=e.resetFocusedLink,x=e.setNodePopup,w=e.setLinkPopup,E=e.resetPopupData,A=e.onZoom,_=e.refreshGraphLayout,M=e.showNodeLabel,S=e.showLinkLabel,T=e.showNodeText,C=e.showLinkDirection,O=e.nodeTextKey,L=e.autoHideNodeText,R=e.orientation,P=e.forceChargeStrength,k=e.forceLinkDistance;const j=o.a.useCallback(()=>C?6:0,[C]),D=o.a.useRef();o.a.useEffect(()=>{if(D&&g&&null!=g.id){const e=n.nodes.find(e=>e.id===g.id);D.current.centerAt(e.x,e.y,1e3),D.current.zoom(2.5,1e3),u(e),v()}if(D&&y&&null!=y.id){const e=n.links.find(e=>e.id===y.id),t=(e.source.x+e.target.x)/2,r=(e.source.y+e.target.y)/2;D.current.centerAt(t,r,1e3),D.current.zoom(2,1e3),d(e),b()}},[n.nodes,g,y]),o.a.useEffect(js()(()=>{D.current.d3Force("charge").strength(P),_()},200),[P]),o.a.useEffect(js()(()=>{D.current.d3Force("link").distance(k),_()},200),[k]);const I=o.a.useCallback(()=>"replace",[]),N=o.a.useCallback((e,t,r)=>{const n=f(e),i=n+2,o=-1!==h.indexOf(e.id);if(o&&(t.beginPath(),t.arc(e.x,e.y,i,0,2*Math.PI,!1),t.fillStyle=As,t.fill()),t.beginPath(),t.arc(e.x,e.y,n,0,2*Math.PI,!1),h.length>0&&!o?t.fillStyle="rgba(0,0,0,0.3)":t.fillStyle=m(e),t.fill(),T){if(L&&r<=.5)return;let n=8;r>1&&(n=12/r),t.font=`${n}px Sans-Serif`,t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(e[O],e.x,e.y)}},[h,f,m,T,O,L]),z=o.a.useState(!1),B=tt()(z,2),F=B[0],U=B[1],H=o.a.useCallback(js()(()=>{F||(U(!0),E())},200),[F]),G=o.a.useCallback(()=>{U(!1)},[]),V=o.a.useCallback(js()(e=>{A(e),E()},200),[]),W=o.a.useCallback(e=>{l(e),"ADD_LINK_MODE"!==t&&M&&x(e)},[t,M]),q=o.a.useCallback(e=>{"ADD_LINK_MODE"!==t&&S&&w(e)},[t,S]);return o.a.createElement("div",{id:"graph-container",className:Nv.a.graphContainer},o.a.createElement("div",{className:Nv.a.editingToolsContainer},o.a.createElement(Va,{mode:t,onModeChange:c})),r&&o.a.createElement("div",{className:Nv.a.addLinkHelperContainer},s?`Click another node to add link with nodeId ${s}`:"Click two nodes to add link"),o.a.createElement(Dv,{ref:D,graphData:n,width:i,height:a,dagMode:R,nodeVal:f,nodeLabel:Zv,linkLabel:Zv,nodeCanvasObjectMode:I,nodeCanvasObject:N,linkWidth:e=>null!=e.id&&e.id===p?5:1,onNodeClick:F?Zv:W,onNodeHover:F?Zv:u,onLinkHover:F?Zv:d,onLinkClick:F?Zv:q,linkDirectionalArrowRelPos:1,linkDirectionalArrowLength:j,onZoom:V,onNodeDrag:H,onNodeDragEnd:G}),o.a.createElement(Qv,null))};Jv.propTypes={mode:sl.isRequired,isAddLinkMode:nt.a.bool.isRequired,data:al.isRequired,width:nt.a.number.isRequired,height:nt.a.number.isRequired,clickedNodeId:nl,hoveredNodeId:nt.a.arrayOf(nl),hoveredLinkId:nl,focusedNode:il,focusedLink:ol,showNodeLabel:nt.a.bool.isRequired,showLinkLabel:nt.a.bool.isRequired,showNodeText:nt.a.bool.isRequired,showLinkDirection:nt.a.bool.isRequired,nodeTextKey:nt.a.string.isRequired,autoHideNodeText:nt.a.bool.isRequired,orientation:nt.a.string,forceChargeStrength:nt.a.number.isRequired,forceLinkDistance:nt.a.number.isRequired,setMode:nt.a.func.isRequired,getColor:nt.a.func.isRequired,getRadius:nt.a.func.isRequired,clickNode:nt.a.func.isRequired,hoverNode:nt.a.func.isRequired,hoverLink:nt.a.func.isRequired,resetFocusedNode:nt.a.func.isRequired,resetFocusedLink:nt.a.func.isRequired,setNodePopup:nt.a.func.isRequired,setLinkPopup:nt.a.func.isRequired,resetPopupData:nt.a.func.isRequired,onZoom:nt.a.func.isRequired,refreshGraphLayout:nt.a.func.isRequired};var $v=Q(e=>{const t=rs(e);return{isAddLinkMode:ns(e),mode:t,data:vs(e),clickedNodeId:is(e),hoveredNodeId:os(e),hoveredLinkId:as(e),getColor:rl(e),getRadius:fu(e),focusedNode:$a(e),focusedLink:es(e),showNodeLabel:Vu(e),showLinkLabel:Wu(e),showNodeText:qu(e),showLinkDirection:Xu(e),nodeTextKey:Qu(e),autoHideNodeText:Yu(e),orientation:Ku(e),forceChargeStrength:$u(e),forceLinkDistance:ed(e)}},{setMode:e=>(t,r)=>{if(t(Zs("clickedNodeId",null)),"SELECT_MODE"===e&&t(Zs("mode","SELECT_MODE")),"ADD_NODE_MODE"===e){const e=r(),n=Za(e),i=(e=>({id:na(e)}))(n);t((e=>({type:Ks,nodes:e}))([...n,i])),0===n.length&&t(Zs("nodeKeys",wa([i])))}"ADD_LINK_MODE"===e&&(t(Zs("mode","ADD_LINK_MODE")),t($s()))},clickNode:e=>{let t=e.id;return(e,r)=>{const n=r();if(!ns(n))return;const i=is(n);if(i&&i!==t){const r=Ja(n);if(((e,t,r)=>e.filter(e=>ia(e)===t&&ia(e)===r||oa(e)===t&&oa(e)===r).length>0)(r,i,t))return;const o=((e,t,r)=>({id:na(e),source:t,target:r}))(r,i,t);e((e=>({type:Qs,links:e}))([...r,o])),0===r.length&&e(Zs("linkKeys",wa([o]))),e(Zs("clickedNodeId",null))}else e(Zs("clickedNodeId",t))}},hoverNode:ec,hoverLink:tc,resetFocusedNode:()=>Zs("focusedNode",null),resetFocusedLink:()=>Zs("focusedLink",null),setNodePopup:e=>t=>{t(Zs("popupData",{type:"node",data:e}))},setLinkPopup:e=>t=>{t(Zs("popupData",{type:"link",data:e}))},resetPopupData:$s,onZoom:e=>Zs("zoom",e),refreshGraphLayout:cc})(Jv);function ey(e){let t=e.entries,r=e.setEntries;const n=o.a.useCallback(e=>n=>{const i=n.target.value;r([...t.slice(0,e),{key:i,value:t[e].value},...t.slice(e+1)])}),i=o.a.useCallback(e=>n=>{const i=n.target.value;r([...t.slice(0,e),{key:t[e].key,value:i},...t.slice(e+1)])}),a=o.a.useCallback(e=>()=>{r([...t.slice(0,e),...t.slice(e+1)])});return o.a.createElement(Kl,null,t.map((e,t)=>{let r=e.key,s=e.value;return o.a.createElement(Kl.Group,{widths:"equal",key:t},o.a.createElement(Kl.Input,{width:6,fluid:!0,placeholder:`Property ${t}`,value:r,onChange:n(t)}),o.a.createElement(Kl.Input,{width:6,fluid:!0,placeholder:`Value Property ${t}`,value:null==s?"":s,onChange:i(t)}),o.a.createElement(Kl.Button,{type:"reset",width:2,icon:"delete",onClick:a(t)}))}))}const ty=nt.a.shape({key:nt.a.string.isRequired,value:nl});ey.propTypes={entries:nt.a.arrayOf(ty).isRequired,setEntries:nt.a.func.isRequired};var ry=ey;const ny=e=>Object.entries(e).map(e=>{let t=tt()(e,2);return{key:t[0],value:t[1]}}),iy=e=>e.reduce((e,t)=>{let r=t.key,n=t.value;return qo()({},e,{[r]:n})},{});function oy(e){let t=e.node,r=e.onCancel,n=e.onSubmit;if(!t)return null;const i=o.a.useState(ny(_a(t))),a=tt()(i,2),s=a[0],c=a[1],l=o.a.useCallback(()=>{const e=iy(s);n(_a(e))}),u=o.a.useCallback(()=>{c([...s,{key:"new_property",value:""}])});return o.a.createElement(eh,{open:!0,closeIcon:!0,onClose:r},o.a.createElement(ah,{icon:"pencil",content:"Edit Node Details"}),o.a.createElement(eh.Content,null,o.a.createElement(ry,{entries:s,setEntries:c}),o.a.createElement(Ho,{icon:"plus circle",content:"Add new property",onClick:u})),o.a.createElement(eh.Actions,null,o.a.createElement(Ho,{basic:!0,color:"blue",onClick:r},"Cancel"),o.a.createElement(Ho,{primary:!0,onClick:l},"Finish")))}oy.propTypes={node:il,onCancel:nt.a.func.isRequired,onSubmit:nt.a.func.isRequired};var ay=oy;var sy=Q(e=>{return{node:ls(e)}},{onCancel:()=>Zs("editedNode",null),onSubmit:e=>(t,r)=>{const n=r(),i=Qa(n),o=qa(n)||{},a=ls(n),s=ss(n),c=wa([e]);try{const r=da(o,a,e),n=da(i,a,e),l=n.nodes,u=n.links;ya(c,s)||t(Zs("nodeKeys",wa(l))),t(Vs(r)),t(Zs("data",{nodes:l,links:u})),t(Zs("editedNode",null))}catch(e){window.alert(e)}}})(ay);const cy=e=>Object.entries(e).map(t=>{let r=tt()(t,2),n=r[0],i=r[1];return"source"===n||"target"===n?{key:n,value:xa(e,n)}:{key:n,value:i}}),ly=e=>e.reduce((e,t)=>{let r=t.key,n=t.value;return qo()({},e,{[r]:n})},{});function uy(e){let t=e.link,r=e.onCancel,n=e.onSubmit;if(!t)return null;const i=o.a.useState(cy(_a(t))),a=tt()(i,2),s=a[0],c=a[1],l=o.a.useCallback(()=>{const e=ly(s);n(_a(e))}),u=o.a.useCallback(()=>{c([...s,{key:"new_property",value:""}])});return o.a.createElement(eh,{open:!0,closeIcon:!0,onClose:r},o.a.createElement(ah,{icon:"pencil",content:"Edit Link Details"}),o.a.createElement(eh.Content,null,o.a.createElement(ry,{entries:s,setEntries:c}),o.a.createElement(Ho,{icon:"plus circle",content:"Add new property",onClick:u})),o.a.createElement(eh.Actions,null,o.a.createElement(Ho,{basic:!0,color:"blue",onClick:r},"Cancel"),o.a.createElement(Ho,{primary:!0,onClick:l},"Finish")))}uy.propTypes={link:ol,onCancel:nt.a.func.isRequired,onSubmit:nt.a.func.isRequired};var dy=uy;var hy=Q(e=>{return{link:ds(e)}},{onCancel:()=>Zs("editedLink",null),onSubmit:e=>(t,r)=>{const n=r(),i=Qa(n),o=qa(n)||{},a=ds(n),s=cs(n),c=wa([e]);try{const r=ha(o,a,e),n=ha(i,a,e),l=n.nodes,u=n.links;ya(c,s)||t(Zs("linkKeys",wa(u))),t(Vs(r)),t(Zs("data",{nodes:l,links:u})),t(Zs("editedLink",null))}catch(e){window.alert(e)}}})(dy);function py(e){let t=e.node,r=e.onCancel,n=e.onSubmit;return t?o.a.createElement(eh,{open:!0,closeIcon:!0,onClose:r},o.a.createElement(ah,{icon:"pencil",content:"Delete Node Confirmation"}),o.a.createElement(eh.Content,null,"You want to delete following node with details:",o.a.createElement("pre",null,JSON.stringify(t,null,4))),o.a.createElement(eh.Actions,null,o.a.createElement(Ho,{basic:!0,color:"blue",onClick:r},"Cancel"),o.a.createElement(Ho,{color:"red",onClick:n},"Delete"))):null}py.propTypes={node:il,onCancel:nt.a.func.isRequired,onSubmit:nt.a.func.isRequired};var fy=py;var my=Q(e=>{return{node:us(e)}},{onCancel:()=>Zs("deletedNode",null),onSubmit:()=>(e,t)=>{const r=t(),n=Qa(r),i=qa(r)||{},o=us(r),a=ss(r),s=pa(i,o),c=pa(n,o),l=c.nodes,u=c.links;ya(wa(l),a)||e(Zs("nodeKeys",wa(l))),e($s()),e(Vs(s)),e(Zs("data",{nodes:l,links:u})),e(Zs("deletedNode",null))}})(fy);function gy(e){let t=e.link,r=e.onCancel,n=e.onSubmit;return t?o.a.createElement(eh,{open:!0,closeIcon:!0,onClose:r},o.a.createElement(ah,{icon:"pencil",content:"Delete Link Confirmation"}),o.a.createElement(eh.Content,null,"You want to delete following link with details:",o.a.createElement("pre",null,JSON.stringify(t,null,4))),o.a.createElement(eh.Actions,null,o.a.createElement(Ho,{basic:!0,color:"blue",onClick:r},"Cancel"),o.a.createElement(Ho,{color:"red",onClick:n},"Delete"))):null}gy.propTypes={link:ol,onCancel:nt.a.func.isRequired,onSubmit:nt.a.func.isRequired};var vy=gy;var yy=Q(e=>{return{link:hs(e)}},{onCancel:()=>Zs("deletedLink",null),onSubmit:()=>(e,t)=>{const r=t(),n=Qa(r),i=qa(r)||{},o=hs(r),a=cs(r),s=fa(i,o),c=fa(n,o),l=c.nodes,u=c.links;ya(wa(u),a)||e(Zs("linkKeys",wa(u))),e($s()),e(Vs(s)),e(Zs("data",{nodes:l,links:u})),e(Zs("deletedLink",null))}})(vy),by=r(103),xy=r.n(by);function wy(e){let t=e.className,r=e.graphType,n=e.graphData,i=n.nodes,a=n.links,s=e.searchAsFilter,c=e.nodeSearchValue,l=e.linkSearchValue;const u=`${i.length} nodes ${a.length} links`;return o.a.createElement("div",{className:Vt()(t,xy.a.graphStatusInfo__darkContainer)},o.a.createElement("div",{className:xy.a.graphStatusInfo__rowContainer},"Currently: ",r),o.a.createElement("div",{className:xy.a.graphStatusInfo__rowContainer},"Showing: ",u),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:xy.a.graphStatusInfo__rowContainer},"Filter Node: ",c),o.a.createElement("div",{className:xy.a.graphStatusInfo__rowContainer},"Filter Link: ",l)))}wy.propTypes={className:nt.a.string,graphType:nt.a.string.isRequired,graphData:al.isRequired,searchAsFilter:nt.a.bool.isRequired,nodeSearchValue:nt.a.string.isRequired,linkSearchValue:nt.a.string.isRequired};var Ey=Q(e=>{const t=ms(e);return{graphType:Wa(e)||"ORIGINAL",graphData:vs(e),searchAsFilter:t,nodeSearchValue:ps(e),linkSearchValue:fs(e)}})(wy),Ay=r(72),_y=r.n(Ay);const My=[{menuItem:{key:"vis",icon:"line graph",content:"Visualization"},pane:{key:"vis",content:o.a.createElement(()=>o.a.createElement(Gn,{fluid:!0,panels:cd,activeIndex:[0,1,2,3,4],exclusive:!1}),null),className:_y.a.home__tabPane}},{menuItem:{key:"data",icon:"database",content:"Data"},pane:{key:"data",content:o.a.createElement(()=>o.a.createElement(Gn,{fluid:!0,panels:ld,activeIndex:[0,1],exclusive:!1}),null),className:_y.a.home__tabPane}},{menuItem:{key:"setting",icon:"settings",content:"Setting"},pane:{key:"setting",content:o.a.createElement(()=>o.a.createElement(sd,null),null),className:_y.a.home__tabPane}}],Sy=e=>{let t=e.tabIndex,r=e.setTabIndex;const n=o.a.useState(600),i=tt()(n,2),a=i[0],s=i[1],c=o.a.useState(window.innerWidth),l=tt()(c,2),u=l[0],d=l[1],h=o.a.useState(window.innerHeight),p=tt()(h,2),f=p[0],m=p[1];return Object(it.useWindowResize)(Object(it.useThrottledFn)(()=>{d(window.innerWidth),m(window.innerHeight)})),o.a.createElement("div",{className:_y.a.homeContainer},o.a.createElement(md,null),o.a.createElement(On,{split:"vertical",minSize:600,defaultSize:600,primary:"first",onChange:s},o.a.createElement("div",{className:_y.a.leftPanelContainer},o.a.createElement(Lh,null),o.a.createElement(an,{style:{width:"100%"},menu:{secondary:!0,pointing:!0},panes:My,activeIndex:t,onTabChange:(e,t)=>{let n=t.activeIndex;return r(n)},renderActiveOnly:!1})),o.a.createElement("div",{className:_y.a.rightPanelContainer},o.a.createElement(Ey,{className:_y.a.floatingStatusInfo}),o.a.createElement($v,{width:u-a,height:f}))),o.a.createElement(sy,null),o.a.createElement(hy,null),o.a.createElement(my,null),o.a.createElement(yy,null))};Sy.propTypes={tabIndex:nt.a.number.isRequired,setTabIndex:nt.a.func.isRequired};var Ty=Q(e=>{return{tabIndex:pd(e)}},{setTabIndex:e=>Rn("tabIndex",e)})(Sy);const Cy={data:{nodes:[],links:[]},zoom:{k:0,x:0,y:0},nodeKeys:[],linkKeys:[],filename:"Untitled Graph",mode:"SELECT_MODE",focusedNode:null,clickedNodeId:null,hoveredNodeId:[],focusedLink:null,hoveredLinkId:null,popupData:{type:null,data:null},editedNode:null,editedLink:null,deletedNode:null,deletedLink:null,nodeSearchValue:"",linkSearchValue:"",searchAsFilter:!1};const Oy={loading:!1,tabIndex:0};const Ly={selectedKey:null,nodeIdValuesMap:{},valuesNodeMap:{},propertyValues:[],colorMap:{}};const Ry={selectedKey:null,minRadius:4,maxRadius:18,minValue:null,maxValue:null,nodeIdValuesMap:{},propertyValues:[],defaultRadius:4,error:null};const Py={showNodeLabel:!0,showLinkLabel:!0,showNodeText:!0,showLinkDirection:!1,nodeTextKey:"id",autoHideNodeText:!0,orientation:null,focusOnDoubleClick:!0,highlightOnRowHover:!0,forceChargeStrength:-30,forceLinkDistance:30};const ky={algo:null,graph:null,error:null};var jy=Object(M.combineReducers)({graph:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ys:return qo()({},e,{[t.key]:t.value});case Ks:return qo()({},e,{data:qo()({},e.data,{nodes:t.nodes})});case Qs:return qo()({},e,{data:qo()({},e.data,{links:t.links})});case Xs:return Cy;default:return e}},ui:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ln:return qo()({},e,{[t.key]:t.value});case Xs:return Oy;default:return e}},radius:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ry,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ql:return qo()({},e,{[t.key]:t.value});case Zl:return qo()({},e,{selectedKey:t.selectedKey,minValue:t.minValue,maxValue:t.maxValue,nodeIdValuesMap:t.nodeIdValuesMap,propertyValues:t.propertyValues,error:null});case Jl:return qo()({},Ry,{error:t.error});case $l:return qo()({},Ry);case eu:{const r=t.minRadius,n=void 0===r?e.minRadius:r,i=t.maxRadius,o=void 0===i?e.maxRadius:i;return qo()({},e,{minRadius:n,maxRadius:o})}case Xs:return Ry;default:return e}},coloring:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ly,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _s:return qo()({},e,{selectedKey:t.selectedKey,nodeIdValuesMap:t.nodeIdValuesMap,valuesNodeMap:t.valuesNodeMap,propertyValues:t.propertyValues,colorMap:t.colorMap});case Ms:return qo()({},Ly);case Ss:return qo()({},e,{colorMap:qo()({},e.colorMap,{[t.colorKey]:t.colorValue})});case Xs:return Ly;default:return e}},setting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Py,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ws:return qo()({},e,{[t.key]:t.value});case Xs:return Py;default:return e}},algo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ky,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ds:return qo()({},e,{graph:t.graph});case Is:return qo()({},e,{algo:t.algo,graph:t.graph,error:t.error});case Ns:return qo()({},ky);case Xs:return ky;default:return e}}}),Dy=r(403);function Iy(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var Ny=Iy();Ny.withExtraArgument=Iy;var zy=Ny;var By=e=>Object(M.createStore)(e,Object(Dy.composeWithDevTools)(Object(M.applyMiddleware)(zy)));r(873);s.a.render(o.a.createElement(p,{store:By(jy)},o.a.createElement(()=>o.a.createElement(De,null,o.a.createElement(He,null,o.a.createElement(Xe,{exact:!0,path:"/",component:Ty}),o.a.createElement($e,{to:"/"}))),null)),document.getElementById("app"))},,,,,,,,,,function(e,t,r){"use strict";var n={value:function(){}};function i(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new o(n)}function o(e){this._=e}function a(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function s(e,t,r){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=n,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=r&&e.push({name:t,value:r}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var r,n,i=this._,o=(n=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");if(r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),c=-1,l=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++c<l;)if(r=(e=o[c]).type)i[r]=s(i[r],e.name,t);else if(null==t)for(r in i)i[r]=s(i[r],e.name,null);return this}for(;++c<l;)if((r=(e=o[c]).type)&&(r=a(i[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new o(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,r=(n=this._[e]).length;o<r;++o)n[o].value.apply(t,i)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}},t.a=i},function(e,t,r){"use strict";t.a=function(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},function(e,t,r){"use strict";r.d(t,"a",function(){return i});const n=Symbol("implicit");function i(){var e=new Map,t=[],r=[],o=n;function a(i){var a=i+"",s=e.get(a);if(!s){if(o!==n)return o;e.set(a,s=t.push(i))}return r[(s-1)%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Map;for(const n of r){const r=n+"";e.has(r)||e.set(r,t.push(n))}return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(o=e,a):o},a.copy=function(){return i(t,r).unknown(o)},function(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}.apply(a,arguments),a}}]);
//# sourceMappingURL=main.433a34260bbd76995740.js.map